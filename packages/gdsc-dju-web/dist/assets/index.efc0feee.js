var mp=Object.defineProperty;var gp=(s,i,o)=>i in s?mp(s,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[i]=o;var tp=(s,i,o)=>(gp(s,typeof i!="symbol"?i+"":i,o),o);const p$6=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const $l of document.querySelectorAll('link[rel="modulepreload"]'))et($l);new MutationObserver($l=>{for(const Nl of $l)if(Nl.type==="childList")for(const Ml of Nl.addedNodes)Ml.tagName==="LINK"&&Ml.rel==="modulepreload"&&et(Ml)}).observe(document,{childList:!0,subtree:!0});function o($l){const Nl={};return $l.integrity&&(Nl.integrity=$l.integrity),$l.referrerpolicy&&(Nl.referrerPolicy=$l.referrerpolicy),$l.crossorigin==="use-credentials"?Nl.credentials="include":$l.crossorigin==="anonymous"?Nl.credentials="omit":Nl.credentials="same-origin",Nl}function et($l){if($l.ep)return;$l.ep=!0;const Nl=o($l);fetch($l.href,Nl)}};p$6();var commonjsGlobal$1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$6=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$5=Symbol.for("react.suspense"),x$4=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$5=Symbol.iterator;function A$4(s){return s===null||typeof s!="object"?null:(s=z$5&&s[z$5]||s["@@iterator"],typeof s=="function"?s:null)}var B$4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$3(s,i,o){this.props=s,this.context=i,this.refs=D$3,this.updater=o||B$4}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(s,i){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,i,"setState")};E$3.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function F$3(){}F$3.prototype=E$3.prototype;function G$3(s,i,o){this.props=s,this.context=i,this.refs=D$3,this.updater=o||B$4}var H$4=G$3.prototype=new F$3;H$4.constructor=G$3;C$3(H$4,E$3.prototype);H$4.isPureReactComponent=!0;var I$3=Array.isArray,J$3=Object.prototype.hasOwnProperty,K$4={current:null},L$4={key:!0,ref:!0,__self:!0,__source:!0};function M$4(s,i,o){var et,$l={},Nl=null,Ml=null;if(i!=null)for(et in i.ref!==void 0&&(Ml=i.ref),i.key!==void 0&&(Nl=""+i.key),i)J$3.call(i,et)&&!L$4.hasOwnProperty(et)&&($l[et]=i[et]);var Ol=arguments.length-2;if(Ol===1)$l.children=o;else if(1<Ol){for(var Ll=Array(Ol),Fl=0;Fl<Ol;Fl++)Ll[Fl]=arguments[Fl+2];$l.children=Ll}if(s&&s.defaultProps)for(et in Ol=s.defaultProps,Ol)$l[et]===void 0&&($l[et]=Ol[et]);return{$$typeof:l$4,type:s,key:Nl,ref:Ml,props:$l,_owner:K$4.current}}function N$4(s,i){return{$$typeof:l$4,type:s.type,key:i,ref:s.ref,props:s.props,_owner:s._owner}}function O$4(s){return typeof s=="object"&&s!==null&&s.$$typeof===l$4}function escape(s){var i={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(o){return i[o]})}var P$3=/\/+/g;function Q$4(s,i){return typeof s=="object"&&s!==null&&s.key!=null?escape(""+s.key):i.toString(36)}function R$2(s,i,o,et,$l){var Nl=typeof s;(Nl==="undefined"||Nl==="boolean")&&(s=null);var Ml=!1;if(s===null)Ml=!0;else switch(Nl){case"string":case"number":Ml=!0;break;case"object":switch(s.$$typeof){case l$4:case n$3:Ml=!0}}if(Ml)return Ml=s,$l=$l(Ml),s=et===""?"."+Q$4(Ml,0):et,I$3($l)?(o="",s!=null&&(o=s.replace(P$3,"$&/")+"/"),R$2($l,i,o,"",function(Fl){return Fl})):$l!=null&&(O$4($l)&&($l=N$4($l,o+(!$l.key||Ml&&Ml.key===$l.key?"":(""+$l.key).replace(P$3,"$&/")+"/")+s)),i.push($l)),1;if(Ml=0,et=et===""?".":et+":",I$3(s))for(var Ol=0;Ol<s.length;Ol++){Nl=s[Ol];var Ll=et+Q$4(Nl,Ol);Ml+=R$2(Nl,i,o,Ll,$l)}else if(Ll=A$4(s),typeof Ll=="function")for(s=Ll.call(s),Ol=0;!(Nl=s.next()).done;)Nl=Nl.value,Ll=et+Q$4(Nl,Ol++),Ml+=R$2(Nl,i,o,Ll,$l);else if(Nl==="object")throw i=String(s),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return Ml}function S$3(s,i,o){if(s==null)return s;var et=[],$l=0;return R$2(s,et,"","",function(Nl){return i.call(o,Nl,$l++)}),et}function T$3(s){if(s._status===-1){var i=s._result;i=i(),i.then(function(o){(s._status===0||s._status===-1)&&(s._status=1,s._result=o)},function(o){(s._status===0||s._status===-1)&&(s._status=2,s._result=o)}),s._status===-1&&(s._status=0,s._result=i)}if(s._status===1)return s._result.default;throw s._result}var U$4={current:null},V$3={transition:null},W$4={ReactCurrentDispatcher:U$4,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$4};react_production_min.Children={map:S$3,forEach:function(s,i,o){S$3(s,function(){i.apply(this,arguments)},o)},count:function(s){var i=0;return S$3(s,function(){i++}),i},toArray:function(s){return S$3(s,function(i){return i})||[]},only:function(s){if(!O$4(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};react_production_min.Component=E$3;react_production_min.Fragment=p$5;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$6;react_production_min.Suspense=w$5;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$4;react_production_min.cloneElement=function(s,i,o){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var et=C$3({},s.props),$l=s.key,Nl=s.ref,Ml=s._owner;if(i!=null){if(i.ref!==void 0&&(Nl=i.ref,Ml=K$4.current),i.key!==void 0&&($l=""+i.key),s.type&&s.type.defaultProps)var Ol=s.type.defaultProps;for(Ll in i)J$3.call(i,Ll)&&!L$4.hasOwnProperty(Ll)&&(et[Ll]=i[Ll]===void 0&&Ol!==void 0?Ol[Ll]:i[Ll])}var Ll=arguments.length-2;if(Ll===1)et.children=o;else if(1<Ll){Ol=Array(Ll);for(var Fl=0;Fl<Ll;Fl++)Ol[Fl]=arguments[Fl+2];et.children=Ol}return{$$typeof:l$4,type:s.type,key:$l,ref:Nl,props:et,_owner:Ml}};react_production_min.createContext=function(s){return s={$$typeof:u$1,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:t$3,_context:s},s.Consumer=s};react_production_min.createElement=M$4;react_production_min.createFactory=function(s){var i=M$4.bind(null,s);return i.type=s,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(s){return{$$typeof:v$7,render:s}};react_production_min.isValidElement=O$4;react_production_min.lazy=function(s){return{$$typeof:y$2,_payload:{_status:-1,_result:s},_init:T$3}};react_production_min.memo=function(s,i){return{$$typeof:x$4,type:s,compare:i===void 0?null:i}};react_production_min.startTransition=function(s){var i=V$3.transition;V$3.transition={};try{s()}finally{V$3.transition=i}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(s,i){return U$4.current.useCallback(s,i)};react_production_min.useContext=function(s){return U$4.current.useContext(s)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(s){return U$4.current.useDeferredValue(s)};react_production_min.useEffect=function(s,i){return U$4.current.useEffect(s,i)};react_production_min.useId=function(){return U$4.current.useId()};react_production_min.useImperativeHandle=function(s,i,o){return U$4.current.useImperativeHandle(s,i,o)};react_production_min.useInsertionEffect=function(s,i){return U$4.current.useInsertionEffect(s,i)};react_production_min.useLayoutEffect=function(s,i){return U$4.current.useLayoutEffect(s,i)};react_production_min.useMemo=function(s,i){return U$4.current.useMemo(s,i)};react_production_min.useReducer=function(s,i,o){return U$4.current.useReducer(s,i,o)};react_production_min.useRef=function(s){return U$4.current.useRef(s)};react_production_min.useState=function(s){return U$4.current.useState(s)};react_production_min.useSyncExternalStore=function(s,i,o){return U$4.current.useSyncExternalStore(s,i,o)};react_production_min.useTransition=function(){return U$4.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var React=react.exports;function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(s){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var et in o)Object.prototype.hasOwnProperty.call(o,et)&&(s[et]=o[et])}return s},_extends$1.apply(this,arguments)}var Action;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Action||(Action={}));var readOnly=function(s){return s},BeforeUnloadEventType="beforeunload",PopStateEventType="popstate";function createBrowserHistory(s){s===void 0&&(s={});var i=s,o=i.window,et=o===void 0?document.defaultView:o,$l=et.history;function Nl(){var _f=et.location,e0=_f.pathname,s0=_f.search,u0=_f.hash,g0=$l.state||{};return[g0.idx,readOnly({pathname:e0,search:s0,hash:u0,state:g0.usr||null,key:g0.key||"default"})]}var Ml=null;function Ol(){if(Ml)Wl.call(Ml),Ml=null;else{var _f=Action.Pop,e0=Nl(),s0=e0[0],u0=e0[1];if(Wl.length){if(s0!=null){var g0=Bl-s0;g0&&(Ml={action:_f,location:u0,retry:function(){Zl(g0*-1)}},Zl(g0))}}else Hl(_f)}}et.addEventListener(PopStateEventType,Ol);var Ll=Action.Pop,Fl=Nl(),Bl=Fl[0],Ul=Fl[1],Gl=createEvents(),Wl=createEvents();Bl==null&&(Bl=0,$l.replaceState(_extends$1({},$l.state,{idx:Bl}),""));function zl(_f){return typeof _f=="string"?_f:createPath(_f)}function Ql(_f,e0){return e0===void 0&&(e0=null),readOnly(_extends$1({pathname:Ul.pathname,hash:"",search:""},typeof _f=="string"?parsePath(_f):_f,{state:e0,key:createKey()}))}function Jl(_f,e0){return[{usr:_f.state,key:_f.key,idx:e0},zl(_f)]}function Kl(_f,e0,s0){return!Wl.length||(Wl.call({action:_f,location:e0,retry:s0}),!1)}function Hl(_f){Ll=_f;var e0=Nl();Bl=e0[0],Ul=e0[1],Gl.call({action:Ll,location:Ul})}function Yl(_f,e0){var s0=Action.Push,u0=Ql(_f,e0);function g0(){Yl(_f,e0)}if(Kl(s0,u0,g0)){var f0=Jl(u0,Bl+1),_0=f0[0],S0=f0[1];try{$l.pushState(_0,"",S0)}catch{et.location.assign(S0)}Hl(s0)}}function Xl(_f,e0){var s0=Action.Replace,u0=Ql(_f,e0);function g0(){Xl(_f,e0)}if(Kl(s0,u0,g0)){var f0=Jl(u0,Bl),_0=f0[0],S0=f0[1];$l.replaceState(_0,"",S0),Hl(s0)}}function Zl(_f){$l.go(_f)}var _d={get action(){return Ll},get location(){return Ul},createHref:zl,push:Yl,replace:Xl,go:Zl,back:function(){Zl(-1)},forward:function(){Zl(1)},listen:function(e0){return Gl.push(e0)},block:function(e0){var s0=Wl.push(e0);return Wl.length===1&&et.addEventListener(BeforeUnloadEventType,promptBeforeUnload),function(){s0(),Wl.length||et.removeEventListener(BeforeUnloadEventType,promptBeforeUnload)}}};return _d}function promptBeforeUnload(s){s.preventDefault(),s.returnValue=""}function createEvents(){var s=[];return{get length(){return s.length},push:function(o){return s.push(o),function(){s=s.filter(function(et){return et!==o})}},call:function(o){s.forEach(function(et){return et&&et(o)})}}}function createKey(){return Math.random().toString(36).substr(2,8)}function createPath(s){var i=s.pathname,o=i===void 0?"/":i,et=s.search,$l=et===void 0?"":et,Nl=s.hash,Ml=Nl===void 0?"":Nl;return $l&&$l!=="?"&&(o+=$l.charAt(0)==="?"?$l:"?"+$l),Ml&&Ml!=="#"&&(o+=Ml.charAt(0)==="#"?Ml:"#"+Ml),o}function parsePath(s){var i={};if(s){var o=s.indexOf("#");o>=0&&(i.hash=s.substr(o),s=s.substr(0,o));var et=s.indexOf("?");et>=0&&(i.search=s.substr(et),s=s.substr(0,et)),s&&(i.pathname=s)}return i}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const NavigationContext=react.exports.createContext(null),LocationContext=react.exports.createContext(null),RouteContext=react.exports.createContext({outlet:null,matches:[]});function invariant$2(s,i){if(!s)throw new Error(i)}function matchRoutes(s,i,o){o===void 0&&(o="/");let et=typeof i=="string"?parsePath(i):i,$l=stripBasename(et.pathname||"/",o);if($l==null)return null;let Nl=flattenRoutes(s);rankRouteBranches(Nl);let Ml=null;for(let Ol=0;Ml==null&&Ol<Nl.length;++Ol)Ml=matchRouteBranch(Nl[Ol],$l);return Ml}function flattenRoutes(s,i,o,et){return i===void 0&&(i=[]),o===void 0&&(o=[]),et===void 0&&(et=""),s.forEach(($l,Nl)=>{let Ml={relativePath:$l.path||"",caseSensitive:$l.caseSensitive===!0,childrenIndex:Nl,route:$l};Ml.relativePath.startsWith("/")&&(Ml.relativePath.startsWith(et)||invariant$2(!1),Ml.relativePath=Ml.relativePath.slice(et.length));let Ol=joinPaths([et,Ml.relativePath]),Ll=o.concat(Ml);$l.children&&$l.children.length>0&&($l.index===!0&&invariant$2(!1),flattenRoutes($l.children,i,Ll,Ol)),!($l.path==null&&!$l.index)&&i.push({path:Ol,score:computeScore(Ol,$l.index),routesMeta:Ll})}),i}function rankRouteBranches(s){s.sort((i,o)=>i.score!==o.score?o.score-i.score:compareIndexes(i.routesMeta.map(et=>et.childrenIndex),o.routesMeta.map(et=>et.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=s=>s==="*";function computeScore(s,i){let o=s.split("/"),et=o.length;return o.some(isSplat)&&(et+=splatPenalty),i&&(et+=indexRouteValue),o.filter($l=>!isSplat($l)).reduce(($l,Nl)=>$l+(paramRe.test(Nl)?dynamicSegmentValue:Nl===""?emptySegmentValue:staticSegmentValue),et)}function compareIndexes(s,i){return s.length===i.length&&s.slice(0,-1).every((et,$l)=>et===i[$l])?s[s.length-1]-i[i.length-1]:0}function matchRouteBranch(s,i){let{routesMeta:o}=s,et={},$l="/",Nl=[];for(let Ml=0;Ml<o.length;++Ml){let Ol=o[Ml],Ll=Ml===o.length-1,Fl=$l==="/"?i:i.slice($l.length)||"/",Bl=matchPath({path:Ol.relativePath,caseSensitive:Ol.caseSensitive,end:Ll},Fl);if(!Bl)return null;Object.assign(et,Bl.params);let Ul=Ol.route;Nl.push({params:et,pathname:joinPaths([$l,Bl.pathname]),pathnameBase:normalizePathname(joinPaths([$l,Bl.pathnameBase])),route:Ul}),Bl.pathnameBase!=="/"&&($l=joinPaths([$l,Bl.pathnameBase]))}return Nl}function matchPath(s,i){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[o,et]=compilePath(s.path,s.caseSensitive,s.end),$l=i.match(o);if(!$l)return null;let Nl=$l[0],Ml=Nl.replace(/(.)\/+$/,"$1"),Ol=$l.slice(1);return{params:et.reduce((Fl,Bl,Ul)=>{if(Bl==="*"){let Gl=Ol[Ul]||"";Ml=Nl.slice(0,Nl.length-Gl.length).replace(/(.)\/+$/,"$1")}return Fl[Bl]=safelyDecodeURIComponent(Ol[Ul]||""),Fl},{}),pathname:Nl,pathnameBase:Ml,pattern:s}}function compilePath(s,i,o){i===void 0&&(i=!1),o===void 0&&(o=!0);let et=[],$l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(Ml,Ol)=>(et.push(Ol),"([^\\/]+)"));return s.endsWith("*")?(et.push("*"),$l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):$l+=o?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp($l,i?void 0:"i"),et]}function safelyDecodeURIComponent(s,i){try{return decodeURIComponent(s)}catch{return s}}function resolvePath(s,i){i===void 0&&(i="/");let{pathname:o,search:et="",hash:$l=""}=typeof s=="string"?parsePath(s):s;return{pathname:o?o.startsWith("/")?o:resolvePathname(o,i):i,search:normalizeSearch(et),hash:normalizeHash($l)}}function resolvePathname(s,i){let o=i.replace(/\/+$/,"").split("/");return s.split("/").forEach($l=>{$l===".."?o.length>1&&o.pop():$l!=="."&&o.push($l)}),o.length>1?o.join("/"):"/"}function resolveTo(s,i,o){let et=typeof s=="string"?parsePath(s):s,$l=s===""||et.pathname===""?"/":et.pathname,Nl;if($l==null)Nl=o;else{let Ol=i.length-1;if($l.startsWith("..")){let Ll=$l.split("/");for(;Ll[0]==="..";)Ll.shift(),Ol-=1;et.pathname=Ll.join("/")}Nl=Ol>=0?i[Ol]:"/"}let Ml=resolvePath(et,Nl);return $l&&$l!=="/"&&$l.endsWith("/")&&!Ml.pathname.endsWith("/")&&(Ml.pathname+="/"),Ml}function getToPathname(s){return s===""||s.pathname===""?"/":typeof s=="string"?parsePath(s).pathname:s.pathname}function stripBasename(s,i){if(i==="/")return s;if(!s.toLowerCase().startsWith(i.toLowerCase()))return null;let o=s.charAt(i.length);return o&&o!=="/"?null:s.slice(i.length)||"/"}const joinPaths=s=>s.join("/").replace(/\/\/+/g,"/"),normalizePathname=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,normalizeHash=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function useHref(s){useInRouterContext()||invariant$2(!1);let{basename:i,navigator:o}=react.exports.useContext(NavigationContext),{hash:et,pathname:$l,search:Nl}=useResolvedPath(s),Ml=$l;if(i!=="/"){let Ol=getToPathname(s),Ll=Ol!=null&&Ol.endsWith("/");Ml=$l==="/"?i+(Ll?"/":""):joinPaths([i,$l])}return o.createHref({pathname:Ml,search:Nl,hash:et})}function useInRouterContext(){return react.exports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),react.exports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant$2(!1);let{basename:s,navigator:i}=react.exports.useContext(NavigationContext),{matches:o}=react.exports.useContext(RouteContext),{pathname:et}=useLocation(),$l=JSON.stringify(o.map(Ol=>Ol.pathnameBase)),Nl=react.exports.useRef(!1);return react.exports.useEffect(()=>{Nl.current=!0}),react.exports.useCallback(function(Ol,Ll){if(Ll===void 0&&(Ll={}),!Nl.current)return;if(typeof Ol=="number"){i.go(Ol);return}let Fl=resolveTo(Ol,JSON.parse($l),et);s!=="/"&&(Fl.pathname=joinPaths([s,Fl.pathname])),(Ll.replace?i.replace:i.push)(Fl,Ll.state)},[s,i,$l,et])}function useParams(){let{matches:s}=react.exports.useContext(RouteContext),i=s[s.length-1];return i?i.params:{}}function useResolvedPath(s){let{matches:i}=react.exports.useContext(RouteContext),{pathname:o}=useLocation(),et=JSON.stringify(i.map($l=>$l.pathnameBase));return react.exports.useMemo(()=>resolveTo(s,JSON.parse(et),o),[s,et,o])}function useRoutes(s,i){useInRouterContext()||invariant$2(!1);let{matches:o}=react.exports.useContext(RouteContext),et=o[o.length-1],$l=et?et.params:{};et&&et.pathname;let Nl=et?et.pathnameBase:"/";et&&et.route;let Ml=useLocation(),Ol;if(i){var Ll;let Gl=typeof i=="string"?parsePath(i):i;Nl==="/"||((Ll=Gl.pathname)==null?void 0:Ll.startsWith(Nl))||invariant$2(!1),Ol=Gl}else Ol=Ml;let Fl=Ol.pathname||"/",Bl=Nl==="/"?Fl:Fl.slice(Nl.length)||"/",Ul=matchRoutes(s,{pathname:Bl});return _renderMatches(Ul&&Ul.map(Gl=>Object.assign({},Gl,{params:Object.assign({},$l,Gl.params),pathname:joinPaths([Nl,Gl.pathname]),pathnameBase:Gl.pathnameBase==="/"?Nl:joinPaths([Nl,Gl.pathnameBase])})),o)}function _renderMatches(s,i){return i===void 0&&(i=[]),s==null?null:s.reduceRight((o,et,$l)=>react.exports.createElement(RouteContext.Provider,{children:et.route.element!==void 0?et.route.element:o,value:{outlet:o,matches:i.concat(s.slice(0,$l+1))}}),null)}function Route(s){invariant$2(!1)}function Router(s){let{basename:i="/",children:o=null,location:et,navigationType:$l=Action.Pop,navigator:Nl,static:Ml=!1}=s;useInRouterContext()&&invariant$2(!1);let Ol=normalizePathname(i),Ll=react.exports.useMemo(()=>({basename:Ol,navigator:Nl,static:Ml}),[Ol,Nl,Ml]);typeof et=="string"&&(et=parsePath(et));let{pathname:Fl="/",search:Bl="",hash:Ul="",state:Gl=null,key:Wl="default"}=et,zl=react.exports.useMemo(()=>{let Ql=stripBasename(Fl,Ol);return Ql==null?null:{pathname:Ql,search:Bl,hash:Ul,state:Gl,key:Wl}},[Ol,Fl,Bl,Ul,Gl,Wl]);return zl==null?null:react.exports.createElement(NavigationContext.Provider,{value:Ll},react.exports.createElement(LocationContext.Provider,{children:o,value:{location:zl,navigationType:$l}}))}function Routes(s){let{children:i,location:o}=s;return useRoutes(createRoutesFromChildren(i),o)}function createRoutesFromChildren(s){let i=[];return react.exports.Children.forEach(s,o=>{if(!react.exports.isValidElement(o))return;if(o.type===react.exports.Fragment){i.push.apply(i,createRoutesFromChildren(o.props.children));return}o.type!==Route&&invariant$2(!1);let et={caseSensitive:o.props.caseSensitive,element:o.props.element,index:o.props.index,path:o.props.path};o.props.children&&(et.children=createRoutesFromChildren(o.props.children)),i.push(et)}),i}var reactIs$2={exports:{}},reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$3=Symbol.for("react.element"),c$2=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e$1=Symbol.for("react.strict_mode"),f$3=Symbol.for("react.profiler"),g$2=Symbol.for("react.provider"),h$3=Symbol.for("react.context"),k$5=Symbol.for("react.server_context"),l$3=Symbol.for("react.forward_ref"),m$3=Symbol.for("react.suspense"),n$2=Symbol.for("react.suspense_list"),p$4=Symbol.for("react.memo"),q$5=Symbol.for("react.lazy"),t$2=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v$6(s){if(typeof s=="object"&&s!==null){var i=s.$$typeof;switch(i){case b$3:switch(s=s.type,s){case d$1:case f$3:case e$1:case m$3:case n$2:return s;default:switch(s=s&&s.$$typeof,s){case k$5:case h$3:case l$3:case q$5:case p$4:case g$2:return s;default:return i}}case c$2:return i}}}reactIs_production_min$1.ContextConsumer=h$3;reactIs_production_min$1.ContextProvider=g$2;reactIs_production_min$1.Element=b$3;reactIs_production_min$1.ForwardRef=l$3;reactIs_production_min$1.Fragment=d$1;reactIs_production_min$1.Lazy=q$5;reactIs_production_min$1.Memo=p$4;reactIs_production_min$1.Portal=c$2;reactIs_production_min$1.Profiler=f$3;reactIs_production_min$1.StrictMode=e$1;reactIs_production_min$1.Suspense=m$3;reactIs_production_min$1.SuspenseList=n$2;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function(s){return v$6(s)===h$3};reactIs_production_min$1.isContextProvider=function(s){return v$6(s)===g$2};reactIs_production_min$1.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===b$3};reactIs_production_min$1.isForwardRef=function(s){return v$6(s)===l$3};reactIs_production_min$1.isFragment=function(s){return v$6(s)===d$1};reactIs_production_min$1.isLazy=function(s){return v$6(s)===q$5};reactIs_production_min$1.isMemo=function(s){return v$6(s)===p$4};reactIs_production_min$1.isPortal=function(s){return v$6(s)===c$2};reactIs_production_min$1.isProfiler=function(s){return v$6(s)===f$3};reactIs_production_min$1.isStrictMode=function(s){return v$6(s)===e$1};reactIs_production_min$1.isSuspense=function(s){return v$6(s)===m$3};reactIs_production_min$1.isSuspenseList=function(s){return v$6(s)===n$2};reactIs_production_min$1.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===d$1||s===f$3||s===e$1||s===m$3||s===n$2||s===t$2||typeof s=="object"&&s!==null&&(s.$$typeof===q$5||s.$$typeof===p$4||s.$$typeof===g$2||s.$$typeof===h$3||s.$$typeof===l$3||s.$$typeof===u||s.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$6;reactIs$2.exports=reactIs_production_min$1;function stylis_min(s){function i(i0,c0,a0,v0,l0){for(var b0=0,E0=0,C0=0,$0=0,I0,x0,w0=0,M0=0,D0,V0=D0=I0=0,N0=0,j0=0,K0=0,G0=0,W0=a0.length,Y0=W0-1,H0,P0="",U0="",Q0="",Z0="",X0;N0<W0;){if(x0=a0.charCodeAt(N0),N0===Y0&&E0+$0+C0+b0!==0&&(E0!==0&&(x0=E0===47?10:47),$0=C0=b0=0,W0++,Y0++),E0+$0+C0+b0===0){if(N0===Y0&&(0<j0&&(P0=P0.replace(Gl,"")),0<P0.trim().length)){switch(x0){case 32:case 9:case 59:case 13:case 10:break;default:P0+=a0.charAt(N0)}x0=59}switch(x0){case 123:for(P0=P0.trim(),I0=P0.charCodeAt(0),D0=1,G0=++N0;N0<W0;){switch(x0=a0.charCodeAt(N0)){case 123:D0++;break;case 125:D0--;break;case 47:switch(x0=a0.charCodeAt(N0+1)){case 42:case 47:e:{for(V0=N0+1;V0<Y0;++V0)switch(a0.charCodeAt(V0)){case 47:if(x0===42&&a0.charCodeAt(V0-1)===42&&N0+2!==V0){N0=V0+1;break e}break;case 10:if(x0===47){N0=V0+1;break e}}N0=V0}}break;case 91:x0++;case 40:x0++;case 34:case 39:for(;N0++<Y0&&a0.charCodeAt(N0)!==x0;);}if(D0===0)break;N0++}switch(D0=a0.substring(G0,N0),I0===0&&(I0=(P0=P0.replace(Ul,"").trim()).charCodeAt(0)),I0){case 64:switch(0<j0&&(P0=P0.replace(Gl,"")),x0=P0.charCodeAt(1),x0){case 100:case 109:case 115:case 45:j0=c0;break;default:j0=o0}if(D0=i(c0,j0,D0,x0,l0+1),G0=D0.length,0<t0&&(j0=o(o0,P0,K0),X0=Ol(3,D0,j0,c0,_0,f0,G0,x0,l0,v0),P0=j0.join(""),X0!==void 0&&(G0=(D0=X0.trim()).length)===0&&(x0=0,D0="")),0<G0)switch(x0){case 115:P0=P0.replace(_d,Ml);case 100:case 109:case 45:D0=P0+"{"+D0+"}";break;case 107:P0=P0.replace(Hl,"$1 $2"),D0=P0+"{"+D0+"}",D0=p0===1||p0===2&&Nl("@"+D0,3)?"@-webkit-"+D0+"@"+D0:"@"+D0;break;default:D0=P0+D0,v0===112&&(D0=(U0+=D0,""))}else D0="";break;default:D0=i(c0,o(c0,P0,K0),D0,v0,l0+1)}Q0+=D0,D0=K0=j0=V0=I0=0,P0="",x0=a0.charCodeAt(++N0);break;case 125:case 59:if(P0=(0<j0?P0.replace(Gl,""):P0).trim(),1<(G0=P0.length))switch(V0===0&&(I0=P0.charCodeAt(0),I0===45||96<I0&&123>I0)&&(G0=(P0=P0.replace(" ",":")).length),0<t0&&(X0=Ol(1,P0,c0,i0,_0,f0,U0.length,v0,l0,v0))!==void 0&&(G0=(P0=X0.trim()).length)===0&&(P0="\0\0"),I0=P0.charCodeAt(0),x0=P0.charCodeAt(1),I0){case 0:break;case 64:if(x0===105||x0===99){Z0+=P0+a0.charAt(N0);break}default:P0.charCodeAt(G0-1)!==58&&(U0+=$l(P0,I0,x0,P0.charCodeAt(2)))}K0=j0=V0=I0=0,P0="",x0=a0.charCodeAt(++N0)}}switch(x0){case 13:case 10:E0===47?E0=0:1+I0===0&&v0!==107&&0<P0.length&&(j0=1,P0+="\0"),0<t0*d0&&Ol(0,P0,c0,i0,_0,f0,U0.length,v0,l0,v0),f0=1,_0++;break;case 59:case 125:if(E0+$0+C0+b0===0){f0++;break}default:switch(f0++,H0=a0.charAt(N0),x0){case 9:case 32:if($0+b0+E0===0)switch(w0){case 44:case 58:case 9:case 32:H0="";break;default:x0!==32&&(H0=" ")}break;case 0:H0="\\0";break;case 12:H0="\\f";break;case 11:H0="\\v";break;case 38:$0+E0+b0===0&&(j0=K0=1,H0="\f"+H0);break;case 108:if($0+E0+b0+S0===0&&0<V0)switch(N0-V0){case 2:w0===112&&a0.charCodeAt(N0-3)===58&&(S0=w0);case 8:M0===111&&(S0=M0)}break;case 58:$0+E0+b0===0&&(V0=N0);break;case 44:E0+C0+$0+b0===0&&(j0=1,H0+="\r");break;case 34:case 39:E0===0&&($0=$0===x0?0:$0===0?x0:$0);break;case 91:$0+E0+C0===0&&b0++;break;case 93:$0+E0+C0===0&&b0--;break;case 41:$0+E0+b0===0&&C0--;break;case 40:if($0+E0+b0===0){if(I0===0)switch(2*w0+3*M0){case 533:break;default:I0=1}C0++}break;case 64:E0+C0+$0+b0+V0+D0===0&&(D0=1);break;case 42:case 47:if(!(0<$0+b0+C0))switch(E0){case 0:switch(2*x0+3*a0.charCodeAt(N0+1)){case 235:E0=47;break;case 220:G0=N0,E0=42}break;case 42:x0===47&&w0===42&&G0+2!==N0&&(a0.charCodeAt(G0+2)===33&&(U0+=a0.substring(G0,N0+1)),H0="",E0=0)}}E0===0&&(P0+=H0)}M0=w0,w0=x0,N0++}if(G0=U0.length,0<G0){if(j0=c0,0<t0&&(X0=Ol(2,U0,j0,i0,_0,f0,G0,v0,l0,v0),X0!==void 0&&(U0=X0).length===0))return Z0+U0+Q0;if(U0=j0.join(",")+"{"+U0+"}",p0*S0!==0){switch(p0!==2||Nl(U0,2)||(S0=0),S0){case 111:U0=U0.replace(Xl,":-moz-$1")+U0;break;case 112:U0=U0.replace(Yl,"::-webkit-input-$1")+U0.replace(Yl,"::-moz-$1")+U0.replace(Yl,":-ms-input-$1")+U0}S0=0}}return Z0+U0+Q0}function o(i0,c0,a0){var v0=c0.trim().split(Jl);c0=v0;var l0=v0.length,b0=i0.length;switch(b0){case 0:case 1:var E0=0;for(i0=b0===0?"":i0[0]+" ";E0<l0;++E0)c0[E0]=et(i0,c0[E0],a0).trim();break;default:var C0=E0=0;for(c0=[];E0<l0;++E0)for(var $0=0;$0<b0;++$0)c0[C0++]=et(i0[$0]+" ",v0[E0],a0).trim()}return c0}function et(i0,c0,a0){var v0=c0.charCodeAt(0);switch(33>v0&&(v0=(c0=c0.trim()).charCodeAt(0)),v0){case 38:return c0.replace(Kl,"$1"+i0.trim());case 58:return i0.trim()+c0.replace(Kl,"$1"+i0.trim());default:if(0<1*a0&&0<c0.indexOf("\f"))return c0.replace(Kl,(i0.charCodeAt(0)===58?"":"$1")+i0.trim())}return i0+c0}function $l(i0,c0,a0,v0){var l0=i0+";",b0=2*c0+3*a0+4*v0;if(b0===944){i0=l0.indexOf(":",9)+1;var E0=l0.substring(i0,l0.length-1).trim();return E0=l0.substring(0,i0).trim()+E0+";",p0===1||p0===2&&Nl(E0,1)?"-webkit-"+E0+E0:E0}if(p0===0||p0===2&&!Nl(l0,1))return l0;switch(b0){case 1015:return l0.charCodeAt(10)===97?"-webkit-"+l0+l0:l0;case 951:return l0.charCodeAt(3)===116?"-webkit-"+l0+l0:l0;case 963:return l0.charCodeAt(5)===110?"-webkit-"+l0+l0:l0;case 1009:if(l0.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+l0+l0;case 978:return"-webkit-"+l0+"-moz-"+l0+l0;case 1019:case 983:return"-webkit-"+l0+"-moz-"+l0+"-ms-"+l0+l0;case 883:if(l0.charCodeAt(8)===45)return"-webkit-"+l0+l0;if(0<l0.indexOf("image-set(",11))return l0.replace(g0,"$1-webkit-$2")+l0;break;case 932:if(l0.charCodeAt(4)===45)switch(l0.charCodeAt(5)){case 103:return"-webkit-box-"+l0.replace("-grow","")+"-webkit-"+l0+"-ms-"+l0.replace("grow","positive")+l0;case 115:return"-webkit-"+l0+"-ms-"+l0.replace("shrink","negative")+l0;case 98:return"-webkit-"+l0+"-ms-"+l0.replace("basis","preferred-size")+l0}return"-webkit-"+l0+"-ms-"+l0+l0;case 964:return"-webkit-"+l0+"-ms-flex-"+l0+l0;case 1023:if(l0.charCodeAt(8)!==99)break;return E0=l0.substring(l0.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+E0+"-webkit-"+l0+"-ms-flex-pack"+E0+l0;case 1005:return zl.test(l0)?l0.replace(Wl,":-webkit-")+l0.replace(Wl,":-moz-")+l0:l0;case 1e3:switch(E0=l0.substring(13).trim(),c0=E0.indexOf("-")+1,E0.charCodeAt(0)+E0.charCodeAt(c0)){case 226:E0=l0.replace(Zl,"tb");break;case 232:E0=l0.replace(Zl,"tb-rl");break;case 220:E0=l0.replace(Zl,"lr");break;default:return l0}return"-webkit-"+l0+"-ms-"+E0+l0;case 1017:if(l0.indexOf("sticky",9)===-1)break;case 975:switch(c0=(l0=i0).length-10,E0=(l0.charCodeAt(c0)===33?l0.substring(0,c0):l0).substring(i0.indexOf(":",7)+1).trim(),b0=E0.charCodeAt(0)+(E0.charCodeAt(7)|0)){case 203:if(111>E0.charCodeAt(8))break;case 115:l0=l0.replace(E0,"-webkit-"+E0)+";"+l0;break;case 207:case 102:l0=l0.replace(E0,"-webkit-"+(102<b0?"inline-":"")+"box")+";"+l0.replace(E0,"-webkit-"+E0)+";"+l0.replace(E0,"-ms-"+E0+"box")+";"+l0}return l0+";";case 938:if(l0.charCodeAt(5)===45)switch(l0.charCodeAt(6)){case 105:return E0=l0.replace("-items",""),"-webkit-"+l0+"-webkit-box-"+E0+"-ms-flex-"+E0+l0;case 115:return"-webkit-"+l0+"-ms-flex-item-"+l0.replace(e0,"")+l0;default:return"-webkit-"+l0+"-ms-flex-line-pack"+l0.replace("align-content","").replace(e0,"")+l0}break;case 973:case 989:if(l0.charCodeAt(3)!==45||l0.charCodeAt(4)===122)break;case 931:case 953:if(u0.test(i0)===!0)return(E0=i0.substring(i0.indexOf(":")+1)).charCodeAt(0)===115?$l(i0.replace("stretch","fill-available"),c0,a0,v0).replace(":fill-available",":stretch"):l0.replace(E0,"-webkit-"+E0)+l0.replace(E0,"-moz-"+E0.replace("fill-",""))+l0;break;case 962:if(l0="-webkit-"+l0+(l0.charCodeAt(5)===102?"-ms-"+l0:"")+l0,a0+v0===211&&l0.charCodeAt(13)===105&&0<l0.indexOf("transform",10))return l0.substring(0,l0.indexOf(";",27)+1).replace(Ql,"$1-webkit-$2")+l0}return l0}function Nl(i0,c0){var a0=i0.indexOf(c0===1?":":"{"),v0=i0.substring(0,c0!==3?a0:10);return a0=i0.substring(a0+1,i0.length-1),r0(c0!==2?v0:v0.replace(s0,"$1"),a0,c0)}function Ml(i0,c0){var a0=$l(c0,c0.charCodeAt(0),c0.charCodeAt(1),c0.charCodeAt(2));return a0!==c0+";"?a0.replace(_f," or ($1)").substring(4):"("+c0+")"}function Ol(i0,c0,a0,v0,l0,b0,E0,C0,$0,I0){for(var x0=0,w0=c0,M0;x0<t0;++x0)switch(M0=n0[x0].call(Bl,i0,w0,a0,v0,l0,b0,E0,C0,$0,I0)){case void 0:case!1:case!0:case null:break;default:w0=M0}if(w0!==c0)return w0}function Ll(i0){switch(i0){case void 0:case null:t0=n0.length=0;break;default:if(typeof i0=="function")n0[t0++]=i0;else if(typeof i0=="object")for(var c0=0,a0=i0.length;c0<a0;++c0)Ll(i0[c0]);else d0=!!i0|0}return Ll}function Fl(i0){return i0=i0.prefix,i0!==void 0&&(r0=null,i0?typeof i0!="function"?p0=1:(p0=2,r0=i0):p0=0),Fl}function Bl(i0,c0){var a0=i0;if(33>a0.charCodeAt(0)&&(a0=a0.trim()),h0=a0,a0=[h0],0<t0){var v0=Ol(-1,c0,a0,a0,_0,f0,0,0,0,0);v0!==void 0&&typeof v0=="string"&&(c0=v0)}var l0=i(o0,a0,c0,0,0);return 0<t0&&(v0=Ol(-2,l0,a0,a0,_0,f0,l0.length,0,0,0),v0!==void 0&&(l0=v0)),h0="",S0=0,f0=_0=1,l0}var Ul=/^\0+/g,Gl=/[\0\r\f]/g,Wl=/: */g,zl=/zoo|gra/,Ql=/([,: ])(transform)/g,Jl=/,\r+?/g,Kl=/([\t\r\n ])*\f?&/g,Hl=/@(k\w+)\s*(\S*)\s*/,Yl=/::(place)/g,Xl=/:(read-only)/g,Zl=/[svh]\w+-[tblr]{2}/,_d=/\(\s*(.*)\s*\)/g,_f=/([\s\S]*?);/g,e0=/-self|flex-/g,s0=/[^]*?(:[rp][el]a[\w-]+)[^]*/,u0=/stretch|:\s*\w+\-(?:conte|avail)/,g0=/([^-])(image-set\()/,f0=1,_0=1,S0=0,p0=1,o0=[],n0=[],t0=0,r0=null,d0=0,h0="";return Bl.use=Ll,Bl.set=Fl,s!==void 0&&Fl(s),Bl}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function memoize(s){var i=Object.create(null);return function(o){return i[o]===void 0&&(i[o]=s(o)),i[o]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(s){return reactPropsRegex.test(s)||s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)<91}),reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=typeof Symbol=="function"&&Symbol.for,c$1=b$2?Symbol.for("react.element"):60103,d=b$2?Symbol.for("react.portal"):60106,e=b$2?Symbol.for("react.fragment"):60107,f$2=b$2?Symbol.for("react.strict_mode"):60108,g$1=b$2?Symbol.for("react.profiler"):60114,h$2=b$2?Symbol.for("react.provider"):60109,k$4=b$2?Symbol.for("react.context"):60110,l$2=b$2?Symbol.for("react.async_mode"):60111,m$2=b$2?Symbol.for("react.concurrent_mode"):60111,n$1=b$2?Symbol.for("react.forward_ref"):60112,p$3=b$2?Symbol.for("react.suspense"):60113,q$4=b$2?Symbol.for("react.suspense_list"):60120,r=b$2?Symbol.for("react.memo"):60115,t$1=b$2?Symbol.for("react.lazy"):60116,v$5=b$2?Symbol.for("react.block"):60121,w$4=b$2?Symbol.for("react.fundamental"):60117,x$3=b$2?Symbol.for("react.responder"):60118,y$1=b$2?Symbol.for("react.scope"):60119;function z$4(s){if(typeof s=="object"&&s!==null){var i=s.$$typeof;switch(i){case c$1:switch(s=s.type,s){case l$2:case m$2:case e:case g$1:case f$2:case p$3:return s;default:switch(s=s&&s.$$typeof,s){case k$4:case n$1:case t$1:case r:case h$2:return s;default:return i}}case d:return i}}}function A$3(s){return z$4(s)===m$2}reactIs_production_min.AsyncMode=l$2;reactIs_production_min.ConcurrentMode=m$2;reactIs_production_min.ContextConsumer=k$4;reactIs_production_min.ContextProvider=h$2;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n$1;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t$1;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f$2;reactIs_production_min.Suspense=p$3;reactIs_production_min.isAsyncMode=function(s){return A$3(s)||z$4(s)===l$2};reactIs_production_min.isConcurrentMode=A$3;reactIs_production_min.isContextConsumer=function(s){return z$4(s)===k$4};reactIs_production_min.isContextProvider=function(s){return z$4(s)===h$2};reactIs_production_min.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===c$1};reactIs_production_min.isForwardRef=function(s){return z$4(s)===n$1};reactIs_production_min.isFragment=function(s){return z$4(s)===e};reactIs_production_min.isLazy=function(s){return z$4(s)===t$1};reactIs_production_min.isMemo=function(s){return z$4(s)===r};reactIs_production_min.isPortal=function(s){return z$4(s)===d};reactIs_production_min.isProfiler=function(s){return z$4(s)===g$1};reactIs_production_min.isStrictMode=function(s){return z$4(s)===f$2};reactIs_production_min.isSuspense=function(s){return z$4(s)===p$3};reactIs_production_min.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===e||s===m$2||s===g$1||s===f$2||s===p$3||s===q$4||typeof s=="object"&&s!==null&&(s.$$typeof===t$1||s.$$typeof===r||s.$$typeof===h$2||s.$$typeof===k$4||s.$$typeof===n$1||s.$$typeof===w$4||s.$$typeof===x$3||s.$$typeof===y$1||s.$$typeof===v$5)};reactIs_production_min.typeOf=z$4;reactIs$1.exports=reactIs_production_min;var reactIs=reactIs$1.exports,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(s){return reactIs.isMemo(s)?MEMO_STATICS:TYPE_STATICS[s.$$typeof]||REACT_STATICS}var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(s,i,o){if(typeof i!="string"){if(objectPrototype){var et=getPrototypeOf(i);et&&et!==objectPrototype&&hoistNonReactStatics(s,et,o)}var $l=getOwnPropertyNames(i);getOwnPropertySymbols&&($l=$l.concat(getOwnPropertySymbols(i)));for(var Nl=getStatics(s),Ml=getStatics(i),Ol=0;Ol<$l.length;++Ol){var Ll=$l[Ol];if(!KNOWN_STATICS[Ll]&&!(o&&o[Ll])&&!(Ml&&Ml[Ll])&&!(Nl&&Nl[Ll])){var Fl=getOwnPropertyDescriptor(i,Ll);try{defineProperty(s,Ll,Fl)}catch{}}}}return s}var hoistNonReactStatics_cjs=hoistNonReactStatics;function v$4(){return(v$4=Object.assign||function(s){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var et in o)Object.prototype.hasOwnProperty.call(o,et)&&(s[et]=o[et])}return s}).apply(this,arguments)}var g=function(s,i){for(var o=[s[0]],et=0,$l=i.length;et<$l;et+=1)o.push(i[et],s[et+1]);return o},S$2=function(s){return s!==null&&typeof s=="object"&&(s.toString?s.toString():Object.prototype.toString.call(s))==="[object Object]"&&!reactIs$2.exports.typeOf(s)},w$3=Object.freeze([]),E$2=Object.freeze({});function b$1(s){return typeof s=="function"}function _(s){return s.displayName||s.name||"Component"}function N$3(s){return s&&typeof s.styledComponentId=="string"}var A$2=typeof process!="undefined"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",I$2=typeof window!="undefined"&&"HTMLElement"in window,P$2=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1),O$3={};function j$1(s){for(var i=arguments.length,o=new Array(i>1?i-1:0),et=1;et<i;et++)o[et-1]=arguments[et];throw new Error("An error occurred. See https://git.io/JUIaE#"+s+" for more information."+(o.length>0?" Args: "+o.join(", "):""))}var T$2=function(){function s(o){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=o}var i=s.prototype;return i.indexOfGroup=function(o){for(var et=0,$l=0;$l<o;$l++)et+=this.groupSizes[$l];return et},i.insertRules=function(o,et){if(o>=this.groupSizes.length){for(var $l=this.groupSizes,Nl=$l.length,Ml=Nl;o>=Ml;)(Ml<<=1)<0&&j$1(16,""+o);this.groupSizes=new Uint32Array(Ml),this.groupSizes.set($l),this.length=Ml;for(var Ol=Nl;Ol<Ml;Ol++)this.groupSizes[Ol]=0}for(var Ll=this.indexOfGroup(o+1),Fl=0,Bl=et.length;Fl<Bl;Fl++)this.tag.insertRule(Ll,et[Fl])&&(this.groupSizes[o]++,Ll++)},i.clearGroup=function(o){if(o<this.length){var et=this.groupSizes[o],$l=this.indexOfGroup(o),Nl=$l+et;this.groupSizes[o]=0;for(var Ml=$l;Ml<Nl;Ml++)this.tag.deleteRule($l)}},i.getGroup=function(o){var et="";if(o>=this.length||this.groupSizes[o]===0)return et;for(var $l=this.groupSizes[o],Nl=this.indexOfGroup(o),Ml=Nl+$l,Ol=Nl;Ol<Ml;Ol++)et+=this.tag.getRule(Ol)+`/*!sc*/
`;return et},s}(),x$2=new Map,k$3=new Map,V$2=1,B$3=function(s){if(x$2.has(s))return x$2.get(s);for(;k$3.has(V$2);)V$2++;var i=V$2++;return x$2.set(s,i),k$3.set(i,s),i},z$3=function(s){return k$3.get(s)},M$3=function(s,i){i>=V$2&&(V$2=i+1),x$2.set(s,i),k$3.set(i,s)},G$2="style["+A$2+'][data-styled-version="5.3.5"]',L$3=new RegExp("^"+A$2+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),F$2=function(s,i,o){for(var et,$l=o.split(","),Nl=0,Ml=$l.length;Nl<Ml;Nl++)(et=$l[Nl])&&s.registerName(i,et)},Y$3=function(s,i){for(var o=(i.textContent||"").split(`/*!sc*/
`),et=[],$l=0,Nl=o.length;$l<Nl;$l++){var Ml=o[$l].trim();if(Ml){var Ol=Ml.match(L$3);if(Ol){var Ll=0|parseInt(Ol[1],10),Fl=Ol[2];Ll!==0&&(M$3(Fl,Ll),F$2(s,Fl,Ol[3]),s.getTag().insertRules(Ll,et)),et.length=0}else et.push(Ml)}}},q$3=function(){return typeof window!="undefined"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},H$3=function(s){var i=document.head,o=s||i,et=document.createElement("style"),$l=function(Ol){for(var Ll=Ol.childNodes,Fl=Ll.length;Fl>=0;Fl--){var Bl=Ll[Fl];if(Bl&&Bl.nodeType===1&&Bl.hasAttribute(A$2))return Bl}}(o),Nl=$l!==void 0?$l.nextSibling:null;et.setAttribute(A$2,"active"),et.setAttribute("data-styled-version","5.3.5");var Ml=q$3();return Ml&&et.setAttribute("nonce",Ml),o.insertBefore(et,Nl),et},$$1=function(){function s(o){var et=this.element=H$3(o);et.appendChild(document.createTextNode("")),this.sheet=function($l){if($l.sheet)return $l.sheet;for(var Nl=document.styleSheets,Ml=0,Ol=Nl.length;Ml<Ol;Ml++){var Ll=Nl[Ml];if(Ll.ownerNode===$l)return Ll}j$1(17)}(et),this.length=0}var i=s.prototype;return i.insertRule=function(o,et){try{return this.sheet.insertRule(et,o),this.length++,!0}catch{return!1}},i.deleteRule=function(o){this.sheet.deleteRule(o),this.length--},i.getRule=function(o){var et=this.sheet.cssRules[o];return et!==void 0&&typeof et.cssText=="string"?et.cssText:""},s}(),W$3=function(){function s(o){var et=this.element=H$3(o);this.nodes=et.childNodes,this.length=0}var i=s.prototype;return i.insertRule=function(o,et){if(o<=this.length&&o>=0){var $l=document.createTextNode(et),Nl=this.nodes[o];return this.element.insertBefore($l,Nl||null),this.length++,!0}return!1},i.deleteRule=function(o){this.element.removeChild(this.nodes[o]),this.length--},i.getRule=function(o){return o<this.length?this.nodes[o].textContent:""},s}(),U$3=function(){function s(o){this.rules=[],this.length=0}var i=s.prototype;return i.insertRule=function(o,et){return o<=this.length&&(this.rules.splice(o,0,et),this.length++,!0)},i.deleteRule=function(o){this.rules.splice(o,1),this.length--},i.getRule=function(o){return o<this.length?this.rules[o]:""},s}(),J$2=I$2,X$3={isServer:!I$2,useCSSOMInjection:!P$2},Z$3=function(){function s(o,et,$l){o===void 0&&(o=E$2),et===void 0&&(et={}),this.options=v$4({},X$3,{},o),this.gs=et,this.names=new Map($l),this.server=!!o.isServer,!this.server&&I$2&&J$2&&(J$2=!1,function(Nl){for(var Ml=document.querySelectorAll(G$2),Ol=0,Ll=Ml.length;Ol<Ll;Ol++){var Fl=Ml[Ol];Fl&&Fl.getAttribute(A$2)!=="active"&&(Y$3(Nl,Fl),Fl.parentNode&&Fl.parentNode.removeChild(Fl))}}(this))}s.registerId=function(o){return B$3(o)};var i=s.prototype;return i.reconstructWithOptions=function(o,et){return et===void 0&&(et=!0),new s(v$4({},this.options,{},o),this.gs,et&&this.names||void 0)},i.allocateGSInstance=function(o){return this.gs[o]=(this.gs[o]||0)+1},i.getTag=function(){return this.tag||(this.tag=($l=(et=this.options).isServer,Nl=et.useCSSOMInjection,Ml=et.target,o=$l?new U$3(Ml):Nl?new $$1(Ml):new W$3(Ml),new T$2(o)));var o,et,$l,Nl,Ml},i.hasNameForId=function(o,et){return this.names.has(o)&&this.names.get(o).has(et)},i.registerName=function(o,et){if(B$3(o),this.names.has(o))this.names.get(o).add(et);else{var $l=new Set;$l.add(et),this.names.set(o,$l)}},i.insertRules=function(o,et,$l){this.registerName(o,et),this.getTag().insertRules(B$3(o),$l)},i.clearNames=function(o){this.names.has(o)&&this.names.get(o).clear()},i.clearRules=function(o){this.getTag().clearGroup(B$3(o)),this.clearNames(o)},i.clearTag=function(){this.tag=void 0},i.toString=function(){return function(o){for(var et=o.getTag(),$l=et.length,Nl="",Ml=0;Ml<$l;Ml++){var Ol=z$3(Ml);if(Ol!==void 0){var Ll=o.names.get(Ol),Fl=et.getGroup(Ml);if(Ll&&Fl&&Ll.size){var Bl=A$2+".g"+Ml+'[id="'+Ol+'"]',Ul="";Ll!==void 0&&Ll.forEach(function(Gl){Gl.length>0&&(Ul+=Gl+",")}),Nl+=""+Fl+Bl+'{content:"'+Ul+`"}/*!sc*/
`}}}return Nl}(this)},s}(),K$3=/(a)(d)/gi,Q$3=function(s){return String.fromCharCode(s+(s>25?39:97))};function ee$2(s){var i,o="";for(i=Math.abs(s);i>52;i=i/52|0)o=Q$3(i%52)+o;return(Q$3(i%52)+o).replace(K$3,"$1-$2")}var te$2=function(s,i){for(var o=i.length;o;)s=33*s^i.charCodeAt(--o);return s},ne$2=function(s){return te$2(5381,s)};function re$2(s){for(var i=0;i<s.length;i+=1){var o=s[i];if(b$1(o)&&!N$3(o))return!1}return!0}var oe$2=ne$2("5.3.5"),se$2=function(){function s(i,o,et){this.rules=i,this.staticRulesId="",this.isStatic=(et===void 0||et.isStatic)&&re$2(i),this.componentId=o,this.baseHash=te$2(oe$2,o),this.baseStyle=et,Z$3.registerId(o)}return s.prototype.generateAndInjectStyles=function(i,o,et){var $l=this.componentId,Nl=[];if(this.baseStyle&&Nl.push(this.baseStyle.generateAndInjectStyles(i,o,et)),this.isStatic&&!et.hash)if(this.staticRulesId&&o.hasNameForId($l,this.staticRulesId))Nl.push(this.staticRulesId);else{var Ml=Ne$2(this.rules,i,o,et).join(""),Ol=ee$2(te$2(this.baseHash,Ml)>>>0);if(!o.hasNameForId($l,Ol)){var Ll=et(Ml,"."+Ol,void 0,$l);o.insertRules($l,Ol,Ll)}Nl.push(Ol),this.staticRulesId=Ol}else{for(var Fl=this.rules.length,Bl=te$2(this.baseHash,et.hash),Ul="",Gl=0;Gl<Fl;Gl++){var Wl=this.rules[Gl];if(typeof Wl=="string")Ul+=Wl;else if(Wl){var zl=Ne$2(Wl,i,o,et),Ql=Array.isArray(zl)?zl.join(""):zl;Bl=te$2(Bl,Ql+Gl),Ul+=Ql}}if(Ul){var Jl=ee$2(Bl>>>0);if(!o.hasNameForId($l,Jl)){var Kl=et(Ul,"."+Jl,void 0,$l);o.insertRules($l,Jl,Kl)}Nl.push(Jl)}}return Nl.join(" ")},s}(),ie$2=/^\s*\/\/.*$/gm,ae$2=[":","[",".","#"];function ce$2(s){var i,o,et,$l,Nl=s===void 0?E$2:s,Ml=Nl.options,Ol=Ml===void 0?E$2:Ml,Ll=Nl.plugins,Fl=Ll===void 0?w$3:Ll,Bl=new stylis_min(Ol),Ul=[],Gl=function(Ql){function Jl(Kl){if(Kl)try{Ql(Kl+"}")}catch{}}return function(Kl,Hl,Yl,Xl,Zl,_d,_f,e0,s0,u0){switch(Kl){case 1:if(s0===0&&Hl.charCodeAt(0)===64)return Ql(Hl+";"),"";break;case 2:if(e0===0)return Hl+"/*|*/";break;case 3:switch(e0){case 102:case 112:return Ql(Yl[0]+Hl),"";default:return Hl+(u0===0?"/*|*/":"")}case-2:Hl.split("/*|*/}").forEach(Jl)}}}(function(Ql){Ul.push(Ql)}),Wl=function(Ql,Jl,Kl){return Jl===0&&ae$2.indexOf(Kl[o.length])!==-1||Kl.match($l)?Ql:"."+i};function zl(Ql,Jl,Kl,Hl){Hl===void 0&&(Hl="&");var Yl=Ql.replace(ie$2,""),Xl=Jl&&Kl?Kl+" "+Jl+" { "+Yl+" }":Yl;return i=Hl,o=Jl,et=new RegExp("\\"+o+"\\b","g"),$l=new RegExp("(\\"+o+"\\b){2,}"),Bl(Kl||!Jl?"":Jl,Xl)}return Bl.use([].concat(Fl,[function(Ql,Jl,Kl){Ql===2&&Kl.length&&Kl[0].lastIndexOf(o)>0&&(Kl[0]=Kl[0].replace(et,Wl))},Gl,function(Ql){if(Ql===-2){var Jl=Ul;return Ul=[],Jl}}])),zl.hash=Fl.length?Fl.reduce(function(Ql,Jl){return Jl.name||j$1(15),te$2(Ql,Jl.name)},5381).toString():"",zl}var ue$2=React.createContext();ue$2.Consumer;var de$2=React.createContext(),he$2=(de$2.Consumer,new Z$3),pe$2=ce$2();function fe$2(){return react.exports.useContext(ue$2)||he$2}function me$2(){return react.exports.useContext(de$2)||pe$2}var ve$2=function(){function s(i,o){var et=this;this.inject=function($l,Nl){Nl===void 0&&(Nl=pe$2);var Ml=et.name+Nl.hash;$l.hasNameForId(et.id,Ml)||$l.insertRules(et.id,Ml,Nl(et.rules,Ml,"@keyframes"))},this.toString=function(){return j$1(12,String(et.name))},this.name=i,this.id="sc-keyframes-"+i,this.rules=o}return s.prototype.getName=function(i){return i===void 0&&(i=pe$2),this.name+i.hash},s}(),ge$2=/([A-Z])/,Se$2=/([A-Z])/g,we$2=/^ms-/,Ee$2=function(s){return"-"+s.toLowerCase()};function be$2(s){return ge$2.test(s)?s.replace(Se$2,Ee$2).replace(we$2,"-ms-"):s}var _e$1=function(s){return s==null||s===!1||s===""};function Ne$2(s,i,o,et){if(Array.isArray(s)){for(var $l,Nl=[],Ml=0,Ol=s.length;Ml<Ol;Ml+=1)($l=Ne$2(s[Ml],i,o,et))!==""&&(Array.isArray($l)?Nl.push.apply(Nl,$l):Nl.push($l));return Nl}if(_e$1(s))return"";if(N$3(s))return"."+s.styledComponentId;if(b$1(s)){if(typeof(Fl=s)!="function"||Fl.prototype&&Fl.prototype.isReactComponent||!i)return s;var Ll=s(i);return Ne$2(Ll,i,o,et)}var Fl;return s instanceof ve$2?o?(s.inject(o,et),s.getName(et)):s:S$2(s)?function Bl(Ul,Gl){var Wl,zl,Ql=[];for(var Jl in Ul)Ul.hasOwnProperty(Jl)&&!_e$1(Ul[Jl])&&(Array.isArray(Ul[Jl])&&Ul[Jl].isCss||b$1(Ul[Jl])?Ql.push(be$2(Jl)+":",Ul[Jl],";"):S$2(Ul[Jl])?Ql.push.apply(Ql,Bl(Ul[Jl],Jl)):Ql.push(be$2(Jl)+": "+(Wl=Jl,(zl=Ul[Jl])==null||typeof zl=="boolean"||zl===""?"":typeof zl!="number"||zl===0||Wl in unitlessKeys?String(zl).trim():zl+"px")+";"));return Gl?[Gl+" {"].concat(Ql,["}"]):Ql}(s):s.toString()}var Ae$2=function(s){return Array.isArray(s)&&(s.isCss=!0),s};function Ce$2(s){for(var i=arguments.length,o=new Array(i>1?i-1:0),et=1;et<i;et++)o[et-1]=arguments[et];return b$1(s)||S$2(s)?Ae$2(Ne$2(g(w$3,[s].concat(o)))):o.length===0&&s.length===1&&typeof s[0]=="string"?s:Ae$2(Ne$2(g(s,o)))}var Re$2=function(s,i,o){return o===void 0&&(o=E$2),s.theme!==o.theme&&s.theme||i||o.theme},De$2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,je$2=/(^-|-$)/g;function Te$2(s){return s.replace(De$2,"-").replace(je$2,"")}var xe$2=function(s){return ee$2(ne$2(s)>>>0)};function ke$2(s){return typeof s=="string"&&!0}var Ve$2=function(s){return typeof s=="function"||typeof s=="object"&&s!==null&&!Array.isArray(s)},Be$2=function(s){return s!=="__proto__"&&s!=="constructor"&&s!=="prototype"};function ze$2(s,i,o){var et=s[o];Ve$2(i)&&Ve$2(et)?Me$2(et,i):s[o]=i}function Me$2(s){for(var i=arguments.length,o=new Array(i>1?i-1:0),et=1;et<i;et++)o[et-1]=arguments[et];for(var $l=0,Nl=o;$l<Nl.length;$l++){var Ml=Nl[$l];if(Ve$2(Ml))for(var Ol in Ml)Be$2(Ol)&&ze$2(s,Ml[Ol],Ol)}return s}var Ge$2=React.createContext();Ge$2.Consumer;function Fe$2(s){var i=react.exports.useContext(Ge$2),o=react.exports.useMemo(function(){return function(et,$l){if(!et)return j$1(14);if(b$1(et)){var Nl=et($l);return Nl}return Array.isArray(et)||typeof et!="object"?j$1(8):$l?v$4({},$l,{},et):et}(s.theme,i)},[s.theme,i]);return s.children?React.createElement(Ge$2.Provider,{value:o},s.children):null}var Ye$2={};function qe$2(s,i,o){var et=N$3(s),$l=!ke$2(s),Nl=i.attrs,Ml=Nl===void 0?w$3:Nl,Ol=i.componentId,Ll=Ol===void 0?function(Hl,Yl){var Xl=typeof Hl!="string"?"sc":Te$2(Hl);Ye$2[Xl]=(Ye$2[Xl]||0)+1;var Zl=Xl+"-"+xe$2("5.3.5"+Xl+Ye$2[Xl]);return Yl?Yl+"-"+Zl:Zl}(i.displayName,i.parentComponentId):Ol,Fl=i.displayName,Bl=Fl===void 0?function(Hl){return ke$2(Hl)?"styled."+Hl:"Styled("+_(Hl)+")"}(s):Fl,Ul=i.displayName&&i.componentId?Te$2(i.displayName)+"-"+i.componentId:i.componentId||Ll,Gl=et&&s.attrs?Array.prototype.concat(s.attrs,Ml).filter(Boolean):Ml,Wl=i.shouldForwardProp;et&&s.shouldForwardProp&&(Wl=i.shouldForwardProp?function(Hl,Yl,Xl){return s.shouldForwardProp(Hl,Yl,Xl)&&i.shouldForwardProp(Hl,Yl,Xl)}:s.shouldForwardProp);var zl,Ql=new se$2(o,Ul,et?s.componentStyle:void 0),Jl=Ql.isStatic&&Ml.length===0,Kl=function(Hl,Yl){return function(Xl,Zl,_d,_f){var e0=Xl.attrs,s0=Xl.componentStyle,u0=Xl.defaultProps,g0=Xl.foldedComponentIds,f0=Xl.shouldForwardProp,_0=Xl.styledComponentId,S0=Xl.target,p0=function(v0,l0,b0){v0===void 0&&(v0=E$2);var E0=v$4({},l0,{theme:v0}),C0={};return b0.forEach(function($0){var I0,x0,w0,M0=$0;for(I0 in b$1(M0)&&(M0=M0(E0)),M0)E0[I0]=C0[I0]=I0==="className"?(x0=C0[I0],w0=M0[I0],x0&&w0?x0+" "+w0:x0||w0):M0[I0]}),[E0,C0]}(Re$2(Zl,react.exports.useContext(Ge$2),u0)||E$2,Zl,e0),o0=p0[0],n0=p0[1],t0=function(v0,l0,b0,E0){var C0=fe$2(),$0=me$2(),I0=l0?v0.generateAndInjectStyles(E$2,C0,$0):v0.generateAndInjectStyles(b0,C0,$0);return I0}(s0,_f,o0),r0=_d,d0=n0.$as||Zl.$as||n0.as||Zl.as||S0,h0=ke$2(d0),i0=n0!==Zl?v$4({},Zl,{},n0):Zl,c0={};for(var a0 in i0)a0[0]!=="$"&&a0!=="as"&&(a0==="forwardedAs"?c0.as=i0[a0]:(f0?f0(a0,isPropValid,d0):!h0||isPropValid(a0))&&(c0[a0]=i0[a0]));return Zl.style&&n0.style!==Zl.style&&(c0.style=v$4({},Zl.style,{},n0.style)),c0.className=Array.prototype.concat(g0,_0,t0!==_0?t0:null,Zl.className,n0.className).filter(Boolean).join(" "),c0.ref=r0,react.exports.createElement(d0,c0)}(zl,Hl,Yl,Jl)};return Kl.displayName=Bl,(zl=React.forwardRef(Kl)).attrs=Gl,zl.componentStyle=Ql,zl.displayName=Bl,zl.shouldForwardProp=Wl,zl.foldedComponentIds=et?Array.prototype.concat(s.foldedComponentIds,s.styledComponentId):w$3,zl.styledComponentId=Ul,zl.target=et?s.target:s,zl.withComponent=function(Hl){var Yl=i.componentId,Xl=function(_d,_f){if(_d==null)return{};var e0,s0,u0={},g0=Object.keys(_d);for(s0=0;s0<g0.length;s0++)e0=g0[s0],_f.indexOf(e0)>=0||(u0[e0]=_d[e0]);return u0}(i,["componentId"]),Zl=Yl&&Yl+"-"+(ke$2(Hl)?Hl:Te$2(_(Hl)));return qe$2(Hl,v$4({},Xl,{attrs:Gl,componentId:Zl}),o)},Object.defineProperty(zl,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Hl){this._foldedDefaultProps=et?Me$2({},s.defaultProps,Hl):Hl}}),zl.toString=function(){return"."+zl.styledComponentId},$l&&hoistNonReactStatics_cjs(zl,s,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),zl}var He$2=function(s){return function i(o,et,$l){if($l===void 0&&($l=E$2),!reactIs$2.exports.isValidElementType(et))return j$1(1,String(et));var Nl=function(){return o(et,$l,Ce$2.apply(void 0,arguments))};return Nl.withConfig=function(Ml){return i(o,et,v$4({},$l,{},Ml))},Nl.attrs=function(Ml){return i(o,et,v$4({},$l,{attrs:Array.prototype.concat($l.attrs,Ml).filter(Boolean)}))},Nl}(qe$2,s)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(s){He$2[s]=He$2(s)});var $e$2=function(){function s(o,et){this.rules=o,this.componentId=et,this.isStatic=re$2(o),Z$3.registerId(this.componentId+1)}var i=s.prototype;return i.createStyles=function(o,et,$l,Nl){var Ml=Nl(Ne$2(this.rules,et,$l,Nl).join(""),""),Ol=this.componentId+o;$l.insertRules(Ol,Ol,Ml)},i.removeStyles=function(o,et){et.clearRules(this.componentId+o)},i.renderStyles=function(o,et,$l,Nl){o>2&&Z$3.registerId(this.componentId+o),this.removeStyles(o,$l),this.createStyles(o,et,$l,Nl)},s}();function We$2(s){for(var i=arguments.length,o=new Array(i>1?i-1:0),et=1;et<i;et++)o[et-1]=arguments[et];var $l=Ce$2.apply(void 0,[s].concat(o)),Nl="sc-global-"+xe$2(JSON.stringify($l)),Ml=new $e$2($l,Nl);function Ol(Fl){var Bl=fe$2(),Ul=me$2(),Gl=react.exports.useContext(Ge$2),Wl=react.exports.useRef(Bl.allocateGSInstance(Nl)).current;return Bl.server&&Ll(Wl,Fl,Bl,Gl,Ul),react.exports.useLayoutEffect(function(){if(!Bl.server)return Ll(Wl,Fl,Bl,Gl,Ul),function(){return Ml.removeStyles(Wl,Bl)}},[Wl,Fl,Bl,Gl,Ul]),null}function Ll(Fl,Bl,Ul,Gl,Wl){if(Ml.isStatic)Ml.renderStyles(Fl,O$3,Ul,Wl);else{var zl=v$4({},Bl,{theme:Re$2(Bl,Gl,Ol.defaultProps)});Ml.renderStyles(Fl,zl,Ul,Wl)}}return React.memo(Ol)}var Ze$2=function(){return react.exports.useContext(Ge$2)},styled=He$2,reactDom$1={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function i(t0,r0){var d0=t0.length;t0.push(r0);e:for(;0<d0;){var h0=d0-1>>>1,i0=t0[h0];if(0<$l(i0,r0))t0[h0]=r0,t0[d0]=i0,d0=h0;else break e}}function o(t0){return t0.length===0?null:t0[0]}function et(t0){if(t0.length===0)return null;var r0=t0[0],d0=t0.pop();if(d0!==r0){t0[0]=d0;e:for(var h0=0,i0=t0.length,c0=i0>>>1;h0<c0;){var a0=2*(h0+1)-1,v0=t0[a0],l0=a0+1,b0=t0[l0];if(0>$l(v0,d0))l0<i0&&0>$l(b0,v0)?(t0[h0]=b0,t0[l0]=d0,h0=l0):(t0[h0]=v0,t0[a0]=d0,h0=a0);else if(l0<i0&&0>$l(b0,d0))t0[h0]=b0,t0[l0]=d0,h0=l0;else break e}}return r0}function $l(t0,r0){var d0=t0.sortIndex-r0.sortIndex;return d0!==0?d0:t0.id-r0.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Nl=performance;s.unstable_now=function(){return Nl.now()}}else{var Ml=Date,Ol=Ml.now();s.unstable_now=function(){return Ml.now()-Ol}}var Ll=[],Fl=[],Bl=1,Ul=null,Gl=3,Wl=!1,zl=!1,Ql=!1,Jl=typeof setTimeout=="function"?setTimeout:null,Kl=typeof clearTimeout=="function"?clearTimeout:null,Hl=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Yl(t0){for(var r0=o(Fl);r0!==null;){if(r0.callback===null)et(Fl);else if(r0.startTime<=t0)et(Fl),r0.sortIndex=r0.expirationTime,i(Ll,r0);else break;r0=o(Fl)}}function Xl(t0){if(Ql=!1,Yl(t0),!zl)if(o(Ll)!==null)zl=!0,o0(Zl);else{var r0=o(Fl);r0!==null&&n0(Xl,r0.startTime-t0)}}function Zl(t0,r0){zl=!1,Ql&&(Ql=!1,Kl(e0),e0=-1),Wl=!0;var d0=Gl;try{for(Yl(r0),Ul=o(Ll);Ul!==null&&(!(Ul.expirationTime>r0)||t0&&!g0());){var h0=Ul.callback;if(typeof h0=="function"){Ul.callback=null,Gl=Ul.priorityLevel;var i0=h0(Ul.expirationTime<=r0);r0=s.unstable_now(),typeof i0=="function"?Ul.callback=i0:Ul===o(Ll)&&et(Ll),Yl(r0)}else et(Ll);Ul=o(Ll)}if(Ul!==null)var c0=!0;else{var a0=o(Fl);a0!==null&&n0(Xl,a0.startTime-r0),c0=!1}return c0}finally{Ul=null,Gl=d0,Wl=!1}}var _d=!1,_f=null,e0=-1,s0=5,u0=-1;function g0(){return!(s.unstable_now()-u0<s0)}function f0(){if(_f!==null){var t0=s.unstable_now();u0=t0;var r0=!0;try{r0=_f(!0,t0)}finally{r0?_0():(_d=!1,_f=null)}}else _d=!1}var _0;if(typeof Hl=="function")_0=function(){Hl(f0)};else if(typeof MessageChannel!="undefined"){var S0=new MessageChannel,p0=S0.port2;S0.port1.onmessage=f0,_0=function(){p0.postMessage(null)}}else _0=function(){Jl(f0,0)};function o0(t0){_f=t0,_d||(_d=!0,_0())}function n0(t0,r0){e0=Jl(function(){t0(s.unstable_now())},r0)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(t0){t0.callback=null},s.unstable_continueExecution=function(){zl||Wl||(zl=!0,o0(Zl))},s.unstable_forceFrameRate=function(t0){0>t0||125<t0?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):s0=0<t0?Math.floor(1e3/t0):5},s.unstable_getCurrentPriorityLevel=function(){return Gl},s.unstable_getFirstCallbackNode=function(){return o(Ll)},s.unstable_next=function(t0){switch(Gl){case 1:case 2:case 3:var r0=3;break;default:r0=Gl}var d0=Gl;Gl=r0;try{return t0()}finally{Gl=d0}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(t0,r0){switch(t0){case 1:case 2:case 3:case 4:case 5:break;default:t0=3}var d0=Gl;Gl=t0;try{return r0()}finally{Gl=d0}},s.unstable_scheduleCallback=function(t0,r0,d0){var h0=s.unstable_now();switch(typeof d0=="object"&&d0!==null?(d0=d0.delay,d0=typeof d0=="number"&&0<d0?h0+d0:h0):d0=h0,t0){case 1:var i0=-1;break;case 2:i0=250;break;case 5:i0=1073741823;break;case 4:i0=1e4;break;default:i0=5e3}return i0=d0+i0,t0={id:Bl++,callback:r0,priorityLevel:t0,startTime:d0,expirationTime:i0,sortIndex:-1},d0>h0?(t0.sortIndex=d0,i(Fl,t0),o(Ll)===null&&t0===o(Fl)&&(Ql?(Kl(e0),e0=-1):Ql=!0,n0(Xl,d0-h0))):(t0.sortIndex=i0,i(Ll,t0),zl||Wl||(zl=!0,o0(Zl))),t0},s.unstable_shouldYield=g0,s.unstable_wrapCallback=function(t0){var r0=Gl;return function(){var d0=Gl;Gl=r0;try{return t0.apply(this,arguments)}finally{Gl=d0}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$2=react.exports,ca$2=scheduler.exports;function p$2(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$2=new Set,ea$2={};function fa$2(s,i){ha$2(s,i),ha$2(s+"Capture",i)}function ha$2(s,i){for(ea$2[s]=i,s=0;s<i.length;s++)da$2.add(i[s])}var ia$2=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ja$2=Object.prototype.hasOwnProperty,ka$2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$1={},ma$2={};function oa$2(s){return ja$2.call(ma$2,s)?!0:ja$2.call(la$1,s)?!1:ka$2.test(s)?ma$2[s]=!0:(la$1[s]=!0,!1)}function pa$2(s,i,o,et){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return et?!1:o!==null?!o.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function qa$2(s,i,o,et){if(i===null||typeof i=="undefined"||pa$2(s,i,o,et))return!0;if(et)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v$3(s,i,o,et,$l,Nl,Ml){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=et,this.attributeNamespace=$l,this.mustUseProperty=o,this.propertyName=s,this.type=i,this.sanitizeURL=Nl,this.removeEmptyString=Ml}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){z$2[s]=new v$3(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];z$2[i]=new v$3(i,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){z$2[s]=new v$3(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){z$2[s]=new v$3(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){z$2[s]=new v$3(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){z$2[s]=new v$3(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){z$2[s]=new v$3(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){z$2[s]=new v$3(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){z$2[s]=new v$3(s,5,!1,s.toLowerCase(),null,!1,!1)});var ra$2=/[\-:]([a-z])/g;function sa$2(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(ra$2,sa$2);z$2[i]=new v$3(i,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(ra$2,sa$2);z$2[i]=new v$3(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(ra$2,sa$2);z$2[i]=new v$3(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){z$2[s]=new v$3(s,1,!1,s.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){z$2[s]=new v$3(s,1,!1,s.toLowerCase(),null,!0,!0)});function ta$2(s,i,o,et){var $l=z$2.hasOwnProperty(i)?z$2[i]:null;($l!==null?$l.type!==0:et||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa$2(i,o,$l,et)&&(o=null),et||$l===null?oa$2(i)&&(o===null?s.removeAttribute(i):s.setAttribute(i,""+o)):$l.mustUseProperty?s[$l.propertyName]=o===null?$l.type===3?!1:"":o:(i=$l.attributeName,et=$l.attributeNamespace,o===null?s.removeAttribute(i):($l=$l.type,o=$l===3||$l===4&&o===!0?"":""+o,et?s.setAttributeNS(et,i,o):s.setAttribute(i,o))))}var ua$2=aa$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$2=Symbol.for("react.element"),wa$2=Symbol.for("react.portal"),ya$2=Symbol.for("react.fragment"),za$2=Symbol.for("react.strict_mode"),Aa$2=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$2=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa$2=Symbol.for("react.suspense_list"),Ga$2=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$2=Symbol.for("react.offscreen"),Ja$2=Symbol.iterator;function Ka$2(s){return s===null||typeof s!="object"?null:(s=Ja$2&&s[Ja$2]||s["@@iterator"],typeof s=="function"?s:null)}var A$1=Object.assign,La$2;function Ma$2(s){if(La$2===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);La$2=i&&i[1]||""}return`
`+La$2+s}var Na$2=!1;function Oa$2(s,i){if(!s||Na$2)return"";Na$2=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Fl){var et=Fl}Reflect.construct(s,[],i)}else{try{i.call()}catch(Fl){et=Fl}s.call(i.prototype)}else{try{throw Error()}catch(Fl){et=Fl}s()}}catch(Fl){if(Fl&&et&&typeof Fl.stack=="string"){for(var $l=Fl.stack.split(`
`),Nl=et.stack.split(`
`),Ml=$l.length-1,Ol=Nl.length-1;1<=Ml&&0<=Ol&&$l[Ml]!==Nl[Ol];)Ol--;for(;1<=Ml&&0<=Ol;Ml--,Ol--)if($l[Ml]!==Nl[Ol]){if(Ml!==1||Ol!==1)do if(Ml--,Ol--,0>Ol||$l[Ml]!==Nl[Ol]){var Ll=`
`+$l[Ml].replace(" at new "," at ");return s.displayName&&Ll.includes("<anonymous>")&&(Ll=Ll.replace("<anonymous>",s.displayName)),Ll}while(1<=Ml&&0<=Ol);break}}}finally{Na$2=!1,Error.prepareStackTrace=o}return(s=s?s.displayName||s.name:"")?Ma$2(s):""}function Pa$2(s){switch(s.tag){case 5:return Ma$2(s.type);case 16:return Ma$2("Lazy");case 13:return Ma$2("Suspense");case 19:return Ma$2("SuspenseList");case 0:case 2:case 15:return s=Oa$2(s.type,!1),s;case 11:return s=Oa$2(s.type.render,!1),s;case 1:return s=Oa$2(s.type,!0),s;default:return""}}function Qa$2(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ya$2:return"Fragment";case wa$2:return"Portal";case Aa$2:return"Profiler";case za$2:return"StrictMode";case Ea$1:return"Suspense";case Fa$2:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ca$2:return(s.displayName||"Context")+".Consumer";case Ba$1:return(s._context.displayName||"Context")+".Provider";case Da$1:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ga$2:return i=s.displayName||null,i!==null?i:Qa$2(s.type)||"Memo";case Ha$1:i=s._payload,s=s._init;try{return Qa$2(s(i))}catch{}}return null}function Ra$2(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$2(i);case 8:return i===za$2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa$2(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ta$2(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua$2(s){var i=Ta$2(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),et=""+s[i];if(!s.hasOwnProperty(i)&&typeof o!="undefined"&&typeof o.get=="function"&&typeof o.set=="function"){var $l=o.get,Nl=o.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return $l.call(this)},set:function(Ml){et=""+Ml,Nl.call(this,Ml)}}),Object.defineProperty(s,i,{enumerable:o.enumerable}),{getValue:function(){return et},setValue:function(Ml){et=""+Ml},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Va$2(s){s._valueTracker||(s._valueTracker=Ua$2(s))}function Wa$2(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var o=i.getValue(),et="";return s&&(et=Ta$2(s)?s.checked?"true":"false":s.value),s=et,s!==o?(i.setValue(s),!0):!1}function Xa$2(s){if(s=s||(typeof document!="undefined"?document:void 0),typeof s=="undefined")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ya$2(s,i){var o=i.checked;return A$1({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o!=null?o:s._wrapperState.initialChecked})}function Za$2(s,i){var o=i.defaultValue==null?"":i.defaultValue,et=i.checked!=null?i.checked:i.defaultChecked;o=Sa$2(i.value!=null?i.value:o),s._wrapperState={initialChecked:et,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab$1(s,i){i=i.checked,i!=null&&ta$2(s,"checked",i,!1)}function bb$1(s,i){ab$1(s,i);var o=Sa$2(i.value),et=i.type;if(o!=null)et==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+o):s.value!==""+o&&(s.value=""+o);else if(et==="submit"||et==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?cb$2(s,i.type,o):i.hasOwnProperty("defaultValue")&&cb$2(s,i.type,Sa$2(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function db$2(s,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var et=i.type;if(!(et!=="submit"&&et!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,o||i===s.value||(s.value=i),s.defaultValue=i}o=s.name,o!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,o!==""&&(s.name=o)}function cb$2(s,i,o){(i!=="number"||Xa$2(s.ownerDocument)!==s)&&(o==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+o&&(s.defaultValue=""+o))}var eb=Array.isArray;function fb$1(s,i,o,et){if(s=s.options,i){i={};for(var $l=0;$l<o.length;$l++)i["$"+o[$l]]=!0;for(o=0;o<s.length;o++)$l=i.hasOwnProperty("$"+s[o].value),s[o].selected!==$l&&(s[o].selected=$l),$l&&et&&(s[o].defaultSelected=!0)}else{for(o=""+Sa$2(o),i=null,$l=0;$l<s.length;$l++){if(s[$l].value===o){s[$l].selected=!0,et&&(s[$l].defaultSelected=!0);return}i!==null||s[$l].disabled||(i=s[$l])}i!==null&&(i.selected=!0)}}function gb$1(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hb$1(s,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(p$2(92));if(eb(o)){if(1<o.length)throw Error(p$2(93));o=o[0]}i=o}i==null&&(i=""),o=i}s._wrapperState={initialValue:Sa$2(o)}}function ib$1(s,i){var o=Sa$2(i.value),et=Sa$2(i.defaultValue);o!=null&&(o=""+o,o!==s.value&&(s.value=o),i.defaultValue==null&&s.defaultValue!==o&&(s.defaultValue=o)),et!=null&&(s.defaultValue=""+et)}function jb$1(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function kb$1(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$1(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?kb$1(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mb$1,nb$1=function(s){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(i,o,et,$l){MSApp.execUnsafeLocalFunction(function(){return s(i,o,et,$l)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(mb$1=mb$1||document.createElement("div"),mb$1.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb$1.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function ob$1(s,i){if(i){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=i;return}}s.textContent=i}var pb$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb$1=["Webkit","ms","Moz","O"];Object.keys(pb$1).forEach(function(s){qb$1.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),pb$1[i]=pb$1[s]})});function rb$1(s,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||pb$1.hasOwnProperty(s)&&pb$1[s]?(""+i).trim():i+"px"}function sb$1(s,i){s=s.style;for(var o in i)if(i.hasOwnProperty(o)){var et=o.indexOf("--")===0,$l=rb$1(o,i[o],et);o==="float"&&(o="cssFloat"),et?s.setProperty(o,$l):s[o]=$l}}var tb$1=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub$1(s,i){if(i){if(tb$1[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p$2(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p$2(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p$2(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p$2(62))}}function vb$1(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb$1=null;function xb(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yb$1=null,zb$1=null,Ab$1=null;function Bb$1(s){if(s=Cb$1(s)){if(typeof yb$1!="function")throw Error(p$2(280));var i=s.stateNode;i&&(i=Db$1(i),yb$1(s.stateNode,s.type,i))}}function Eb$1(s){zb$1?Ab$1?Ab$1.push(s):Ab$1=[s]:zb$1=s}function Fb$1(){if(zb$1){var s=zb$1,i=Ab$1;if(Ab$1=zb$1=null,Bb$1(s),i)for(s=0;s<i.length;s++)Bb$1(i[s])}}function Gb$1(s,i){return s(i)}function Hb$1(){}var Ib$1=!1;function Jb$1(s,i,o){if(Ib$1)return s(i,o);Ib$1=!0;try{return Gb$1(s,i,o)}finally{Ib$1=!1,(zb$1!==null||Ab$1!==null)&&(Hb$1(),Fb$1())}}function Kb$1(s,i){var o=s.stateNode;if(o===null)return null;var et=Db$1(o);if(et===null)return null;o=et[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(et=!et.disabled)||(s=s.type,et=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!et;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(p$2(231,i,typeof o));return o}var Lb$1=!1;if(ia$2)try{var Mb$1={};Object.defineProperty(Mb$1,"passive",{get:function(){Lb$1=!0}}),window.addEventListener("test",Mb$1,Mb$1),window.removeEventListener("test",Mb$1,Mb$1)}catch{Lb$1=!1}function Nb$1(s,i,o,et,$l,Nl,Ml,Ol,Ll){var Fl=Array.prototype.slice.call(arguments,3);try{i.apply(o,Fl)}catch(Bl){this.onError(Bl)}}var Ob$1=!1,Pb$1=null,Qb$1=!1,Rb$1=null,Sb$1={onError:function(s){Ob$1=!0,Pb$1=s}};function Tb$1(s,i,o,et,$l,Nl,Ml,Ol,Ll){Ob$1=!1,Pb$1=null,Nb$1.apply(Sb$1,arguments)}function Ub$1(s,i,o,et,$l,Nl,Ml,Ol,Ll){if(Tb$1.apply(this,arguments),Ob$1){if(Ob$1){var Fl=Pb$1;Ob$1=!1,Pb$1=null}else throw Error(p$2(198));Qb$1||(Qb$1=!0,Rb$1=Fl)}}function Vb$1(s){var i=s,o=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(o=i.return),s=i.return;while(s)}return i.tag===3?o:null}function Wb$1(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Xb$1(s){if(Vb$1(s)!==s)throw Error(p$2(188))}function Yb$1(s){var i=s.alternate;if(!i){if(i=Vb$1(s),i===null)throw Error(p$2(188));return i!==s?null:s}for(var o=s,et=i;;){var $l=o.return;if($l===null)break;var Nl=$l.alternate;if(Nl===null){if(et=$l.return,et!==null){o=et;continue}break}if($l.child===Nl.child){for(Nl=$l.child;Nl;){if(Nl===o)return Xb$1($l),s;if(Nl===et)return Xb$1($l),i;Nl=Nl.sibling}throw Error(p$2(188))}if(o.return!==et.return)o=$l,et=Nl;else{for(var Ml=!1,Ol=$l.child;Ol;){if(Ol===o){Ml=!0,o=$l,et=Nl;break}if(Ol===et){Ml=!0,et=$l,o=Nl;break}Ol=Ol.sibling}if(!Ml){for(Ol=Nl.child;Ol;){if(Ol===o){Ml=!0,o=Nl,et=$l;break}if(Ol===et){Ml=!0,et=Nl,o=$l;break}Ol=Ol.sibling}if(!Ml)throw Error(p$2(189))}}if(o.alternate!==et)throw Error(p$2(190))}if(o.tag!==3)throw Error(p$2(188));return o.stateNode.current===o?s:i}function Zb$1(s){return s=Yb$1(s),s!==null?$b$1(s):null}function $b$1(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=$b$1(s);if(i!==null)return i;s=s.sibling}return null}var ac$2=ca$2.unstable_scheduleCallback,bc$2=ca$2.unstable_cancelCallback,cc$3=ca$2.unstable_shouldYield,dc$2=ca$2.unstable_requestPaint,B$2=ca$2.unstable_now,ec$2=ca$2.unstable_getCurrentPriorityLevel,fc$2=ca$2.unstable_ImmediatePriority,gc$2=ca$2.unstable_UserBlockingPriority,hc$2=ca$2.unstable_NormalPriority,ic$2=ca$2.unstable_LowPriority,jc$2=ca$2.unstable_IdlePriority,kc$2=null,lc$2=null;function mc$2(s){if(lc$2&&typeof lc$2.onCommitFiberRoot=="function")try{lc$2.onCommitFiberRoot(kc$2,s,void 0,(s.current.flags&128)===128)}catch{}}var oc$2=Math.clz32?Math.clz32:nc$2,pc$2=Math.log,qc$2=Math.LN2;function nc$2(s){return s>>>=0,s===0?32:31-(pc$2(s)/qc$2|0)|0}var rc$2=64,sc$2=4194304;function tc$2(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uc$2(s,i){var o=s.pendingLanes;if(o===0)return 0;var et=0,$l=s.suspendedLanes,Nl=s.pingedLanes,Ml=o&268435455;if(Ml!==0){var Ol=Ml&~$l;Ol!==0?et=tc$2(Ol):(Nl&=Ml,Nl!==0&&(et=tc$2(Nl)))}else Ml=o&~$l,Ml!==0?et=tc$2(Ml):Nl!==0&&(et=tc$2(Nl));if(et===0)return 0;if(i!==0&&i!==et&&(i&$l)===0&&($l=et&-et,Nl=i&-i,$l>=Nl||$l===16&&(Nl&4194240)!==0))return i;if((et&4)!==0&&(et|=o&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=et;0<i;)o=31-oc$2(i),$l=1<<o,et|=s[o],i&=~$l;return et}function vc$2(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$2(s,i){for(var o=s.suspendedLanes,et=s.pingedLanes,$l=s.expirationTimes,Nl=s.pendingLanes;0<Nl;){var Ml=31-oc$2(Nl),Ol=1<<Ml,Ll=$l[Ml];Ll===-1?((Ol&o)===0||(Ol&et)!==0)&&($l[Ml]=vc$2(Ol,i)):Ll<=i&&(s.expiredLanes|=Ol),Nl&=~Ol}}function xc$2(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yc$2(){var s=rc$2;return rc$2<<=1,(rc$2&4194240)===0&&(rc$2=64),s}function zc$2(s){for(var i=[],o=0;31>o;o++)i.push(s);return i}function Ac$2(s,i,o){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-oc$2(i),s[i]=o}function Bc$2(s,i){var o=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var et=s.eventTimes;for(s=s.expirationTimes;0<o;){var $l=31-oc$2(o),Nl=1<<$l;i[$l]=0,et[$l]=-1,s[$l]=-1,o&=~Nl}}function Cc$2(s,i){var o=s.entangledLanes|=i;for(s=s.entanglements;o;){var et=31-oc$2(o),$l=1<<et;$l&i|s[et]&i&&(s[et]|=i),o&=~$l}}var C$2=0;function Dc$2(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ec$2,Fc$2,Gc$2,Hc$2,Ic$2,Jc$2=!1,Kc$2=[],Lc$2=null,Mc$2=null,Nc$2=null,Oc$2=new Map,Pc$2=new Map,Qc$2=[],Rc$2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$2(s,i){switch(s){case"focusin":case"focusout":Lc$2=null;break;case"dragenter":case"dragleave":Mc$2=null;break;case"mouseover":case"mouseout":Nc$2=null;break;case"pointerover":case"pointerout":Oc$2.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$2.delete(i.pointerId)}}function Tc$2(s,i,o,et,$l,Nl){return s===null||s.nativeEvent!==Nl?(s={blockedOn:i,domEventName:o,eventSystemFlags:et,nativeEvent:Nl,targetContainers:[$l]},i!==null&&(i=Cb$1(i),i!==null&&Fc$2(i)),s):(s.eventSystemFlags|=et,i=s.targetContainers,$l!==null&&i.indexOf($l)===-1&&i.push($l),s)}function Uc$2(s,i,o,et,$l){switch(i){case"focusin":return Lc$2=Tc$2(Lc$2,s,i,o,et,$l),!0;case"dragenter":return Mc$2=Tc$2(Mc$2,s,i,o,et,$l),!0;case"mouseover":return Nc$2=Tc$2(Nc$2,s,i,o,et,$l),!0;case"pointerover":var Nl=$l.pointerId;return Oc$2.set(Nl,Tc$2(Oc$2.get(Nl)||null,s,i,o,et,$l)),!0;case"gotpointercapture":return Nl=$l.pointerId,Pc$2.set(Nl,Tc$2(Pc$2.get(Nl)||null,s,i,o,et,$l)),!0}return!1}function Vc$2(s){var i=Wc$2(s.target);if(i!==null){var o=Vb$1(i);if(o!==null){if(i=o.tag,i===13){if(i=Wb$1(o),i!==null){s.blockedOn=i,Ic$2(s.priority,function(){Gc$2(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xc$2(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var o=Yc$2(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(o===null){o=s.nativeEvent;var et=new o.constructor(o.type,o);wb$1=et,o.target.dispatchEvent(et),wb$1=null}else return i=Cb$1(o),i!==null&&Fc$2(i),s.blockedOn=o,!1;i.shift()}return!0}function Zc$2(s,i,o){Xc$2(s)&&o.delete(i)}function $c$2(){Jc$2=!1,Lc$2!==null&&Xc$2(Lc$2)&&(Lc$2=null),Mc$2!==null&&Xc$2(Mc$2)&&(Mc$2=null),Nc$2!==null&&Xc$2(Nc$2)&&(Nc$2=null),Oc$2.forEach(Zc$2),Pc$2.forEach(Zc$2)}function ad$1(s,i){s.blockedOn===i&&(s.blockedOn=null,Jc$2||(Jc$2=!0,ca$2.unstable_scheduleCallback(ca$2.unstable_NormalPriority,$c$2)))}function bd$1(s){function i($l){return ad$1($l,s)}if(0<Kc$2.length){ad$1(Kc$2[0],s);for(var o=1;o<Kc$2.length;o++){var et=Kc$2[o];et.blockedOn===s&&(et.blockedOn=null)}}for(Lc$2!==null&&ad$1(Lc$2,s),Mc$2!==null&&ad$1(Mc$2,s),Nc$2!==null&&ad$1(Nc$2,s),Oc$2.forEach(i),Pc$2.forEach(i),o=0;o<Qc$2.length;o++)et=Qc$2[o],et.blockedOn===s&&(et.blockedOn=null);for(;0<Qc$2.length&&(o=Qc$2[0],o.blockedOn===null);)Vc$2(o),o.blockedOn===null&&Qc$2.shift()}var cd$1=ua$2.ReactCurrentBatchConfig,dd$1=!0;function ed$1(s,i,o,et){var $l=C$2,Nl=cd$1.transition;cd$1.transition=null;try{C$2=1,fd$1(s,i,o,et)}finally{C$2=$l,cd$1.transition=Nl}}function gd$1(s,i,o,et){var $l=C$2,Nl=cd$1.transition;cd$1.transition=null;try{C$2=4,fd$1(s,i,o,et)}finally{C$2=$l,cd$1.transition=Nl}}function fd$1(s,i,o,et){if(dd$1){var $l=Yc$2(s,i,o,et);if($l===null)hd$1(s,i,et,id$3,o),Sc$2(s,et);else if(Uc$2($l,s,i,o,et))et.stopPropagation();else if(Sc$2(s,et),i&4&&-1<Rc$2.indexOf(s)){for(;$l!==null;){var Nl=Cb$1($l);if(Nl!==null&&Ec$2(Nl),Nl=Yc$2(s,i,o,et),Nl===null&&hd$1(s,i,et,id$3,o),Nl===$l)break;$l=Nl}$l!==null&&et.stopPropagation()}else hd$1(s,i,et,null,o)}}var id$3=null;function Yc$2(s,i,o,et){if(id$3=null,s=xb(et),s=Wc$2(s),s!==null)if(i=Vb$1(s),i===null)s=null;else if(o=i.tag,o===13){if(s=Wb$1(i),s!==null)return s;s=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return id$3=s,null}function jd$1(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$2()){case fc$2:return 1;case gc$2:return 4;case hc$2:case ic$2:return 16;case jc$2:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld$1=null,md$1=null;function nd$1(){if(md$1)return md$1;var s,i=ld$1,o=i.length,et,$l="value"in kd$1?kd$1.value:kd$1.textContent,Nl=$l.length;for(s=0;s<o&&i[s]===$l[s];s++);var Ml=o-s;for(et=1;et<=Ml&&i[o-et]===$l[Nl-et];et++);return md$1=$l.slice(s,1<et?1-et:void 0)}function od$1(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function pd$1(){return!0}function qd$1(){return!1}function rd$1(s){function i(o,et,$l,Nl,Ml){this._reactName=o,this._targetInst=$l,this.type=et,this.nativeEvent=Nl,this.target=Ml,this.currentTarget=null;for(var Ol in s)s.hasOwnProperty(Ol)&&(o=s[Ol],this[Ol]=o?o(Nl):Nl[Ol]);return this.isDefaultPrevented=(Nl.defaultPrevented!=null?Nl.defaultPrevented:Nl.returnValue===!1)?pd$1:qd$1,this.isPropagationStopped=qd$1,this}return A$1(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd$1)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd$1)},persist:function(){},isPersistent:pd$1}),i}var sd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd$1(sd$1),ud$1=A$1({},sd$1,{view:0,detail:0}),vd$1=rd$1(ud$1),wd$1,xd$1,yd$1,Ad$1=A$1({},ud$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd$1,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yd$1&&(yd$1&&s.type==="mousemove"?(wd$1=s.screenX-yd$1.screenX,xd$1=s.screenY-yd$1.screenY):xd$1=wd$1=0,yd$1=s),wd$1)},movementY:function(s){return"movementY"in s?s.movementY:xd$1}}),Bd$1=rd$1(Ad$1),Cd$1=A$1({},Ad$1,{dataTransfer:0}),Dd$1=rd$1(Cd$1),Ed$1=A$1({},ud$1,{relatedTarget:0}),Fd$1=rd$1(Ed$1),Gd$1=A$1({},sd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd$1=rd$1(Gd$1),Id$1=A$1({},sd$1,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jd$1=rd$1(Id$1),Kd$1=A$1({},sd$1,{data:0}),Ld$1=rd$1(Kd$1),Md$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd$1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od$1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd$1(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Od$1[s])?!!i[s]:!1}function zd$1(){return Pd$1}var Qd$1=A$1({},ud$1,{key:function(s){if(s.key){var i=Md$1[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=od$1(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nd$1[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd$1,charCode:function(s){return s.type==="keypress"?od$1(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?od$1(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Rd$1=rd$1(Qd$1),Sd$1=A$1({},Ad$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td$1=rd$1(Sd$1),Ud$1=A$1({},ud$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd$1}),Vd$1=rd$1(Ud$1),Wd=A$1({},sd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd$1(Wd),Yd=A$1({},Ad$1,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd$1(Yd),$d=[9,13,27,32],ae$1=ia$2&&"CompositionEvent"in window,be$1=null;ia$2&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia$2&&"TextEvent"in window&&!be$1,de$1=ia$2&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(s,i){switch(s){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ie$1=!1;function je$1(s,i){switch(s){case"compositionend":return he$1(i);case"keypress":return i.which!==32?null:(fe$1=!0,ee$1);case"textInput":return s=i.data,s===ee$1&&fe$1?null:s;default:return null}}function ke$1(s,i){if(ie$1)return s==="compositionend"||!ae$1&&ge$1(s,i)?(s=nd$1(),md$1=ld$1=kd$1=null,ie$1=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de$1&&i.locale!=="ko"?null:i.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!le$1[s.type]:i==="textarea"}function ne$1(s,i,o,et){Eb$1(et),i=oe$1(i,"onChange"),0<i.length&&(o=new td$1("onChange","change",null,o,et),s.push({event:o,listeners:i}))}var pe$1=null,qe$1=null;function re$1(s){se$1(s,0)}function te$1(s){var i=ue$1(s);if(Wa$2(i))return s}function ve$1(s,i){if(s==="change")return i}var we$1=!1;if(ia$2){var xe$1;if(ia$2){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(s){if(s.propertyName==="value"&&te$1(qe$1)){var i=[];ne$1(i,qe$1,s,xb(s)),Jb$1(re$1,i)}}function Ce$1(s,i,o){s==="focusin"?(Ae$1(),pe$1=i,qe$1=o,pe$1.attachEvent("onpropertychange",Be$1)):s==="focusout"&&Ae$1()}function De$1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return te$1(qe$1)}function Ee$1(s,i){if(s==="click")return te$1(i)}function Fe$1(s,i){if(s==="input"||s==="change")return te$1(i)}function Ge$1(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(s,i){if(He$1(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var o=Object.keys(s),et=Object.keys(i);if(o.length!==et.length)return!1;for(et=0;et<o.length;et++){var $l=o[et];if(!ja$2.call(i,$l)||!He$1(s[$l],i[$l]))return!1}return!0}function Je$1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ke$1(s,i){var o=Je$1(s);s=0;for(var et;o;){if(o.nodeType===3){if(et=s+o.textContent.length,s<=i&&et>=i)return{node:o,offset:i-s};s=et}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je$1(o)}}function Le$1(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Le$1(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Me$1(){for(var s=window,i=Xa$2();i instanceof s.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)s=i.contentWindow;else break;i=Xa$2(s.document)}return i}function Ne$1(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function Oe$1(s){var i=Me$1(),o=s.focusedElem,et=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&Le$1(o.ownerDocument.documentElement,o)){if(et!==null&&Ne$1(o)){if(i=et.start,s=et.end,s===void 0&&(s=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(s,o.value.length);else if(s=(i=o.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var $l=o.textContent.length,Nl=Math.min(et.start,$l);et=et.end===void 0?Nl:Math.min(et.end,$l),!s.extend&&Nl>et&&($l=et,et=Nl,Nl=$l),$l=Ke$1(o,Nl);var Ml=Ke$1(o,et);$l&&Ml&&(s.rangeCount!==1||s.anchorNode!==$l.node||s.anchorOffset!==$l.offset||s.focusNode!==Ml.node||s.focusOffset!==Ml.offset)&&(i=i.createRange(),i.setStart($l.node,$l.offset),s.removeAllRanges(),Nl>et?(s.addRange(i),s.extend(Ml.node,Ml.offset)):(i.setEnd(Ml.node,Ml.offset),s.addRange(i)))}}for(i=[],s=o;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)s=i[o],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Pe$1=ia$2&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(s,i,o){var et=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa$2(et)||(et=Qe$1,"selectionStart"in et&&Ne$1(et)?et={start:et.selectionStart,end:et.selectionEnd}:(et=(et.ownerDocument&&et.ownerDocument.defaultView||window).getSelection(),et={anchorNode:et.anchorNode,anchorOffset:et.anchorOffset,focusNode:et.focusNode,focusOffset:et.focusOffset}),Se$1&&Ie$1(Se$1,et)||(Se$1=et,et=oe$1(Re$1,"onSelect"),0<et.length&&(i=new td$1("onSelect","select",null,i,o),s.push({event:i,listeners:et}),i.target=Qe$1)))}function Ve$1(s,i){var o={};return o[s.toLowerCase()]=i.toLowerCase(),o["Webkit"+s]="webkit"+i,o["Moz"+s]="moz"+i,o}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia$2&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(s){if(Xe$1[s])return Xe$1[s];if(!We$1[s])return s;var i=We$1[s],o;for(o in i)if(i.hasOwnProperty(o)&&o in Ye$1)return Xe$1[s]=i[o];return s}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(s,i){df.set(s,i),fa$2(i,[s])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha$2("onMouseEnter",["mouseout","mouseover"]);ha$2("onMouseLeave",["mouseout","mouseover"]);ha$2("onPointerEnter",["pointerout","pointerover"]);ha$2("onPointerLeave",["pointerout","pointerover"]);fa$2("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$2("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$2("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$2("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$2("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$2("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(s,i,o){var et=s.type||"unknown-event";s.currentTarget=o,Ub$1(et,i,void 0,s),s.currentTarget=null}function se$1(s,i){i=(i&4)!==0;for(var o=0;o<s.length;o++){var et=s[o],$l=et.event;et=et.listeners;e:{var Nl=void 0;if(i)for(var Ml=et.length-1;0<=Ml;Ml--){var Ol=et[Ml],Ll=Ol.instance,Fl=Ol.currentTarget;if(Ol=Ol.listener,Ll!==Nl&&$l.isPropagationStopped())break e;nf($l,Ol,Fl),Nl=Ll}else for(Ml=0;Ml<et.length;Ml++){if(Ol=et[Ml],Ll=Ol.instance,Fl=Ol.currentTarget,Ol=Ol.listener,Ll!==Nl&&$l.isPropagationStopped())break e;nf($l,Ol,Fl),Nl=Ll}}}if(Qb$1)throw s=Rb$1,Qb$1=!1,Rb$1=null,s}function D$2(s,i){var o=i[of];o===void 0&&(o=i[of]=new Set);var et=s+"__bubble";o.has(et)||(pf(i,s,2,!1),o.add(et))}function qf(s,i,o){var et=0;i&&(et|=4),pf(o,s,et,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(s){if(!s[rf]){s[rf]=!0,da$2.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,s),qf(o,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(s,i,o,et){switch(jd$1(i)){case 1:var $l=ed$1;break;case 4:$l=gd$1;break;default:$l=fd$1}o=$l.bind(null,i,o,s),$l=void 0,!Lb$1||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||($l=!0),et?$l!==void 0?s.addEventListener(i,o,{capture:!0,passive:$l}):s.addEventListener(i,o,!0):$l!==void 0?s.addEventListener(i,o,{passive:$l}):s.addEventListener(i,o,!1)}function hd$1(s,i,o,et,$l){var Nl=et;if((i&1)===0&&(i&2)===0&&et!==null)e:for(;;){if(et===null)return;var Ml=et.tag;if(Ml===3||Ml===4){var Ol=et.stateNode.containerInfo;if(Ol===$l||Ol.nodeType===8&&Ol.parentNode===$l)break;if(Ml===4)for(Ml=et.return;Ml!==null;){var Ll=Ml.tag;if((Ll===3||Ll===4)&&(Ll=Ml.stateNode.containerInfo,Ll===$l||Ll.nodeType===8&&Ll.parentNode===$l))return;Ml=Ml.return}for(;Ol!==null;){if(Ml=Wc$2(Ol),Ml===null)return;if(Ll=Ml.tag,Ll===5||Ll===6){et=Nl=Ml;continue e}Ol=Ol.parentNode}}et=et.return}Jb$1(function(){var Fl=Nl,Bl=xb(o),Ul=[];e:{var Gl=df.get(s);if(Gl!==void 0){var Wl=td$1,zl=s;switch(s){case"keypress":if(od$1(o)===0)break e;case"keydown":case"keyup":Wl=Rd$1;break;case"focusin":zl="focus",Wl=Fd$1;break;case"focusout":zl="blur",Wl=Fd$1;break;case"beforeblur":case"afterblur":Wl=Fd$1;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Wl=Bd$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Wl=Dd$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Wl=Vd$1;break;case $e$1:case af:case bf:Wl=Hd$1;break;case cf:Wl=Xd;break;case"scroll":Wl=vd$1;break;case"wheel":Wl=Zd;break;case"copy":case"cut":case"paste":Wl=Jd$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Wl=Td$1}var Ql=(i&4)!==0,Jl=!Ql&&s==="scroll",Kl=Ql?Gl!==null?Gl+"Capture":null:Gl;Ql=[];for(var Hl=Fl,Yl;Hl!==null;){Yl=Hl;var Xl=Yl.stateNode;if(Yl.tag===5&&Xl!==null&&(Yl=Xl,Kl!==null&&(Xl=Kb$1(Hl,Kl),Xl!=null&&Ql.push(tf(Hl,Xl,Yl)))),Jl)break;Hl=Hl.return}0<Ql.length&&(Gl=new Wl(Gl,zl,null,o,Bl),Ul.push({event:Gl,listeners:Ql}))}}if((i&7)===0){e:{if(Gl=s==="mouseover"||s==="pointerover",Wl=s==="mouseout"||s==="pointerout",Gl&&o!==wb$1&&(zl=o.relatedTarget||o.fromElement)&&(Wc$2(zl)||zl[uf]))break e;if((Wl||Gl)&&(Gl=Bl.window===Bl?Bl:(Gl=Bl.ownerDocument)?Gl.defaultView||Gl.parentWindow:window,Wl?(zl=o.relatedTarget||o.toElement,Wl=Fl,zl=zl?Wc$2(zl):null,zl!==null&&(Jl=Vb$1(zl),zl!==Jl||zl.tag!==5&&zl.tag!==6)&&(zl=null)):(Wl=null,zl=Fl),Wl!==zl)){if(Ql=Bd$1,Xl="onMouseLeave",Kl="onMouseEnter",Hl="mouse",(s==="pointerout"||s==="pointerover")&&(Ql=Td$1,Xl="onPointerLeave",Kl="onPointerEnter",Hl="pointer"),Jl=Wl==null?Gl:ue$1(Wl),Yl=zl==null?Gl:ue$1(zl),Gl=new Ql(Xl,Hl+"leave",Wl,o,Bl),Gl.target=Jl,Gl.relatedTarget=Yl,Xl=null,Wc$2(Bl)===Fl&&(Ql=new Ql(Kl,Hl+"enter",zl,o,Bl),Ql.target=Yl,Ql.relatedTarget=Jl,Xl=Ql),Jl=Xl,Wl&&zl)t:{for(Ql=Wl,Kl=zl,Hl=0,Yl=Ql;Yl;Yl=vf(Yl))Hl++;for(Yl=0,Xl=Kl;Xl;Xl=vf(Xl))Yl++;for(;0<Hl-Yl;)Ql=vf(Ql),Hl--;for(;0<Yl-Hl;)Kl=vf(Kl),Yl--;for(;Hl--;){if(Ql===Kl||Kl!==null&&Ql===Kl.alternate)break t;Ql=vf(Ql),Kl=vf(Kl)}Ql=null}else Ql=null;Wl!==null&&wf(Ul,Gl,Wl,Ql,!1),zl!==null&&Jl!==null&&wf(Ul,Jl,zl,Ql,!0)}}e:{if(Gl=Fl?ue$1(Fl):window,Wl=Gl.nodeName&&Gl.nodeName.toLowerCase(),Wl==="select"||Wl==="input"&&Gl.type==="file")var Zl=ve$1;else if(me$1(Gl))if(we$1)Zl=Fe$1;else{Zl=De$1;var _d=Ce$1}else(Wl=Gl.nodeName)&&Wl.toLowerCase()==="input"&&(Gl.type==="checkbox"||Gl.type==="radio")&&(Zl=Ee$1);if(Zl&&(Zl=Zl(s,Fl))){ne$1(Ul,Zl,o,Bl);break e}_d&&_d(s,Gl,Fl),s==="focusout"&&(_d=Gl._wrapperState)&&_d.controlled&&Gl.type==="number"&&cb$2(Gl,"number",Gl.value)}switch(_d=Fl?ue$1(Fl):window,s){case"focusin":(me$1(_d)||_d.contentEditable==="true")&&(Qe$1=_d,Re$1=Fl,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(Ul,o,Bl);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(Ul,o,Bl)}var _f;if(ae$1)e:{switch(s){case"compositionstart":var e0="onCompositionStart";break e;case"compositionend":e0="onCompositionEnd";break e;case"compositionupdate":e0="onCompositionUpdate";break e}e0=void 0}else ie$1?ge$1(s,o)&&(e0="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(e0="onCompositionStart");e0&&(de$1&&o.locale!=="ko"&&(ie$1||e0!=="onCompositionStart"?e0==="onCompositionEnd"&&ie$1&&(_f=nd$1()):(kd$1=Bl,ld$1="value"in kd$1?kd$1.value:kd$1.textContent,ie$1=!0)),_d=oe$1(Fl,e0),0<_d.length&&(e0=new Ld$1(e0,s,null,o,Bl),Ul.push({event:e0,listeners:_d}),_f?e0.data=_f:(_f=he$1(o),_f!==null&&(e0.data=_f)))),(_f=ce$1?je$1(s,o):ke$1(s,o))&&(Fl=oe$1(Fl,"onBeforeInput"),0<Fl.length&&(Bl=new Ld$1("onBeforeInput","beforeinput",null,o,Bl),Ul.push({event:Bl,listeners:Fl}),Bl.data=_f))}se$1(Ul,i)})}function tf(s,i,o){return{instance:s,listener:i,currentTarget:o}}function oe$1(s,i){for(var o=i+"Capture",et=[];s!==null;){var $l=s,Nl=$l.stateNode;$l.tag===5&&Nl!==null&&($l=Nl,Nl=Kb$1(s,o),Nl!=null&&et.unshift(tf(s,Nl,$l)),Nl=Kb$1(s,i),Nl!=null&&et.push(tf(s,Nl,$l))),s=s.return}return et}function vf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wf(s,i,o,et,$l){for(var Nl=i._reactName,Ml=[];o!==null&&o!==et;){var Ol=o,Ll=Ol.alternate,Fl=Ol.stateNode;if(Ll!==null&&Ll===et)break;Ol.tag===5&&Fl!==null&&(Ol=Fl,$l?(Ll=Kb$1(o,Nl),Ll!=null&&Ml.unshift(tf(o,Ll,Ol))):$l||(Ll=Kb$1(o,Nl),Ll!=null&&Ml.push(tf(o,Ll,Ol)))),o=o.return}Ml.length!==0&&s.push({event:i,listeners:Ml})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(s){return(typeof s=="string"?s:""+s).replace(xf,`
`).replace(yf,"")}function Af(s,i,o){if(i=zf(i),zf(s)!==i&&o)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf!="undefined"?function(s){return Hf.resolve(null).then(s).catch(If)}:Ff;function If(s){setTimeout(function(){throw s})}function Kf(s,i){var o=i,et=0;do{var $l=o.nextSibling;if(s.removeChild(o),$l&&$l.nodeType===8)if(o=$l.data,o==="/$"){if(et===0){s.removeChild($l),bd$1(i);return}et--}else o!=="$"&&o!=="$?"&&o!=="$!"||et++;o=$l}while(o);bd$1(i)}function Lf(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Mf(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return s;i--}else o==="/$"&&i++}s=s.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc$2(s){var i=s[Of];if(i)return i;for(var o=s.parentNode;o;){if(i=o[uf]||o[Of]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(s=Mf(s);s!==null;){if(o=s[Of])return o;s=Mf(s)}return i}s=o,o=s.parentNode}return null}function Cb$1(s){return s=s[Of]||s[uf],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ue$1(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(p$2(33))}function Db$1(s){return s[Pf]||null}var Sf=[],Tf=-1;function Uf(s){return{current:s}}function E$1(s){0>Tf||(s.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(s,i){Tf++,Sf[Tf]=s.current,s.current=i}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(s,i){var o=s.type.contextTypes;if(!o)return Vf;var et=s.stateNode;if(et&&et.__reactInternalMemoizedUnmaskedChildContext===i)return et.__reactInternalMemoizedMaskedChildContext;var $l={},Nl;for(Nl in o)$l[Nl]=i[Nl];return et&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=$l),$l}function Zf(s){return s=s.childContextTypes,s!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(s,i,o){if(H$2.current!==Vf)throw Error(p$2(168));G$1(H$2,i),G$1(Wf,o)}function bg(s,i,o){var et=s.stateNode;if(i=i.childContextTypes,typeof et.getChildContext!="function")return o;et=et.getChildContext();for(var $l in et)if(!($l in i))throw Error(p$2(108,Ra$2(s)||"Unknown",$l));return A$1({},o,et)}function cg(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,s),G$1(Wf,Wf.current),!0}function dg(s,i,o){var et=s.stateNode;if(!et)throw Error(p$2(169));o?(s=bg(s,i,Xf),et.__reactInternalMemoizedMergedChildContext=s,E$1(Wf),E$1(H$2),G$1(H$2,s)):E$1(Wf),G$1(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(s){eg===null?eg=[s]:eg.push(s)}function ig(s){fg=!0,hg(s)}function jg(){if(!gg&&eg!==null){gg=!0;var s=0,i=C$2;try{var o=eg;for(C$2=1;s<o.length;s++){var et=o[s];do et=et(!0);while(et!==null)}eg=null,fg=!1}catch($l){throw eg!==null&&(eg=eg.slice(s+1)),ac$2(fc$2,jg),$l}finally{C$2=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(s,i){kg[lg++]=ng,kg[lg++]=mg,mg=s,ng=i}function ug(s,i,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=s;var et=rg;s=sg;var $l=32-oc$2(et)-1;et&=~(1<<$l),o+=1;var Nl=32-oc$2(i)+$l;if(30<Nl){var Ml=$l-$l%5;Nl=(et&(1<<Ml)-1).toString(32),et>>=Ml,$l-=Ml,rg=1<<32-oc$2(i)+$l|o<<$l|et,sg=Nl+s}else rg=1<<Nl|o<<$l|et,sg=s}function vg(s){s.return!==null&&(tg(s,1),ug(s,1,0))}function wg(s){for(;s===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;s===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(s,i){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=s,i=s.deletions,i===null?(s.deletions=[o],s.flags|=16):i.push(o)}function Cg(s,i){switch(s.tag){case 5:var o=s.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,xg=s,yg=Lf(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,xg=s,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=qg!==null?{id:rg,overflow:sg}:null,s.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=i,o.return=s,s.child=o,xg=s,yg=null,!0):!1;default:return!1}}function Dg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Eg(s){if(I$1){var i=yg;if(i){var o=i;if(!Cg(s,i)){if(Dg(s))throw Error(p$2(418));i=Lf(o.nextSibling);var et=xg;i&&Cg(s,i)?Ag(et,o):(s.flags=s.flags&-4097|2,I$1=!1,xg=s)}}else{if(Dg(s))throw Error(p$2(418));s.flags=s.flags&-4097|2,I$1=!1,xg=s}}}function Fg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xg=s}function Gg(s){if(s!==xg)return!1;if(!I$1)return Fg(s),I$1=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Ef(s.type,s.memoizedProps)),i&&(i=yg)){if(Dg(s))throw Hg(),Error(p$2(418));for(;i;)Ag(s,i),i=Lf(i.nextSibling)}if(Fg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p$2(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"){if(i===0){yg=Lf(s.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}s=s.nextSibling}yg=null}}else yg=xg?Lf(s.stateNode.nextSibling):null;return!0}function Hg(){for(var s=yg;s;)s=Lf(s.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(s){zg===null?zg=[s]:zg.push(s)}var Kg=ua$2.ReactCurrentBatchConfig;function Lg(s,i){if(s&&s.defaultProps){i=A$1({},i),s=s.defaultProps;for(var o in s)i[o]===void 0&&(i[o]=s[o]);return i}return i}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(s){var i=Mg.current;E$1(Mg),s._currentValue=i}function Sg(s,i,o){for(;s!==null;){var et=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,et!==null&&(et.childLanes|=i)):et!==null&&(et.childLanes&i)!==i&&(et.childLanes|=i),s===o)break;s=s.return}}function Tg(s,i){Ng=s,Pg=Og=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Ug=!0),s.firstContext=null)}function Vg(s){var i=s._currentValue;if(Pg!==s)if(s={context:s,memoizedValue:i,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=s,Ng.dependencies={lanes:0,firstContext:s}}else Og=Og.next=s;return i}var Wg=null;function Xg(s){Wg===null?Wg=[s]:Wg.push(s)}function Yg(s,i,o,et){var $l=i.interleaved;return $l===null?(o.next=o,Xg(i)):(o.next=$l.next,$l.next=o),i.interleaved=o,Zg(s,et)}function Zg(s,i){s.lanes|=i;var o=s.alternate;for(o!==null&&(o.lanes|=i),o=s,s=s.return;s!==null;)s.childLanes|=i,o=s.alternate,o!==null&&(o.childLanes|=i),o=s,s=s.return;return o.tag===3?o.stateNode:null}var $g=!1;function ah$1(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh$1(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ch$1(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function dh$1(s,i,o){var et=s.updateQueue;if(et===null)return null;if(et=et.shared,(K$2&2)!==0){var $l=et.pending;return $l===null?i.next=i:(i.next=$l.next,$l.next=i),et.pending=i,Zg(s,o)}return $l=et.interleaved,$l===null?(i.next=i,Xg(et)):(i.next=$l.next,$l.next=i),et.interleaved=i,Zg(s,o)}function eh$1(s,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var et=i.lanes;et&=s.pendingLanes,o|=et,i.lanes=o,Cc$2(s,o)}}function fh$1(s,i){var o=s.updateQueue,et=s.alternate;if(et!==null&&(et=et.updateQueue,o===et)){var $l=null,Nl=null;if(o=o.firstBaseUpdate,o!==null){do{var Ml={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};Nl===null?$l=Nl=Ml:Nl=Nl.next=Ml,o=o.next}while(o!==null);Nl===null?$l=Nl=i:Nl=Nl.next=i}else $l=Nl=i;o={baseState:et.baseState,firstBaseUpdate:$l,lastBaseUpdate:Nl,shared:et.shared,effects:et.effects},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=i:s.next=i,o.lastBaseUpdate=i}function gh$1(s,i,o,et){var $l=s.updateQueue;$g=!1;var Nl=$l.firstBaseUpdate,Ml=$l.lastBaseUpdate,Ol=$l.shared.pending;if(Ol!==null){$l.shared.pending=null;var Ll=Ol,Fl=Ll.next;Ll.next=null,Ml===null?Nl=Fl:Ml.next=Fl,Ml=Ll;var Bl=s.alternate;Bl!==null&&(Bl=Bl.updateQueue,Ol=Bl.lastBaseUpdate,Ol!==Ml&&(Ol===null?Bl.firstBaseUpdate=Fl:Ol.next=Fl,Bl.lastBaseUpdate=Ll))}if(Nl!==null){var Ul=$l.baseState;Ml=0,Bl=Fl=Ll=null,Ol=Nl;do{var Gl=Ol.lane,Wl=Ol.eventTime;if((et&Gl)===Gl){Bl!==null&&(Bl=Bl.next={eventTime:Wl,lane:0,tag:Ol.tag,payload:Ol.payload,callback:Ol.callback,next:null});e:{var zl=s,Ql=Ol;switch(Gl=i,Wl=o,Ql.tag){case 1:if(zl=Ql.payload,typeof zl=="function"){Ul=zl.call(Wl,Ul,Gl);break e}Ul=zl;break e;case 3:zl.flags=zl.flags&-65537|128;case 0:if(zl=Ql.payload,Gl=typeof zl=="function"?zl.call(Wl,Ul,Gl):zl,Gl==null)break e;Ul=A$1({},Ul,Gl);break e;case 2:$g=!0}}Ol.callback!==null&&Ol.lane!==0&&(s.flags|=64,Gl=$l.effects,Gl===null?$l.effects=[Ol]:Gl.push(Ol))}else Wl={eventTime:Wl,lane:Gl,tag:Ol.tag,payload:Ol.payload,callback:Ol.callback,next:null},Bl===null?(Fl=Bl=Wl,Ll=Ul):Bl=Bl.next=Wl,Ml|=Gl;if(Ol=Ol.next,Ol===null){if(Ol=$l.shared.pending,Ol===null)break;Gl=Ol,Ol=Gl.next,Gl.next=null,$l.lastBaseUpdate=Gl,$l.shared.pending=null}}while(1);if(Bl===null&&(Ll=Ul),$l.baseState=Ll,$l.firstBaseUpdate=Fl,$l.lastBaseUpdate=Bl,i=$l.shared.interleaved,i!==null){$l=i;do Ml|=$l.lane,$l=$l.next;while($l!==i)}else Nl===null&&($l.shared.lanes=0);hh$1|=Ml,s.lanes=Ml,s.memoizedState=Ul}}function ih$1(s,i,o){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var et=s[i],$l=et.callback;if($l!==null){if(et.callback=null,et=o,typeof $l!="function")throw Error(p$2(191,$l));$l.call(et)}}}var jh$1=new aa$2.Component().refs;function kh$1(s,i,o,et){i=s.memoizedState,o=o(et,i),o=o==null?i:A$1({},i,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var nh$1={isMounted:function(s){return(s=s._reactInternals)?Vb$1(s)===s:!1},enqueueSetState:function(s,i,o){s=s._reactInternals;var et=L$2(),$l=lh$1(s),Nl=ch$1(et,$l);Nl.payload=i,o!=null&&(Nl.callback=o),i=dh$1(s,Nl,$l),i!==null&&(mh$1(i,s,$l,et),eh$1(i,s,$l))},enqueueReplaceState:function(s,i,o){s=s._reactInternals;var et=L$2(),$l=lh$1(s),Nl=ch$1(et,$l);Nl.tag=1,Nl.payload=i,o!=null&&(Nl.callback=o),i=dh$1(s,Nl,$l),i!==null&&(mh$1(i,s,$l,et),eh$1(i,s,$l))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var o=L$2(),et=lh$1(s),$l=ch$1(o,et);$l.tag=2,i!=null&&($l.callback=i),i=dh$1(s,$l,et),i!==null&&(mh$1(i,s,et,o),eh$1(i,s,et))}};function oh$1(s,i,o,et,$l,Nl,Ml){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(et,Nl,Ml):i.prototype&&i.prototype.isPureReactComponent?!Ie$1(o,et)||!Ie$1($l,Nl):!0}function ph$1(s,i,o){var et=!1,$l=Vf,Nl=i.contextType;return typeof Nl=="object"&&Nl!==null?Nl=Vg(Nl):($l=Zf(i)?Xf:H$2.current,et=i.contextTypes,Nl=(et=et!=null)?Yf(s,$l):Vf),i=new i(o,Nl),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=nh$1,s.stateNode=i,i._reactInternals=s,et&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=$l,s.__reactInternalMemoizedMaskedChildContext=Nl),i}function qh$1(s,i,o,et){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,et),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,et),i.state!==s&&nh$1.enqueueReplaceState(i,i.state,null)}function rh$1(s,i,o,et){var $l=s.stateNode;$l.props=o,$l.state=s.memoizedState,$l.refs=jh$1,ah$1(s);var Nl=i.contextType;typeof Nl=="object"&&Nl!==null?$l.context=Vg(Nl):(Nl=Zf(i)?Xf:H$2.current,$l.context=Yf(s,Nl)),$l.state=s.memoizedState,Nl=i.getDerivedStateFromProps,typeof Nl=="function"&&(kh$1(s,i,Nl,o),$l.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof $l.getSnapshotBeforeUpdate=="function"||typeof $l.UNSAFE_componentWillMount!="function"&&typeof $l.componentWillMount!="function"||(i=$l.state,typeof $l.componentWillMount=="function"&&$l.componentWillMount(),typeof $l.UNSAFE_componentWillMount=="function"&&$l.UNSAFE_componentWillMount(),i!==$l.state&&nh$1.enqueueReplaceState($l,$l.state,null),gh$1(s,o,$l,et),$l.state=s.memoizedState),typeof $l.componentDidMount=="function"&&(s.flags|=4194308)}function sh$1(s,i,o){if(s=o.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p$2(309));var et=o.stateNode}if(!et)throw Error(p$2(147,s));var $l=et,Nl=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===Nl?i.ref:(i=function(Ml){var Ol=$l.refs;Ol===jh$1&&(Ol=$l.refs={}),Ml===null?delete Ol[Nl]:Ol[Nl]=Ml},i._stringRef=Nl,i)}if(typeof s!="string")throw Error(p$2(284));if(!o._owner)throw Error(p$2(290,s))}return s}function th(s,i){throw s=Object.prototype.toString.call(i),Error(p$2(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function uh$1(s){var i=s._init;return i(s._payload)}function vh$2(s){function i(Kl,Hl){if(s){var Yl=Kl.deletions;Yl===null?(Kl.deletions=[Hl],Kl.flags|=16):Yl.push(Hl)}}function o(Kl,Hl){if(!s)return null;for(;Hl!==null;)i(Kl,Hl),Hl=Hl.sibling;return null}function et(Kl,Hl){for(Kl=new Map;Hl!==null;)Hl.key!==null?Kl.set(Hl.key,Hl):Kl.set(Hl.index,Hl),Hl=Hl.sibling;return Kl}function $l(Kl,Hl){return Kl=wh$1(Kl,Hl),Kl.index=0,Kl.sibling=null,Kl}function Nl(Kl,Hl,Yl){return Kl.index=Yl,s?(Yl=Kl.alternate,Yl!==null?(Yl=Yl.index,Yl<Hl?(Kl.flags|=2,Hl):Yl):(Kl.flags|=2,Hl)):(Kl.flags|=1048576,Hl)}function Ml(Kl){return s&&Kl.alternate===null&&(Kl.flags|=2),Kl}function Ol(Kl,Hl,Yl,Xl){return Hl===null||Hl.tag!==6?(Hl=xh$1(Yl,Kl.mode,Xl),Hl.return=Kl,Hl):(Hl=$l(Hl,Yl),Hl.return=Kl,Hl)}function Ll(Kl,Hl,Yl,Xl){var Zl=Yl.type;return Zl===ya$2?Bl(Kl,Hl,Yl.props.children,Xl,Yl.key):Hl!==null&&(Hl.elementType===Zl||typeof Zl=="object"&&Zl!==null&&Zl.$$typeof===Ha$1&&uh$1(Zl)===Hl.type)?(Xl=$l(Hl,Yl.props),Xl.ref=sh$1(Kl,Hl,Yl),Xl.return=Kl,Xl):(Xl=yh$1(Yl.type,Yl.key,Yl.props,null,Kl.mode,Xl),Xl.ref=sh$1(Kl,Hl,Yl),Xl.return=Kl,Xl)}function Fl(Kl,Hl,Yl,Xl){return Hl===null||Hl.tag!==4||Hl.stateNode.containerInfo!==Yl.containerInfo||Hl.stateNode.implementation!==Yl.implementation?(Hl=zh$1(Yl,Kl.mode,Xl),Hl.return=Kl,Hl):(Hl=$l(Hl,Yl.children||[]),Hl.return=Kl,Hl)}function Bl(Kl,Hl,Yl,Xl,Zl){return Hl===null||Hl.tag!==7?(Hl=Ah$1(Yl,Kl.mode,Xl,Zl),Hl.return=Kl,Hl):(Hl=$l(Hl,Yl),Hl.return=Kl,Hl)}function Ul(Kl,Hl,Yl){if(typeof Hl=="string"&&Hl!==""||typeof Hl=="number")return Hl=xh$1(""+Hl,Kl.mode,Yl),Hl.return=Kl,Hl;if(typeof Hl=="object"&&Hl!==null){switch(Hl.$$typeof){case va$2:return Yl=yh$1(Hl.type,Hl.key,Hl.props,null,Kl.mode,Yl),Yl.ref=sh$1(Kl,null,Hl),Yl.return=Kl,Yl;case wa$2:return Hl=zh$1(Hl,Kl.mode,Yl),Hl.return=Kl,Hl;case Ha$1:var Xl=Hl._init;return Ul(Kl,Xl(Hl._payload),Yl)}if(eb(Hl)||Ka$2(Hl))return Hl=Ah$1(Hl,Kl.mode,Yl,null),Hl.return=Kl,Hl;th(Kl,Hl)}return null}function Gl(Kl,Hl,Yl,Xl){var Zl=Hl!==null?Hl.key:null;if(typeof Yl=="string"&&Yl!==""||typeof Yl=="number")return Zl!==null?null:Ol(Kl,Hl,""+Yl,Xl);if(typeof Yl=="object"&&Yl!==null){switch(Yl.$$typeof){case va$2:return Yl.key===Zl?Ll(Kl,Hl,Yl,Xl):null;case wa$2:return Yl.key===Zl?Fl(Kl,Hl,Yl,Xl):null;case Ha$1:return Zl=Yl._init,Gl(Kl,Hl,Zl(Yl._payload),Xl)}if(eb(Yl)||Ka$2(Yl))return Zl!==null?null:Bl(Kl,Hl,Yl,Xl,null);th(Kl,Yl)}return null}function Wl(Kl,Hl,Yl,Xl,Zl){if(typeof Xl=="string"&&Xl!==""||typeof Xl=="number")return Kl=Kl.get(Yl)||null,Ol(Hl,Kl,""+Xl,Zl);if(typeof Xl=="object"&&Xl!==null){switch(Xl.$$typeof){case va$2:return Kl=Kl.get(Xl.key===null?Yl:Xl.key)||null,Ll(Hl,Kl,Xl,Zl);case wa$2:return Kl=Kl.get(Xl.key===null?Yl:Xl.key)||null,Fl(Hl,Kl,Xl,Zl);case Ha$1:var _d=Xl._init;return Wl(Kl,Hl,Yl,_d(Xl._payload),Zl)}if(eb(Xl)||Ka$2(Xl))return Kl=Kl.get(Yl)||null,Bl(Hl,Kl,Xl,Zl,null);th(Hl,Xl)}return null}function zl(Kl,Hl,Yl,Xl){for(var Zl=null,_d=null,_f=Hl,e0=Hl=0,s0=null;_f!==null&&e0<Yl.length;e0++){_f.index>e0?(s0=_f,_f=null):s0=_f.sibling;var u0=Gl(Kl,_f,Yl[e0],Xl);if(u0===null){_f===null&&(_f=s0);break}s&&_f&&u0.alternate===null&&i(Kl,_f),Hl=Nl(u0,Hl,e0),_d===null?Zl=u0:_d.sibling=u0,_d=u0,_f=s0}if(e0===Yl.length)return o(Kl,_f),I$1&&tg(Kl,e0),Zl;if(_f===null){for(;e0<Yl.length;e0++)_f=Ul(Kl,Yl[e0],Xl),_f!==null&&(Hl=Nl(_f,Hl,e0),_d===null?Zl=_f:_d.sibling=_f,_d=_f);return I$1&&tg(Kl,e0),Zl}for(_f=et(Kl,_f);e0<Yl.length;e0++)s0=Wl(_f,Kl,e0,Yl[e0],Xl),s0!==null&&(s&&s0.alternate!==null&&_f.delete(s0.key===null?e0:s0.key),Hl=Nl(s0,Hl,e0),_d===null?Zl=s0:_d.sibling=s0,_d=s0);return s&&_f.forEach(function(g0){return i(Kl,g0)}),I$1&&tg(Kl,e0),Zl}function Ql(Kl,Hl,Yl,Xl){var Zl=Ka$2(Yl);if(typeof Zl!="function")throw Error(p$2(150));if(Yl=Zl.call(Yl),Yl==null)throw Error(p$2(151));for(var _d=Zl=null,_f=Hl,e0=Hl=0,s0=null,u0=Yl.next();_f!==null&&!u0.done;e0++,u0=Yl.next()){_f.index>e0?(s0=_f,_f=null):s0=_f.sibling;var g0=Gl(Kl,_f,u0.value,Xl);if(g0===null){_f===null&&(_f=s0);break}s&&_f&&g0.alternate===null&&i(Kl,_f),Hl=Nl(g0,Hl,e0),_d===null?Zl=g0:_d.sibling=g0,_d=g0,_f=s0}if(u0.done)return o(Kl,_f),I$1&&tg(Kl,e0),Zl;if(_f===null){for(;!u0.done;e0++,u0=Yl.next())u0=Ul(Kl,u0.value,Xl),u0!==null&&(Hl=Nl(u0,Hl,e0),_d===null?Zl=u0:_d.sibling=u0,_d=u0);return I$1&&tg(Kl,e0),Zl}for(_f=et(Kl,_f);!u0.done;e0++,u0=Yl.next())u0=Wl(_f,Kl,e0,u0.value,Xl),u0!==null&&(s&&u0.alternate!==null&&_f.delete(u0.key===null?e0:u0.key),Hl=Nl(u0,Hl,e0),_d===null?Zl=u0:_d.sibling=u0,_d=u0);return s&&_f.forEach(function(f0){return i(Kl,f0)}),I$1&&tg(Kl,e0),Zl}function Jl(Kl,Hl,Yl,Xl){if(typeof Yl=="object"&&Yl!==null&&Yl.type===ya$2&&Yl.key===null&&(Yl=Yl.props.children),typeof Yl=="object"&&Yl!==null){switch(Yl.$$typeof){case va$2:e:{for(var Zl=Yl.key,_d=Hl;_d!==null;){if(_d.key===Zl){if(Zl=Yl.type,Zl===ya$2){if(_d.tag===7){o(Kl,_d.sibling),Hl=$l(_d,Yl.props.children),Hl.return=Kl,Kl=Hl;break e}}else if(_d.elementType===Zl||typeof Zl=="object"&&Zl!==null&&Zl.$$typeof===Ha$1&&uh$1(Zl)===_d.type){o(Kl,_d.sibling),Hl=$l(_d,Yl.props),Hl.ref=sh$1(Kl,_d,Yl),Hl.return=Kl,Kl=Hl;break e}o(Kl,_d);break}else i(Kl,_d);_d=_d.sibling}Yl.type===ya$2?(Hl=Ah$1(Yl.props.children,Kl.mode,Xl,Yl.key),Hl.return=Kl,Kl=Hl):(Xl=yh$1(Yl.type,Yl.key,Yl.props,null,Kl.mode,Xl),Xl.ref=sh$1(Kl,Hl,Yl),Xl.return=Kl,Kl=Xl)}return Ml(Kl);case wa$2:e:{for(_d=Yl.key;Hl!==null;){if(Hl.key===_d)if(Hl.tag===4&&Hl.stateNode.containerInfo===Yl.containerInfo&&Hl.stateNode.implementation===Yl.implementation){o(Kl,Hl.sibling),Hl=$l(Hl,Yl.children||[]),Hl.return=Kl,Kl=Hl;break e}else{o(Kl,Hl);break}else i(Kl,Hl);Hl=Hl.sibling}Hl=zh$1(Yl,Kl.mode,Xl),Hl.return=Kl,Kl=Hl}return Ml(Kl);case Ha$1:return _d=Yl._init,Jl(Kl,Hl,_d(Yl._payload),Xl)}if(eb(Yl))return zl(Kl,Hl,Yl,Xl);if(Ka$2(Yl))return Ql(Kl,Hl,Yl,Xl);th(Kl,Yl)}return typeof Yl=="string"&&Yl!==""||typeof Yl=="number"?(Yl=""+Yl,Hl!==null&&Hl.tag===6?(o(Kl,Hl.sibling),Hl=$l(Hl,Yl),Hl.return=Kl,Kl=Hl):(o(Kl,Hl),Hl=xh$1(Yl,Kl.mode,Xl),Hl.return=Kl,Kl=Hl),Ml(Kl)):o(Kl,Hl)}return Jl}var Bh$1=vh$2(!0),Ch$1=vh$2(!1),Dh$1={},Eh$1=Uf(Dh$1),Fh$1=Uf(Dh$1),Gh$1=Uf(Dh$1);function Hh$1(s){if(s===Dh$1)throw Error(p$2(174));return s}function Ih$1(s,i){switch(G$1(Gh$1,i),G$1(Fh$1,s),G$1(Eh$1,Dh$1),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb$1(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=lb$1(i,s)}E$1(Eh$1),G$1(Eh$1,i)}function Jh$1(){E$1(Eh$1),E$1(Fh$1),E$1(Gh$1)}function Kh$1(s){Hh$1(Gh$1.current);var i=Hh$1(Eh$1.current),o=lb$1(i,s.type);i!==o&&(G$1(Fh$1,s),G$1(Eh$1,o))}function Lh$1(s){Fh$1.current===s&&(E$1(Eh$1),E$1(Fh$1))}var M$2=Uf(0);function Mh$1(s){for(var i=s;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nh$1=[];function Oh$1(){for(var s=0;s<Nh$1.length;s++)Nh$1[s]._workInProgressVersionPrimary=null;Nh$1.length=0}var Ph$1=ua$2.ReactCurrentDispatcher,Qh$1=ua$2.ReactCurrentBatchConfig,Rh$1=0,N$2=null,O$2=null,P$1=null,Sh$1=!1,Th$1=!1,Uh$1=0,Vh$1=0;function Q$2(){throw Error(p$2(321))}function Wh$1(s,i){if(i===null)return!1;for(var o=0;o<i.length&&o<s.length;o++)if(!He$1(s[o],i[o]))return!1;return!0}function Xh$1(s,i,o,et,$l,Nl){if(Rh$1=Nl,N$2=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ph$1.current=s===null||s.memoizedState===null?Yh$1:Zh$1,s=o(et,$l),Th$1){Nl=0;do{if(Th$1=!1,Uh$1=0,25<=Nl)throw Error(p$2(301));Nl+=1,P$1=O$2=null,i.updateQueue=null,Ph$1.current=$h$1,s=o(et,$l)}while(Th$1)}if(Ph$1.current=ai$1,i=O$2!==null&&O$2.next!==null,Rh$1=0,P$1=O$2=N$2=null,Sh$1=!1,i)throw Error(p$2(300));return s}function bi$1(){var s=Uh$1!==0;return Uh$1=0,s}function ci$1(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$2.memoizedState=P$1=s:P$1=P$1.next=s,P$1}function di$1(){if(O$2===null){var s=N$2.alternate;s=s!==null?s.memoizedState:null}else s=O$2.next;var i=P$1===null?N$2.memoizedState:P$1.next;if(i!==null)P$1=i,O$2=s;else{if(s===null)throw Error(p$2(310));O$2=s,s={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$1===null?N$2.memoizedState=P$1=s:P$1=P$1.next=s}return P$1}function ei$1(s,i){return typeof i=="function"?i(s):i}function fi$1(s){var i=di$1(),o=i.queue;if(o===null)throw Error(p$2(311));o.lastRenderedReducer=s;var et=O$2,$l=et.baseQueue,Nl=o.pending;if(Nl!==null){if($l!==null){var Ml=$l.next;$l.next=Nl.next,Nl.next=Ml}et.baseQueue=$l=Nl,o.pending=null}if($l!==null){Nl=$l.next,et=et.baseState;var Ol=Ml=null,Ll=null,Fl=Nl;do{var Bl=Fl.lane;if((Rh$1&Bl)===Bl)Ll!==null&&(Ll=Ll.next={lane:0,action:Fl.action,hasEagerState:Fl.hasEagerState,eagerState:Fl.eagerState,next:null}),et=Fl.hasEagerState?Fl.eagerState:s(et,Fl.action);else{var Ul={lane:Bl,action:Fl.action,hasEagerState:Fl.hasEagerState,eagerState:Fl.eagerState,next:null};Ll===null?(Ol=Ll=Ul,Ml=et):Ll=Ll.next=Ul,N$2.lanes|=Bl,hh$1|=Bl}Fl=Fl.next}while(Fl!==null&&Fl!==Nl);Ll===null?Ml=et:Ll.next=Ol,He$1(et,i.memoizedState)||(Ug=!0),i.memoizedState=et,i.baseState=Ml,i.baseQueue=Ll,o.lastRenderedState=et}if(s=o.interleaved,s!==null){$l=s;do Nl=$l.lane,N$2.lanes|=Nl,hh$1|=Nl,$l=$l.next;while($l!==s)}else $l===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function gi$1(s){var i=di$1(),o=i.queue;if(o===null)throw Error(p$2(311));o.lastRenderedReducer=s;var et=o.dispatch,$l=o.pending,Nl=i.memoizedState;if($l!==null){o.pending=null;var Ml=$l=$l.next;do Nl=s(Nl,Ml.action),Ml=Ml.next;while(Ml!==$l);He$1(Nl,i.memoizedState)||(Ug=!0),i.memoizedState=Nl,i.baseQueue===null&&(i.baseState=Nl),o.lastRenderedState=Nl}return[Nl,et]}function hi$1(){}function ii$1(s,i){var o=N$2,et=di$1(),$l=i(),Nl=!He$1(et.memoizedState,$l);if(Nl&&(et.memoizedState=$l,Ug=!0),et=et.queue,ji$1(ki$1.bind(null,o,et,s),[s]),et.getSnapshot!==i||Nl||P$1!==null&&P$1.memoizedState.tag&1){if(o.flags|=2048,li$1(9,mi$1.bind(null,o,et,$l,i),void 0,null),R$1===null)throw Error(p$2(349));(Rh$1&30)!==0||ni$1(o,i,$l)}return $l}function ni$1(s,i,o){s.flags|=16384,s={getSnapshot:i,value:o},i=N$2.updateQueue,i===null?(i={lastEffect:null,stores:null},N$2.updateQueue=i,i.stores=[s]):(o=i.stores,o===null?i.stores=[s]:o.push(s))}function mi$1(s,i,o,et){i.value=o,i.getSnapshot=et,oi$1(i)&&pi$1(s)}function ki$1(s,i,o){return o(function(){oi$1(i)&&pi$1(s)})}function oi$1(s){var i=s.getSnapshot;s=s.value;try{var o=i();return!He$1(s,o)}catch{return!0}}function pi$1(s){var i=Zg(s,1);i!==null&&mh$1(i,s,1,-1)}function qi$1(s){var i=ci$1();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei$1,lastRenderedState:s},i.queue=s,s=s.dispatch=ri$1.bind(null,N$2,s),[i.memoizedState,s]}function li$1(s,i,o,et){return s={tag:s,create:i,destroy:o,deps:et,next:null},i=N$2.updateQueue,i===null?(i={lastEffect:null,stores:null},N$2.updateQueue=i,i.lastEffect=s.next=s):(o=i.lastEffect,o===null?i.lastEffect=s.next=s:(et=o.next,o.next=s,s.next=et,i.lastEffect=s)),s}function si$1(){return di$1().memoizedState}function ti$1(s,i,o,et){var $l=ci$1();N$2.flags|=s,$l.memoizedState=li$1(1|i,o,void 0,et===void 0?null:et)}function ui$1(s,i,o,et){var $l=di$1();et=et===void 0?null:et;var Nl=void 0;if(O$2!==null){var Ml=O$2.memoizedState;if(Nl=Ml.destroy,et!==null&&Wh$1(et,Ml.deps)){$l.memoizedState=li$1(i,o,Nl,et);return}}N$2.flags|=s,$l.memoizedState=li$1(1|i,o,Nl,et)}function vi$1(s,i){return ti$1(8390656,8,s,i)}function ji$1(s,i){return ui$1(2048,8,s,i)}function wi$1(s,i){return ui$1(4,2,s,i)}function xi$1(s,i){return ui$1(4,4,s,i)}function yi$1(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function zi$1(s,i,o){return o=o!=null?o.concat([s]):null,ui$1(4,4,yi$1.bind(null,i,s),o)}function Ai$1(){}function Bi$1(s,i){var o=di$1();i=i===void 0?null:i;var et=o.memoizedState;return et!==null&&i!==null&&Wh$1(i,et[1])?et[0]:(o.memoizedState=[s,i],s)}function Ci$1(s,i){var o=di$1();i=i===void 0?null:i;var et=o.memoizedState;return et!==null&&i!==null&&Wh$1(i,et[1])?et[0]:(s=s(),o.memoizedState=[s,i],s)}function Di$1(s,i,o){return(Rh$1&21)===0?(s.baseState&&(s.baseState=!1,Ug=!0),s.memoizedState=o):(He$1(o,i)||(o=yc$2(),N$2.lanes|=o,hh$1|=o,s.baseState=!0),i)}function Ei$1(s,i){var o=C$2;C$2=o!==0&&4>o?o:4,s(!0);var et=Qh$1.transition;Qh$1.transition={};try{s(!1),i()}finally{C$2=o,Qh$1.transition=et}}function Fi$1(){return di$1().memoizedState}function Gi$1(s,i,o){var et=lh$1(s);if(o={lane:et,action:o,hasEagerState:!1,eagerState:null,next:null},Hi$1(s))Ii$1(i,o);else if(o=Yg(s,i,o,et),o!==null){var $l=L$2();mh$1(o,s,et,$l),Ji$1(o,i,et)}}function ri$1(s,i,o){var et=lh$1(s),$l={lane:et,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hi$1(s))Ii$1(i,$l);else{var Nl=s.alternate;if(s.lanes===0&&(Nl===null||Nl.lanes===0)&&(Nl=i.lastRenderedReducer,Nl!==null))try{var Ml=i.lastRenderedState,Ol=Nl(Ml,o);if($l.hasEagerState=!0,$l.eagerState=Ol,He$1(Ol,Ml)){var Ll=i.interleaved;Ll===null?($l.next=$l,Xg(i)):($l.next=Ll.next,Ll.next=$l),i.interleaved=$l;return}}catch{}finally{}o=Yg(s,i,$l,et),o!==null&&($l=L$2(),mh$1(o,s,et,$l),Ji$1(o,i,et))}}function Hi$1(s){var i=s.alternate;return s===N$2||i!==null&&i===N$2}function Ii$1(s,i){Th$1=Sh$1=!0;var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}function Ji$1(s,i,o){if((o&4194240)!==0){var et=i.lanes;et&=s.pendingLanes,o|=et,i.lanes=o,Cc$2(s,o)}}var ai$1={readContext:Vg,useCallback:Q$2,useContext:Q$2,useEffect:Q$2,useImperativeHandle:Q$2,useInsertionEffect:Q$2,useLayoutEffect:Q$2,useMemo:Q$2,useReducer:Q$2,useRef:Q$2,useState:Q$2,useDebugValue:Q$2,useDeferredValue:Q$2,useTransition:Q$2,useMutableSource:Q$2,useSyncExternalStore:Q$2,useId:Q$2,unstable_isNewReconciler:!1},Yh$1={readContext:Vg,useCallback:function(s,i){return ci$1().memoizedState=[s,i===void 0?null:i],s},useContext:Vg,useEffect:vi$1,useImperativeHandle:function(s,i,o){return o=o!=null?o.concat([s]):null,ti$1(4194308,4,yi$1.bind(null,i,s),o)},useLayoutEffect:function(s,i){return ti$1(4194308,4,s,i)},useInsertionEffect:function(s,i){return ti$1(4,2,s,i)},useMemo:function(s,i){var o=ci$1();return i=i===void 0?null:i,s=s(),o.memoizedState=[s,i],s},useReducer:function(s,i,o){var et=ci$1();return i=o!==void 0?o(i):i,et.memoizedState=et.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},et.queue=s,s=s.dispatch=Gi$1.bind(null,N$2,s),[et.memoizedState,s]},useRef:function(s){var i=ci$1();return s={current:s},i.memoizedState=s},useState:qi$1,useDebugValue:Ai$1,useDeferredValue:function(s){return ci$1().memoizedState=s},useTransition:function(){var s=qi$1(!1),i=s[0];return s=Ei$1.bind(null,s[1]),ci$1().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,o){var et=N$2,$l=ci$1();if(I$1){if(o===void 0)throw Error(p$2(407));o=o()}else{if(o=i(),R$1===null)throw Error(p$2(349));(Rh$1&30)!==0||ni$1(et,i,o)}$l.memoizedState=o;var Nl={value:o,getSnapshot:i};return $l.queue=Nl,vi$1(ki$1.bind(null,et,Nl,s),[s]),et.flags|=2048,li$1(9,mi$1.bind(null,et,Nl,o,i),void 0,null),o},useId:function(){var s=ci$1(),i=R$1.identifierPrefix;if(I$1){var o=sg,et=rg;o=(et&~(1<<32-oc$2(et)-1)).toString(32)+o,i=":"+i+"R"+o,o=Uh$1++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=Vh$1++,i=":"+i+"r"+o.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},Zh$1={readContext:Vg,useCallback:Bi$1,useContext:Vg,useEffect:ji$1,useImperativeHandle:zi$1,useInsertionEffect:wi$1,useLayoutEffect:xi$1,useMemo:Ci$1,useReducer:fi$1,useRef:si$1,useState:function(){return fi$1(ei$1)},useDebugValue:Ai$1,useDeferredValue:function(s){var i=di$1();return Di$1(i,O$2.memoizedState,s)},useTransition:function(){var s=fi$1(ei$1)[0],i=di$1().memoizedState;return[s,i]},useMutableSource:hi$1,useSyncExternalStore:ii$1,useId:Fi$1,unstable_isNewReconciler:!1},$h$1={readContext:Vg,useCallback:Bi$1,useContext:Vg,useEffect:ji$1,useImperativeHandle:zi$1,useInsertionEffect:wi$1,useLayoutEffect:xi$1,useMemo:Ci$1,useReducer:gi$1,useRef:si$1,useState:function(){return gi$1(ei$1)},useDebugValue:Ai$1,useDeferredValue:function(s){var i=di$1();return O$2===null?i.memoizedState=s:Di$1(i,O$2.memoizedState,s)},useTransition:function(){var s=gi$1(ei$1)[0],i=di$1().memoizedState;return[s,i]},useMutableSource:hi$1,useSyncExternalStore:ii$1,useId:Fi$1,unstable_isNewReconciler:!1};function Ki$1(s,i){try{var o="",et=i;do o+=Pa$2(et),et=et.return;while(et);var $l=o}catch(Nl){$l=`
Error generating stack: `+Nl.message+`
`+Nl.stack}return{value:s,source:i,stack:$l,digest:null}}function Li$1(s,i,o){return{value:s,source:null,stack:o!=null?o:null,digest:i!=null?i:null}}function Mi$1(s,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var Ni$1=typeof WeakMap=="function"?WeakMap:Map;function Oi$1(s,i,o){o=ch$1(-1,o),o.tag=3,o.payload={element:null};var et=i.value;return o.callback=function(){Pi$1||(Pi$1=!0,Qi$1=et),Mi$1(s,i)},o}function Ri$1(s,i,o){o=ch$1(-1,o),o.tag=3;var et=s.type.getDerivedStateFromError;if(typeof et=="function"){var $l=i.value;o.payload=function(){return et($l)},o.callback=function(){Mi$1(s,i)}}var Nl=s.stateNode;return Nl!==null&&typeof Nl.componentDidCatch=="function"&&(o.callback=function(){Mi$1(s,i),typeof et!="function"&&(Si$1===null?Si$1=new Set([this]):Si$1.add(this));var Ml=i.stack;this.componentDidCatch(i.value,{componentStack:Ml!==null?Ml:""})}),o}function Ti$1(s,i,o){var et=s.pingCache;if(et===null){et=s.pingCache=new Ni$1;var $l=new Set;et.set(i,$l)}else $l=et.get(i),$l===void 0&&($l=new Set,et.set(i,$l));$l.has(o)||($l.add(o),s=Ui$1.bind(null,s,i,o),i.then(s,s))}function Vi$1(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Wi$1(s,i,o,et,$l){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=ch$1(-1,1),i.tag=2,dh$1(o,i,1))),o.lanes|=1),s):(s.flags|=65536,s.lanes=$l,s)}var Xi$1=ua$2.ReactCurrentOwner,Ug=!1;function Yi$1(s,i,o,et){i.child=s===null?Ch$1(i,null,o,et):Bh$1(i,s.child,o,et)}function Zi$1(s,i,o,et,$l){o=o.render;var Nl=i.ref;return Tg(i,$l),et=Xh$1(s,i,o,et,Nl,$l),o=bi$1(),s!==null&&!Ug?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~$l,$i$1(s,i,$l)):(I$1&&o&&vg(i),i.flags|=1,Yi$1(s,i,et,$l),i.child)}function aj(s,i,o,et,$l){if(s===null){var Nl=o.type;return typeof Nl=="function"&&!bj(Nl)&&Nl.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=Nl,cj(s,i,Nl,et,$l)):(s=yh$1(o.type,null,et,i,i.mode,$l),s.ref=i.ref,s.return=i,i.child=s)}if(Nl=s.child,(s.lanes&$l)===0){var Ml=Nl.memoizedProps;if(o=o.compare,o=o!==null?o:Ie$1,o(Ml,et)&&s.ref===i.ref)return $i$1(s,i,$l)}return i.flags|=1,s=wh$1(Nl,et),s.ref=i.ref,s.return=i,i.child=s}function cj(s,i,o,et,$l){if(s!==null){var Nl=s.memoizedProps;if(Ie$1(Nl,et)&&s.ref===i.ref)if(Ug=!1,i.pendingProps=et=Nl,(s.lanes&$l)!==0)(s.flags&131072)!==0&&(Ug=!0);else return i.lanes=s.lanes,$i$1(s,i,$l)}return dj(s,i,o,et,$l)}function ej(s,i,o){var et=i.pendingProps,$l=et.children,Nl=s!==null?s.memoizedState:null;if(et.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=o;else{if((o&1073741824)===0)return s=Nl!==null?Nl.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,G$1(fj,gj),gj|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},et=Nl!==null?Nl.baseLanes:o,G$1(fj,gj),gj|=et}else Nl!==null?(et=Nl.baseLanes|o,i.memoizedState=null):et=o,G$1(fj,gj),gj|=et;return Yi$1(s,i,$l,o),i.child}function hj(s,i){var o=i.ref;(s===null&&o!==null||s!==null&&s.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function dj(s,i,o,et,$l){var Nl=Zf(o)?Xf:H$2.current;return Nl=Yf(i,Nl),Tg(i,$l),o=Xh$1(s,i,o,et,Nl,$l),et=bi$1(),s!==null&&!Ug?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~$l,$i$1(s,i,$l)):(I$1&&et&&vg(i),i.flags|=1,Yi$1(s,i,o,$l),i.child)}function ij(s,i,o,et,$l){if(Zf(o)){var Nl=!0;cg(i)}else Nl=!1;if(Tg(i,$l),i.stateNode===null)jj(s,i),ph$1(i,o,et),rh$1(i,o,et,$l),et=!0;else if(s===null){var Ml=i.stateNode,Ol=i.memoizedProps;Ml.props=Ol;var Ll=Ml.context,Fl=o.contextType;typeof Fl=="object"&&Fl!==null?Fl=Vg(Fl):(Fl=Zf(o)?Xf:H$2.current,Fl=Yf(i,Fl));var Bl=o.getDerivedStateFromProps,Ul=typeof Bl=="function"||typeof Ml.getSnapshotBeforeUpdate=="function";Ul||typeof Ml.UNSAFE_componentWillReceiveProps!="function"&&typeof Ml.componentWillReceiveProps!="function"||(Ol!==et||Ll!==Fl)&&qh$1(i,Ml,et,Fl),$g=!1;var Gl=i.memoizedState;Ml.state=Gl,gh$1(i,et,Ml,$l),Ll=i.memoizedState,Ol!==et||Gl!==Ll||Wf.current||$g?(typeof Bl=="function"&&(kh$1(i,o,Bl,et),Ll=i.memoizedState),(Ol=$g||oh$1(i,o,Ol,et,Gl,Ll,Fl))?(Ul||typeof Ml.UNSAFE_componentWillMount!="function"&&typeof Ml.componentWillMount!="function"||(typeof Ml.componentWillMount=="function"&&Ml.componentWillMount(),typeof Ml.UNSAFE_componentWillMount=="function"&&Ml.UNSAFE_componentWillMount()),typeof Ml.componentDidMount=="function"&&(i.flags|=4194308)):(typeof Ml.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=et,i.memoizedState=Ll),Ml.props=et,Ml.state=Ll,Ml.context=Fl,et=Ol):(typeof Ml.componentDidMount=="function"&&(i.flags|=4194308),et=!1)}else{Ml=i.stateNode,bh$1(s,i),Ol=i.memoizedProps,Fl=i.type===i.elementType?Ol:Lg(i.type,Ol),Ml.props=Fl,Ul=i.pendingProps,Gl=Ml.context,Ll=o.contextType,typeof Ll=="object"&&Ll!==null?Ll=Vg(Ll):(Ll=Zf(o)?Xf:H$2.current,Ll=Yf(i,Ll));var Wl=o.getDerivedStateFromProps;(Bl=typeof Wl=="function"||typeof Ml.getSnapshotBeforeUpdate=="function")||typeof Ml.UNSAFE_componentWillReceiveProps!="function"&&typeof Ml.componentWillReceiveProps!="function"||(Ol!==Ul||Gl!==Ll)&&qh$1(i,Ml,et,Ll),$g=!1,Gl=i.memoizedState,Ml.state=Gl,gh$1(i,et,Ml,$l);var zl=i.memoizedState;Ol!==Ul||Gl!==zl||Wf.current||$g?(typeof Wl=="function"&&(kh$1(i,o,Wl,et),zl=i.memoizedState),(Fl=$g||oh$1(i,o,Fl,et,Gl,zl,Ll)||!1)?(Bl||typeof Ml.UNSAFE_componentWillUpdate!="function"&&typeof Ml.componentWillUpdate!="function"||(typeof Ml.componentWillUpdate=="function"&&Ml.componentWillUpdate(et,zl,Ll),typeof Ml.UNSAFE_componentWillUpdate=="function"&&Ml.UNSAFE_componentWillUpdate(et,zl,Ll)),typeof Ml.componentDidUpdate=="function"&&(i.flags|=4),typeof Ml.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof Ml.componentDidUpdate!="function"||Ol===s.memoizedProps&&Gl===s.memoizedState||(i.flags|=4),typeof Ml.getSnapshotBeforeUpdate!="function"||Ol===s.memoizedProps&&Gl===s.memoizedState||(i.flags|=1024),i.memoizedProps=et,i.memoizedState=zl),Ml.props=et,Ml.state=zl,Ml.context=Ll,et=Fl):(typeof Ml.componentDidUpdate!="function"||Ol===s.memoizedProps&&Gl===s.memoizedState||(i.flags|=4),typeof Ml.getSnapshotBeforeUpdate!="function"||Ol===s.memoizedProps&&Gl===s.memoizedState||(i.flags|=1024),et=!1)}return kj(s,i,o,et,Nl,$l)}function kj(s,i,o,et,$l,Nl){hj(s,i);var Ml=(i.flags&128)!==0;if(!et&&!Ml)return $l&&dg(i,o,!1),$i$1(s,i,Nl);et=i.stateNode,Xi$1.current=i;var Ol=Ml&&typeof o.getDerivedStateFromError!="function"?null:et.render();return i.flags|=1,s!==null&&Ml?(i.child=Bh$1(i,s.child,null,Nl),i.child=Bh$1(i,null,Ol,Nl)):Yi$1(s,i,Ol,Nl),i.memoizedState=et.state,$l&&dg(i,o,!0),i.child}function lj(s){var i=s.stateNode;i.pendingContext?ag(s,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(s,i.context,!1),Ih$1(s,i.containerInfo)}function mj(s,i,o,et,$l){return Ig(),Jg($l),i.flags|=256,Yi$1(s,i,o,et),i.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(s){return{baseLanes:s,cachePool:null,transitions:null}}function pj(s,i,o){var et=i.pendingProps,$l=M$2.current,Nl=!1,Ml=(i.flags&128)!==0,Ol;if((Ol=Ml)||(Ol=s!==null&&s.memoizedState===null?!1:($l&2)!==0),Ol?(Nl=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&($l|=1),G$1(M$2,$l&1),s===null)return Eg(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(Ml=et.children,s=et.fallback,Nl?(et=i.mode,Nl=i.child,Ml={mode:"hidden",children:Ml},(et&1)===0&&Nl!==null?(Nl.childLanes=0,Nl.pendingProps=Ml):Nl=qj(Ml,et,0,null),s=Ah$1(s,et,o,null),Nl.return=i,s.return=i,Nl.sibling=s,i.child=Nl,i.child.memoizedState=oj(o),i.memoizedState=nj,s):rj(i,Ml));if($l=s.memoizedState,$l!==null&&(Ol=$l.dehydrated,Ol!==null))return sj(s,i,Ml,et,Ol,$l,o);if(Nl){Nl=et.fallback,Ml=i.mode,$l=s.child,Ol=$l.sibling;var Ll={mode:"hidden",children:et.children};return(Ml&1)===0&&i.child!==$l?(et=i.child,et.childLanes=0,et.pendingProps=Ll,i.deletions=null):(et=wh$1($l,Ll),et.subtreeFlags=$l.subtreeFlags&14680064),Ol!==null?Nl=wh$1(Ol,Nl):(Nl=Ah$1(Nl,Ml,o,null),Nl.flags|=2),Nl.return=i,et.return=i,et.sibling=Nl,i.child=et,et=Nl,Nl=i.child,Ml=s.child.memoizedState,Ml=Ml===null?oj(o):{baseLanes:Ml.baseLanes|o,cachePool:null,transitions:Ml.transitions},Nl.memoizedState=Ml,Nl.childLanes=s.childLanes&~o,i.memoizedState=nj,et}return Nl=s.child,s=Nl.sibling,et=wh$1(Nl,{mode:"visible",children:et.children}),(i.mode&1)===0&&(et.lanes=o),et.return=i,et.sibling=null,s!==null&&(o=i.deletions,o===null?(i.deletions=[s],i.flags|=16):o.push(s)),i.child=et,i.memoizedState=null,et}function rj(s,i){return i=qj({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function tj(s,i,o,et){return et!==null&&Jg(et),Bh$1(i,s.child,null,o),s=rj(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function sj(s,i,o,et,$l,Nl,Ml){if(o)return i.flags&256?(i.flags&=-257,et=Li$1(Error(p$2(422))),tj(s,i,Ml,et)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(Nl=et.fallback,$l=i.mode,et=qj({mode:"visible",children:et.children},$l,0,null),Nl=Ah$1(Nl,$l,Ml,null),Nl.flags|=2,et.return=i,Nl.return=i,et.sibling=Nl,i.child=et,(i.mode&1)!==0&&Bh$1(i,s.child,null,Ml),i.child.memoizedState=oj(Ml),i.memoizedState=nj,Nl);if((i.mode&1)===0)return tj(s,i,Ml,null);if($l.data==="$!"){if(et=$l.nextSibling&&$l.nextSibling.dataset,et)var Ol=et.dgst;return et=Ol,Nl=Error(p$2(419)),et=Li$1(Nl,et,void 0),tj(s,i,Ml,et)}if(Ol=(Ml&s.childLanes)!==0,Ug||Ol){if(et=R$1,et!==null){switch(Ml&-Ml){case 4:$l=2;break;case 16:$l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$l=32;break;case 536870912:$l=268435456;break;default:$l=0}$l=($l&(et.suspendedLanes|Ml))!==0?0:$l,$l!==0&&$l!==Nl.retryLane&&(Nl.retryLane=$l,Zg(s,$l),mh$1(et,s,$l,-1))}return uj(),et=Li$1(Error(p$2(421))),tj(s,i,Ml,et)}return $l.data==="$?"?(i.flags|=128,i.child=s.child,i=vj.bind(null,s),$l._reactRetry=i,null):(s=Nl.treeContext,yg=Lf($l.nextSibling),xg=i,I$1=!0,zg=null,s!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=s.id,sg=s.overflow,qg=i),i=rj(i,et.children),i.flags|=4096,i)}function wj(s,i,o){s.lanes|=i;var et=s.alternate;et!==null&&(et.lanes|=i),Sg(s.return,i,o)}function xj(s,i,o,et,$l){var Nl=s.memoizedState;Nl===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:et,tail:o,tailMode:$l}:(Nl.isBackwards=i,Nl.rendering=null,Nl.renderingStartTime=0,Nl.last=et,Nl.tail=o,Nl.tailMode=$l)}function yj(s,i,o){var et=i.pendingProps,$l=et.revealOrder,Nl=et.tail;if(Yi$1(s,i,et.children,o),et=M$2.current,(et&2)!==0)et=et&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wj(s,o,i);else if(s.tag===19)wj(s,o,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}et&=1}if(G$1(M$2,et),(i.mode&1)===0)i.memoizedState=null;else switch($l){case"forwards":for(o=i.child,$l=null;o!==null;)s=o.alternate,s!==null&&Mh$1(s)===null&&($l=o),o=o.sibling;o=$l,o===null?($l=i.child,i.child=null):($l=o.sibling,o.sibling=null),xj(i,!1,$l,o,Nl);break;case"backwards":for(o=null,$l=i.child,i.child=null;$l!==null;){if(s=$l.alternate,s!==null&&Mh$1(s)===null){i.child=$l;break}s=$l.sibling,$l.sibling=o,o=$l,$l=s}xj(i,!0,o,null,Nl);break;case"together":xj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jj(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function $i$1(s,i,o){if(s!==null&&(i.dependencies=s.dependencies),hh$1|=i.lanes,(o&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(p$2(153));if(i.child!==null){for(s=i.child,o=wh$1(s,s.pendingProps),i.child=o,o.return=i;s.sibling!==null;)s=s.sibling,o=o.sibling=wh$1(s,s.pendingProps),o.return=i;o.sibling=null}return i.child}function zj(s,i,o){switch(i.tag){case 3:lj(i),Ig();break;case 5:Kh$1(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:Ih$1(i,i.stateNode.containerInfo);break;case 10:var et=i.type._context,$l=i.memoizedProps.value;G$1(Mg,et._currentValue),et._currentValue=$l;break;case 13:if(et=i.memoizedState,et!==null)return et.dehydrated!==null?(G$1(M$2,M$2.current&1),i.flags|=128,null):(o&i.child.childLanes)!==0?pj(s,i,o):(G$1(M$2,M$2.current&1),s=$i$1(s,i,o),s!==null?s.sibling:null);G$1(M$2,M$2.current&1);break;case 19:if(et=(o&i.childLanes)!==0,(s.flags&128)!==0){if(et)return yj(s,i,o);i.flags|=128}if($l=i.memoizedState,$l!==null&&($l.rendering=null,$l.tail=null,$l.lastEffect=null),G$1(M$2,M$2.current),et)break;return null;case 22:case 23:return i.lanes=0,ej(s,i,o)}return $i$1(s,i,o)}var Aj,Bj,Cj,Dj;Aj=function(s,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)s.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Bj=function(){};Cj=function(s,i,o,et){var $l=s.memoizedProps;if($l!==et){s=i.stateNode,Hh$1(Eh$1.current);var Nl=null;switch(o){case"input":$l=Ya$2(s,$l),et=Ya$2(s,et),Nl=[];break;case"select":$l=A$1({},$l,{value:void 0}),et=A$1({},et,{value:void 0}),Nl=[];break;case"textarea":$l=gb$1(s,$l),et=gb$1(s,et),Nl=[];break;default:typeof $l.onClick!="function"&&typeof et.onClick=="function"&&(s.onclick=Bf)}ub$1(o,et);var Ml;o=null;for(Fl in $l)if(!et.hasOwnProperty(Fl)&&$l.hasOwnProperty(Fl)&&$l[Fl]!=null)if(Fl==="style"){var Ol=$l[Fl];for(Ml in Ol)Ol.hasOwnProperty(Ml)&&(o||(o={}),o[Ml]="")}else Fl!=="dangerouslySetInnerHTML"&&Fl!=="children"&&Fl!=="suppressContentEditableWarning"&&Fl!=="suppressHydrationWarning"&&Fl!=="autoFocus"&&(ea$2.hasOwnProperty(Fl)?Nl||(Nl=[]):(Nl=Nl||[]).push(Fl,null));for(Fl in et){var Ll=et[Fl];if(Ol=$l!=null?$l[Fl]:void 0,et.hasOwnProperty(Fl)&&Ll!==Ol&&(Ll!=null||Ol!=null))if(Fl==="style")if(Ol){for(Ml in Ol)!Ol.hasOwnProperty(Ml)||Ll&&Ll.hasOwnProperty(Ml)||(o||(o={}),o[Ml]="");for(Ml in Ll)Ll.hasOwnProperty(Ml)&&Ol[Ml]!==Ll[Ml]&&(o||(o={}),o[Ml]=Ll[Ml])}else o||(Nl||(Nl=[]),Nl.push(Fl,o)),o=Ll;else Fl==="dangerouslySetInnerHTML"?(Ll=Ll?Ll.__html:void 0,Ol=Ol?Ol.__html:void 0,Ll!=null&&Ol!==Ll&&(Nl=Nl||[]).push(Fl,Ll)):Fl==="children"?typeof Ll!="string"&&typeof Ll!="number"||(Nl=Nl||[]).push(Fl,""+Ll):Fl!=="suppressContentEditableWarning"&&Fl!=="suppressHydrationWarning"&&(ea$2.hasOwnProperty(Fl)?(Ll!=null&&Fl==="onScroll"&&D$2("scroll",s),Nl||Ol===Ll||(Nl=[])):(Nl=Nl||[]).push(Fl,Ll))}o&&(Nl=Nl||[]).push("style",o);var Fl=Nl;(i.updateQueue=Fl)&&(i.flags|=4)}};Dj=function(s,i,o,et){o!==et&&(i.flags|=4)};function Ej(s,i){if(!I$1)switch(s.tailMode){case"hidden":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var et=null;o!==null;)o.alternate!==null&&(et=o),o=o.sibling;et===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:et.sibling=null}}function S$1(s){var i=s.alternate!==null&&s.alternate.child===s.child,o=0,et=0;if(i)for(var $l=s.child;$l!==null;)o|=$l.lanes|$l.childLanes,et|=$l.subtreeFlags&14680064,et|=$l.flags&14680064,$l.return=s,$l=$l.sibling;else for($l=s.child;$l!==null;)o|=$l.lanes|$l.childLanes,et|=$l.subtreeFlags,et|=$l.flags,$l.return=s,$l=$l.sibling;return s.subtreeFlags|=et,s.childLanes=o,i}function Fj(s,i,o){var et=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(i),null;case 1:return Zf(i.type)&&$f(),S$1(i),null;case 3:return et=i.stateNode,Jh$1(),E$1(Wf),E$1(H$2),Oh$1(),et.pendingContext&&(et.context=et.pendingContext,et.pendingContext=null),(s===null||s.child===null)&&(Gg(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(s,i),S$1(i),null;case 5:Lh$1(i);var $l=Hh$1(Gh$1.current);if(o=i.type,s!==null&&i.stateNode!=null)Cj(s,i,o,et,$l),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!et){if(i.stateNode===null)throw Error(p$2(166));return S$1(i),null}if(s=Hh$1(Eh$1.current),Gg(i)){et=i.stateNode,o=i.type;var Nl=i.memoizedProps;switch(et[Of]=i,et[Pf]=Nl,s=(i.mode&1)!==0,o){case"dialog":D$2("cancel",et),D$2("close",et);break;case"iframe":case"object":case"embed":D$2("load",et);break;case"video":case"audio":for($l=0;$l<lf.length;$l++)D$2(lf[$l],et);break;case"source":D$2("error",et);break;case"img":case"image":case"link":D$2("error",et),D$2("load",et);break;case"details":D$2("toggle",et);break;case"input":Za$2(et,Nl),D$2("invalid",et);break;case"select":et._wrapperState={wasMultiple:!!Nl.multiple},D$2("invalid",et);break;case"textarea":hb$1(et,Nl),D$2("invalid",et)}ub$1(o,Nl),$l=null;for(var Ml in Nl)if(Nl.hasOwnProperty(Ml)){var Ol=Nl[Ml];Ml==="children"?typeof Ol=="string"?et.textContent!==Ol&&(Nl.suppressHydrationWarning!==!0&&Af(et.textContent,Ol,s),$l=["children",Ol]):typeof Ol=="number"&&et.textContent!==""+Ol&&(Nl.suppressHydrationWarning!==!0&&Af(et.textContent,Ol,s),$l=["children",""+Ol]):ea$2.hasOwnProperty(Ml)&&Ol!=null&&Ml==="onScroll"&&D$2("scroll",et)}switch(o){case"input":Va$2(et),db$2(et,Nl,!0);break;case"textarea":Va$2(et),jb$1(et);break;case"select":case"option":break;default:typeof Nl.onClick=="function"&&(et.onclick=Bf)}et=$l,i.updateQueue=et,et!==null&&(i.flags|=4)}else{Ml=$l.nodeType===9?$l:$l.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kb$1(o)),s==="http://www.w3.org/1999/xhtml"?o==="script"?(s=Ml.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof et.is=="string"?s=Ml.createElement(o,{is:et.is}):(s=Ml.createElement(o),o==="select"&&(Ml=s,et.multiple?Ml.multiple=!0:et.size&&(Ml.size=et.size))):s=Ml.createElementNS(s,o),s[Of]=i,s[Pf]=et,Aj(s,i,!1,!1),i.stateNode=s;e:{switch(Ml=vb$1(o,et),o){case"dialog":D$2("cancel",s),D$2("close",s),$l=et;break;case"iframe":case"object":case"embed":D$2("load",s),$l=et;break;case"video":case"audio":for($l=0;$l<lf.length;$l++)D$2(lf[$l],s);$l=et;break;case"source":D$2("error",s),$l=et;break;case"img":case"image":case"link":D$2("error",s),D$2("load",s),$l=et;break;case"details":D$2("toggle",s),$l=et;break;case"input":Za$2(s,et),$l=Ya$2(s,et),D$2("invalid",s);break;case"option":$l=et;break;case"select":s._wrapperState={wasMultiple:!!et.multiple},$l=A$1({},et,{value:void 0}),D$2("invalid",s);break;case"textarea":hb$1(s,et),$l=gb$1(s,et),D$2("invalid",s);break;default:$l=et}ub$1(o,$l),Ol=$l;for(Nl in Ol)if(Ol.hasOwnProperty(Nl)){var Ll=Ol[Nl];Nl==="style"?sb$1(s,Ll):Nl==="dangerouslySetInnerHTML"?(Ll=Ll?Ll.__html:void 0,Ll!=null&&nb$1(s,Ll)):Nl==="children"?typeof Ll=="string"?(o!=="textarea"||Ll!=="")&&ob$1(s,Ll):typeof Ll=="number"&&ob$1(s,""+Ll):Nl!=="suppressContentEditableWarning"&&Nl!=="suppressHydrationWarning"&&Nl!=="autoFocus"&&(ea$2.hasOwnProperty(Nl)?Ll!=null&&Nl==="onScroll"&&D$2("scroll",s):Ll!=null&&ta$2(s,Nl,Ll,Ml))}switch(o){case"input":Va$2(s),db$2(s,et,!1);break;case"textarea":Va$2(s),jb$1(s);break;case"option":et.value!=null&&s.setAttribute("value",""+Sa$2(et.value));break;case"select":s.multiple=!!et.multiple,Nl=et.value,Nl!=null?fb$1(s,!!et.multiple,Nl,!1):et.defaultValue!=null&&fb$1(s,!!et.multiple,et.defaultValue,!0);break;default:typeof $l.onClick=="function"&&(s.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":et=!!et.autoFocus;break e;case"img":et=!0;break e;default:et=!1}}et&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S$1(i),null;case 6:if(s&&i.stateNode!=null)Dj(s,i,s.memoizedProps,et);else{if(typeof et!="string"&&i.stateNode===null)throw Error(p$2(166));if(o=Hh$1(Gh$1.current),Hh$1(Eh$1.current),Gg(i)){if(et=i.stateNode,o=i.memoizedProps,et[Of]=i,(Nl=et.nodeValue!==o)&&(s=xg,s!==null))switch(s.tag){case 3:Af(et.nodeValue,o,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Af(et.nodeValue,o,(s.mode&1)!==0)}Nl&&(i.flags|=4)}else et=(o.nodeType===9?o:o.ownerDocument).createTextNode(et),et[Of]=i,i.stateNode=et}return S$1(i),null;case 13:if(E$1(M$2),et=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Hg(),Ig(),i.flags|=98560,Nl=!1;else if(Nl=Gg(i),et!==null&&et.dehydrated!==null){if(s===null){if(!Nl)throw Error(p$2(318));if(Nl=i.memoizedState,Nl=Nl!==null?Nl.dehydrated:null,!Nl)throw Error(p$2(317));Nl[Of]=i}else Ig(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;S$1(i),Nl=!1}else zg!==null&&(Gj(zg),zg=null),Nl=!0;if(!Nl)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=o,i):(et=et!==null,et!==(s!==null&&s.memoizedState!==null)&&et&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(M$2.current&1)!==0?T$1===0&&(T$1=3):uj())),i.updateQueue!==null&&(i.flags|=4),S$1(i),null);case 4:return Jh$1(),Bj(s,i),s===null&&sf(i.stateNode.containerInfo),S$1(i),null;case 10:return Rg(i.type._context),S$1(i),null;case 17:return Zf(i.type)&&$f(),S$1(i),null;case 19:if(E$1(M$2),Nl=i.memoizedState,Nl===null)return S$1(i),null;if(et=(i.flags&128)!==0,Ml=Nl.rendering,Ml===null)if(et)Ej(Nl,!1);else{if(T$1!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(Ml=Mh$1(s),Ml!==null){for(i.flags|=128,Ej(Nl,!1),et=Ml.updateQueue,et!==null&&(i.updateQueue=et,i.flags|=4),i.subtreeFlags=0,et=o,o=i.child;o!==null;)Nl=o,s=et,Nl.flags&=14680066,Ml=Nl.alternate,Ml===null?(Nl.childLanes=0,Nl.lanes=s,Nl.child=null,Nl.subtreeFlags=0,Nl.memoizedProps=null,Nl.memoizedState=null,Nl.updateQueue=null,Nl.dependencies=null,Nl.stateNode=null):(Nl.childLanes=Ml.childLanes,Nl.lanes=Ml.lanes,Nl.child=Ml.child,Nl.subtreeFlags=0,Nl.deletions=null,Nl.memoizedProps=Ml.memoizedProps,Nl.memoizedState=Ml.memoizedState,Nl.updateQueue=Ml.updateQueue,Nl.type=Ml.type,s=Ml.dependencies,Nl.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o=o.sibling;return G$1(M$2,M$2.current&1|2),i.child}s=s.sibling}Nl.tail!==null&&B$2()>Hj&&(i.flags|=128,et=!0,Ej(Nl,!1),i.lanes=4194304)}else{if(!et)if(s=Mh$1(Ml),s!==null){if(i.flags|=128,et=!0,o=s.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Ej(Nl,!0),Nl.tail===null&&Nl.tailMode==="hidden"&&!Ml.alternate&&!I$1)return S$1(i),null}else 2*B$2()-Nl.renderingStartTime>Hj&&o!==1073741824&&(i.flags|=128,et=!0,Ej(Nl,!1),i.lanes=4194304);Nl.isBackwards?(Ml.sibling=i.child,i.child=Ml):(o=Nl.last,o!==null?o.sibling=Ml:i.child=Ml,Nl.last=Ml)}return Nl.tail!==null?(i=Nl.tail,Nl.rendering=i,Nl.tail=i.sibling,Nl.renderingStartTime=B$2(),i.sibling=null,o=M$2.current,G$1(M$2,et?o&1|2:o&1),i):(S$1(i),null);case 22:case 23:return Ij(),et=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==et&&(i.flags|=8192),et&&(i.mode&1)!==0?(gj&1073741824)!==0&&(S$1(i),i.subtreeFlags&6&&(i.flags|=8192)):S$1(i),null;case 24:return null;case 25:return null}throw Error(p$2(156,i.tag))}function Jj(s,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Jh$1(),E$1(Wf),E$1(H$2),Oh$1(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Lh$1(i),null;case 13:if(E$1(M$2),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(p$2(340));Ig()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return E$1(M$2),null;case 4:return Jh$1(),null;case 10:return Rg(i.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(s,i){var o=s.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(et){W$2(s,i,et)}else o.current=null}function Nj(s,i,o){try{o()}catch(et){W$2(s,i,et)}}var Oj=!1;function Pj(s,i){if(Cf=dd$1,s=Me$1(),Ne$1(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var et=o.getSelection&&o.getSelection();if(et&&et.rangeCount!==0){o=et.anchorNode;var $l=et.anchorOffset,Nl=et.focusNode;et=et.focusOffset;try{o.nodeType,Nl.nodeType}catch{o=null;break e}var Ml=0,Ol=-1,Ll=-1,Fl=0,Bl=0,Ul=s,Gl=null;t:for(;;){for(var Wl;Ul!==o||$l!==0&&Ul.nodeType!==3||(Ol=Ml+$l),Ul!==Nl||et!==0&&Ul.nodeType!==3||(Ll=Ml+et),Ul.nodeType===3&&(Ml+=Ul.nodeValue.length),(Wl=Ul.firstChild)!==null;)Gl=Ul,Ul=Wl;for(;;){if(Ul===s)break t;if(Gl===o&&++Fl===$l&&(Ol=Ml),Gl===Nl&&++Bl===et&&(Ll=Ml),(Wl=Ul.nextSibling)!==null)break;Ul=Gl,Gl=Ul.parentNode}Ul=Wl}o=Ol===-1||Ll===-1?null:{start:Ol,end:Ll}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:s,selectionRange:o},dd$1=!1,V$1=i;V$1!==null;)if(i=V$1,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,V$1=s;else for(;V$1!==null;){i=V$1;try{var zl=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(zl!==null){var Ql=zl.memoizedProps,Jl=zl.memoizedState,Kl=i.stateNode,Hl=Kl.getSnapshotBeforeUpdate(i.elementType===i.type?Ql:Lg(i.type,Ql),Jl);Kl.__reactInternalSnapshotBeforeUpdate=Hl}break;case 3:var Yl=i.stateNode.containerInfo;Yl.nodeType===1?Yl.textContent="":Yl.nodeType===9&&Yl.documentElement&&Yl.removeChild(Yl.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(Xl){W$2(i,i.return,Xl)}if(s=i.sibling,s!==null){s.return=i.return,V$1=s;break}V$1=i.return}return zl=Oj,Oj=!1,zl}function Qj(s,i,o){var et=i.updateQueue;if(et=et!==null?et.lastEffect:null,et!==null){var $l=et=et.next;do{if(($l.tag&s)===s){var Nl=$l.destroy;$l.destroy=void 0,Nl!==void 0&&Nj(i,o,Nl)}$l=$l.next}while($l!==et)}}function Rj(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&s)===s){var et=o.create;o.destroy=et()}o=o.next}while(o!==i)}}function Sj(s){var i=s.ref;if(i!==null){var o=s.stateNode;switch(s.tag){case 5:s=o;break;default:s=o}typeof i=="function"?i(s):i.current=s}}function Tj(s){var i=s.alternate;i!==null&&(s.alternate=null,Tj(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Uj(s){return s.tag===5||s.tag===3||s.tag===4}function Vj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Uj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wj(s,i,o){var et=s.tag;if(et===5||et===6)s=s.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(s,i):o.insertBefore(s,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(s,o)):(i=o,i.appendChild(s)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Bf));else if(et!==4&&(s=s.child,s!==null))for(Wj(s,i,o),s=s.sibling;s!==null;)Wj(s,i,o),s=s.sibling}function Xj(s,i,o){var et=s.tag;if(et===5||et===6)s=s.stateNode,i?o.insertBefore(s,i):o.appendChild(s);else if(et!==4&&(s=s.child,s!==null))for(Xj(s,i,o),s=s.sibling;s!==null;)Xj(s,i,o),s=s.sibling}var X$2=null,Yj=!1;function Zj(s,i,o){for(o=o.child;o!==null;)ak(s,i,o),o=o.sibling}function ak(s,i,o){if(lc$2&&typeof lc$2.onCommitFiberUnmount=="function")try{lc$2.onCommitFiberUnmount(kc$2,o)}catch{}switch(o.tag){case 5:U$2||Mj(o,i);case 6:var et=X$2,$l=Yj;X$2=null,Zj(s,i,o),X$2=et,Yj=$l,X$2!==null&&(Yj?(s=X$2,o=o.stateNode,s.nodeType===8?s.parentNode.removeChild(o):s.removeChild(o)):X$2.removeChild(o.stateNode));break;case 18:X$2!==null&&(Yj?(s=X$2,o=o.stateNode,s.nodeType===8?Kf(s.parentNode,o):s.nodeType===1&&Kf(s,o),bd$1(s)):Kf(X$2,o.stateNode));break;case 4:et=X$2,$l=Yj,X$2=o.stateNode.containerInfo,Yj=!0,Zj(s,i,o),X$2=et,Yj=$l;break;case 0:case 11:case 14:case 15:if(!U$2&&(et=o.updateQueue,et!==null&&(et=et.lastEffect,et!==null))){$l=et=et.next;do{var Nl=$l,Ml=Nl.destroy;Nl=Nl.tag,Ml!==void 0&&((Nl&2)!==0||(Nl&4)!==0)&&Nj(o,i,Ml),$l=$l.next}while($l!==et)}Zj(s,i,o);break;case 1:if(!U$2&&(Mj(o,i),et=o.stateNode,typeof et.componentWillUnmount=="function"))try{et.props=o.memoizedProps,et.state=o.memoizedState,et.componentWillUnmount()}catch(Ol){W$2(o,i,Ol)}Zj(s,i,o);break;case 21:Zj(s,i,o);break;case 22:o.mode&1?(U$2=(et=U$2)||o.memoizedState!==null,Zj(s,i,o),U$2=et):Zj(s,i,o);break;default:Zj(s,i,o)}}function bk(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var o=s.stateNode;o===null&&(o=s.stateNode=new Lj),i.forEach(function(et){var $l=ck.bind(null,s,et);o.has(et)||(o.add(et),et.then($l,$l))})}}function dk(s,i){var o=i.deletions;if(o!==null)for(var et=0;et<o.length;et++){var $l=o[et];try{var Nl=s,Ml=i,Ol=Ml;e:for(;Ol!==null;){switch(Ol.tag){case 5:X$2=Ol.stateNode,Yj=!1;break e;case 3:X$2=Ol.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=Ol.stateNode.containerInfo,Yj=!0;break e}Ol=Ol.return}if(X$2===null)throw Error(p$2(160));ak(Nl,Ml,$l),X$2=null,Yj=!1;var Ll=$l.alternate;Ll!==null&&(Ll.return=null),$l.return=null}catch(Fl){W$2($l,i,Fl)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ek(i,s),i=i.sibling}function ek(s,i){var o=s.alternate,et=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(dk(i,s),fk(s),et&4){try{Qj(3,s,s.return),Rj(3,s)}catch(Ql){W$2(s,s.return,Ql)}try{Qj(5,s,s.return)}catch(Ql){W$2(s,s.return,Ql)}}break;case 1:dk(i,s),fk(s),et&512&&o!==null&&Mj(o,o.return);break;case 5:if(dk(i,s),fk(s),et&512&&o!==null&&Mj(o,o.return),s.flags&32){var $l=s.stateNode;try{ob$1($l,"")}catch(Ql){W$2(s,s.return,Ql)}}if(et&4&&($l=s.stateNode,$l!=null)){var Nl=s.memoizedProps,Ml=o!==null?o.memoizedProps:Nl,Ol=s.type,Ll=s.updateQueue;if(s.updateQueue=null,Ll!==null)try{Ol==="input"&&Nl.type==="radio"&&Nl.name!=null&&ab$1($l,Nl),vb$1(Ol,Ml);var Fl=vb$1(Ol,Nl);for(Ml=0;Ml<Ll.length;Ml+=2){var Bl=Ll[Ml],Ul=Ll[Ml+1];Bl==="style"?sb$1($l,Ul):Bl==="dangerouslySetInnerHTML"?nb$1($l,Ul):Bl==="children"?ob$1($l,Ul):ta$2($l,Bl,Ul,Fl)}switch(Ol){case"input":bb$1($l,Nl);break;case"textarea":ib$1($l,Nl);break;case"select":var Gl=$l._wrapperState.wasMultiple;$l._wrapperState.wasMultiple=!!Nl.multiple;var Wl=Nl.value;Wl!=null?fb$1($l,!!Nl.multiple,Wl,!1):Gl!==!!Nl.multiple&&(Nl.defaultValue!=null?fb$1($l,!!Nl.multiple,Nl.defaultValue,!0):fb$1($l,!!Nl.multiple,Nl.multiple?[]:"",!1))}$l[Pf]=Nl}catch(Ql){W$2(s,s.return,Ql)}}break;case 6:if(dk(i,s),fk(s),et&4){if(s.stateNode===null)throw Error(p$2(162));$l=s.stateNode,Nl=s.memoizedProps;try{$l.nodeValue=Nl}catch(Ql){W$2(s,s.return,Ql)}}break;case 3:if(dk(i,s),fk(s),et&4&&o!==null&&o.memoizedState.isDehydrated)try{bd$1(i.containerInfo)}catch(Ql){W$2(s,s.return,Ql)}break;case 4:dk(i,s),fk(s);break;case 13:dk(i,s),fk(s),$l=s.child,$l.flags&8192&&(Nl=$l.memoizedState!==null,$l.stateNode.isHidden=Nl,!Nl||$l.alternate!==null&&$l.alternate.memoizedState!==null||(gk=B$2())),et&4&&bk(s);break;case 22:if(Bl=o!==null&&o.memoizedState!==null,s.mode&1?(U$2=(Fl=U$2)||Bl,dk(i,s),U$2=Fl):dk(i,s),fk(s),et&8192){if(Fl=s.memoizedState!==null,(s.stateNode.isHidden=Fl)&&!Bl&&(s.mode&1)!==0)for(V$1=s,Bl=s.child;Bl!==null;){for(Ul=V$1=Bl;V$1!==null;){switch(Gl=V$1,Wl=Gl.child,Gl.tag){case 0:case 11:case 14:case 15:Qj(4,Gl,Gl.return);break;case 1:Mj(Gl,Gl.return);var zl=Gl.stateNode;if(typeof zl.componentWillUnmount=="function"){et=Gl,o=Gl.return;try{i=et,zl.props=i.memoizedProps,zl.state=i.memoizedState,zl.componentWillUnmount()}catch(Ql){W$2(et,o,Ql)}}break;case 5:Mj(Gl,Gl.return);break;case 22:if(Gl.memoizedState!==null){hk(Ul);continue}}Wl!==null?(Wl.return=Gl,V$1=Wl):hk(Ul)}Bl=Bl.sibling}e:for(Bl=null,Ul=s;;){if(Ul.tag===5){if(Bl===null){Bl=Ul;try{$l=Ul.stateNode,Fl?(Nl=$l.style,typeof Nl.setProperty=="function"?Nl.setProperty("display","none","important"):Nl.display="none"):(Ol=Ul.stateNode,Ll=Ul.memoizedProps.style,Ml=Ll!=null&&Ll.hasOwnProperty("display")?Ll.display:null,Ol.style.display=rb$1("display",Ml))}catch(Ql){W$2(s,s.return,Ql)}}}else if(Ul.tag===6){if(Bl===null)try{Ul.stateNode.nodeValue=Fl?"":Ul.memoizedProps}catch(Ql){W$2(s,s.return,Ql)}}else if((Ul.tag!==22&&Ul.tag!==23||Ul.memoizedState===null||Ul===s)&&Ul.child!==null){Ul.child.return=Ul,Ul=Ul.child;continue}if(Ul===s)break e;for(;Ul.sibling===null;){if(Ul.return===null||Ul.return===s)break e;Bl===Ul&&(Bl=null),Ul=Ul.return}Bl===Ul&&(Bl=null),Ul.sibling.return=Ul.return,Ul=Ul.sibling}}break;case 19:dk(i,s),fk(s),et&4&&bk(s);break;case 21:break;default:dk(i,s),fk(s)}}function fk(s){var i=s.flags;if(i&2){try{e:{for(var o=s.return;o!==null;){if(Uj(o)){var et=o;break e}o=o.return}throw Error(p$2(160))}switch(et.tag){case 5:var $l=et.stateNode;et.flags&32&&(ob$1($l,""),et.flags&=-33);var Nl=Vj(s);Xj(s,Nl,$l);break;case 3:case 4:var Ml=et.stateNode.containerInfo,Ol=Vj(s);Wj(s,Ol,Ml);break;default:throw Error(p$2(161))}}catch(Ll){W$2(s,s.return,Ll)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function ik(s,i,o){V$1=s,jk(s)}function jk(s,i,o){for(var et=(s.mode&1)!==0;V$1!==null;){var $l=V$1,Nl=$l.child;if($l.tag===22&&et){var Ml=$l.memoizedState!==null||Kj;if(!Ml){var Ol=$l.alternate,Ll=Ol!==null&&Ol.memoizedState!==null||U$2;Ol=Kj;var Fl=U$2;if(Kj=Ml,(U$2=Ll)&&!Fl)for(V$1=$l;V$1!==null;)Ml=V$1,Ll=Ml.child,Ml.tag===22&&Ml.memoizedState!==null?kk($l):Ll!==null?(Ll.return=Ml,V$1=Ll):kk($l);for(;Nl!==null;)V$1=Nl,jk(Nl),Nl=Nl.sibling;V$1=$l,Kj=Ol,U$2=Fl}lk(s)}else($l.subtreeFlags&8772)!==0&&Nl!==null?(Nl.return=$l,V$1=Nl):lk(s)}}function lk(s){for(;V$1!==null;){var i=V$1;if((i.flags&8772)!==0){var o=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:U$2||Rj(5,i);break;case 1:var et=i.stateNode;if(i.flags&4&&!U$2)if(o===null)et.componentDidMount();else{var $l=i.elementType===i.type?o.memoizedProps:Lg(i.type,o.memoizedProps);et.componentDidUpdate($l,o.memoizedState,et.__reactInternalSnapshotBeforeUpdate)}var Nl=i.updateQueue;Nl!==null&&ih$1(i,Nl,et);break;case 3:var Ml=i.updateQueue;if(Ml!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}ih$1(i,Ml,o)}break;case 5:var Ol=i.stateNode;if(o===null&&i.flags&4){o=Ol;var Ll=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":Ll.autoFocus&&o.focus();break;case"img":Ll.src&&(o.src=Ll.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Fl=i.alternate;if(Fl!==null){var Bl=Fl.memoizedState;if(Bl!==null){var Ul=Bl.dehydrated;Ul!==null&&bd$1(Ul)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$2||i.flags&512&&Sj(i)}catch(Gl){W$2(i,i.return,Gl)}}if(i===s){V$1=null;break}if(o=i.sibling,o!==null){o.return=i.return,V$1=o;break}V$1=i.return}}function hk(s){for(;V$1!==null;){var i=V$1;if(i===s){V$1=null;break}var o=i.sibling;if(o!==null){o.return=i.return,V$1=o;break}V$1=i.return}}function kk(s){for(;V$1!==null;){var i=V$1;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Rj(4,i)}catch(Ll){W$2(i,o,Ll)}break;case 1:var et=i.stateNode;if(typeof et.componentDidMount=="function"){var $l=i.return;try{et.componentDidMount()}catch(Ll){W$2(i,$l,Ll)}}var Nl=i.return;try{Sj(i)}catch(Ll){W$2(i,Nl,Ll)}break;case 5:var Ml=i.return;try{Sj(i)}catch(Ll){W$2(i,Ml,Ll)}}}catch(Ll){W$2(i,i.return,Ll)}if(i===s){V$1=null;break}var Ol=i.sibling;if(Ol!==null){Ol.return=i.return,V$1=Ol;break}V$1=i.return}}var mk=Math.ceil,nk=ua$2.ReactCurrentDispatcher,ok=ua$2.ReactCurrentOwner,pk=ua$2.ReactCurrentBatchConfig,K$2=0,R$1=null,Y$2=null,Z$2=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh$1=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi$1=!1,Qi$1=null,Si$1=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$2(){return(K$2&6)!==0?B$2():Bk!==-1?Bk:Bk=B$2()}function lh$1(s){return(s.mode&1)===0?1:(K$2&2)!==0&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Ck===0&&(Ck=yc$2()),Ck):(s=C$2,s!==0||(s=window.event,s=s===void 0?16:jd$1(s.type)),s)}function mh$1(s,i,o,et){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac$2(s,o,et),((K$2&2)===0||s!==R$1)&&(s===R$1&&((K$2&2)===0&&(rk|=o),T$1===4&&Dk(s,Z$2)),Ek(s,et),o===1&&K$2===0&&(i.mode&1)===0&&(Hj=B$2()+500,fg&&jg()))}function Ek(s,i){var o=s.callbackNode;wc$2(s,i);var et=uc$2(s,s===R$1?Z$2:0);if(et===0)o!==null&&bc$2(o),s.callbackNode=null,s.callbackPriority=0;else if(i=et&-et,s.callbackPriority!==i){if(o!=null&&bc$2(o),i===1)s.tag===0?ig(Fk.bind(null,s)):hg(Fk.bind(null,s)),Jf(function(){(K$2&6)===0&&jg()}),o=null;else{switch(Dc$2(et)){case 1:o=fc$2;break;case 4:o=gc$2;break;case 16:o=hc$2;break;case 536870912:o=jc$2;break;default:o=hc$2}o=Gk(o,Hk.bind(null,s))}s.callbackPriority=i,s.callbackNode=o}}function Hk(s,i){if(Bk=-1,Ck=0,(K$2&6)!==0)throw Error(p$2(327));var o=s.callbackNode;if(Ik()&&s.callbackNode!==o)return null;var et=uc$2(s,s===R$1?Z$2:0);if(et===0)return null;if((et&30)!==0||(et&s.expiredLanes)!==0||i)i=Jk(s,et);else{i=et;var $l=K$2;K$2|=2;var Nl=Kk();(R$1!==s||Z$2!==i)&&(vk=null,Hj=B$2()+500,Lk(s,i));do try{Mk();break}catch(Ol){Nk(s,Ol)}while(1);Qg(),nk.current=Nl,K$2=$l,Y$2!==null?i=0:(R$1=null,Z$2=0,i=T$1)}if(i!==0){if(i===2&&($l=xc$2(s),$l!==0&&(et=$l,i=Ok(s,$l))),i===1)throw o=qk,Lk(s,0),Dk(s,et),Ek(s,B$2()),o;if(i===6)Dk(s,et);else{if($l=s.current.alternate,(et&30)===0&&!Pk($l)&&(i=Jk(s,et),i===2&&(Nl=xc$2(s),Nl!==0&&(et=Nl,i=Ok(s,Nl))),i===1))throw o=qk,Lk(s,0),Dk(s,et),Ek(s,B$2()),o;switch(s.finishedWork=$l,s.finishedLanes=et,i){case 0:case 1:throw Error(p$2(345));case 2:Qk(s,uk,vk);break;case 3:if(Dk(s,et),(et&130023424)===et&&(i=gk+500-B$2(),10<i)){if(uc$2(s,0)!==0)break;if($l=s.suspendedLanes,($l&et)!==et){L$2(),s.pingedLanes|=s.suspendedLanes&$l;break}s.timeoutHandle=Ff(Qk.bind(null,s,uk,vk),i);break}Qk(s,uk,vk);break;case 4:if(Dk(s,et),(et&4194240)===et)break;for(i=s.eventTimes,$l=-1;0<et;){var Ml=31-oc$2(et);Nl=1<<Ml,Ml=i[Ml],Ml>$l&&($l=Ml),et&=~Nl}if(et=$l,et=B$2()-et,et=(120>et?120:480>et?480:1080>et?1080:1920>et?1920:3e3>et?3e3:4320>et?4320:1960*mk(et/1960))-et,10<et){s.timeoutHandle=Ff(Qk.bind(null,s,uk,vk),et);break}Qk(s,uk,vk);break;case 5:Qk(s,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(s,B$2()),s.callbackNode===o?Hk.bind(null,s):null}function Ok(s,i){var o=tk;return s.current.memoizedState.isDehydrated&&(Lk(s,i).flags|=256),s=Jk(s,i),s!==2&&(i=uk,uk=o,i!==null&&Gj(i)),s}function Gj(s){uk===null?uk=s:uk.push.apply(uk,s)}function Pk(s){for(var i=s;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var et=0;et<o.length;et++){var $l=o[et],Nl=$l.getSnapshot;$l=$l.value;try{if(!He$1(Nl(),$l))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Dk(s,i){for(i&=~sk,i&=~rk,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var o=31-oc$2(i),et=1<<o;s[o]=-1,i&=~et}}function Fk(s){if((K$2&6)!==0)throw Error(p$2(327));Ik();var i=uc$2(s,0);if((i&1)===0)return Ek(s,B$2()),null;var o=Jk(s,i);if(s.tag!==0&&o===2){var et=xc$2(s);et!==0&&(i=et,o=Ok(s,et))}if(o===1)throw o=qk,Lk(s,0),Dk(s,i),Ek(s,B$2()),o;if(o===6)throw Error(p$2(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Qk(s,uk,vk),Ek(s,B$2()),null}function Rk(s,i){var o=K$2;K$2|=1;try{return s(i)}finally{K$2=o,K$2===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(s){xk!==null&&xk.tag===0&&(K$2&6)===0&&Ik();var i=K$2;K$2|=1;var o=pk.transition,et=C$2;try{if(pk.transition=null,C$2=1,s)return s()}finally{C$2=et,pk.transition=o,K$2=i,(K$2&6)===0&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(s,i){s.finishedWork=null,s.finishedLanes=0;var o=s.timeoutHandle;if(o!==-1&&(s.timeoutHandle=-1,Gf(o)),Y$2!==null)for(o=Y$2.return;o!==null;){var et=o;switch(wg(et),et.tag){case 1:et=et.type.childContextTypes,et!=null&&$f();break;case 3:Jh$1(),E$1(Wf),E$1(H$2),Oh$1();break;case 5:Lh$1(et);break;case 4:Jh$1();break;case 13:E$1(M$2);break;case 19:E$1(M$2);break;case 10:Rg(et.type._context);break;case 22:case 23:Ij()}o=o.return}if(R$1=s,Y$2=s=wh$1(s.current,null),Z$2=gj=i,T$1=0,qk=null,sk=rk=hh$1=0,uk=tk=null,Wg!==null){for(i=0;i<Wg.length;i++)if(o=Wg[i],et=o.interleaved,et!==null){o.interleaved=null;var $l=et.next,Nl=o.pending;if(Nl!==null){var Ml=Nl.next;Nl.next=$l,et.next=Ml}o.pending=et}Wg=null}return s}function Nk(s,i){do{var o=Y$2;try{if(Qg(),Ph$1.current=ai$1,Sh$1){for(var et=N$2.memoizedState;et!==null;){var $l=et.queue;$l!==null&&($l.pending=null),et=et.next}Sh$1=!1}if(Rh$1=0,P$1=O$2=N$2=null,Th$1=!1,Uh$1=0,ok.current=null,o===null||o.return===null){T$1=1,qk=i,Y$2=null;break}e:{var Nl=s,Ml=o.return,Ol=o,Ll=i;if(i=Z$2,Ol.flags|=32768,Ll!==null&&typeof Ll=="object"&&typeof Ll.then=="function"){var Fl=Ll,Bl=Ol,Ul=Bl.tag;if((Bl.mode&1)===0&&(Ul===0||Ul===11||Ul===15)){var Gl=Bl.alternate;Gl?(Bl.updateQueue=Gl.updateQueue,Bl.memoizedState=Gl.memoizedState,Bl.lanes=Gl.lanes):(Bl.updateQueue=null,Bl.memoizedState=null)}var Wl=Vi$1(Ml);if(Wl!==null){Wl.flags&=-257,Wi$1(Wl,Ml,Ol,Nl,i),Wl.mode&1&&Ti$1(Nl,Fl,i),i=Wl,Ll=Fl;var zl=i.updateQueue;if(zl===null){var Ql=new Set;Ql.add(Ll),i.updateQueue=Ql}else zl.add(Ll);break e}else{if((i&1)===0){Ti$1(Nl,Fl,i),uj();break e}Ll=Error(p$2(426))}}else if(I$1&&Ol.mode&1){var Jl=Vi$1(Ml);if(Jl!==null){(Jl.flags&65536)===0&&(Jl.flags|=256),Wi$1(Jl,Ml,Ol,Nl,i),Jg(Ki$1(Ll,Ol));break e}}Nl=Ll=Ki$1(Ll,Ol),T$1!==4&&(T$1=2),tk===null?tk=[Nl]:tk.push(Nl),Nl=Ml;do{switch(Nl.tag){case 3:Nl.flags|=65536,i&=-i,Nl.lanes|=i;var Kl=Oi$1(Nl,Ll,i);fh$1(Nl,Kl);break e;case 1:Ol=Ll;var Hl=Nl.type,Yl=Nl.stateNode;if((Nl.flags&128)===0&&(typeof Hl.getDerivedStateFromError=="function"||Yl!==null&&typeof Yl.componentDidCatch=="function"&&(Si$1===null||!Si$1.has(Yl)))){Nl.flags|=65536,i&=-i,Nl.lanes|=i;var Xl=Ri$1(Nl,Ol,i);fh$1(Nl,Xl);break e}}Nl=Nl.return}while(Nl!==null)}Tk(o)}catch(Zl){i=Zl,Y$2===o&&o!==null&&(Y$2=o=o.return);continue}break}while(1)}function Kk(){var s=nk.current;return nk.current=ai$1,s===null?ai$1:s}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||(hh$1&268435455)===0&&(rk&268435455)===0||Dk(R$1,Z$2)}function Jk(s,i){var o=K$2;K$2|=2;var et=Kk();(R$1!==s||Z$2!==i)&&(vk=null,Lk(s,i));do try{Uk();break}catch($l){Nk(s,$l)}while(1);if(Qg(),K$2=o,nk.current=et,Y$2!==null)throw Error(p$2(261));return R$1=null,Z$2=0,T$1}function Uk(){for(;Y$2!==null;)Vk(Y$2)}function Mk(){for(;Y$2!==null&&!cc$3();)Vk(Y$2)}function Vk(s){var i=Wk(s.alternate,s,gj);s.memoizedProps=s.pendingProps,i===null?Tk(s):Y$2=i,ok.current=null}function Tk(s){var i=s;do{var o=i.alternate;if(s=i.return,(i.flags&32768)===0){if(o=Fj(o,i,gj),o!==null){Y$2=o;return}}else{if(o=Jj(o,i),o!==null){o.flags&=32767,Y$2=o;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{T$1=6,Y$2=null;return}}if(i=i.sibling,i!==null){Y$2=i;return}Y$2=i=s}while(i!==null);T$1===0&&(T$1=5)}function Qk(s,i,o){var et=C$2,$l=pk.transition;try{pk.transition=null,C$2=1,Xk(s,i,o,et)}finally{pk.transition=$l,C$2=et}return null}function Xk(s,i,o,et){do Ik();while(xk!==null);if((K$2&6)!==0)throw Error(p$2(327));o=s.finishedWork;var $l=s.finishedLanes;if(o===null)return null;if(s.finishedWork=null,s.finishedLanes=0,o===s.current)throw Error(p$2(177));s.callbackNode=null,s.callbackPriority=0;var Nl=o.lanes|o.childLanes;if(Bc$2(s,Nl),s===R$1&&(Y$2=R$1=null,Z$2=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||wk||(wk=!0,Gk(hc$2,function(){return Ik(),null})),Nl=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||Nl){Nl=pk.transition,pk.transition=null;var Ml=C$2;C$2=1;var Ol=K$2;K$2|=4,ok.current=null,Pj(s,o),ek(o,s),Oe$1(Df),dd$1=!!Cf,Df=Cf=null,s.current=o,ik(o),dc$2(),K$2=Ol,C$2=Ml,pk.transition=Nl}else s.current=o;if(wk&&(wk=!1,xk=s,yk=$l),Nl=s.pendingLanes,Nl===0&&(Si$1=null),mc$2(o.stateNode),Ek(s,B$2()),i!==null)for(et=s.onRecoverableError,o=0;o<i.length;o++)$l=i[o],et($l.value,{componentStack:$l.stack,digest:$l.digest});if(Pi$1)throw Pi$1=!1,s=Qi$1,Qi$1=null,s;return(yk&1)!==0&&s.tag!==0&&Ik(),Nl=s.pendingLanes,(Nl&1)!==0?s===Ak?zk++:(zk=0,Ak=s):zk=0,jg(),null}function Ik(){if(xk!==null){var s=Dc$2(yk),i=pk.transition,o=C$2;try{if(pk.transition=null,C$2=16>s?16:s,xk===null)var et=!1;else{if(s=xk,xk=null,yk=0,(K$2&6)!==0)throw Error(p$2(331));var $l=K$2;for(K$2|=4,V$1=s.current;V$1!==null;){var Nl=V$1,Ml=Nl.child;if((V$1.flags&16)!==0){var Ol=Nl.deletions;if(Ol!==null){for(var Ll=0;Ll<Ol.length;Ll++){var Fl=Ol[Ll];for(V$1=Fl;V$1!==null;){var Bl=V$1;switch(Bl.tag){case 0:case 11:case 15:Qj(8,Bl,Nl)}var Ul=Bl.child;if(Ul!==null)Ul.return=Bl,V$1=Ul;else for(;V$1!==null;){Bl=V$1;var Gl=Bl.sibling,Wl=Bl.return;if(Tj(Bl),Bl===Fl){V$1=null;break}if(Gl!==null){Gl.return=Wl,V$1=Gl;break}V$1=Wl}}}var zl=Nl.alternate;if(zl!==null){var Ql=zl.child;if(Ql!==null){zl.child=null;do{var Jl=Ql.sibling;Ql.sibling=null,Ql=Jl}while(Ql!==null)}}V$1=Nl}}if((Nl.subtreeFlags&2064)!==0&&Ml!==null)Ml.return=Nl,V$1=Ml;else e:for(;V$1!==null;){if(Nl=V$1,(Nl.flags&2048)!==0)switch(Nl.tag){case 0:case 11:case 15:Qj(9,Nl,Nl.return)}var Kl=Nl.sibling;if(Kl!==null){Kl.return=Nl.return,V$1=Kl;break e}V$1=Nl.return}}var Hl=s.current;for(V$1=Hl;V$1!==null;){Ml=V$1;var Yl=Ml.child;if((Ml.subtreeFlags&2064)!==0&&Yl!==null)Yl.return=Ml,V$1=Yl;else e:for(Ml=Hl;V$1!==null;){if(Ol=V$1,(Ol.flags&2048)!==0)try{switch(Ol.tag){case 0:case 11:case 15:Rj(9,Ol)}}catch(Zl){W$2(Ol,Ol.return,Zl)}if(Ol===Ml){V$1=null;break e}var Xl=Ol.sibling;if(Xl!==null){Xl.return=Ol.return,V$1=Xl;break e}V$1=Ol.return}}if(K$2=$l,jg(),lc$2&&typeof lc$2.onPostCommitFiberRoot=="function")try{lc$2.onPostCommitFiberRoot(kc$2,s)}catch{}et=!0}return et}finally{C$2=o,pk.transition=i}}return!1}function Yk(s,i,o){i=Ki$1(o,i),i=Oi$1(s,i,1),s=dh$1(s,i,1),i=L$2(),s!==null&&(Ac$2(s,1,i),Ek(s,i))}function W$2(s,i,o){if(s.tag===3)Yk(s,s,o);else for(;i!==null;){if(i.tag===3){Yk(i,s,o);break}else if(i.tag===1){var et=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof et.componentDidCatch=="function"&&(Si$1===null||!Si$1.has(et))){s=Ki$1(o,s),s=Ri$1(i,s,1),i=dh$1(i,s,1),s=L$2(),i!==null&&(Ac$2(i,1,s),Ek(i,s));break}}i=i.return}}function Ui$1(s,i,o){var et=s.pingCache;et!==null&&et.delete(i),i=L$2(),s.pingedLanes|=s.suspendedLanes&o,R$1===s&&(Z$2&o)===o&&(T$1===4||T$1===3&&(Z$2&130023424)===Z$2&&500>B$2()-gk?Lk(s,0):sk|=o),Ek(s,i)}function Zk(s,i){i===0&&((s.mode&1)===0?i=1:(i=sc$2,sc$2<<=1,(sc$2&130023424)===0&&(sc$2=4194304)));var o=L$2();s=Zg(s,i),s!==null&&(Ac$2(s,i,o),Ek(s,o))}function vj(s){var i=s.memoizedState,o=0;i!==null&&(o=i.retryLane),Zk(s,o)}function ck(s,i){var o=0;switch(s.tag){case 13:var et=s.stateNode,$l=s.memoizedState;$l!==null&&(o=$l.retryLane);break;case 19:et=s.stateNode;break;default:throw Error(p$2(314))}et!==null&&et.delete(i),Zk(s,o)}var Wk;Wk=function(s,i,o){if(s!==null)if(s.memoizedProps!==i.pendingProps||Wf.current)Ug=!0;else{if((s.lanes&o)===0&&(i.flags&128)===0)return Ug=!1,zj(s,i,o);Ug=(s.flags&131072)!==0}else Ug=!1,I$1&&(i.flags&1048576)!==0&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var et=i.type;jj(s,i),s=i.pendingProps;var $l=Yf(i,H$2.current);Tg(i,o),$l=Xh$1(null,i,et,s,$l,o);var Nl=bi$1();return i.flags|=1,typeof $l=="object"&&$l!==null&&typeof $l.render=="function"&&$l.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(et)?(Nl=!0,cg(i)):Nl=!1,i.memoizedState=$l.state!==null&&$l.state!==void 0?$l.state:null,ah$1(i),$l.updater=nh$1,i.stateNode=$l,$l._reactInternals=i,rh$1(i,et,s,o),i=kj(null,i,et,!0,Nl,o)):(i.tag=0,I$1&&Nl&&vg(i),Yi$1(null,i,$l,o),i=i.child),i;case 16:et=i.elementType;e:{switch(jj(s,i),s=i.pendingProps,$l=et._init,et=$l(et._payload),i.type=et,$l=i.tag=$k(et),s=Lg(et,s),$l){case 0:i=dj(null,i,et,s,o);break e;case 1:i=ij(null,i,et,s,o);break e;case 11:i=Zi$1(null,i,et,s,o);break e;case 14:i=aj(null,i,et,Lg(et.type,s),o);break e}throw Error(p$2(306,et,""))}return i;case 0:return et=i.type,$l=i.pendingProps,$l=i.elementType===et?$l:Lg(et,$l),dj(s,i,et,$l,o);case 1:return et=i.type,$l=i.pendingProps,$l=i.elementType===et?$l:Lg(et,$l),ij(s,i,et,$l,o);case 3:e:{if(lj(i),s===null)throw Error(p$2(387));et=i.pendingProps,Nl=i.memoizedState,$l=Nl.element,bh$1(s,i),gh$1(i,et,null,o);var Ml=i.memoizedState;if(et=Ml.element,Nl.isDehydrated)if(Nl={element:et,isDehydrated:!1,cache:Ml.cache,pendingSuspenseBoundaries:Ml.pendingSuspenseBoundaries,transitions:Ml.transitions},i.updateQueue.baseState=Nl,i.memoizedState=Nl,i.flags&256){$l=Ki$1(Error(p$2(423)),i),i=mj(s,i,et,o,$l);break e}else if(et!==$l){$l=Ki$1(Error(p$2(424)),i),i=mj(s,i,et,o,$l);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I$1=!0,zg=null,o=Ch$1(i,null,et,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),et===$l){i=$i$1(s,i,o);break e}Yi$1(s,i,et,o)}i=i.child}return i;case 5:return Kh$1(i),s===null&&Eg(i),et=i.type,$l=i.pendingProps,Nl=s!==null?s.memoizedProps:null,Ml=$l.children,Ef(et,$l)?Ml=null:Nl!==null&&Ef(et,Nl)&&(i.flags|=32),hj(s,i),Yi$1(s,i,Ml,o),i.child;case 6:return s===null&&Eg(i),null;case 13:return pj(s,i,o);case 4:return Ih$1(i,i.stateNode.containerInfo),et=i.pendingProps,s===null?i.child=Bh$1(i,null,et,o):Yi$1(s,i,et,o),i.child;case 11:return et=i.type,$l=i.pendingProps,$l=i.elementType===et?$l:Lg(et,$l),Zi$1(s,i,et,$l,o);case 7:return Yi$1(s,i,i.pendingProps,o),i.child;case 8:return Yi$1(s,i,i.pendingProps.children,o),i.child;case 12:return Yi$1(s,i,i.pendingProps.children,o),i.child;case 10:e:{if(et=i.type._context,$l=i.pendingProps,Nl=i.memoizedProps,Ml=$l.value,G$1(Mg,et._currentValue),et._currentValue=Ml,Nl!==null)if(He$1(Nl.value,Ml)){if(Nl.children===$l.children&&!Wf.current){i=$i$1(s,i,o);break e}}else for(Nl=i.child,Nl!==null&&(Nl.return=i);Nl!==null;){var Ol=Nl.dependencies;if(Ol!==null){Ml=Nl.child;for(var Ll=Ol.firstContext;Ll!==null;){if(Ll.context===et){if(Nl.tag===1){Ll=ch$1(-1,o&-o),Ll.tag=2;var Fl=Nl.updateQueue;if(Fl!==null){Fl=Fl.shared;var Bl=Fl.pending;Bl===null?Ll.next=Ll:(Ll.next=Bl.next,Bl.next=Ll),Fl.pending=Ll}}Nl.lanes|=o,Ll=Nl.alternate,Ll!==null&&(Ll.lanes|=o),Sg(Nl.return,o,i),Ol.lanes|=o;break}Ll=Ll.next}}else if(Nl.tag===10)Ml=Nl.type===i.type?null:Nl.child;else if(Nl.tag===18){if(Ml=Nl.return,Ml===null)throw Error(p$2(341));Ml.lanes|=o,Ol=Ml.alternate,Ol!==null&&(Ol.lanes|=o),Sg(Ml,o,i),Ml=Nl.sibling}else Ml=Nl.child;if(Ml!==null)Ml.return=Nl;else for(Ml=Nl;Ml!==null;){if(Ml===i){Ml=null;break}if(Nl=Ml.sibling,Nl!==null){Nl.return=Ml.return,Ml=Nl;break}Ml=Ml.return}Nl=Ml}Yi$1(s,i,$l.children,o),i=i.child}return i;case 9:return $l=i.type,et=i.pendingProps.children,Tg(i,o),$l=Vg($l),et=et($l),i.flags|=1,Yi$1(s,i,et,o),i.child;case 14:return et=i.type,$l=Lg(et,i.pendingProps),$l=Lg(et.type,$l),aj(s,i,et,$l,o);case 15:return cj(s,i,i.type,i.pendingProps,o);case 17:return et=i.type,$l=i.pendingProps,$l=i.elementType===et?$l:Lg(et,$l),jj(s,i),i.tag=1,Zf(et)?(s=!0,cg(i)):s=!1,Tg(i,o),ph$1(i,et,$l),rh$1(i,et,$l,o),kj(null,i,et,!0,s,o);case 19:return yj(s,i,o);case 22:return ej(s,i,o)}throw Error(p$2(156,i.tag))};function Gk(s,i){return ac$2(s,i)}function al$1(s,i,o,et){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=et,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(s,i,o,et){return new al$1(s,i,o,et)}function bj(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $k(s){if(typeof s=="function")return bj(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Da$1)return 11;if(s===Ga$2)return 14}return 2}function wh$1(s,i){var o=s.alternate;return o===null?(o=Bg(s.tag,i,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=i,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&14680064,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o}function yh$1(s,i,o,et,$l,Nl){var Ml=2;if(et=s,typeof s=="function")bj(s)&&(Ml=1);else if(typeof s=="string")Ml=5;else e:switch(s){case ya$2:return Ah$1(o.children,$l,Nl,i);case za$2:Ml=8,$l|=8;break;case Aa$2:return s=Bg(12,o,i,$l|2),s.elementType=Aa$2,s.lanes=Nl,s;case Ea$1:return s=Bg(13,o,i,$l),s.elementType=Ea$1,s.lanes=Nl,s;case Fa$2:return s=Bg(19,o,i,$l),s.elementType=Fa$2,s.lanes=Nl,s;case Ia$2:return qj(o,$l,Nl,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ba$1:Ml=10;break e;case Ca$2:Ml=9;break e;case Da$1:Ml=11;break e;case Ga$2:Ml=14;break e;case Ha$1:Ml=16,et=null;break e}throw Error(p$2(130,s==null?s:typeof s,""))}return i=Bg(Ml,o,i,$l),i.elementType=s,i.type=et,i.lanes=Nl,i}function Ah$1(s,i,o,et){return s=Bg(7,s,et,i),s.lanes=o,s}function qj(s,i,o,et){return s=Bg(22,s,et,i),s.elementType=Ia$2,s.lanes=o,s.stateNode={isHidden:!1},s}function xh$1(s,i,o){return s=Bg(6,s,null,i),s.lanes=o,s}function zh$1(s,i,o){return i=Bg(4,s.children!==null?s.children:[],s.key,i),i.lanes=o,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function bl$1(s,i,o,et,$l){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$2(0),this.expirationTimes=zc$2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$2(0),this.identifierPrefix=et,this.onRecoverableError=$l,this.mutableSourceEagerHydrationData=null}function cl$1(s,i,o,et,$l,Nl,Ml,Ol,Ll){return s=new bl$1(s,i,o,Ol,Ll),i===1?(i=1,Nl===!0&&(i|=8)):i=0,Nl=Bg(3,null,null,i),s.current=Nl,Nl.stateNode=s,Nl.memoizedState={element:et,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah$1(Nl),s}function dl$1(s,i,o){var et=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$2,key:et==null?null:""+et,children:s,containerInfo:i,implementation:o}}function el$1(s){if(!s)return Vf;s=s._reactInternals;e:{if(Vb$1(s)!==s||s.tag!==1)throw Error(p$2(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p$2(171))}if(s.tag===1){var o=s.type;if(Zf(o))return bg(s,o,i)}return i}function fl$1(s,i,o,et,$l,Nl,Ml,Ol,Ll){return s=cl$1(o,et,!0,s,$l,Nl,Ml,Ol,Ll),s.context=el$1(null),o=s.current,et=L$2(),$l=lh$1(o),Nl=ch$1(et,$l),Nl.callback=i!=null?i:null,dh$1(o,Nl,$l),s.current.lanes=$l,Ac$2(s,$l,et),Ek(s,et),s}function gl$1(s,i,o,et){var $l=i.current,Nl=L$2(),Ml=lh$1($l);return o=el$1(o),i.context===null?i.context=o:i.pendingContext=o,i=ch$1(Nl,Ml),i.payload={element:s},et=et===void 0?null:et,et!==null&&(i.callback=et),s=dh$1($l,i,Ml),s!==null&&(mh$1(s,$l,Ml,Nl),eh$1(s,$l,Ml)),Ml}function hl$1(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function il$1(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<i?o:i}}function jl(s,i){il$1(s,i),(s=s.alternate)&&il$1(s,i)}function kl(){return null}var ll$1=typeof reportError=="function"?reportError:function(s){console.error(s)};function ml$1(s){this._internalRoot=s}nl$1.prototype.render=ml$1.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(p$2(409));gl$1(s,i,null,null)};nl$1.prototype.unmount=ml$1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Sk(function(){gl$1(null,s,null,null)}),i[uf]=null}};function nl$1(s){this._internalRoot=s}nl$1.prototype.unstable_scheduleHydration=function(s){if(s){var i=Hc$2();s={blockedOn:null,target:s,priority:i};for(var o=0;o<Qc$2.length&&i!==0&&i<Qc$2[o].priority;o++);Qc$2.splice(o,0,s),o===0&&Vc$2(s)}};function ol$1(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function pl$1(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl$1(s,i,o,et,$l){if($l){if(typeof et=="function"){var Nl=et;et=function(){var Fl=hl$1(Ml);Nl.call(Fl)}}var Ml=fl$1(i,et,s,0,null,!1,!1,"",ql);return s._reactRootContainer=Ml,s[uf]=Ml.current,sf(s.nodeType===8?s.parentNode:s),Sk(),Ml}for(;$l=s.lastChild;)s.removeChild($l);if(typeof et=="function"){var Ol=et;et=function(){var Fl=hl$1(Ll);Ol.call(Fl)}}var Ll=cl$1(s,0,!1,null,null,!1,!1,"",ql);return s._reactRootContainer=Ll,s[uf]=Ll.current,sf(s.nodeType===8?s.parentNode:s),Sk(function(){gl$1(i,Ll,o,et)}),Ll}function sl$1(s,i,o,et,$l){var Nl=o._reactRootContainer;if(Nl){var Ml=Nl;if(typeof $l=="function"){var Ol=$l;$l=function(){var Ll=hl$1(Ml);Ol.call(Ll)}}gl$1(i,Ml,s,$l)}else Ml=rl$1(o,i,s,$l,et);return hl$1(Ml)}Ec$2=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var o=tc$2(i.pendingLanes);o!==0&&(Cc$2(i,o|1),Ek(i,B$2()),(K$2&6)===0&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var et=Zg(s,1);if(et!==null){var $l=L$2();mh$1(et,s,1,$l)}}),jl(s,1)}};Fc$2=function(s){if(s.tag===13){var i=Zg(s,134217728);if(i!==null){var o=L$2();mh$1(i,s,134217728,o)}jl(s,134217728)}};Gc$2=function(s){if(s.tag===13){var i=lh$1(s),o=Zg(s,i);if(o!==null){var et=L$2();mh$1(o,s,i,et)}jl(s,i)}};Hc$2=function(){return C$2};Ic$2=function(s,i){var o=C$2;try{return C$2=s,i()}finally{C$2=o}};yb$1=function(s,i,o){switch(i){case"input":if(bb$1(s,o),i=o.name,o.type==="radio"&&i!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var et=o[i];if(et!==s&&et.form===s.form){var $l=Db$1(et);if(!$l)throw Error(p$2(90));Wa$2(et),bb$1(et,$l)}}}break;case"textarea":ib$1(s,o);break;case"select":i=o.value,i!=null&&fb$1(s,!!o.multiple,i,!1)}};Gb$1=Rk;Hb$1=Sk;var tl$1={usingClientEntryPoint:!1,Events:[Cb$1,ue$1,Db$1,Eb$1,Fb$1,Rk]},ul$1={findFiberByHostInstance:Wc$2,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl$1={bundleType:ul$1.bundleType,version:ul$1.version,rendererPackageName:ul$1.rendererPackageName,rendererConfig:ul$1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$2.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Zb$1(s),s===null?null:s.stateNode},findFiberByHostInstance:ul$1.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var wl$1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl$1.isDisabled&&wl$1.supportsFiber)try{kc$2=wl$1.inject(vl$1),lc$2=wl$1}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl$1;reactDom_production_min.createPortal=function(s,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol$1(i))throw Error(p$2(200));return dl$1(s,i,null,o)};reactDom_production_min.createRoot=function(s,i){if(!ol$1(s))throw Error(p$2(299));var o=!1,et="",$l=ll$1;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(et=i.identifierPrefix),i.onRecoverableError!==void 0&&($l=i.onRecoverableError)),i=cl$1(s,1,!1,null,null,o,!1,et,$l),s[uf]=i.current,sf(s.nodeType===8?s.parentNode:s),new ml$1(i)};reactDom_production_min.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(p$2(188)):(s=Object.keys(s).join(","),Error(p$2(268,s)));return s=Zb$1(i),s=s===null?null:s.stateNode,s};reactDom_production_min.flushSync=function(s){return Sk(s)};reactDom_production_min.hydrate=function(s,i,o){if(!pl$1(i))throw Error(p$2(200));return sl$1(null,s,i,!0,o)};reactDom_production_min.hydrateRoot=function(s,i,o){if(!ol$1(s))throw Error(p$2(405));var et=o!=null&&o.hydratedSources||null,$l=!1,Nl="",Ml=ll$1;if(o!=null&&(o.unstable_strictMode===!0&&($l=!0),o.identifierPrefix!==void 0&&(Nl=o.identifierPrefix),o.onRecoverableError!==void 0&&(Ml=o.onRecoverableError)),i=fl$1(i,null,s,1,o!=null?o:null,$l,!1,Nl,Ml),s[uf]=i.current,sf(s),et)for(s=0;s<et.length;s++)o=et[s],$l=o._getVersion,$l=$l(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,$l]:i.mutableSourceEagerHydrationData.push(o,$l);return new nl$1(i)};reactDom_production_min.render=function(s,i,o){if(!pl$1(i))throw Error(p$2(200));return sl$1(null,s,i,!1,o)};reactDom_production_min.unmountComponentAtNode=function(s){if(!pl$1(s))throw Error(p$2(40));return s._reactRootContainer?(Sk(function(){sl$1(null,null,s,!1,function(){s._reactRootContainer=null,s[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(s,i,o,et){if(!pl$1(o))throw Error(p$2(200));if(s==null||s._reactInternals===void 0)throw Error(p$2(38));return sl$1(s,i,o,!1,et)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(s){console.error(s)}}checkDCE(),reactDom$1.exports=reactDom_production_min;var reactDom=reactDom$1.exports;function err(s){const i=new Error(s);if(i.stack===void 0)try{throw i}catch{}return i}var err_1=err,Recoil_err=err_1;function isPromise(s){return!!s&&typeof s.then=="function"}var Recoil_isPromise=isPromise;function nullthrows(s,i){if(s!=null)return s;throw Recoil_err(i!=null?i:"Got unexpected null or undefined")}var Recoil_nullthrows=nullthrows;function _defineProperty(s,i,o){return i in s?Object.defineProperty(s,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[i]=o,s}class BaseLoadable{getValue(){throw Recoil_err("BaseLoadable")}toPromise(){throw Recoil_err("BaseLoadable")}valueMaybe(){throw Recoil_err("BaseLoadable")}valueOrThrow(){throw Recoil_err(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Recoil_err("BaseLoadable")}promiseOrThrow(){throw Recoil_err(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Recoil_err("BaseLoadable")}errorOrThrow(){throw Recoil_err(`Loadable expected error, but in "${this.state}" state`)}is(i){return i.state===this.state&&i.contents===this.contents}map(i){throw Recoil_err("BaseLoadable")}}class ValueLoadable extends BaseLoadable{constructor(i){super(),_defineProperty(this,"state","hasValue"),_defineProperty(this,"contents",void 0),this.contents=i}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(i){try{const o=i(this.contents);return Recoil_isPromise(o)?loadableWithPromise(o):isLoadable(o)?o:loadableWithValue(o)}catch(o){return Recoil_isPromise(o)?loadableWithPromise(o.next(()=>this.map(i))):loadableWithError(o)}}}class ErrorLoadable extends BaseLoadable{constructor(i){super(),_defineProperty(this,"state","hasError"),_defineProperty(this,"contents",void 0),this.contents=i}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(i){return this}}class LoadingLoadable extends BaseLoadable{constructor(i){super(),_defineProperty(this,"state","loading"),_defineProperty(this,"contents",void 0),this.contents=i}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(i){return loadableWithPromise(this.contents.then(o=>{const et=i(o);if(isLoadable(et)){const $l=et;switch($l.state){case"hasValue":return $l.contents;case"hasError":throw $l.contents;case"loading":return $l.contents}}return et}).catch(o=>{if(Recoil_isPromise(o))return o.then(()=>this.map(i).contents);throw o}))}}function loadableWithValue(s){return Object.freeze(new ValueLoadable(s))}function loadableWithError(s){return Object.freeze(new ErrorLoadable(s))}function loadableWithPromise(s){return Object.freeze(new LoadingLoadable(s))}function loadableLoading(){return Object.freeze(new LoadingLoadable(new Promise(()=>{})))}function loadableAllArray(s){return s.every(i=>i.state==="hasValue")?loadableWithValue(s.map(i=>i.contents)):s.some(i=>i.state==="hasError")?loadableWithError(Recoil_nullthrows(s.find(i=>i.state==="hasError"),"Invalid loadable passed to loadableAll").contents):loadableWithPromise(Promise.all(s.map(i=>i.contents)))}function loadableAll(s){const o=(Array.isArray(s)?s:Object.getOwnPropertyNames(s).map($l=>s[$l])).map($l=>isLoadable($l)?$l:Recoil_isPromise($l)?loadableWithPromise($l):loadableWithValue($l)),et=loadableAllArray(o);return Array.isArray(s)?et:et.map($l=>Object.getOwnPropertyNames(s).reduce((Nl,Ml,Ol)=>({...Nl,[Ml]:$l[Ol]}),{}))}function isLoadable(s){return s instanceof BaseLoadable}const LoadableStaticInterface={of:s=>Recoil_isPromise(s)?loadableWithPromise(s):isLoadable(s)?s:loadableWithValue(s),error:s=>loadableWithError(s),loading:()=>loadableLoading(),all:loadableAll,isLoadable};var Recoil_Loadable={loadableWithValue,loadableWithError,loadableWithPromise,loadableLoading,loadableAll,isLoadable,RecoilLoadable:LoadableStaticInterface},Recoil_Loadable_1=Recoil_Loadable.loadableWithValue,Recoil_Loadable_2=Recoil_Loadable.loadableWithError,Recoil_Loadable_3=Recoil_Loadable.loadableWithPromise,Recoil_Loadable_4=Recoil_Loadable.loadableLoading,Recoil_Loadable_5=Recoil_Loadable.loadableAll,Recoil_Loadable_6=Recoil_Loadable.isLoadable,Recoil_Loadable_7=Recoil_Loadable.RecoilLoadable,Recoil_Loadable$1=Object.freeze({__proto__:null,loadableWithValue:Recoil_Loadable_1,loadableWithError:Recoil_Loadable_2,loadableWithPromise:Recoil_Loadable_3,loadableLoading:Recoil_Loadable_4,loadableAll:Recoil_Loadable_5,isLoadable:Recoil_Loadable_6,RecoilLoadable:Recoil_Loadable_7});const gks=new Map().set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function Recoil_gkx_OSS(s){var i;return(i=gks.get(s))!==null&&i!==void 0?i:!1}Recoil_gkx_OSS.setPass=s=>{gks.set(s,!0)};Recoil_gkx_OSS.setFail=s=>{gks.set(s,!1)};Recoil_gkx_OSS.clear=()=>{gks.clear()};var Recoil_gkx=Recoil_gkx_OSS,_createMutableSource,_useMutableSource,_useSyncExternalStore;const createMutableSource=(_createMutableSource=React.createMutableSource)!==null&&_createMutableSource!==void 0?_createMutableSource:React.unstable_createMutableSource,useMutableSource=(_useMutableSource=React.useMutableSource)!==null&&_useMutableSource!==void 0?_useMutableSource:React.unstable_useMutableSource,useSyncExternalStore=(_useSyncExternalStore=React.useSyncExternalStore)!==null&&_useSyncExternalStore!==void 0?_useSyncExternalStore:React.unstable_useSyncExternalStore;function reactMode(){return Recoil_gkx("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Recoil_gkx("recoil_sync_external_store")&&useSyncExternalStore!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Recoil_gkx("recoil_mutable_source")&&useMutableSource!=null&&typeof window!="undefined"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Recoil_gkx("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Recoil_gkx("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function isFastRefreshEnabled(){return!1}var Recoil_ReactMode={createMutableSource,useMutableSource,useSyncExternalStore,reactMode,isFastRefreshEnabled};class AbstractRecoilValue{constructor(i){_defineProperty(this,"key",void 0),this.key=i}toJSON(){return{key:this.key}}}class RecoilState extends AbstractRecoilValue{}class RecoilValueReadOnly extends AbstractRecoilValue{}function isRecoilValue(s){return s instanceof RecoilState||s instanceof RecoilValueReadOnly}var Recoil_RecoilValue={AbstractRecoilValue,RecoilState,RecoilValueReadOnly,isRecoilValue},Recoil_RecoilValue_1=Recoil_RecoilValue.AbstractRecoilValue,Recoil_RecoilValue_2=Recoil_RecoilValue.RecoilState,Recoil_RecoilValue_3=Recoil_RecoilValue.RecoilValueReadOnly,Recoil_RecoilValue_4=Recoil_RecoilValue.isRecoilValue,Recoil_RecoilValue$1=Object.freeze({__proto__:null,AbstractRecoilValue:Recoil_RecoilValue_1,RecoilState:Recoil_RecoilValue_2,RecoilValueReadOnly:Recoil_RecoilValue_3,isRecoilValue:Recoil_RecoilValue_4});function mapIterable(s,i){return function*(){let o=0;for(const et of s)yield i(et,o++)}()}var Recoil_mapIterable=mapIterable;function recoverableViolation(s,i,{error:o}={}){return null}var recoverableViolation_1=recoverableViolation,Recoil_recoverableViolation=recoverableViolation_1;class DefaultValue{}const DEFAULT_VALUE=new DefaultValue,nodes=new Map,recoilValues=new Map;function recoilValuesForKeys(s){return Recoil_mapIterable(s,i=>Recoil_nullthrows(recoilValues.get(i)))}function registerNode(s){if(nodes.has(s.key)){const o=`Duplicate atom key "${s.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(o)}nodes.set(s.key,s);const i=s.set==null?new Recoil_RecoilValue$1.RecoilValueReadOnly(s.key):new Recoil_RecoilValue$1.RecoilState(s.key);return recoilValues.set(s.key,i),i}class NodeMissingError extends Error{}function getNode(s){const i=nodes.get(s);if(i==null)throw new NodeMissingError(`Missing definition for RecoilValue: "${s}""`);return i}function getNodeMaybe(s){return nodes.get(s)}const configDeletionHandlers=new Map;function deleteNodeConfigIfPossible(s){var i;if(!Recoil_gkx("recoil_memory_managament_2020"))return;const o=nodes.get(s);if(o!=null&&(i=o.shouldDeleteConfigOnRelease)!==null&&i!==void 0&&i.call(o)){var et;nodes.delete(s),(et=getConfigDeletionHandler(s))===null||et===void 0||et(),configDeletionHandlers.delete(s)}}function setConfigDeletionHandler(s,i){!Recoil_gkx("recoil_memory_managament_2020")||(i===void 0?configDeletionHandlers.delete(s):configDeletionHandlers.set(s,i))}function getConfigDeletionHandler(s){return configDeletionHandlers.get(s)}var Recoil_Node={nodes,recoilValues,registerNode,getNode,getNodeMaybe,deleteNodeConfigIfPossible,setConfigDeletionHandler,getConfigDeletionHandler,recoilValuesForKeys,NodeMissingError,DefaultValue,DEFAULT_VALUE};function enqueueExecution(s,i){i()}var Recoil_Queue={enqueueExecution};function createCommonjsModule$1(s,i){return i={exports:{}},s(i,i.exports),i.exports}var hamt_1=createCommonjsModule$1(function(s){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y0){return typeof y0}:function(y0){return y0&&typeof Symbol=="function"&&y0.constructor===Symbol&&y0!==Symbol.prototype?"symbol":typeof y0},o={},et=5,$l=Math.pow(2,et),Nl=$l-1,Ml=$l/2,Ol=$l/4,Ll={},Fl=function(m0){return function(){return m0}},Bl=o.hash=function(y0){var m0=typeof y0=="undefined"?"undefined":i(y0);if(m0==="number")return y0;m0!=="string"&&(y0+="");for(var T0=0,A0=0,k0=y0.length;A0<k0;++A0){var R0=y0.charCodeAt(A0);T0=(T0<<5)-T0+R0|0}return T0},Ul=function(m0){return m0-=m0>>1&1431655765,m0=(m0&858993459)+(m0>>2&858993459),m0=m0+(m0>>4)&252645135,m0+=m0>>8,m0+=m0>>16,m0&127},Gl=function(m0,T0){return T0>>>m0&Nl},Wl=function(m0){return 1<<m0},zl=function(m0,T0){return Ul(m0&T0-1)},Ql=function(m0,T0,A0,k0){var R0=k0;if(!m0){var F0=k0.length;R0=new Array(F0);for(var O0=0;O0<F0;++O0)R0[O0]=k0[O0]}return R0[T0]=A0,R0},Jl=function(m0,T0,A0){var k0=A0.length-1,R0=0,F0=0,O0=A0;if(m0)R0=F0=T0;else for(O0=new Array(k0);R0<T0;)O0[F0++]=A0[R0++];for(++R0;R0<=k0;)O0[F0++]=A0[R0++];return m0&&(O0.length=k0),O0},Kl=function(m0,T0,A0,k0){var R0=k0.length;if(m0){for(var F0=R0;F0>=T0;)k0[F0--]=k0[F0];return k0[T0]=A0,k0}for(var O0=0,L0=0,B0=new Array(R0+1);O0<T0;)B0[L0++]=k0[O0++];for(B0[T0]=A0;O0<R0;)B0[++L0]=k0[O0++];return B0},Hl=1,Yl=2,Xl=3,Zl=4,_d={__hamt_isEmpty:!0},_f=function(m0){return m0===_d||m0&&m0.__hamt_isEmpty},e0=function(m0,T0,A0,k0){return{type:Hl,edit:m0,hash:T0,key:A0,value:k0,_modify:t0}},s0=function(m0,T0,A0){return{type:Yl,edit:m0,hash:T0,children:A0,_modify:r0}},u0=function(m0,T0,A0){return{type:Xl,edit:m0,mask:T0,children:A0,_modify:d0}},g0=function(m0,T0,A0){return{type:Zl,edit:m0,size:T0,children:A0,_modify:h0}},f0=function(m0){return m0===_d||m0.type===Hl||m0.type===Yl},_0=function(m0,T0,A0,k0,R0){for(var F0=[],O0=k0,L0=0,B0=0;O0;++B0)O0&1&&(F0[B0]=R0[L0++]),O0>>>=1;return F0[T0]=A0,g0(m0,L0+1,F0)},S0=function(m0,T0,A0,k0){for(var R0=new Array(T0-1),F0=0,O0=0,L0=0,B0=k0.length;L0<B0;++L0)if(L0!==A0){var z0=k0[L0];z0&&!_f(z0)&&(R0[F0++]=z0,O0|=1<<L0)}return u0(m0,O0,R0)},p0=function y0(m0,T0,A0,k0,R0,F0){if(A0===R0)return s0(m0,A0,[F0,k0]);var O0=Gl(T0,A0),L0=Gl(T0,R0);return u0(m0,Wl(O0)|Wl(L0),O0===L0?[y0(m0,T0+et,A0,k0,R0,F0)]:O0<L0?[k0,F0]:[F0,k0])},o0=function(m0,T0,A0,k0,R0,F0,O0,L0){for(var B0=R0.length,z0=0;z0<B0;++z0){var J0=R0[z0];if(A0(O0,J0.key)){var q0=J0.value,ep=F0(q0);return ep===q0?R0:ep===Ll?(--L0.value,Jl(m0,z0,R0)):Ql(m0,z0,e0(T0,k0,O0,ep),R0)}}var np=F0();return np===Ll?R0:(++L0.value,Ql(m0,B0,e0(T0,k0,O0,np),R0))},n0=function(m0,T0){return m0===T0.edit},t0=function(m0,T0,A0,k0,R0,F0,O0){if(T0(F0,this.key)){var L0=k0(this.value);return L0===this.value?this:L0===Ll?(--O0.value,_d):n0(m0,this)?(this.value=L0,this):e0(m0,R0,F0,L0)}var B0=k0();return B0===Ll?this:(++O0.value,p0(m0,A0,this.hash,this,R0,e0(m0,R0,F0,B0)))},r0=function(m0,T0,A0,k0,R0,F0,O0){if(R0===this.hash){var L0=n0(m0,this),B0=o0(L0,m0,T0,this.hash,this.children,k0,F0,O0);return B0===this.children?this:B0.length>1?s0(m0,this.hash,B0):B0[0]}var z0=k0();return z0===Ll?this:(++O0.value,p0(m0,A0,this.hash,this,R0,e0(m0,R0,F0,z0)))},d0=function(m0,T0,A0,k0,R0,F0,O0){var L0=this.mask,B0=this.children,z0=Gl(A0,R0),J0=Wl(z0),q0=zl(L0,J0),ep=L0&J0,np=ep?B0[q0]:_d,sp=np._modify(m0,T0,A0+et,k0,R0,F0,O0);if(np===sp)return this;var cp=n0(m0,this),ap=L0,lp=void 0;if(ep&&_f(sp)){if(ap&=~J0,!ap)return _d;if(B0.length<=2&&f0(B0[q0^1]))return B0[q0^1];lp=Jl(cp,q0,B0)}else if(!ep&&!_f(sp)){if(B0.length>=Ml)return _0(m0,z0,sp,L0,B0);ap|=J0,lp=Kl(cp,q0,sp,B0)}else lp=Ql(cp,q0,sp,B0);return cp?(this.mask=ap,this.children=lp,this):u0(m0,ap,lp)},h0=function(m0,T0,A0,k0,R0,F0,O0){var L0=this.size,B0=this.children,z0=Gl(A0,R0),J0=B0[z0],q0=(J0||_d)._modify(m0,T0,A0+et,k0,R0,F0,O0);if(J0===q0)return this;var ep=n0(m0,this),np=void 0;if(_f(J0)&&!_f(q0))++L0,np=Ql(ep,z0,q0,B0);else if(!_f(J0)&&_f(q0)){if(--L0,L0<=Ol)return S0(m0,L0,z0,B0);np=Ql(ep,z0,_d,B0)}else np=Ql(ep,z0,q0,B0);return ep?(this.size=L0,this.children=np,this):g0(m0,L0,np)};_d._modify=function(y0,m0,T0,A0,k0,R0,F0){var O0=A0();return O0===Ll?_d:(++F0.value,e0(y0,k0,R0,O0))};function i0(y0,m0,T0,A0,k0){this._editable=y0,this._edit=m0,this._config=T0,this._root=A0,this._size=k0}i0.prototype.setTree=function(y0,m0){return this._editable?(this._root=y0,this._size=m0,this):y0===this._root?this:new i0(this._editable,this._edit,this._config,y0,m0)};var c0=o.tryGetHash=function(y0,m0,T0,A0){for(var k0=A0._root,R0=0,F0=A0._config.keyEq;;)switch(k0.type){case Hl:return F0(T0,k0.key)?k0.value:y0;case Yl:{if(m0===k0.hash)for(var O0=k0.children,L0=0,B0=O0.length;L0<B0;++L0){var z0=O0[L0];if(F0(T0,z0.key))return z0.value}return y0}case Xl:{var J0=Gl(R0,m0),q0=Wl(J0);if(k0.mask&q0){k0=k0.children[zl(k0.mask,q0)],R0+=et;break}return y0}case Zl:{if(k0=k0.children[Gl(R0,m0)],k0){R0+=et;break}return y0}default:return y0}};i0.prototype.tryGetHash=function(y0,m0,T0){return c0(y0,m0,T0,this)};var a0=o.tryGet=function(y0,m0,T0){return c0(y0,T0._config.hash(m0),m0,T0)};i0.prototype.tryGet=function(y0,m0){return a0(y0,m0,this)};var v0=o.getHash=function(y0,m0,T0){return c0(void 0,y0,m0,T0)};i0.prototype.getHash=function(y0,m0){return v0(y0,m0,this)},o.get=function(y0,m0){return c0(void 0,m0._config.hash(y0),y0,m0)},i0.prototype.get=function(y0,m0){return a0(m0,y0,this)};var l0=o.has=function(y0,m0,T0){return c0(Ll,y0,m0,T0)!==Ll};i0.prototype.hasHash=function(y0,m0){return l0(y0,m0,this)};var b0=o.has=function(y0,m0){return l0(m0._config.hash(y0),y0,m0)};i0.prototype.has=function(y0){return b0(y0,this)};var E0=function(m0,T0){return m0===T0};o.make=function(y0){return new i0(0,0,{keyEq:y0&&y0.keyEq||E0,hash:y0&&y0.hash||Bl},_d,0)},o.empty=o.make();var C0=o.isEmpty=function(y0){return y0&&!!_f(y0._root)};i0.prototype.isEmpty=function(){return C0(this)};var $0=o.modifyHash=function(y0,m0,T0,A0){var k0={value:A0._size},R0=A0._root._modify(A0._editable?A0._edit:NaN,A0._config.keyEq,0,y0,m0,T0,k0);return A0.setTree(R0,k0.value)};i0.prototype.modifyHash=function(y0,m0,T0){return $0(T0,y0,m0,this)};var I0=o.modify=function(y0,m0,T0){return $0(y0,T0._config.hash(m0),m0,T0)};i0.prototype.modify=function(y0,m0){return I0(m0,y0,this)};var x0=o.setHash=function(y0,m0,T0,A0){return $0(Fl(T0),y0,m0,A0)};i0.prototype.setHash=function(y0,m0,T0){return x0(y0,m0,T0,this)};var w0=o.set=function(y0,m0,T0){return x0(T0._config.hash(y0),y0,m0,T0)};i0.prototype.set=function(y0,m0){return w0(y0,m0,this)};var M0=Fl(Ll),D0=o.removeHash=function(y0,m0,T0){return $0(M0,y0,m0,T0)};i0.prototype.removeHash=i0.prototype.deleteHash=function(y0,m0){return D0(y0,m0,this)};var V0=o.remove=function(y0,m0){return D0(m0._config.hash(y0),y0,m0)};i0.prototype.remove=i0.prototype.delete=function(y0){return V0(y0,this)};var N0=o.beginMutation=function(y0){return new i0(y0._editable+1,y0._edit+1,y0._config,y0._root,y0._size)};i0.prototype.beginMutation=function(){return N0(this)};var j0=o.endMutation=function(y0){return y0._editable=y0._editable&&y0._editable-1,y0};i0.prototype.endMutation=function(){return j0(this)};var K0=o.mutate=function(y0,m0){var T0=N0(m0);return y0(T0),j0(T0)};i0.prototype.mutate=function(y0){return K0(y0,this)};var G0=function(m0){return m0&&W0(m0[0],m0[1],m0[2],m0[3],m0[4])},W0=function(m0,T0,A0,k0,R0){for(;A0<m0;){var F0=T0[A0++];if(F0&&!_f(F0))return Y0(F0,k0,[m0,T0,A0,k0,R0])}return G0(R0)},Y0=function(m0,T0,A0){switch(m0.type){case Hl:return{value:T0(m0),rest:A0};case Yl:case Zl:case Xl:var k0=m0.children;return W0(k0.length,k0,0,T0,A0);default:return G0(A0)}},H0={done:!0};function P0(y0){this.v=y0}P0.prototype.next=function(){if(!this.v)return H0;var y0=this.v;return this.v=G0(y0.rest),y0},P0.prototype[Symbol.iterator]=function(){return this};var U0=function(m0,T0){return new P0(Y0(m0._root,T0))},Q0=function(m0){return[m0.key,m0.value]},Z0=o.entries=function(y0){return U0(y0,Q0)};i0.prototype.entries=i0.prototype[Symbol.iterator]=function(){return Z0(this)};var X0=function(m0){return m0.key},rp=o.keys=function(y0){return U0(y0,X0)};i0.prototype.keys=function(){return rp(this)};var hp=function(m0){return m0.value},dp=o.values=i0.prototype.values=function(y0){return U0(y0,hp)};i0.prototype.values=function(){return dp(this)};var up=o.fold=function(y0,m0,T0){var A0=T0._root;if(A0.type===Hl)return y0(m0,A0.value,A0.key);for(var k0=[A0.children],R0=void 0;R0=k0.pop();)for(var F0=0,O0=R0.length;F0<O0;){var L0=R0[F0++];L0&&L0.type&&(L0.type===Hl?m0=y0(m0,L0.value,L0.key):k0.push(L0.children))}return m0};i0.prototype.fold=function(y0,m0){return up(y0,m0,this)};var fp=o.forEach=function(y0,m0){return up(function(T0,A0,k0){return y0(A0,k0,m0)},null,m0)};i0.prototype.forEach=function(y0){return fp(y0,this)};var pp=o.count=function(y0){return y0._size};i0.prototype.count=function(){return pp(this)},Object.defineProperty(i0.prototype,"size",{get:i0.prototype.count}),s.exports?s.exports=o:(void 0).hamt=o});class BuiltInMap{constructor(i){_defineProperty(this,"_map",void 0),this._map=new Map(i==null?void 0:i.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(i){return this._map.get(i)}has(i){return this._map.has(i)}set(i,o){return this._map.set(i,o),this}delete(i){return this._map.delete(i),this}clone(){return persistentMap(this)}toMap(){return new Map(this._map)}}class HashArrayMappedTrieMap{constructor(i){if(_defineProperty(this,"_hamt",hamt_1.empty.beginMutation()),i instanceof HashArrayMappedTrieMap){const o=i._hamt.endMutation();i._hamt=o.beginMutation(),this._hamt=o.beginMutation()}else if(i)for(const[o,et]of i.entries())this._hamt.set(o,et)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(i){return this._hamt.get(i)}has(i){return this._hamt.has(i)}set(i,o){return this._hamt.set(i,o),this}delete(i){return this._hamt.delete(i),this}clone(){return persistentMap(this)}toMap(){return new Map(this._hamt)}}function persistentMap(s){return Recoil_gkx("recoil_hamt_2020")?new HashArrayMappedTrieMap(s):new BuiltInMap(s)}var Recoil_PersistentMap={persistentMap},Recoil_PersistentMap_1=Recoil_PersistentMap.persistentMap,Recoil_PersistentMap$1=Object.freeze({__proto__:null,persistentMap:Recoil_PersistentMap_1});function differenceSets(s,...i){const o=new Set;e:for(const et of s){for(const $l of i)if($l.has(et))continue e;o.add(et)}return o}var Recoil_differenceSets=differenceSets;function mapMap(s,i){const o=new Map;return s.forEach((et,$l)=>{o.set($l,i(et,$l))}),o}var Recoil_mapMap=mapMap;function makeGraph(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function cloneGraph(s){return{nodeDeps:Recoil_mapMap(s.nodeDeps,i=>new Set(i)),nodeToNodeSubscriptions:Recoil_mapMap(s.nodeToNodeSubscriptions,i=>new Set(i))}}function mergeDepsIntoGraph(s,i,o,et){const{nodeDeps:$l,nodeToNodeSubscriptions:Nl}=o,Ml=$l.get(s);if(Ml&&et&&Ml!==et.nodeDeps.get(s))return;$l.set(s,i);const Ol=Ml==null?i:Recoil_differenceSets(i,Ml);for(const Ll of Ol)Nl.has(Ll)||Nl.set(Ll,new Set),Recoil_nullthrows(Nl.get(Ll)).add(s);if(Ml){const Ll=Recoil_differenceSets(Ml,i);for(const Fl of Ll){if(!Nl.has(Fl))return;const Bl=Recoil_nullthrows(Nl.get(Fl));Bl.delete(s),Bl.size===0&&Nl.delete(Fl)}}}function saveDepsToStore(s,i,o,et){var $l,Nl,Ml,Ol;const Ll=o.getState();et===Ll.currentTree.version||et===(($l=Ll.nextTree)===null||$l===void 0?void 0:$l.version)||((Nl=Ll.previousTree)===null||Nl===void 0||Nl.version);const Fl=o.getGraph(et);if(mergeDepsIntoGraph(s,i,Fl),et===((Ml=Ll.previousTree)===null||Ml===void 0?void 0:Ml.version)){const Ul=o.getGraph(Ll.currentTree.version);mergeDepsIntoGraph(s,i,Ul,Fl)}if(et===((Ol=Ll.previousTree)===null||Ol===void 0?void 0:Ol.version)||et===Ll.currentTree.version){var Bl;const Ul=(Bl=Ll.nextTree)===null||Bl===void 0?void 0:Bl.version;if(Ul!==void 0){const Gl=o.getGraph(Ul);mergeDepsIntoGraph(s,i,Gl,Fl)}}}var Recoil_Graph={cloneGraph,graph:makeGraph,saveDepsToStore};let nextTreeStateVersion=0;const getNextTreeStateVersion=()=>nextTreeStateVersion++;let nextStoreID=0;const getNextStoreID=()=>nextStoreID++;let nextComponentID=0;const getNextComponentID=()=>nextComponentID++;var Recoil_Keys={getNextTreeStateVersion,getNextStoreID,getNextComponentID};const{persistentMap:persistentMap$1}=Recoil_PersistentMap$1,{graph}=Recoil_Graph,{getNextTreeStateVersion:getNextTreeStateVersion$1}=Recoil_Keys;function makeEmptyTreeState(){const s=getNextTreeStateVersion$1();return{version:s,stateID:s,transactionMetadata:{},dirtyAtoms:new Set,atomValues:persistentMap$1(),nonvalidatedAtoms:persistentMap$1()}}function makeEmptyStoreState(){const s=makeEmptyTreeState();return{currentTree:s,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(s.version,graph()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Recoil_State={makeEmptyTreeState,makeEmptyStoreState,getNextTreeStateVersion:getNextTreeStateVersion$1};class RetentionZone{}function retentionZone(){return new RetentionZone}var Recoil_RetentionZone={RetentionZone,retentionZone};function setByAddingToSet(s,i){const o=new Set(s);return o.add(i),o}function setByDeletingFromSet(s,i){const o=new Set(s);return o.delete(i),o}function mapBySettingInMap(s,i,o){const et=new Map(s);return et.set(i,o),et}function mapByUpdatingInMap(s,i,o){const et=new Map(s);return et.set(i,o(et.get(i))),et}function mapByDeletingFromMap(s,i){const o=new Map(s);return o.delete(i),o}function mapByDeletingMultipleFromMap(s,i){const o=new Map(s);return i.forEach(et=>o.delete(et)),o}var Recoil_CopyOnWrite={setByAddingToSet,setByDeletingFromSet,mapBySettingInMap,mapByUpdatingInMap,mapByDeletingFromMap,mapByDeletingMultipleFromMap};function*filterIterable(s,i){let o=0;for(const et of s)i(et,o++)&&(yield et)}var Recoil_filterIterable=filterIterable;function lazyProxy(s,i){return new Proxy(s,{get:(et,$l)=>(!($l in et)&&$l in i&&(et[$l]=i[$l]()),et[$l]),ownKeys:et=>Object.keys(et)})}var Recoil_lazyProxy=lazyProxy;const{getNode:getNode$1,getNodeMaybe:getNodeMaybe$1,recoilValuesForKeys:recoilValuesForKeys$1}=Recoil_Node,{RetentionZone:RetentionZone$1}=Recoil_RetentionZone,{setByAddingToSet:setByAddingToSet$1}=Recoil_CopyOnWrite,emptySet=Object.freeze(new Set);class ReadOnlyRecoilValueError extends Error{}function initializeRetentionForNode(s,i,o){if(!Recoil_gkx("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:et}=s.getState().retention;function $l(Nl){let Ml=et.get(Nl);Ml||et.set(Nl,Ml=new Set),Ml.add(i)}if(o instanceof RetentionZone$1)$l(o);else if(Array.isArray(o))for(const Nl of o)$l(Nl);return()=>{if(!Recoil_gkx("recoil_memory_managament_2020"))return;const{retention:Nl}=s.getState();function Ml(Ol){const Ll=Nl.nodesRetainedByZone.get(Ol);Ll==null||Ll.delete(i),Ll&&Ll.size===0&&Nl.nodesRetainedByZone.delete(Ol)}if(o instanceof RetentionZone$1)Ml(o);else if(Array.isArray(o))for(const Ol of o)Ml(Ol)}}function initializeNodeIfNewToStore(s,i,o,et){const $l=s.getState();if($l.nodeCleanupFunctions.has(o))return;const Nl=getNode$1(o),Ml=initializeRetentionForNode(s,o,Nl.retainedBy),Ol=Nl.init(s,i,et);$l.nodeCleanupFunctions.set(o,()=>{Ol(),Ml()})}function initializeNode(s,i,o){initializeNodeIfNewToStore(s,s.getState().currentTree,i,o)}function cleanUpNode(s,i){var o;const et=s.getState();(o=et.nodeCleanupFunctions.get(i))===null||o===void 0||o(),et.nodeCleanupFunctions.delete(i)}function getNodeLoadable(s,i,o){return initializeNodeIfNewToStore(s,i,o,"get"),getNode$1(o).get(s,i)}function peekNodeLoadable(s,i,o){return getNode$1(o).peek(s,i)}function setUnvalidatedAtomValue_DEPRECATED(s,i,o){var et;const $l=getNodeMaybe$1(i);return $l==null||(et=$l.invalidate)===null||et===void 0||et.call($l,s),{...s,atomValues:s.atomValues.clone().delete(i),nonvalidatedAtoms:s.nonvalidatedAtoms.clone().set(i,o),dirtyAtoms:setByAddingToSet$1(s.dirtyAtoms,i)}}function setNodeValue(s,i,o,et){const $l=getNode$1(o);if($l.set==null)throw new ReadOnlyRecoilValueError(`Attempt to set read-only RecoilValue: ${o}`);const Nl=$l.set;return initializeNodeIfNewToStore(s,i,o,"set"),Nl(s,i,et)}function peekNodeInfo(s,i,o){const et=s.getState(),$l=s.getGraph(i.version),Nl=getNode$1(o).nodeType;return Recoil_lazyProxy({type:Nl},{loadable:()=>peekNodeLoadable(s,i,o),isActive:()=>et.knownAtoms.has(o)||et.knownSelectors.has(o),isSet:()=>Nl==="selector"?!1:i.atomValues.has(o),isModified:()=>i.dirtyAtoms.has(o),deps:()=>{var Ml;return recoilValuesForKeys$1((Ml=$l.nodeDeps.get(o))!==null&&Ml!==void 0?Ml:[])},subscribers:()=>{var Ml,Ol;return{nodes:recoilValuesForKeys$1(Recoil_filterIterable(getDownstreamNodes(s,i,new Set([o])),Ll=>Ll!==o)),components:Recoil_mapIterable((Ml=(Ol=et.nodeToComponentSubscriptions.get(o))===null||Ol===void 0?void 0:Ol.values())!==null&&Ml!==void 0?Ml:[],([Ll])=>({name:Ll}))}}})}function getDownstreamNodes(s,i,o){const et=new Set,$l=Array.from(o),Nl=s.getGraph(i.version);for(let Ol=$l.pop();Ol;Ol=$l.pop()){var Ml;et.add(Ol);const Ll=(Ml=Nl.nodeToNodeSubscriptions.get(Ol))!==null&&Ml!==void 0?Ml:emptySet;for(const Fl of Ll)et.has(Fl)||$l.push(Fl)}return et}var Recoil_FunctionalCore={getNodeLoadable,peekNodeLoadable,setNodeValue,initializeNode,cleanUpNode,setUnvalidatedAtomValue_DEPRECATED,peekNodeInfo,getDownstreamNodes};let _invalidateMemoizedSnapshot=null;function setInvalidateMemoizedSnapshot(s){_invalidateMemoizedSnapshot=s}function invalidateMemoizedSnapshot(){var s;(s=_invalidateMemoizedSnapshot)===null||s===void 0||s()}var Recoil_SnapshotCache={setInvalidateMemoizedSnapshot,invalidateMemoizedSnapshot};const{getDownstreamNodes:getDownstreamNodes$1,getNodeLoadable:getNodeLoadable$1,setNodeValue:setNodeValue$1}=Recoil_FunctionalCore,{getNextComponentID:getNextComponentID$1}=Recoil_Keys,{getNode:getNode$2,getNodeMaybe:getNodeMaybe$2}=Recoil_Node,{DefaultValue:DefaultValue$1}=Recoil_Node,{reactMode:reactMode$1}=Recoil_ReactMode,{AbstractRecoilValue:AbstractRecoilValue$1,RecoilState:RecoilState$1,RecoilValueReadOnly:RecoilValueReadOnly$1,isRecoilValue:isRecoilValue$1}=Recoil_RecoilValue$1,{invalidateMemoizedSnapshot:invalidateMemoizedSnapshot$1}=Recoil_SnapshotCache;function getRecoilValueAsLoadable(s,{key:i},o=s.getState().currentTree){var et,$l;const Nl=s.getState();o.version===Nl.currentTree.version||o.version===((et=Nl.nextTree)===null||et===void 0?void 0:et.version)||(o.version,($l=Nl.previousTree)===null||$l===void 0||$l.version);const Ml=getNodeLoadable$1(s,o,i);return Ml.state==="loading"&&Ml.contents.catch(()=>{}),Ml}function applyAtomValueWrites(s,i){const o=s.clone();return i.forEach((et,$l)=>{et.state==="hasValue"&&et.contents instanceof DefaultValue$1?o.delete($l):o.set($l,et)}),o}function valueFromValueOrUpdater(s,i,{key:o},et){if(typeof et=="function"){const $l=getNodeLoadable$1(s,i,o);if($l.state==="loading"){const Nl=`Tried to set atom or selector "${o}" using an updater function while the current state is pending, this is not currently supported.`;throw Recoil_err(Nl)}else if($l.state==="hasError")throw $l.contents;return et($l.contents)}else return et}function applyAction(s,i,o){if(o.type==="set"){const{recoilValue:$l,valueOrUpdater:Nl}=o,Ml=valueFromValueOrUpdater(s,i,$l,Nl),Ol=setNodeValue$1(s,i,$l.key,Ml);for(const[Ll,Fl]of Ol.entries())writeLoadableToTreeState(i,Ll,Fl)}else if(o.type==="setLoadable"){const{recoilValue:{key:$l},loadable:Nl}=o;writeLoadableToTreeState(i,$l,Nl)}else if(o.type==="markModified"){const{recoilValue:{key:$l}}=o;i.dirtyAtoms.add($l)}else if(o.type==="setUnvalidated"){var et;const{recoilValue:{key:$l},unvalidatedValue:Nl}=o,Ml=getNodeMaybe$2($l);Ml==null||(et=Ml.invalidate)===null||et===void 0||et.call(Ml,i),i.atomValues.delete($l),i.nonvalidatedAtoms.set($l,Nl),i.dirtyAtoms.add($l)}else Recoil_recoverableViolation(`Unknown action ${o.type}`)}function writeLoadableToTreeState(s,i,o){o.state==="hasValue"&&o.contents instanceof DefaultValue$1?s.atomValues.delete(i):s.atomValues.set(i,o),s.dirtyAtoms.add(i),s.nonvalidatedAtoms.delete(i)}function applyActionsToStore(s,i){s.replaceState(o=>{const et=copyTreeState(o);for(const $l of i)applyAction(s,et,$l);return invalidateDownstreams(s,et),invalidateMemoizedSnapshot$1(),et})}function queueOrPerformStateUpdate(s,i){if(batchStack.length){const o=batchStack[batchStack.length-1];let et=o.get(s);et||o.set(s,et=[]),et.push(i)}else applyActionsToStore(s,[i])}const batchStack=[];function batchStart(){const s=new Map;return batchStack.push(s),()=>{for(const[i,o]of s)applyActionsToStore(i,o);batchStack.pop()}}function copyTreeState(s){return{...s,atomValues:s.atomValues.clone(),nonvalidatedAtoms:s.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(s.dirtyAtoms)}}function invalidateDownstreams(s,i){const o=getDownstreamNodes$1(s,i,i.dirtyAtoms);for(const Nl of o){var et,$l;(et=getNodeMaybe$2(Nl))===null||et===void 0||($l=et.invalidate)===null||$l===void 0||$l.call(et,i)}}function setRecoilValue(s,i,o){queueOrPerformStateUpdate(s,{type:"set",recoilValue:i,valueOrUpdater:o})}function setRecoilValueLoadable(s,i,o){if(o instanceof DefaultValue$1)return setRecoilValue(s,i,o);queueOrPerformStateUpdate(s,{type:"setLoadable",recoilValue:i,loadable:o})}function markRecoilValueModified(s,i){queueOrPerformStateUpdate(s,{type:"markModified",recoilValue:i})}function setUnvalidatedRecoilValue(s,i,o){queueOrPerformStateUpdate(s,{type:"setUnvalidated",recoilValue:i,unvalidatedValue:o})}function subscribeToRecoilValue(s,{key:i},o,et=null){const $l=getNextComponentID$1(),Nl=s.getState();Nl.nodeToComponentSubscriptions.has(i)||Nl.nodeToComponentSubscriptions.set(i,new Map),Recoil_nullthrows(Nl.nodeToComponentSubscriptions.get(i)).set($l,[et!=null?et:"<not captured>",o]);const Ml=reactMode$1();if(Ml.early&&(Ml.mode==="LEGACY"||Ml.mode==="MUTABLE_SOURCE")){const Ol=s.getState().nextTree;Ol&&Ol.dirtyAtoms.has(i)&&o(Ol)}return{release:()=>{const Ol=s.getState(),Ll=Ol.nodeToComponentSubscriptions.get(i);Ll===void 0||!Ll.has($l)||(Ll.delete($l),Ll.size===0&&Ol.nodeToComponentSubscriptions.delete(i))}}}function refreshRecoilValue(s,i){var o;const{currentTree:et}=s.getState(),$l=getNode$2(i.key);(o=$l.clearCache)===null||o===void 0||o.call($l,s,et)}var Recoil_RecoilValueInterface={RecoilValueReadOnly:RecoilValueReadOnly$1,AbstractRecoilValue:AbstractRecoilValue$1,RecoilState:RecoilState$1,getRecoilValueAsLoadable,setRecoilValue,setRecoilValueLoadable,markRecoilValueModified,setUnvalidatedRecoilValue,subscribeToRecoilValue,isRecoilValue:isRecoilValue$1,applyAtomValueWrites,batchStart,writeLoadableToTreeState,invalidateDownstreams,copyTreeState,refreshRecoilValue};function someSet(s,i,o){const et=s.entries();let $l=et.next();for(;!$l.done;){const Nl=$l.value;if(i.call(o,Nl[1],Nl[0],s))return!0;$l=et.next()}return!1}var Recoil_someSet=someSet;const{cleanUpNode:cleanUpNode$1}=Recoil_FunctionalCore,{deleteNodeConfigIfPossible:deleteNodeConfigIfPossible$1,getNode:getNode$3}=Recoil_Node,{RetentionZone:RetentionZone$2}=Recoil_RetentionZone,SUSPENSE_TIMEOUT_MS=12e4,emptySet$1=new Set;function releaseRetainablesNowOnCurrentTree(s,i){const o=s.getState(),et=o.currentTree;if(o.nextTree)return;const $l=new Set;for(const Ml of i)if(Ml instanceof RetentionZone$2)for(const Ol of nodesRetainedByZone(o,Ml))$l.add(Ol);else $l.add(Ml);const Nl=findReleasableNodes(s,$l);for(const Ml of Nl)releaseNode(s,et,Ml)}function findReleasableNodes(s,i){const o=s.getState(),et=o.currentTree,$l=s.getGraph(et.version),Nl=new Set,Ml=new Set;return Ol(i),Nl;function Ol(Ll){const Fl=new Set,Bl=getDownstreamNodesInTopologicalOrder(s,et,Ll,Nl,Ml);for(const zl of Bl){var Ul;if(getNode$3(zl).retainedBy==="recoilRoot"){Ml.add(zl);continue}if(((Ul=o.retention.referenceCounts.get(zl))!==null&&Ul!==void 0?Ul:0)>0){Ml.add(zl);continue}if(zonesThatCouldRetainNode(zl).some(Jl=>o.retention.referenceCounts.get(Jl))){Ml.add(zl);continue}const Ql=$l.nodeToNodeSubscriptions.get(zl);if(Ql&&Recoil_someSet(Ql,Jl=>Ml.has(Jl))){Ml.add(zl);continue}Nl.add(zl),Fl.add(zl)}const Gl=new Set;for(const zl of Fl)for(const Ql of(Wl=$l.nodeDeps.get(zl))!==null&&Wl!==void 0?Wl:emptySet$1){var Wl;Nl.has(Ql)||Gl.add(Ql)}Gl.size&&Ol(Gl)}}function getDownstreamNodesInTopologicalOrder(s,i,o,et,$l){const Nl=s.getGraph(i.version),Ml=[],Ol=new Set;for(;o.size>0;)Ll(Recoil_nullthrows(o.values().next().value));return Ml;function Ll(Fl){if(et.has(Fl)||$l.has(Fl)){o.delete(Fl);return}if(Ol.has(Fl))return;const Bl=Nl.nodeToNodeSubscriptions.get(Fl);if(Bl)for(const Ul of Bl)Ll(Ul);Ol.add(Fl),o.delete(Fl),Ml.push(Fl)}}function releaseNode(s,i,o){if(!Recoil_gkx("recoil_memory_managament_2020"))return;cleanUpNode$1(s,o);const et=s.getState();et.knownAtoms.delete(o),et.knownSelectors.delete(o),et.nodeTransactionSubscriptions.delete(o),et.retention.referenceCounts.delete(o);const $l=zonesThatCouldRetainNode(o);for(const Ll of $l){var Nl;(Nl=et.retention.nodesRetainedByZone.get(Ll))===null||Nl===void 0||Nl.delete(o)}i.atomValues.delete(o),i.dirtyAtoms.delete(o),i.nonvalidatedAtoms.delete(o);const Ml=et.graphsByVersion.get(i.version);if(Ml){const Ll=Ml.nodeDeps.get(o);if(Ll!==void 0){Ml.nodeDeps.delete(o);for(const Fl of Ll){var Ol;(Ol=Ml.nodeToNodeSubscriptions.get(Fl))===null||Ol===void 0||Ol.delete(o)}}Ml.nodeToNodeSubscriptions.delete(o)}deleteNodeConfigIfPossible$1(o)}function nodesRetainedByZone(s,i){var o;return(o=s.retention.nodesRetainedByZone.get(i))!==null&&o!==void 0?o:emptySet$1}function zonesThatCouldRetainNode(s){const i=getNode$3(s).retainedBy;return i===void 0||i==="components"||i==="recoilRoot"?[]:i instanceof RetentionZone$2?[i]:i}function scheduleOrPerformPossibleReleaseOfRetainable(s,i){const o=s.getState();o.nextTree?o.retention.retainablesToCheckForRelease.add(i):releaseRetainablesNowOnCurrentTree(s,new Set([i]))}function updateRetainCount(s,i,o){var et;if(!Recoil_gkx("recoil_memory_managament_2020"))return;const $l=s.getState().retention.referenceCounts,Nl=((et=$l.get(i))!==null&&et!==void 0?et:0)+o;Nl===0?updateRetainCountToZero(s,i):$l.set(i,Nl)}function updateRetainCountToZero(s,i){if(!Recoil_gkx("recoil_memory_managament_2020"))return;s.getState().retention.referenceCounts.delete(i),scheduleOrPerformPossibleReleaseOfRetainable(s,i)}function releaseScheduledRetainablesNow(s){if(!Recoil_gkx("recoil_memory_managament_2020"))return;const i=s.getState();releaseRetainablesNowOnCurrentTree(s,i.retention.retainablesToCheckForRelease),i.retention.retainablesToCheckForRelease.clear()}function retainedByOptionWithDefault(s){return s===void 0?"recoilRoot":s}var Recoil_Retention={SUSPENSE_TIMEOUT_MS,updateRetainCount,updateRetainCountToZero,releaseScheduledRetainablesNow,retainedByOptionWithDefault};const{unstable_batchedUpdates}=reactDom;var ReactBatchedUpdates={unstable_batchedUpdates};const{unstable_batchedUpdates:unstable_batchedUpdates$1}=ReactBatchedUpdates;var Recoil_ReactBatchedUpdates={unstable_batchedUpdates:unstable_batchedUpdates$1};const{batchStart:batchStart$1}=Recoil_RecoilValueInterface,{unstable_batchedUpdates:unstable_batchedUpdates$2}=Recoil_ReactBatchedUpdates;let batcher=unstable_batchedUpdates$2;const setBatcher=s=>{batcher=s},getBatcher=()=>batcher,batchUpdates=s=>{batcher(()=>{let i=()=>{};try{i=batchStart$1(),s()}finally{i()}})};var Recoil_Batching={getBatcher,setBatcher,batchUpdates};function*concatIterables(s){for(const i of s)for(const o of i)yield o}var Recoil_concatIterables=concatIterables;const isSSR=typeof Window=="undefined"||typeof window=="undefined",isWindow=s=>!isSSR&&(s===window||s instanceof Window),isReactNative$1=typeof navigator!="undefined"&&navigator.product==="ReactNative";var Recoil_Environment={isSSR,isReactNative:isReactNative$1,isWindow};function memoizeWithArgsHash(s,i){let o;return(...$l)=>{o||(o={});const Nl=i(...$l);return Object.hasOwnProperty.call(o,Nl)||(o[Nl]=s(...$l)),o[Nl]}}function memoizeOneWithArgsHash(s,i){let o,et;return(...Nl)=>{const Ml=i(...Nl);return o===Ml||(o=Ml,et=s(...Nl)),et}}function memoizeOneWithArgsHashAndInvalidation(s,i){let o,et;return[(...Ml)=>{const Ol=i(...Ml);return o===Ol||(o=Ol,et=s(...Ml)),et},()=>{o=null}]}var Recoil_Memoize={memoizeWithArgsHash,memoizeOneWithArgsHash,memoizeOneWithArgsHashAndInvalidation};const{batchUpdates:batchUpdates$1}=Recoil_Batching,{initializeNode:initializeNode$1,peekNodeInfo:peekNodeInfo$1}=Recoil_FunctionalCore,{graph:graph$1}=Recoil_Graph,{getNextStoreID:getNextStoreID$1}=Recoil_Keys,{DEFAULT_VALUE:DEFAULT_VALUE$1,recoilValues:recoilValues$1,recoilValuesForKeys:recoilValuesForKeys$2}=Recoil_Node,{AbstractRecoilValue:AbstractRecoilValue$2,getRecoilValueAsLoadable:getRecoilValueAsLoadable$1,setRecoilValue:setRecoilValue$1,setUnvalidatedRecoilValue:setUnvalidatedRecoilValue$1}=Recoil_RecoilValueInterface,{updateRetainCount:updateRetainCount$1}=Recoil_Retention,{setInvalidateMemoizedSnapshot:setInvalidateMemoizedSnapshot$1}=Recoil_SnapshotCache,{getNextTreeStateVersion:getNextTreeStateVersion$2,makeEmptyStoreState:makeEmptyStoreState$1}=Recoil_State,{isSSR:isSSR$1}=Recoil_Environment,{memoizeOneWithArgsHashAndInvalidation:memoizeOneWithArgsHashAndInvalidation$1}=Recoil_Memoize;class Snapshot{constructor(i,o){_defineProperty(this,"_store",void 0),_defineProperty(this,"_refCount",1),_defineProperty(this,"getLoadable",et=>(this.checkRefCount_INTERNAL(),getRecoilValueAsLoadable$1(this._store,et))),_defineProperty(this,"getPromise",et=>(this.checkRefCount_INTERNAL(),this.getLoadable(et).toPromise())),_defineProperty(this,"getNodes_UNSTABLE",et=>{if(this.checkRefCount_INTERNAL(),(et==null?void 0:et.isModified)===!0){if((et==null?void 0:et.isInitialized)===!1)return[];const Ml=this._store.getState().currentTree;return recoilValuesForKeys$2(Ml.dirtyAtoms)}const $l=this._store.getState().knownAtoms,Nl=this._store.getState().knownSelectors;return(et==null?void 0:et.isInitialized)==null?recoilValues$1.values():et.isInitialized===!0?recoilValuesForKeys$2(Recoil_concatIterables([$l,Nl])):Recoil_filterIterable(recoilValues$1.values(),({key:Ml})=>!$l.has(Ml)&&!Nl.has(Ml))}),_defineProperty(this,"getInfo_UNSTABLE",({key:et})=>(this.checkRefCount_INTERNAL(),peekNodeInfo$1(this._store,this._store.getState().currentTree,et))),_defineProperty(this,"map",et=>{this.checkRefCount_INTERNAL();const $l=new MutableSnapshot(this,batchUpdates$1);return et($l),$l}),_defineProperty(this,"asyncMap",async et=>{this.checkRefCount_INTERNAL();const $l=new MutableSnapshot(this,batchUpdates$1);return $l.retain(),await et($l),$l.autoRelease_INTERNAL(),$l}),this._store={storeID:getNextStoreID$1(),parentStoreID:o,getState:()=>i,replaceState:et=>{i.currentTree=et(i.currentTree)},getGraph:et=>{const $l=i.graphsByVersion;if($l.has(et))return Recoil_nullthrows($l.get(et));const Nl=graph$1();return $l.set(et,Nl),Nl},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Recoil_err("Cannot subscribe to Snapshots")}};for(const et of this._store.getState().knownAtoms)initializeNode$1(this._store,et,"get"),updateRetainCount$1(this._store,et,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let i=!1;return()=>{i||(i=!0,this._release())}}autoRelease_INTERNAL(){isSSR$1||window.setTimeout(()=>this._release(),0)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(i=>i()),this._store.getState().nodeCleanupFunctions.clear(),!Recoil_gkx("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Recoil_gkx("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function cloneStoreState(s,i,o=!1){const et=s.getState(),$l=o?getNextTreeStateVersion$2():i.version;return{currentTree:{version:o?$l:i.version,stateID:o?$l:i.stateID,transactionMetadata:{...i.transactionMetadata},dirtyAtoms:new Set(i.dirtyAtoms),atomValues:i.atomValues.clone(),nonvalidatedAtoms:i.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(et.knownAtoms),knownSelectors:new Set(et.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set($l,s.getGraph(i.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Recoil_mapIterable(et.nodeCleanupFunctions.entries(),([Nl])=>[Nl,()=>{}]))}}function freshSnapshot(s){const i=new Snapshot(makeEmptyStoreState$1());return s!=null?i.map(s):i}const[memoizedCloneSnapshot,invalidateMemoizedSnapshot$2]=memoizeOneWithArgsHashAndInvalidation$1((s,i)=>{var o;const et=s.getState(),$l=i==="latest"?(o=et.nextTree)!==null&&o!==void 0?o:et.currentTree:Recoil_nullthrows(et.previousTree);return new Snapshot(cloneStoreState(s,$l),s.storeID)},(s,i)=>{var o,et;return String(i)+String(s.storeID)+String((o=s.getState().nextTree)===null||o===void 0?void 0:o.version)+String(s.getState().currentTree.version)+String((et=s.getState().previousTree)===null||et===void 0?void 0:et.version)});setInvalidateMemoizedSnapshot$1(invalidateMemoizedSnapshot$2);function cloneSnapshot(s,i="latest"){const o=memoizedCloneSnapshot(s,i);return o.isRetained()?o:(invalidateMemoizedSnapshot$2(),memoizedCloneSnapshot(s,i))}class MutableSnapshot extends Snapshot{constructor(i,o){super(cloneStoreState(i.getStore_INTERNAL(),i.getStore_INTERNAL().getState().currentTree,!0),i.getStoreID()),_defineProperty(this,"_batch",void 0),_defineProperty(this,"set",(et,$l)=>{this.checkRefCount_INTERNAL();const Nl=this.getStore_INTERNAL();this._batch(()=>{updateRetainCount$1(Nl,et.key,1),setRecoilValue$1(this.getStore_INTERNAL(),et,$l)})}),_defineProperty(this,"reset",et=>{this.checkRefCount_INTERNAL();const $l=this.getStore_INTERNAL();this._batch(()=>{updateRetainCount$1($l,et.key,1),setRecoilValue$1(this.getStore_INTERNAL(),et,DEFAULT_VALUE$1)})}),_defineProperty(this,"setUnvalidatedAtomValues_DEPRECATED",et=>{this.checkRefCount_INTERNAL();const $l=this.getStore_INTERNAL();batchUpdates$1(()=>{for(const[Nl,Ml]of et.entries())updateRetainCount$1($l,Nl,1),setUnvalidatedRecoilValue$1($l,new AbstractRecoilValue$2(Nl),Ml)})}),this._batch=o}}var Recoil_Snapshot={Snapshot,MutableSnapshot,freshSnapshot,cloneSnapshot},Recoil_Snapshot_1=Recoil_Snapshot.Snapshot,Recoil_Snapshot_2=Recoil_Snapshot.MutableSnapshot,Recoil_Snapshot_3=Recoil_Snapshot.freshSnapshot,Recoil_Snapshot_4=Recoil_Snapshot.cloneSnapshot,Recoil_Snapshot$1=Object.freeze({__proto__:null,Snapshot:Recoil_Snapshot_1,MutableSnapshot:Recoil_Snapshot_2,freshSnapshot:Recoil_Snapshot_3,cloneSnapshot:Recoil_Snapshot_4});function unionSets(...s){const i=new Set;for(const o of s)for(const et of o)i.add(et);return i}var Recoil_unionSets=unionSets;const{useRef}=React;function useRefInitOnce(s){const i=useRef(s);return i.current===s&&typeof s=="function"&&(i.current=s()),i}var Recoil_useRefInitOnce=useRefInitOnce;const{getNextTreeStateVersion:getNextTreeStateVersion$3,makeEmptyStoreState:makeEmptyStoreState$2}=Recoil_State,{cleanUpNode:cleanUpNode$2,getDownstreamNodes:getDownstreamNodes$2,initializeNode:initializeNode$2,setNodeValue:setNodeValue$2,setUnvalidatedAtomValue_DEPRECATED:setUnvalidatedAtomValue_DEPRECATED$1}=Recoil_FunctionalCore,{graph:graph$2}=Recoil_Graph,{cloneGraph:cloneGraph$1}=Recoil_Graph,{getNextStoreID:getNextStoreID$2}=Recoil_Keys,{createMutableSource:createMutableSource$1,reactMode:reactMode$2}=Recoil_ReactMode,{applyAtomValueWrites:applyAtomValueWrites$1}=Recoil_RecoilValueInterface,{releaseScheduledRetainablesNow:releaseScheduledRetainablesNow$1}=Recoil_Retention,{freshSnapshot:freshSnapshot$1}=Recoil_Snapshot$1,{useCallback,useContext,useEffect,useMemo,useRef:useRef$1,useState}=React;function notInAContext(){throw Recoil_err("This component must be used inside a <RecoilRoot> component.")}const defaultStore=Object.freeze({storeID:getNextStoreID$2(),getState:notInAContext,replaceState:notInAContext,getGraph:notInAContext,subscribeToTransactions:notInAContext,addTransactionMetadata:notInAContext});let stateReplacerIsBeingExecuted=!1;function startNextTreeIfNeeded(s){if(stateReplacerIsBeingExecuted)throw Recoil_err("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const i=s.getState();if(i.nextTree===null){Recoil_gkx("recoil_memory_managament_2020")&&Recoil_gkx("recoil_release_on_cascading_update_killswitch_2021")&&i.commitDepth>0&&releaseScheduledRetainablesNow$1(s);const o=i.currentTree.version,et=getNextTreeStateVersion$3();i.nextTree={...i.currentTree,version:et,stateID:et,dirtyAtoms:new Set,transactionMetadata:{}},i.graphsByVersion.set(et,cloneGraph$1(Recoil_nullthrows(i.graphsByVersion.get(o))))}}const AppContext=React.createContext({current:defaultStore}),useStoreRef=()=>useContext(AppContext),MutableSourceContext=React.createContext(null);function useRecoilMutableSource(){return useContext(MutableSourceContext)}function notifyComponents(s,i,o){const et=getDownstreamNodes$2(s,o,o.dirtyAtoms);for(const $l of et){const Nl=i.nodeToComponentSubscriptions.get($l);if(Nl)for(const[Ml,[Ol,Ll]]of Nl)Ll(o)}}function sendEndOfBatchNotifications(s){const i=s.getState(),o=i.currentTree,et=o.dirtyAtoms;if(et.size){for(const[$l,Nl]of i.nodeTransactionSubscriptions)if(et.has($l))for(const[Ml,Ol]of Nl)Ol(s);for(const[$l,Nl]of i.transactionSubscriptions)Nl(s);(!reactMode$2().early||i.suspendedComponentResolvers.size>0)&&(notifyComponents(s,i,o),i.suspendedComponentResolvers.forEach($l=>$l()),i.suspendedComponentResolvers.clear())}i.queuedComponentCallbacks_DEPRECATED.forEach($l=>$l(o)),i.queuedComponentCallbacks_DEPRECATED.splice(0,i.queuedComponentCallbacks_DEPRECATED.length)}function endBatch(s){const i=s.getState();i.commitDepth++;try{const{nextTree:o}=i;if(o==null)return;i.previousTree=i.currentTree,i.currentTree=o,i.nextTree=null,sendEndOfBatchNotifications(s),i.previousTree!=null?i.graphsByVersion.delete(i.previousTree.version):Recoil_recoverableViolation("Ended batch with no previous state, which is unexpected","recoil"),i.previousTree=null,Recoil_gkx("recoil_memory_managament_2020")&&o==null&&releaseScheduledRetainablesNow$1(s)}finally{i.commitDepth--}}function Batcher({setNotifyBatcherOfChange:s}){const i=useStoreRef(),[,o]=useState([]);return s(()=>o({})),useEffect(()=>(s(()=>o({})),()=>{s(()=>{})}),[s]),useEffect(()=>{Recoil_Queue.enqueueExecution("Batcher",()=>{endBatch(i.current)})}),null}function initialStoreState_DEPRECATED(s,i){const o=makeEmptyStoreState$2();return i({set:(et,$l)=>{const Nl=o.currentTree,Ml=setNodeValue$2(s,Nl,et.key,$l),Ol=new Set(Ml.keys()),Ll=Nl.nonvalidatedAtoms.clone();for(const Fl of Ol)Ll.delete(Fl);o.currentTree={...Nl,dirtyAtoms:Recoil_unionSets(Nl.dirtyAtoms,Ol),atomValues:applyAtomValueWrites$1(Nl.atomValues,Ml),nonvalidatedAtoms:Ll}},setUnvalidatedAtomValues:et=>{et.forEach(($l,Nl)=>{o.currentTree=setUnvalidatedAtomValue_DEPRECATED$1(o.currentTree,Nl,$l)})}}),o}function initialStoreState(s){const i=freshSnapshot$1(s),o=i.getStore_INTERNAL().getState();return i.retain(),o.nodeCleanupFunctions.forEach(et=>et()),o.nodeCleanupFunctions.clear(),o}let nextID=0;function RecoilRoot_INTERNAL({initializeState_DEPRECATED:s,initializeState:i,store_INTERNAL:o,children:et}){let $l;const Nl=Wl=>{const zl=$l.current.graphsByVersion;if(zl.has(Wl))return Recoil_nullthrows(zl.get(Wl));const Ql=graph$2();return zl.set(Wl,Ql),Ql},Ml=(Wl,zl)=>{if(zl==null){const{transactionSubscriptions:Ql}=Ul.current.getState(),Jl=nextID++;return Ql.set(Jl,Wl),{release:()=>{Ql.delete(Jl)}}}else{const{nodeTransactionSubscriptions:Ql}=Ul.current.getState();Ql.has(zl)||Ql.set(zl,new Map);const Jl=nextID++;return Recoil_nullthrows(Ql.get(zl)).set(Jl,Wl),{release:()=>{const Kl=Ql.get(zl);Kl&&(Kl.delete(Jl),Kl.size===0&&Ql.delete(zl))}}}},Ol=Wl=>{startNextTreeIfNeeded(Ul.current);for(const zl of Object.keys(Wl))Recoil_nullthrows(Ul.current.getState().nextTree).transactionMetadata[zl]=Wl[zl]},Ll=Wl=>{startNextTreeIfNeeded(Ul.current);const zl=Recoil_nullthrows($l.current.nextTree);let Ql;try{stateReplacerIsBeingExecuted=!0,Ql=Wl(zl)}finally{stateReplacerIsBeingExecuted=!1}Ql!==zl&&($l.current.nextTree=Ql,reactMode$2().early&&notifyComponents(Ul.current,$l.current,Ql),Recoil_nullthrows(Fl.current)())},Fl=useRef$1(null),Bl=useCallback(Wl=>{Fl.current=Wl},[Fl]),Ul=Recoil_useRefInitOnce(()=>o!=null?o:{storeID:getNextStoreID$2(),getState:()=>$l.current,replaceState:Ll,getGraph:Nl,subscribeToTransactions:Ml,addTransactionMetadata:Ol});o!=null&&(Ul.current=o),$l=Recoil_useRefInitOnce(()=>s!=null?initialStoreState_DEPRECATED(Ul.current,s):i!=null?initialStoreState(i):makeEmptyStoreState$2());const Gl=useMemo(()=>createMutableSource$1==null?void 0:createMutableSource$1($l,()=>$l.current.currentTree.version),[$l]);return useEffect(()=>{const Wl=Ul.current;for(const zl of new Set(Wl.getState().knownAtoms))initializeNode$2(Wl,zl,"get");return()=>{for(const zl of Wl.getState().knownAtoms)cleanUpNode$2(Wl,zl)}},[Ul]),React.createElement(AppContext.Provider,{value:Ul},React.createElement(MutableSourceContext.Provider,{value:Gl},React.createElement(Batcher,{setNotifyBatcherOfChange:Bl}),et))}function RecoilRoot(s){const{override:i,...o}=s,et=useStoreRef();return i===!1&&et.current!==defaultStore?s.children:React.createElement(RecoilRoot_INTERNAL,o)}function useRecoilStoreID(){return useStoreRef().current.storeID}var Recoil_RecoilRoot={RecoilRoot,useStoreRef,useRecoilMutableSource,useRecoilStoreID,notifyComponents_FOR_TESTING:notifyComponents,sendEndOfBatchNotifications_FOR_TESTING:sendEndOfBatchNotifications};function shallowArrayEqual(s,i){if(s===i)return!0;if(s.length!==i.length)return!1;for(let o=0,et=s.length;o<et;o++)if(s[o]!==i[o])return!1;return!0}var Recoil_shallowArrayEqual=shallowArrayEqual;const{useEffect:useEffect$1,useRef:useRef$2}=React;function usePrevious(s){const i=useRef$2();return useEffect$1(()=>{i.current=s}),i.current}var Recoil_usePrevious=usePrevious;const{useStoreRef:useStoreRef$1}=Recoil_RecoilRoot,{SUSPENSE_TIMEOUT_MS:SUSPENSE_TIMEOUT_MS$1}=Recoil_Retention,{updateRetainCount:updateRetainCount$2}=Recoil_Retention,{RetentionZone:RetentionZone$3}=Recoil_RetentionZone,{useEffect:useEffect$2,useRef:useRef$3}=React,{isSSR:isSSR$2}=Recoil_Environment;function useRetain(s){if(!!Recoil_gkx("recoil_memory_managament_2020"))return useRetain_ACTUAL(s)}function useRetain_ACTUAL(s){const o=(Array.isArray(s)?s:[s]).map(Ml=>Ml instanceof RetentionZone$3?Ml:Ml.key),et=useStoreRef$1();useEffect$2(()=>{if(!Recoil_gkx("recoil_memory_managament_2020"))return;const Ml=et.current;if($l.current&&!isSSR$2)window.clearTimeout($l.current),$l.current=null;else for(const Ol of o)updateRetainCount$2(Ml,Ol,1);return()=>{for(const Ol of o)updateRetainCount$2(Ml,Ol,-1)}},[et,...o]);const $l=useRef$3(),Nl=Recoil_usePrevious(o);if(!isSSR$2&&(Nl===void 0||!Recoil_shallowArrayEqual(Nl,o))){const Ml=et.current;for(const Ol of o)updateRetainCount$2(Ml,Ol,1);if(Nl)for(const Ol of Nl)updateRetainCount$2(Ml,Ol,-1);$l.current&&window.clearTimeout($l.current),$l.current=window.setTimeout(()=>{$l.current=null;for(const Ol of o)updateRetainCount$2(Ml,Ol,-1)},SUSPENSE_TIMEOUT_MS$1)}}var Recoil_useRetain=useRetain;function useComponentName(){return"<component name not available>"}var Recoil_useComponentName=useComponentName;const{batchUpdates:batchUpdates$2}=Recoil_Batching,{DEFAULT_VALUE:DEFAULT_VALUE$2}=Recoil_Node,{reactMode:reactMode$3,useMutableSource:useMutableSource$1,useSyncExternalStore:useSyncExternalStore$1}=Recoil_ReactMode,{useRecoilMutableSource:useRecoilMutableSource$1,useStoreRef:useStoreRef$2}=Recoil_RecoilRoot,{AbstractRecoilValue:AbstractRecoilValue$3,getRecoilValueAsLoadable:getRecoilValueAsLoadable$2,setRecoilValue:setRecoilValue$2,setUnvalidatedRecoilValue:setUnvalidatedRecoilValue$2,subscribeToRecoilValue:subscribeToRecoilValue$1}=Recoil_RecoilValueInterface,{useCallback:useCallback$1,useEffect:useEffect$3,useMemo:useMemo$1,useRef:useRef$4,useState:useState$1}=React,{setByAddingToSet:setByAddingToSet$2}=Recoil_CopyOnWrite;function handleLoadable(s,i,o){if(s.state==="hasValue")return s.contents;throw s.state==="loading"?new Promise($l=>{o.current.getState().suspendedComponentResolvers.add($l)}):s.state==="hasError"?s.contents:Recoil_err(`Invalid value of loadable atom "${i.key}"`)}function useRecoilInterface_DEPRECATED(){const s=Recoil_useComponentName(),i=useStoreRef$2(),[,o]=useState$1([]),et=useRef$4(new Set);et.current=new Set;const $l=useRef$4(new Set),Nl=useRef$4(new Map),Ml=useCallback$1(Ll=>{const Fl=Nl.current.get(Ll);Fl&&(Fl.release(),Nl.current.delete(Ll))},[Nl]),Ol=useCallback$1((Ll,Fl)=>{Nl.current.has(Fl)&&o([])},[]);return useEffect$3(()=>{const Ll=i.current;Recoil_differenceSets(et.current,$l.current).forEach(Fl=>{if(Nl.current.has(Fl))return;const Bl=subscribeToRecoilValue$1(Ll,new AbstractRecoilValue$3(Fl),Gl=>Ol(Gl,Fl),s);Nl.current.set(Fl,Bl),Ll.getState().nextTree?Ll.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{Ol(Ll.getState(),Fl)}):Ol(Ll.getState(),Fl)}),Recoil_differenceSets($l.current,et.current).forEach(Fl=>{Ml(Fl)}),$l.current=et.current}),useEffect$3(()=>{const Ll=Nl.current;return Recoil_differenceSets(et.current,new Set(Ll.keys())).forEach(Fl=>{const Bl=subscribeToRecoilValue$1(i.current,new AbstractRecoilValue$3(Fl),Ul=>Ol(Ul,Fl),s);Ll.set(Fl,Bl)}),()=>Ll.forEach((Fl,Bl)=>Ml(Bl))},[s,i,Ml,Ol]),useMemo$1(()=>{function Ll(zl){return Ql=>{setRecoilValue$2(i.current,zl,Ql)}}function Fl(zl){return()=>setRecoilValue$2(i.current,zl,DEFAULT_VALUE$2)}function Bl(zl){var Ql;et.current.has(zl.key)||(et.current=setByAddingToSet$2(et.current,zl.key));const Jl=i.current.getState();return getRecoilValueAsLoadable$2(i.current,zl,reactMode$3().early&&(Ql=Jl.nextTree)!==null&&Ql!==void 0?Ql:Jl.currentTree)}function Ul(zl){const Ql=Bl(zl);return handleLoadable(Ql,zl,i)}function Gl(zl){return[Ul(zl),Ll(zl)]}function Wl(zl){return[Bl(zl),Ll(zl)]}return{getRecoilValue:Ul,getRecoilValueLoadable:Bl,getRecoilState:Gl,getRecoilStateLoadable:Wl,getSetRecoilState:Ll,getResetRecoilState:Fl}},[et,i])}const recoilComponentGetRecoilValueCount_FOR_TESTING={current:0};function useRecoilValueLoadable_SYNC_EXTERNAL_STORE(s){const i=useStoreRef$2(),o=Recoil_useComponentName(),et=useCallback$1(()=>{var Ol;const Ll=i.current,Fl=Ll.getState(),Bl=reactMode$3().early&&(Ol=Fl.nextTree)!==null&&Ol!==void 0?Ol:Fl.currentTree;return{loadable:getRecoilValueAsLoadable$2(Ll,s,Bl),key:s.key}},[i,s]),$l=useCallback$1(Ol=>{let Ll;return()=>{var Fl,Bl;const Ul=Ol();return(Fl=Ll)!==null&&Fl!==void 0&&Fl.loadable.is(Ul.loadable)&&((Bl=Ll)===null||Bl===void 0?void 0:Bl.key)===Ul.key?Ll:(Ll=Ul,Ul)}},[]),Nl=useMemo$1(()=>$l(et),[et,$l]),Ml=useCallback$1(Ol=>{const Ll=i.current;return subscribeToRecoilValue$1(Ll,s,Ol,o).release},[i,s,o]);return useSyncExternalStore$1(Ml,Nl,Nl).loadable}function useRecoilValueLoadable_MUTABLE_SOURCE(s){const i=useStoreRef$2(),o=useCallback$1(()=>{var Fl;const Bl=i.current,Ul=Bl.getState(),Gl=reactMode$3().early&&(Fl=Ul.nextTree)!==null&&Fl!==void 0?Fl:Ul.currentTree;return getRecoilValueAsLoadable$2(Bl,s,Gl)},[i,s]),et=useCallback$1(()=>o(),[o]),$l=Recoil_useComponentName(),Nl=useCallback$1((Fl,Bl)=>{const Ul=i.current;return subscribeToRecoilValue$1(Ul,s,()=>{if(!Recoil_gkx("recoil_suppress_rerender_in_callback"))return Bl();const Wl=o();Ll.current.is(Wl)||Bl(),Ll.current=Wl},$l).release},[i,s,$l,o]),Ml=useRecoilMutableSource$1();if(Ml==null)throw Recoil_err("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const Ol=useMutableSource$1(Ml,et,Nl),Ll=useRef$4(Ol);return useEffect$3(()=>{Ll.current=Ol}),Ol}function useRecoilValueLoadable_TRANSITION_SUPPORT(s){const i=useStoreRef$2(),o=Recoil_useComponentName(),et=useCallback$1(()=>{var Ll;const Fl=i.current,Bl=Fl.getState(),Ul=reactMode$3().early&&(Ll=Bl.nextTree)!==null&&Ll!==void 0?Ll:Bl.currentTree;return getRecoilValueAsLoadable$2(Fl,s,Ul)},[i,s]),$l=useCallback$1(()=>({loadable:et(),key:s.key}),[et,s.key]),Nl=useCallback$1(Ll=>{const Fl=$l();return Ll.loadable.is(Fl.loadable)&&Ll.key===Fl.key?Ll:Fl},[$l]);useEffect$3(()=>{const Ll=subscribeToRecoilValue$1(i.current,s,Fl=>{Ol(Nl)},o);return Ol(Nl),Ll.release},[o,s,i,Nl]);const[Ml,Ol]=useState$1($l);return Ml.key!==s.key?$l().loadable:Ml.loadable}function useRecoilValueLoadable_LEGACY(s){const i=useStoreRef$2(),[,o]=useState$1([]),et=Recoil_useComponentName(),$l=useCallback$1(()=>{var Ol;const Ll=i.current,Fl=Ll.getState(),Bl=reactMode$3().early&&(Ol=Fl.nextTree)!==null&&Ol!==void 0?Ol:Fl.currentTree;return getRecoilValueAsLoadable$2(Ll,s,Bl)},[i,s]),Nl=$l(),Ml=useRef$4(Nl);return useEffect$3(()=>{Ml.current=Nl}),useEffect$3(()=>{const Ol=i.current,Ll=Ol.getState(),Fl=subscribeToRecoilValue$1(Ol,s,Ul=>{var Gl;if(!Recoil_gkx("recoil_suppress_rerender_in_callback"))return o([]);const Wl=$l();(Gl=Ml.current)!==null&&Gl!==void 0&&Gl.is(Wl)||o(Wl),Ml.current=Wl},et);if(Ll.nextTree)Ol.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{Ml.current=null,o([])});else{var Bl;if(!Recoil_gkx("recoil_suppress_rerender_in_callback"))return o([]);const Ul=$l();(Bl=Ml.current)!==null&&Bl!==void 0&&Bl.is(Ul)||o(Ul),Ml.current=Ul}return Fl.release},[et,$l,s,i]),Nl}function useRecoilValueLoadable(s){return Recoil_gkx("recoil_memory_managament_2020")&&Recoil_useRetain(s),{TRANSITION_SUPPORT:useRecoilValueLoadable_TRANSITION_SUPPORT,SYNC_EXTERNAL_STORE:useRecoilValueLoadable_SYNC_EXTERNAL_STORE,MUTABLE_SOURCE:useRecoilValueLoadable_MUTABLE_SOURCE,LEGACY:useRecoilValueLoadable_LEGACY}[reactMode$3().mode](s)}function useRecoilValue(s){const i=useStoreRef$2(),o=useRecoilValueLoadable(s);return handleLoadable(o,s,i)}function useSetRecoilState(s){const i=useStoreRef$2();return useCallback$1(o=>{setRecoilValue$2(i.current,s,o)},[i,s])}function useResetRecoilState(s){const i=useStoreRef$2();return useCallback$1(()=>{setRecoilValue$2(i.current,s,DEFAULT_VALUE$2)},[i,s])}function useRecoilState(s){return[useRecoilValue(s),useSetRecoilState(s)]}function useRecoilStateLoadable(s){return[useRecoilValueLoadable(s),useSetRecoilState(s)]}function useSetUnvalidatedAtomValues(){const s=useStoreRef$2();return(i,o={})=>{batchUpdates$2(()=>{s.current.addTransactionMetadata(o),i.forEach((et,$l)=>setUnvalidatedRecoilValue$2(s.current,new AbstractRecoilValue$3($l),et))})}}function useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE(s){return Recoil_gkx("recoil_memory_managament_2020")&&Recoil_useRetain(s),useRecoilValueLoadable_TRANSITION_SUPPORT(s)}function useRecoilValue_TRANSITION_SUPPORT_UNSTABLE(s){const i=useStoreRef$2(),o=useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE(s);return handleLoadable(o,s,i)}function useRecoilState_TRANSITION_SUPPORT_UNSTABLE(s){return[useRecoilValue_TRANSITION_SUPPORT_UNSTABLE(s),useSetRecoilState(s)]}var Recoil_Hooks={recoilComponentGetRecoilValueCount_FOR_TESTING,useRecoilInterface:useRecoilInterface_DEPRECATED,useRecoilState,useRecoilStateLoadable,useRecoilValue,useRecoilValueLoadable,useResetRecoilState,useSetRecoilState,useSetUnvalidatedAtomValues,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE,useRecoilState_TRANSITION_SUPPORT_UNSTABLE};function filterMap(s,i){const o=new Map;for(const[et,$l]of s)i($l,et)&&o.set(et,$l);return o}var Recoil_filterMap=filterMap;function filterSet(s,i){const o=new Set;for(const et of s)i(et)&&o.add(et);return o}var Recoil_filterSet=filterSet;function mergeMaps(...s){const i=new Map;for(let o=0;o<s.length;o++){const et=s[o].keys();let $l;for(;!($l=et.next()).done;)i.set($l.value,s[o].get($l.value))}return i}var Recoil_mergeMaps=mergeMaps;const{batchUpdates:batchUpdates$3}=Recoil_Batching,{DEFAULT_VALUE:DEFAULT_VALUE$3,getNode:getNode$4,nodes:nodes$1}=Recoil_Node,{useStoreRef:useStoreRef$3}=Recoil_RecoilRoot,{AbstractRecoilValue:AbstractRecoilValue$4,setRecoilValueLoadable:setRecoilValueLoadable$1}=Recoil_RecoilValueInterface,{SUSPENSE_TIMEOUT_MS:SUSPENSE_TIMEOUT_MS$2}=Recoil_Retention,{cloneSnapshot:cloneSnapshot$1}=Recoil_Snapshot$1,{useCallback:useCallback$2,useEffect:useEffect$4,useRef:useRef$5,useState:useState$2}=React,{isSSR:isSSR$3}=Recoil_Environment;function useTransactionSubscription(s){const i=useStoreRef$3();useEffect$4(()=>i.current.subscribeToTransactions(s).release,[s,i])}function externallyVisibleAtomValuesInState(s){const i=s.atomValues.toMap(),o=Recoil_mapMap(Recoil_filterMap(i,(et,$l)=>{const Ml=getNode$4($l).persistence_UNSTABLE;return Ml!=null&&Ml.type!=="none"&&et.state==="hasValue"}),et=>et.contents);return Recoil_mergeMaps(s.nonvalidatedAtoms.toMap(),o)}function useTransactionObservation_DEPRECATED(s){useTransactionSubscription(useCallback$2(i=>{let o=i.getState().previousTree;const et=i.getState().currentTree;o||(o=i.getState().currentTree);const $l=externallyVisibleAtomValuesInState(et),Nl=externallyVisibleAtomValuesInState(o),Ml=Recoil_mapMap(nodes$1,Ll=>{var Fl,Bl,Ul,Gl;return{persistence_UNSTABLE:{type:(Fl=(Bl=Ll.persistence_UNSTABLE)===null||Bl===void 0?void 0:Bl.type)!==null&&Fl!==void 0?Fl:"none",backButton:(Ul=(Gl=Ll.persistence_UNSTABLE)===null||Gl===void 0?void 0:Gl.backButton)!==null&&Ul!==void 0?Ul:!1}}}),Ol=Recoil_filterSet(et.dirtyAtoms,Ll=>$l.has(Ll)||Nl.has(Ll));s({atomValues:$l,previousAtomValues:Nl,atomInfo:Ml,modifiedAtoms:Ol,transactionMetadata:{...et.transactionMetadata}})},[s]))}function useRecoilTransactionObserver(s){useTransactionSubscription(useCallback$2(i=>{const o=cloneSnapshot$1(i,"latest"),et=cloneSnapshot$1(i,"previous");s({snapshot:o,previousSnapshot:et})},[s]))}function useRecoilSnapshot(){const s=useStoreRef$3(),[i,o]=useState$2(()=>cloneSnapshot$1(s.current)),et=Recoil_usePrevious(i),$l=useRef$5(),Nl=useRef$5();if(useTransactionSubscription(useCallback$2(Ol=>o(cloneSnapshot$1(Ol)),[])),useEffect$4(()=>{const Ol=i.retain();if($l.current&&!isSSR$3){var Ll;window.clearTimeout($l.current),$l.current=null,(Ll=Nl.current)===null||Ll===void 0||Ll.call(Nl),Nl.current=null}return Ol},[i]),et!==i&&!isSSR$3){if($l.current){var Ml;window.clearTimeout($l.current),$l.current=null,(Ml=Nl.current)===null||Ml===void 0||Ml.call(Nl),Nl.current=null}Nl.current=i.retain(),$l.current=window.setTimeout(()=>{var Ol;$l.current=null,(Ol=Nl.current)===null||Ol===void 0||Ol.call(Nl),Nl.current=null},SUSPENSE_TIMEOUT_MS$2)}return i}function gotoSnapshot(s,i){var o;const et=s.getState(),$l=(o=et.nextTree)!==null&&o!==void 0?o:et.currentTree,Nl=i.getStore_INTERNAL().getState().currentTree;batchUpdates$3(()=>{const Ml=new Set;for(const Fl of[$l.atomValues.keys(),Nl.atomValues.keys()])for(const Bl of Fl){var Ol,Ll;((Ol=$l.atomValues.get(Bl))===null||Ol===void 0?void 0:Ol.contents)!==((Ll=Nl.atomValues.get(Bl))===null||Ll===void 0?void 0:Ll.contents)&&getNode$4(Bl).shouldRestoreFromSnapshots&&Ml.add(Bl)}Ml.forEach(Fl=>{setRecoilValueLoadable$1(s,new AbstractRecoilValue$4(Fl),Nl.atomValues.has(Fl)?Recoil_nullthrows(Nl.atomValues.get(Fl)):DEFAULT_VALUE$3)}),s.replaceState(Fl=>({...Fl,stateID:i.getID()}))})}function useGotoRecoilSnapshot(){const s=useStoreRef$3();return useCallback$2(i=>gotoSnapshot(s.current,i),[s])}var Recoil_SnapshotHooks={useRecoilSnapshot,gotoSnapshot,useGotoRecoilSnapshot,useRecoilTransactionObserver,useTransactionObservation_DEPRECATED,useTransactionSubscription_DEPRECATED:useTransactionSubscription};const{peekNodeInfo:peekNodeInfo$2}=Recoil_FunctionalCore,{useStoreRef:useStoreRef$4}=Recoil_RecoilRoot;function useGetRecoilValueInfo(){const s=useStoreRef$4();return({key:i})=>peekNodeInfo$2(s.current,s.current.getState().currentTree,i)}var Recoil_useGetRecoilValueInfo=useGetRecoilValueInfo;const{reactMode:reactMode$4}=Recoil_ReactMode,{RecoilRoot:RecoilRoot$1,useStoreRef:useStoreRef$5}=Recoil_RecoilRoot,{useMemo:useMemo$2}=React;function useRecoilBridgeAcrossReactRoots(){reactMode$4().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const s=useStoreRef$5().current;return useMemo$2(()=>{function i({children:o}){return React.createElement(RecoilRoot$1,{store_INTERNAL:s},o)}return i},[s])}var Recoil_useRecoilBridgeAcrossReactRoots=useRecoilBridgeAcrossReactRoots;const{loadableWithValue:loadableWithValue$1}=Recoil_Loadable$1,{initializeNode:initializeNode$3}=Recoil_FunctionalCore,{DEFAULT_VALUE:DEFAULT_VALUE$4,getNode:getNode$5}=Recoil_Node,{copyTreeState:copyTreeState$1,getRecoilValueAsLoadable:getRecoilValueAsLoadable$3,invalidateDownstreams:invalidateDownstreams$1,writeLoadableToTreeState:writeLoadableToTreeState$1}=Recoil_RecoilValueInterface;function isAtom(s){return getNode$5(s.key).nodeType==="atom"}class TransactionInterfaceImpl{constructor(i,o){_defineProperty(this,"_store",void 0),_defineProperty(this,"_treeState",void 0),_defineProperty(this,"_changes",void 0),_defineProperty(this,"get",et=>{if(this._changes.has(et.key))return this._changes.get(et.key);if(!isAtom(et))throw Recoil_err("Reading selectors within atomicUpdate is not supported");const $l=getRecoilValueAsLoadable$3(this._store,et,this._treeState);if($l.state==="hasValue")return $l.contents;throw $l.state==="hasError"?$l.contents:Recoil_err(`Expected Recoil atom ${et.key} to have a value, but it is in a loading state.`)}),_defineProperty(this,"set",(et,$l)=>{if(!isAtom(et))throw Recoil_err("Setting selectors within atomicUpdate is not supported");if(typeof $l=="function"){const Nl=this.get(et);this._changes.set(et.key,$l(Nl))}else initializeNode$3(this._store,et.key,"set"),this._changes.set(et.key,$l)}),_defineProperty(this,"reset",et=>{this.set(et,DEFAULT_VALUE$4)}),this._store=i,this._treeState=o,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const i=copyTreeState$1(this._treeState);for(const[o,et]of this._changes)writeLoadableToTreeState$1(i,o,loadableWithValue$1(et));return invalidateDownstreams$1(this._store,i),i}}function atomicUpdater(s){return i=>{s.replaceState(o=>{const et=new TransactionInterfaceImpl(s,o);return i(et),et.newTreeState_INTERNAL()})}}var Recoil_AtomicUpdates={atomicUpdater},Recoil_AtomicUpdates_1=Recoil_AtomicUpdates.atomicUpdater,Recoil_AtomicUpdates$1=Object.freeze({__proto__:null,atomicUpdater:Recoil_AtomicUpdates_1});function invariant$1(s,i){if(!s)throw new Error(i)}var invariant_1=invariant$1,Recoil_invariant=invariant_1;const{atomicUpdater:atomicUpdater$1}=Recoil_AtomicUpdates$1,{batchUpdates:batchUpdates$4}=Recoil_Batching,{DEFAULT_VALUE:DEFAULT_VALUE$5}=Recoil_Node,{useStoreRef:useStoreRef$6}=Recoil_RecoilRoot,{refreshRecoilValue:refreshRecoilValue$1,setRecoilValue:setRecoilValue$3}=Recoil_RecoilValueInterface,{cloneSnapshot:cloneSnapshot$2}=Recoil_Snapshot$1,{gotoSnapshot:gotoSnapshot$1}=Recoil_SnapshotHooks,{useCallback:useCallback$3}=React;class Sentinel{}const SENTINEL=new Sentinel;function recoilCallback(s,i,o,et){let $l=SENTINEL,Nl;if(batchUpdates$4(()=>{const Ol="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof i!="function")throw Recoil_err(Ol);const Ll=Recoil_lazyProxy({...et!=null?et:{},set:(Bl,Ul)=>setRecoilValue$3(s,Bl,Ul),reset:Bl=>setRecoilValue$3(s,Bl,DEFAULT_VALUE$5),refresh:Bl=>refreshRecoilValue$1(s,Bl),gotoSnapshot:Bl=>gotoSnapshot$1(s,Bl),transact_UNSTABLE:Bl=>atomicUpdater$1(s)(Bl)},{snapshot:()=>{const Bl=cloneSnapshot$2(s);return Nl=Bl.retain(),Bl}}),Fl=i(Ll);if(typeof Fl!="function")throw Recoil_err(Ol);$l=Fl(...o)}),$l instanceof Sentinel&&Recoil_invariant(!1),Recoil_isPromise($l))$l.finally(()=>{var Ol;(Ol=Nl)===null||Ol===void 0||Ol()});else{var Ml;(Ml=Nl)===null||Ml===void 0||Ml()}return $l}function useRecoilCallback(s,i){const o=useStoreRef$6();return useCallback$3((...et)=>recoilCallback(o.current,s,et),i!=null?[...i,o]:void 0)}var Recoil_useRecoilCallback={recoilCallback,useRecoilCallback};const{useStoreRef:useStoreRef$7}=Recoil_RecoilRoot,{refreshRecoilValue:refreshRecoilValue$2}=Recoil_RecoilValueInterface,{useCallback:useCallback$4}=React;function useRecoilRefresher(s){const i=useStoreRef$7();return useCallback$4(()=>{const o=i.current;refreshRecoilValue$2(o,s)},[s,i])}var Recoil_useRecoilRefresher=useRecoilRefresher;const{atomicUpdater:atomicUpdater$2}=Recoil_AtomicUpdates$1,{useStoreRef:useStoreRef$8}=Recoil_RecoilRoot,{useMemo:useMemo$3}=React;function useRecoilTransaction(s,i){const o=useStoreRef$8();return useMemo$3(()=>(...et)=>{atomicUpdater$2(o.current)(Nl=>{s(Nl)(...et)})},i!=null?[...i,o]:void 0)}var Recoil_useRecoilTransaction=useRecoilTransaction;class WrappedValue{constructor(i){_defineProperty(this,"value",void 0),this.value=i}}var Recoil_Wrapper={WrappedValue},Recoil_Wrapper_1=Recoil_Wrapper.WrappedValue,Recoil_Wrapper$1=Object.freeze({__proto__:null,WrappedValue:Recoil_Wrapper_1});const{isFastRefreshEnabled:isFastRefreshEnabled$2}=Recoil_ReactMode;class ChangedPathError extends Error{}class TreeCache{constructor(i){var o,et,$l;_defineProperty(this,"_name",void 0),_defineProperty(this,"_numLeafs",void 0),_defineProperty(this,"_root",void 0),_defineProperty(this,"_onHit",void 0),_defineProperty(this,"_onSet",void 0),_defineProperty(this,"_mapNodeValue",void 0),this._name=i==null?void 0:i.name,this._numLeafs=0,this._root=null,this._onHit=(o=i==null?void 0:i.onHit)!==null&&o!==void 0?o:()=>{},this._onSet=(et=i==null?void 0:i.onSet)!==null&&et!==void 0?et:()=>{},this._mapNodeValue=($l=i==null?void 0:i.mapNodeValue)!==null&&$l!==void 0?$l:Nl=>Nl}size(){return this._numLeafs}root(){return this._root}get(i,o){var et;return(et=this.getLeafNode(i,o))===null||et===void 0?void 0:et.value}getLeafNode(i,o){if(this._root==null)return;let et=this._root;for(;et;){if(o==null||o.onNodeVisit(et),et.type==="leaf")return this._onHit(et),et;const $l=this._mapNodeValue(i(et.nodeKey));et=et.branches.get($l)}}set(i,o,et){const $l=()=>{var Nl,Ml,Ol,Ll;let Fl,Bl;for(const[Jl,Kl]of i){var Ul,Gl,Wl;const Hl=this._root;if((Hl==null?void 0:Hl.type)==="leaf")throw this.invalidCacheError();const Yl=Fl;if(Fl=Yl?Yl.branches.get(Bl):Hl,Fl=(Ul=Fl)!==null&&Ul!==void 0?Ul:{type:"branch",nodeKey:Jl,parent:Yl,branches:new Map,branchKey:Bl},Fl.type!=="branch"||Fl.nodeKey!==Jl)throw this.invalidCacheError();Yl==null||Yl.branches.set(Bl,Fl),et==null||(Gl=et.onNodeVisit)===null||Gl===void 0||Gl.call(et,Fl),Bl=this._mapNodeValue(Kl),this._root=(Wl=this._root)!==null&&Wl!==void 0?Wl:Fl}const zl=Fl?(Nl=Fl)===null||Nl===void 0?void 0:Nl.branches.get(Bl):this._root;if(zl!=null&&(zl.type!=="leaf"||zl.branchKey!==Bl))throw this.invalidCacheError();const Ql={type:"leaf",value:o,parent:Fl,branchKey:Bl};(Ml=Fl)===null||Ml===void 0||Ml.branches.set(Bl,Ql),this._root=(Ol=this._root)!==null&&Ol!==void 0?Ol:Ql,this._numLeafs++,this._onSet(Ql),et==null||(Ll=et.onNodeVisit)===null||Ll===void 0||Ll.call(et,Ql)};try{$l()}catch(Nl){if(Nl instanceof ChangedPathError)this.clear(),$l();else throw Nl}}delete(i){const o=this.root();if(!o)return!1;if(i===o)return this._root=null,this._numLeafs=0,!0;let et=i.parent,$l=i.branchKey;for(;et;){var Nl;if(et.branches.delete($l),et===o)return et.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(et.branches.size>0)break;$l=(Nl=et)===null||Nl===void 0?void 0:Nl.branchKey,et=et.parent}for(;et!==o;et=et.parent)if(et==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const i=isFastRefreshEnabled$2()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Recoil_recoverableViolation(i+(this._name!=null?` - ${this._name}`:"")),new ChangedPathError}}var Recoil_TreeCache={TreeCache},Recoil_TreeCache_1=Recoil_TreeCache.TreeCache,Recoil_TreeCache$1=Object.freeze({__proto__:null,TreeCache:Recoil_TreeCache_1});class LRUCache{constructor(i){var o;_defineProperty(this,"_maxSize",void 0),_defineProperty(this,"_size",void 0),_defineProperty(this,"_head",void 0),_defineProperty(this,"_tail",void 0),_defineProperty(this,"_map",void 0),_defineProperty(this,"_keyMapper",void 0),this._maxSize=i.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(o=i.mapKey)!==null&&o!==void 0?o:et=>et}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(i){return this._map.has(this._keyMapper(i))}get(i){const o=this._keyMapper(i),et=this._map.get(o);if(!!et)return this.set(i,et.value),et.value}set(i,o){const et=this._keyMapper(i);this._map.get(et)&&this.delete(i);const Nl=this.head(),Ml={key:i,right:Nl,left:null,value:o};Nl?Nl.left=Ml:this._tail=Ml,this._map.set(et,Ml),this._head=Ml,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const i=this.tail();i&&this.delete(i.key)}delete(i){const o=this._keyMapper(i);if(!this._size||!this._map.has(o))return;const et=Recoil_nullthrows(this._map.get(o)),$l=et.right,Nl=et.left;$l&&($l.left=et.left),Nl&&(Nl.right=et.right),et===this.head()&&(this._head=$l),et===this.tail()&&(this._tail=Nl),this._map.delete(o),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var Recoil_LRUCache={LRUCache},Recoil_LRUCache_1=Recoil_LRUCache.LRUCache,Recoil_LRUCache$1=Object.freeze({__proto__:null,LRUCache:Recoil_LRUCache_1});const{LRUCache:LRUCache$1}=Recoil_LRUCache$1,{TreeCache:TreeCache$1}=Recoil_TreeCache$1;function treeCacheLRU({name:s,maxSize:i,mapNodeValue:o=et=>et}){const et=new LRUCache$1({maxSize:i}),$l=new TreeCache$1({name:s,mapNodeValue:o,onHit:Nl=>{et.set(Nl,!0)},onSet:Nl=>{const Ml=et.tail();et.set(Nl,!0),Ml&&$l.size()>i&&$l.delete(Ml.key)}});return $l}var Recoil_treeCacheLRU=treeCacheLRU;function stringify$1(s,i,o){if(typeof s=="string"&&!s.includes('"')&&!s.includes("\\"))return`"${s}"`;switch(typeof s){case"undefined":return"";case"boolean":return s?"true":"false";case"number":case"symbol":return String(s);case"string":return JSON.stringify(s);case"function":if((i==null?void 0:i.allowFunctions)!==!0)throw Recoil_err("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${s.name})__`}if(s===null)return"null";if(typeof s!="object"){var et;return(et=JSON.stringify(s))!==null&&et!==void 0?et:""}if(Recoil_isPromise(s))return"__PROMISE__";if(Array.isArray(s))return`[${s.map(($l,Nl)=>stringify$1($l,i,Nl.toString()))}]`;if(typeof s.toJSON=="function")return stringify$1(s.toJSON(o),i,o);if(s instanceof Map){const $l={};for(const[Nl,Ml]of s)$l[typeof Nl=="string"?Nl:stringify$1(Nl,i)]=Ml;return stringify$1($l,i,o)}return s instanceof Set?stringify$1(Array.from(s).sort(($l,Nl)=>stringify$1($l,i).localeCompare(stringify$1(Nl,i))),i,o):Symbol!==void 0&&s[Symbol.iterator]!=null&&typeof s[Symbol.iterator]=="function"?stringify$1(Array.from(s),i,o):`{${Object.keys(s).filter($l=>s[$l]!==void 0).sort().map($l=>`${stringify$1($l,i)}:${stringify$1(s[$l],i,$l)}`).join(",")}}`}function stableStringify(s,i={allowFunctions:!1}){return stringify$1(s,i)}var Recoil_stableStringify=stableStringify;const{TreeCache:TreeCache$2}=Recoil_TreeCache$1,defaultPolicy={equality:"reference",eviction:"keep-all",maxSize:1/0};function treeCacheFromPolicy({equality:s=defaultPolicy.equality,eviction:i=defaultPolicy.eviction,maxSize:o=defaultPolicy.maxSize}=defaultPolicy,et){const $l=getValueMapper(s);return getTreeCache(i,o,$l,et)}function getValueMapper(s){switch(s){case"reference":return i=>i;case"value":return i=>Recoil_stableStringify(i)}throw Recoil_err(`Unrecognized equality policy ${s}`)}function getTreeCache(s,i,o,et){switch(s){case"keep-all":return new TreeCache$2({name:et,mapNodeValue:o});case"lru":return Recoil_treeCacheLRU({name:et,maxSize:Recoil_nullthrows(i),mapNodeValue:o});case"most-recent":return Recoil_treeCacheLRU({name:et,maxSize:1,mapNodeValue:o})}throw Recoil_err(`Unrecognized eviction policy ${s}`)}var Recoil_treeCacheFromPolicy=treeCacheFromPolicy;function startPerfBlock(s){return()=>null}var Recoil_PerformanceTimings={startPerfBlock};const{isLoadable:isLoadable$1,loadableWithError:loadableWithError$1,loadableWithPromise:loadableWithPromise$1,loadableWithValue:loadableWithValue$2}=Recoil_Loadable$1,{WrappedValue:WrappedValue$1}=Recoil_Wrapper$1,{getNodeLoadable:getNodeLoadable$2,peekNodeLoadable:peekNodeLoadable$1,setNodeValue:setNodeValue$3}=Recoil_FunctionalCore,{saveDepsToStore:saveDepsToStore$1}=Recoil_Graph,{DEFAULT_VALUE:DEFAULT_VALUE$6,getConfigDeletionHandler:getConfigDeletionHandler$1,getNode:getNode$6,registerNode:registerNode$1}=Recoil_Node,{isRecoilValue:isRecoilValue$3}=Recoil_RecoilValue$1,{markRecoilValueModified:markRecoilValueModified$1}=Recoil_RecoilValueInterface,{retainedByOptionWithDefault:retainedByOptionWithDefault$1}=Recoil_Retention,{recoilCallback:recoilCallback$1}=Recoil_useRecoilCallback,{startPerfBlock:startPerfBlock$1}=Recoil_PerformanceTimings;class Canceled{}const CANCELED=new Canceled,dependencyStack=[],waitingStores=new Map,getNewExecutionID=(()=>{let s=0;return()=>s++})();function selector(s){let i=null;const{key:o,get:et,cachePolicy_UNSTABLE:$l}=s,Nl=s.set!=null?s.set:void 0,Ml=new Set,Ol=Recoil_treeCacheFromPolicy($l!=null?$l:{equality:"reference",eviction:"keep-all"},o),Ll=retainedByOptionWithDefault$1(s.retainedBy_UNSTABLE),Fl=new Map;let Bl=0;function Ul(){return!Recoil_gkx("recoil_memory_managament_2020")||Bl>0}function Gl(i0){return i0.getState().knownSelectors.add(o),Bl++,()=>{Bl--}}function Wl(){return getConfigDeletionHandler$1(o)!==void 0&&!Ul()}function zl(i0,c0,a0,v0,l0){o0(c0,v0,l0),Ql(i0,a0)}function Ql(i0,c0){S0(i0,c0)&&_0(i0),Kl(c0,!0)}function Jl(i0,c0){S0(i0,c0)&&(Recoil_nullthrows(u0(i0)).stateVersions.clear(),Kl(c0,!1))}function Kl(i0,c0){const a0=waitingStores.get(i0);if(a0!=null){for(const v0 of a0)markRecoilValueModified$1(v0,Recoil_nullthrows(i));c0&&waitingStores.delete(i0)}}function Hl(i0,c0){let a0=waitingStores.get(c0);a0==null&&waitingStores.set(c0,a0=new Set),a0.add(i0)}function Yl(i0,c0,a0,v0,l0,b0){return c0.then(E0=>{if(!Ul())throw _0(i0),CANCELED;const C0=loadableWithValue$2(E0);return zl(i0,a0,l0,C0,v0),E0}).catch(E0=>{if(!Ul())throw _0(i0),CANCELED;if(Recoil_isPromise(E0))return Xl(i0,E0,a0,v0,l0,b0);const C0=loadableWithError$1(E0);throw zl(i0,a0,l0,C0,v0),E0})}function Xl(i0,c0,a0,v0,l0,b0){return c0.then(E0=>{if(!Ul())throw _0(i0),CANCELED;b0.loadingDepKey!=null&&b0.loadingDepPromise===c0?a0.atomValues.set(b0.loadingDepKey,loadableWithValue$2(E0)):i0.getState().knownSelectors.forEach(x0=>{a0.atomValues.delete(x0)});const C0=_f(i0,a0);if(C0&&C0.state!=="loading"){if((S0(i0,l0)||u0(i0)==null)&&Ql(i0,l0),C0.state==="hasValue")return C0.contents;throw C0.contents}if(!S0(i0,l0)){const x0=s0(i0,a0);if(x0!=null)return x0.loadingLoadable.contents}const[$0,I0]=_d(i0,a0,l0);if($0.state!=="loading"&&zl(i0,a0,l0,$0,I0),$0.state==="hasError")throw $0.contents;return $0.contents}).catch(E0=>{if(E0 instanceof Canceled)throw CANCELED;if(!Ul())throw _0(i0),CANCELED;const C0=loadableWithError$1(E0);throw zl(i0,a0,l0,C0,v0),E0})}function Zl(i0,c0,a0,v0){var l0,b0,E0,C0;if(S0(i0,v0)||c0.version===((l0=i0.getState())===null||l0===void 0||(b0=l0.currentTree)===null||b0===void 0?void 0:b0.version)||c0.version===((E0=i0.getState())===null||E0===void 0||(C0=E0.nextTree)===null||C0===void 0?void 0:C0.version)){var $0,I0,x0;saveDepsToStore$1(o,a0,i0,($0=(I0=i0.getState())===null||I0===void 0||(x0=I0.nextTree)===null||x0===void 0?void 0:x0.version)!==null&&$0!==void 0?$0:i0.getState().currentTree.version)}for(const w0 of a0)Ml.add(w0)}function _d(i0,c0,a0){const v0=startPerfBlock$1(o);let l0=!0,b0=!0;const E0=()=>{v0(),b0=!1};let C0,$0=!1,I0;const x0={loadingDepKey:null,loadingDepPromise:null},w0=new Map;function M0({key:V0}){const N0=getNodeLoadable$2(i0,c0,V0);switch(w0.set(V0,N0),l0||(Zl(i0,c0,new Set(w0.keys()),a0),Jl(i0,a0)),N0.state){case"hasValue":return N0.contents;case"hasError":throw N0.contents;case"loading":throw x0.loadingDepKey=V0,x0.loadingDepPromise=N0.contents,N0.contents}throw Recoil_err("Invalid Loadable state")}const D0=V0=>(...N0)=>{if(b0)throw Recoil_err("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return i==null&&Recoil_invariant(!1),recoilCallback$1(i0,V0,N0,{node:i})};try{C0=et({get:M0,getCallback:D0}),C0=isRecoilValue$3(C0)?M0(C0):C0,isLoadable$1(C0)&&(C0.state==="hasError"&&($0=!0),C0=C0.contents),Recoil_isPromise(C0)?C0=Yl(i0,C0,c0,w0,a0,x0).finally(E0):E0(),C0=C0 instanceof WrappedValue$1?C0.value:C0}catch(V0){C0=V0,Recoil_isPromise(C0)?C0=Xl(i0,C0,c0,w0,a0,x0).finally(E0):($0=!0,E0())}return $0?I0=loadableWithError$1(C0):Recoil_isPromise(C0)?I0=loadableWithPromise$1(C0):I0=loadableWithValue$2(C0),l0=!1,f0(i0,a0,w0),Zl(i0,c0,new Set(w0.keys()),a0),[I0,w0]}function _f(i0,c0){let a0=c0.atomValues.get(o);if(a0!=null)return a0;const v0=new Set;try{a0=Ol.get(b0=>(typeof b0!="string"&&Recoil_invariant(!1),getNodeLoadable$2(i0,c0,b0).contents),{onNodeVisit:b0=>{b0.type==="branch"&&b0.nodeKey!==o&&v0.add(b0.nodeKey)}})}catch(b0){throw Recoil_err(`Problem with cache lookup for selector "${o}": ${b0.message}`)}if(a0){var l0;c0.atomValues.set(o,a0),Zl(i0,c0,v0,(l0=u0(i0))===null||l0===void 0?void 0:l0.executionID)}return a0}function e0(i0,c0){const a0=_f(i0,c0);if(a0!=null)return _0(i0),a0;const v0=s0(i0,c0);if(v0!=null){var l0;return((l0=v0.loadingLoadable)===null||l0===void 0?void 0:l0.state)==="loading"&&Hl(i0,v0.executionID),v0.loadingLoadable}const b0=getNewExecutionID(),[E0,C0]=_d(i0,c0,b0);return E0.state==="loading"?(g0(i0,b0,E0,C0,c0),Hl(i0,b0)):(_0(i0),o0(c0,E0,C0)),E0}function s0(i0,c0){const a0=Recoil_concatIterables([Fl.has(i0)?[Recoil_nullthrows(Fl.get(i0))]:[],Recoil_mapIterable(Recoil_filterIterable(Fl,([l0])=>l0!==i0),([,l0])=>l0)]);function v0(l0){for(const[b0,E0]of l0)if(!getNodeLoadable$2(i0,c0,b0).is(E0))return!0;return!1}for(const l0 of a0){if(l0.stateVersions.get(c0.version)||!v0(l0.depValuesDiscoveredSoFarDuringAsyncWork))return l0.stateVersions.set(c0.version,!0),l0;l0.stateVersions.set(c0.version,!1)}}function u0(i0){return Fl.get(i0)}function g0(i0,c0,a0,v0,l0){Fl.set(i0,{depValuesDiscoveredSoFarDuringAsyncWork:v0,executionID:c0,loadingLoadable:a0,stateVersions:new Map([[l0.version,!0]])})}function f0(i0,c0,a0){if(S0(i0,c0)){const v0=u0(i0);v0!=null&&(v0.depValuesDiscoveredSoFarDuringAsyncWork=a0)}}function _0(i0){Fl.delete(i0)}function S0(i0,c0){var a0;return c0===((a0=u0(i0))===null||a0===void 0?void 0:a0.executionID)}function p0(i0){return Array.from(i0.entries()).map(([c0,a0])=>[c0,a0.contents])}function o0(i0,c0,a0){i0.atomValues.set(o,c0);try{Ol.set(p0(a0),c0)}catch(v0){throw Recoil_err(`Problem with setting cache for selector "${o}": ${v0.message}`)}}function n0(i0){if(dependencyStack.includes(o)){const c0=`Recoil selector has circular dependencies: ${dependencyStack.slice(dependencyStack.indexOf(o)).join(" \u2192 ")}`;return loadableWithError$1(Recoil_err(c0))}dependencyStack.push(o);try{return i0()}finally{dependencyStack.pop()}}function t0(i0,c0){const a0=c0.atomValues.get(o);return a0!=null?a0:Ol.get(v0=>{var l0;return typeof v0!="string"&&Recoil_invariant(!1),(l0=peekNodeLoadable$1(i0,c0,v0))===null||l0===void 0?void 0:l0.contents})}function r0(i0,c0){return n0(()=>e0(i0,c0))}function d0(i0){i0.atomValues.delete(o)}function h0(i0,c0){i==null&&Recoil_invariant(!1);for(const v0 of Ml){var a0;const l0=getNode$6(v0);(a0=l0.clearCache)===null||a0===void 0||a0.call(l0,i0,c0)}Ml.clear(),d0(c0),Ol.clear(),markRecoilValueModified$1(i0,i)}return Nl!=null?i=registerNode$1({key:o,nodeType:"selector",peek:t0,get:r0,set:(c0,a0,v0)=>{let l0=!1;const b0=new Map;function E0({key:x0}){if(l0)throw Recoil_err("Recoil: Async selector sets are not currently supported.");const w0=getNodeLoadable$2(c0,a0,x0);if(w0.state==="hasValue")return w0.contents;if(w0.state==="loading"){const M0=`Getting value of asynchronous atom or selector "${x0}" in a pending state while setting selector "${o}" is not yet supported.`;throw Recoil_err(M0)}else throw w0.contents}function C0(x0,w0){if(l0)throw Recoil_err("Recoil: Async selector sets are not currently supported.");const M0=typeof w0=="function"?w0(E0(x0)):w0;setNodeValue$3(c0,a0,x0.key,M0).forEach((V0,N0)=>b0.set(N0,V0))}function $0(x0){C0(x0,DEFAULT_VALUE$6)}const I0=Nl({set:C0,get:E0,reset:$0},v0);if(I0!==void 0)throw Recoil_isPromise(I0)?Recoil_err("Recoil: Async selector sets are not currently supported."):Recoil_err("Recoil: selector set should be a void function.");return l0=!0,b0},init:Gl,invalidate:d0,clearCache:h0,shouldDeleteConfigOnRelease:Wl,dangerouslyAllowMutability:s.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:Ll}):i=registerNode$1({key:o,nodeType:"selector",peek:t0,get:r0,init:Gl,invalidate:d0,clearCache:h0,shouldDeleteConfigOnRelease:Wl,dangerouslyAllowMutability:s.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:Ll})}selector.value=s=>new WrappedValue$1(s);var Recoil_selector=selector;const{isLoadable:isLoadable$2,loadableWithError:loadableWithError$2,loadableWithPromise:loadableWithPromise$2,loadableWithValue:loadableWithValue$3}=Recoil_Loadable$1,{WrappedValue:WrappedValue$2}=Recoil_Wrapper$1,{peekNodeInfo:peekNodeInfo$3}=Recoil_FunctionalCore,{DEFAULT_VALUE:DEFAULT_VALUE$7,DefaultValue:DefaultValue$2,getConfigDeletionHandler:getConfigDeletionHandler$2,registerNode:registerNode$2,setConfigDeletionHandler:setConfigDeletionHandler$1}=Recoil_Node,{isRecoilValue:isRecoilValue$4}=Recoil_RecoilValue$1,{getRecoilValueAsLoadable:getRecoilValueAsLoadable$4,markRecoilValueModified:markRecoilValueModified$2,setRecoilValue:setRecoilValue$4,setRecoilValueLoadable:setRecoilValueLoadable$2}=Recoil_RecoilValueInterface,{retainedByOptionWithDefault:retainedByOptionWithDefault$2}=Recoil_Retention,unwrap$2=s=>s instanceof WrappedValue$2?s.value:s;function baseAtom(s){const{key:i,persistence_UNSTABLE:o}=s,et=retainedByOptionWithDefault$2(s.retainedBy_UNSTABLE);let $l=0;function Nl(Hl){return loadableWithPromise$2(Hl.then(Yl=>(Ml=loadableWithValue$3(Yl),Yl)).catch(Yl=>{throw Ml=loadableWithError$2(Yl),Yl}))}let Ml=Recoil_isPromise(s.default)?Nl(s.default):isLoadable$2(s.default)?s.default.state==="loading"?Nl(s.default.contents):s.default:loadableWithValue$3(unwrap$2(s.default));Ml.contents;let Ol;const Ll=new Map;function Fl(Hl){return Hl}function Bl(Hl,Yl){const Xl=Yl.then(Zl=>{var _d,_f;return((_f=((_d=Hl.getState().nextTree)!==null&&_d!==void 0?_d:Hl.getState().currentTree).atomValues.get(i))===null||_f===void 0?void 0:_f.contents)===Xl&&setRecoilValue$4(Hl,Kl,Zl),Zl}).catch(Zl=>{var _d,_f;throw((_f=((_d=Hl.getState().nextTree)!==null&&_d!==void 0?_d:Hl.getState().currentTree).atomValues.get(i))===null||_f===void 0?void 0:_f.contents)===Xl&&setRecoilValueLoadable$2(Hl,Kl,loadableWithError$2(Zl)),Zl});return Xl}function Ul(Hl,Yl,Xl){var Zl;$l++;const _d=()=>{var u0;$l--,(u0=Ll.get(Hl))===null||u0===void 0||u0.forEach(g0=>g0()),Ll.delete(Hl)};if(Hl.getState().knownAtoms.add(i),Ml.state==="loading"){const u0=()=>{var g0;((g0=Hl.getState().nextTree)!==null&&g0!==void 0?g0:Hl.getState().currentTree).atomValues.has(i)||markRecoilValueModified$2(Hl,Kl)};Ml.contents.finally(u0)}const _f=(Zl=s.effects)!==null&&Zl!==void 0?Zl:s.effects_UNSTABLE;if(_f!=null){let S0=function(d0){if(g0&&d0.key===i){const h0=u0;return h0 instanceof DefaultValue$2?Gl(Hl,Yl):Recoil_isPromise(h0)?loadableWithPromise$2(h0.then(i0=>i0 instanceof DefaultValue$2?Ml.toPromise():i0)):loadableWithValue$3(h0)}return getRecoilValueAsLoadable$4(Hl,d0)},p0=function(d0){return S0(d0).toPromise()},o0=function(d0){var h0;const i0=peekNodeInfo$3(Hl,(h0=Hl.getState().nextTree)!==null&&h0!==void 0?h0:Hl.getState().currentTree,d0.key);return g0&&d0.key===i&&!(u0 instanceof DefaultValue$2)?{...i0,isSet:!0,loadable:S0(d0)}:i0},u0=DEFAULT_VALUE$7,g0=!0,f0=!1,_0=null;const n0=d0=>h0=>{if(g0){const i0=S0(Kl),c0=i0.state==="hasValue"?i0.contents:DEFAULT_VALUE$7;u0=typeof h0=="function"?h0(c0):h0,Recoil_isPromise(u0)&&(u0=u0.then(a0=>(_0={effect:d0,value:a0},a0)))}else{if(Recoil_isPromise(h0))throw Recoil_err("Setting atoms to async values is not implemented.");typeof h0!="function"&&(_0={effect:d0,value:unwrap$2(h0)}),setRecoilValue$4(Hl,Kl,typeof h0=="function"?i0=>{const c0=unwrap$2(h0(i0));return _0={effect:d0,value:c0},c0}:unwrap$2(h0))}},t0=d0=>()=>n0(d0)(DEFAULT_VALUE$7),r0=d0=>h0=>{var i0;const{release:c0}=Hl.subscribeToTransactions(a0=>{var v0;let{currentTree:l0,previousTree:b0}=a0.getState();b0||(b0=l0);const E0=(v0=l0.atomValues.get(i))!==null&&v0!==void 0?v0:Ml;if(E0.state==="hasValue"){var C0,$0,I0,x0;const w0=E0.contents,M0=(C0=b0.atomValues.get(i))!==null&&C0!==void 0?C0:Ml,D0=M0.state==="hasValue"?M0.contents:DEFAULT_VALUE$7;(($0=_0)===null||$0===void 0?void 0:$0.effect)!==d0||((I0=_0)===null||I0===void 0?void 0:I0.value)!==w0?h0(w0,D0,!l0.atomValues.has(i)):((x0=_0)===null||x0===void 0?void 0:x0.effect)===d0&&(_0=null)}},i);Ll.set(Hl,[...(i0=Ll.get(Hl))!==null&&i0!==void 0?i0:[],c0])};for(const d0 of _f)try{const h0=d0({node:Kl,storeID:Hl.storeID,parentStoreID_UNSTABLE:Hl.parentStoreID,trigger:Xl,setSelf:n0(d0),resetSelf:t0(d0),onSet:r0(d0),getPromise:p0,getLoadable:S0,getInfo_UNSTABLE:o0});if(h0!=null){var e0;Ll.set(Hl,[...(e0=Ll.get(Hl))!==null&&e0!==void 0?e0:[],h0])}}catch(h0){u0=h0,f0=!0}if(g0=!1,!(u0 instanceof DefaultValue$2)){var s0;const d0=f0?loadableWithError$2(u0):Recoil_isPromise(u0)?loadableWithPromise$2(Bl(Hl,u0)):loadableWithValue$3(unwrap$2(u0));d0.contents,Yl.atomValues.set(i,d0),(s0=Hl.getState().nextTree)===null||s0===void 0||s0.atomValues.set(i,d0)}}return _d}function Gl(Hl,Yl){var Xl,Zl;return(Xl=(Zl=Yl.atomValues.get(i))!==null&&Zl!==void 0?Zl:Ol)!==null&&Xl!==void 0?Xl:Ml}function Wl(Hl,Yl){if(Yl.atomValues.has(i))return Recoil_nullthrows(Yl.atomValues.get(i));if(Yl.nonvalidatedAtoms.has(i)){if(Ol!=null)return Ol;if(o==null)return Ml;const Xl=Yl.nonvalidatedAtoms.get(i),Zl=o.validator(Xl,DEFAULT_VALUE$7);return Ol=Zl instanceof DefaultValue$2?Ml:loadableWithValue$3(Zl),Ol}else return Ml}function zl(){Ol=void 0}function Ql(Hl,Yl,Xl){if(Yl.atomValues.has(i)){const Zl=Recoil_nullthrows(Yl.atomValues.get(i));if(Zl.state==="hasValue"&&Xl===Zl.contents)return new Map}else if(!Yl.nonvalidatedAtoms.has(i)&&Xl instanceof DefaultValue$2)return new Map;return Ol=void 0,new Map().set(i,loadableWithValue$3(Xl))}function Jl(){return getConfigDeletionHandler$2(i)!==void 0&&$l<=0}const Kl=registerNode$2({key:i,nodeType:"atom",peek:Gl,get:Wl,set:Ql,init:Ul,invalidate:zl,shouldDeleteConfigOnRelease:Jl,dangerouslyAllowMutability:s.dangerouslyAllowMutability,persistence_UNSTABLE:s.persistence_UNSTABLE?{type:s.persistence_UNSTABLE.type,backButton:s.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:et});return Kl}function atom(s){const{...i}=s,o="default"in s?s.default:new Promise(()=>{});return isRecoilValue$4(o)?atomWithFallback({...i,default:o}):baseAtom({...i,default:o})}function atomWithFallback(s){const i=atom({...s,default:DEFAULT_VALUE$7,persistence_UNSTABLE:s.persistence_UNSTABLE===void 0?void 0:{...s.persistence_UNSTABLE,validator:et=>et instanceof DefaultValue$2?et:Recoil_nullthrows(s.persistence_UNSTABLE).validator(et,DEFAULT_VALUE$7)},effects:s.effects,effects_UNSTABLE:s.effects_UNSTABLE}),o=Recoil_selector({key:`${s.key}__withFallback`,get:({get:et})=>{const $l=et(i);return $l instanceof DefaultValue$2?s.default:$l},set:({set:et},$l)=>et(i,$l),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:s.dangerouslyAllowMutability});return setConfigDeletionHandler$1(o.key,getConfigDeletionHandler$2(s.key)),o}atom.value=s=>new WrappedValue$2(s);var Recoil_atom=atom;class MapCache{constructor(i){var o;_defineProperty(this,"_map",void 0),_defineProperty(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(o=i==null?void 0:i.mapKey)!==null&&o!==void 0?o:et=>et}size(){return this._map.size}has(i){return this._map.has(this._keyMapper(i))}get(i){return this._map.get(this._keyMapper(i))}set(i,o){this._map.set(this._keyMapper(i),o)}delete(i){this._map.delete(this._keyMapper(i))}clear(){this._map.clear()}}var Recoil_MapCache={MapCache},Recoil_MapCache_1=Recoil_MapCache.MapCache,Recoil_MapCache$1=Object.freeze({__proto__:null,MapCache:Recoil_MapCache_1});const{LRUCache:LRUCache$2}=Recoil_LRUCache$1,{MapCache:MapCache$1}=Recoil_MapCache$1,defaultPolicy$1={equality:"reference",eviction:"none",maxSize:1/0};function cacheFromPolicy({equality:s=defaultPolicy$1.equality,eviction:i=defaultPolicy$1.eviction,maxSize:o=defaultPolicy$1.maxSize}=defaultPolicy$1){const et=getValueMapper$1(s);return getCache(i,o,et)}function getValueMapper$1(s){switch(s){case"reference":return i=>i;case"value":return i=>Recoil_stableStringify(i)}throw Recoil_err(`Unrecognized equality policy ${s}`)}function getCache(s,i,o){switch(s){case"keep-all":return new MapCache$1({mapKey:o});case"lru":return new LRUCache$2({mapKey:o,maxSize:Recoil_nullthrows(i)});case"most-recent":return new LRUCache$2({mapKey:o,maxSize:1})}throw Recoil_err(`Unrecognized eviction policy ${s}`)}var Recoil_cacheFromPolicy=cacheFromPolicy;const{setConfigDeletionHandler:setConfigDeletionHandler$2}=Recoil_Node;function atomFamily(s){var i,o;const et=Recoil_cacheFromPolicy({equality:(i=(o=s.cachePolicyForParams_UNSTABLE)===null||o===void 0?void 0:o.equality)!==null&&i!==void 0?i:"value",eviction:"keep-all"});return $l=>{var Nl,Ml;const Ol=et.get($l);if(Ol!=null)return Ol;const{cachePolicyForParams_UNSTABLE:Ll,...Fl}=s,Bl="default"in s?s.default:new Promise(()=>{}),Ul=Recoil_atom({...Fl,key:`${s.key}__${(Nl=Recoil_stableStringify($l))!==null&&Nl!==void 0?Nl:"void"}`,default:typeof Bl=="function"?Bl($l):Bl,retainedBy_UNSTABLE:typeof s.retainedBy_UNSTABLE=="function"?s.retainedBy_UNSTABLE($l):s.retainedBy_UNSTABLE,effects:typeof s.effects=="function"?s.effects($l):typeof s.effects_UNSTABLE=="function"?s.effects_UNSTABLE($l):(Ml=s.effects)!==null&&Ml!==void 0?Ml:s.effects_UNSTABLE});return et.set($l,Ul),setConfigDeletionHandler$2(Ul.key,()=>{et.delete($l)}),Ul}}var Recoil_atomFamily=atomFamily;const{setConfigDeletionHandler:setConfigDeletionHandler$3}=Recoil_Node;let nextIndex=0;function selectorFamily(s){var i,o;const et=Recoil_cacheFromPolicy({equality:(i=(o=s.cachePolicyForParams_UNSTABLE)===null||o===void 0?void 0:o.equality)!==null&&i!==void 0?i:"value",eviction:"keep-all"});return $l=>{var Nl;let Ml;try{Ml=et.get($l)}catch(Gl){throw Recoil_err(`Problem with cache lookup for selector ${s.key}: ${Gl.message}`)}if(Ml!=null)return Ml;const Ol=`${s.key}__selectorFamily/${(Nl=Recoil_stableStringify($l,{allowFunctions:!0}))!==null&&Nl!==void 0?Nl:"void"}/${nextIndex++}`,Ll=Gl=>s.get($l)(Gl),Fl=s.cachePolicy_UNSTABLE,Bl=typeof s.retainedBy_UNSTABLE=="function"?s.retainedBy_UNSTABLE($l):s.retainedBy_UNSTABLE;let Ul;if(s.set!=null){const Gl=s.set;Ul=Recoil_selector({key:Ol,get:Ll,set:(zl,Ql)=>Gl($l)(zl,Ql),cachePolicy_UNSTABLE:Fl,dangerouslyAllowMutability:s.dangerouslyAllowMutability,retainedBy_UNSTABLE:Bl})}else Ul=Recoil_selector({key:Ol,get:Ll,cachePolicy_UNSTABLE:Fl,dangerouslyAllowMutability:s.dangerouslyAllowMutability,retainedBy_UNSTABLE:Bl});return et.set($l,Ul),setConfigDeletionHandler$3(Ul.key,()=>{et.delete($l)}),Ul}}var Recoil_selectorFamily=selectorFamily;const constantSelector=Recoil_selectorFamily({key:"__constant",get:s=>()=>s,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function constSelector(s){return constantSelector(s)}var Recoil_constSelector=constSelector;const throwingSelector=Recoil_selectorFamily({key:"__error",get:s=>()=>{throw Recoil_err(s)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function errorSelector(s){return throwingSelector(s)}var Recoil_errorSelector=errorSelector;function readOnlySelector(s){return s}var Recoil_readOnlySelector=readOnlySelector;const{loadableWithError:loadableWithError$3,loadableWithPromise:loadableWithPromise$3,loadableWithValue:loadableWithValue$4}=Recoil_Loadable$1;function concurrentRequests(s,i){const o=Array(i.length).fill(void 0),et=Array(i.length).fill(void 0);for(const[$l,Nl]of i.entries())try{o[$l]=s(Nl)}catch(Ml){et[$l]=Ml}return[o,et]}function isError(s){return s!=null&&!Recoil_isPromise(s)}function unwrapDependencies(s){return Array.isArray(s)?s:Object.getOwnPropertyNames(s).map(i=>s[i])}function wrapResults(s,i){return Array.isArray(s)?i:Object.getOwnPropertyNames(s).reduce((o,et,$l)=>({...o,[et]:i[$l]}),{})}function wrapLoadables(s,i,o){const et=o.map(($l,Nl)=>$l==null?loadableWithValue$4(i[Nl]):Recoil_isPromise($l)?loadableWithPromise$3($l):loadableWithError$3($l));return wrapResults(s,et)}function combineAsyncResultsWithSyncResults(s,i){return i.map((o,et)=>o===void 0?s[et]:o)}const waitForNone=Recoil_selectorFamily({key:"__waitForNone",get:s=>({get:i})=>{const o=unwrapDependencies(s),[et,$l]=concurrentRequests(i,o);return wrapLoadables(s,et,$l)},dangerouslyAllowMutability:!0}),waitForAny=Recoil_selectorFamily({key:"__waitForAny",get:s=>({get:i})=>{const o=unwrapDependencies(s),[et,$l]=concurrentRequests(i,o);return $l.some(Nl=>!Recoil_isPromise(Nl))?wrapLoadables(s,et,$l):new Promise(Nl=>{for(const[Ml,Ol]of $l.entries())Recoil_isPromise(Ol)&&Ol.then(Ll=>{et[Ml]=Ll,$l[Ml]=void 0,Nl(wrapLoadables(s,et,$l))}).catch(Ll=>{$l[Ml]=Ll,Nl(wrapLoadables(s,et,$l))})})},dangerouslyAllowMutability:!0}),waitForAll=Recoil_selectorFamily({key:"__waitForAll",get:s=>({get:i})=>{const o=unwrapDependencies(s),[et,$l]=concurrentRequests(i,o);if($l.every(Ml=>Ml==null))return wrapResults(s,et);const Nl=$l.find(isError);if(Nl!=null)throw Nl;return Promise.all($l).then(Ml=>wrapResults(s,combineAsyncResultsWithSyncResults(et,Ml)))},dangerouslyAllowMutability:!0}),waitForAllSettled=Recoil_selectorFamily({key:"__waitForAllSettled",get:s=>({get:i})=>{const o=unwrapDependencies(s),[et,$l]=concurrentRequests(i,o);return $l.every(Nl=>!Recoil_isPromise(Nl))?wrapLoadables(s,et,$l):Promise.all($l.map((Nl,Ml)=>Recoil_isPromise(Nl)?Nl.then(Ol=>{et[Ml]=Ol,$l[Ml]=void 0}).catch(Ol=>{et[Ml]=void 0,$l[Ml]=Ol}):null)).then(()=>wrapLoadables(s,et,$l))},dangerouslyAllowMutability:!0}),noWait=Recoil_selectorFamily({key:"__noWait",get:s=>({get:i})=>{try{return Recoil_selector.value(loadableWithValue$4(i(s)))}catch(o){return Recoil_selector.value(Recoil_isPromise(o)?loadableWithPromise$3(o):loadableWithError$3(o))}},dangerouslyAllowMutability:!0});var Recoil_WaitFor={waitForNone,waitForAny,waitForAll,waitForAllSettled,noWait};const{RecoilLoadable}=Recoil_Loadable$1,{DefaultValue:DefaultValue$3}=Recoil_Node,{RecoilRoot:RecoilRoot$2,useRecoilStoreID:useRecoilStoreID$1}=Recoil_RecoilRoot,{isRecoilValue:isRecoilValue$5}=Recoil_RecoilValue$1,{retentionZone:retentionZone$1}=Recoil_RetentionZone,{freshSnapshot:freshSnapshot$2}=Recoil_Snapshot$1,{useRecoilState:useRecoilState$1,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:useRecoilState_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilStateLoadable:useRecoilStateLoadable$1,useRecoilValue:useRecoilValue$1,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:useRecoilValue_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilValueLoadable:useRecoilValueLoadable$1,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE$1,useResetRecoilState:useResetRecoilState$1,useSetRecoilState:useSetRecoilState$1}=Recoil_Hooks,{useGotoRecoilSnapshot:useGotoRecoilSnapshot$1,useRecoilSnapshot:useRecoilSnapshot$1,useRecoilTransactionObserver:useRecoilTransactionObserver$1}=Recoil_SnapshotHooks,{useRecoilCallback:useRecoilCallback$1}=Recoil_useRecoilCallback,{noWait:noWait$1,waitForAll:waitForAll$1,waitForAllSettled:waitForAllSettled$1,waitForAny:waitForAny$1,waitForNone:waitForNone$1}=Recoil_WaitFor;var Recoil_index={DefaultValue:DefaultValue$3,isRecoilValue:isRecoilValue$5,RecoilLoadable,RecoilRoot:RecoilRoot$2,useRecoilStoreID:useRecoilStoreID$1,useRecoilBridgeAcrossReactRoots_UNSTABLE:Recoil_useRecoilBridgeAcrossReactRoots,atom:Recoil_atom,selector:Recoil_selector,atomFamily:Recoil_atomFamily,selectorFamily:Recoil_selectorFamily,constSelector:Recoil_constSelector,errorSelector:Recoil_errorSelector,readOnlySelector:Recoil_readOnlySelector,noWait:noWait$1,waitForNone:waitForNone$1,waitForAny:waitForAny$1,waitForAll:waitForAll$1,waitForAllSettled:waitForAllSettled$1,useRecoilValue:useRecoilValue$1,useRecoilValueLoadable:useRecoilValueLoadable$1,useRecoilState:useRecoilState$1,useRecoilStateLoadable:useRecoilStateLoadable$1,useSetRecoilState:useSetRecoilState$1,useResetRecoilState:useResetRecoilState$1,useGetRecoilValueInfo_UNSTABLE:Recoil_useGetRecoilValueInfo,useRecoilRefresher_UNSTABLE:Recoil_useRecoilRefresher,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:useRecoilValue_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:useRecoilState_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilCallback:useRecoilCallback$1,useRecoilTransaction_UNSTABLE:Recoil_useRecoilTransaction,useGotoRecoilSnapshot:useGotoRecoilSnapshot$1,useRecoilSnapshot:useRecoilSnapshot$1,useRecoilTransactionObserver_UNSTABLE:useRecoilTransactionObserver$1,snapshot_UNSTABLE:freshSnapshot$2,useRetain:Recoil_useRetain,retentionZone:retentionZone$1},Recoil_index_4=Recoil_index.RecoilRoot,Recoil_index_7=Recoil_index.atom,Recoil_index_8=Recoil_index.selector,Recoil_index_19=Recoil_index.useRecoilValue,Recoil_index_21=Recoil_index.useRecoilState,extendStatics=function(s,i){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,et){o.__proto__=et}||function(o,et){for(var $l in et)Object.prototype.hasOwnProperty.call(et,$l)&&(o[$l]=et[$l])},extendStatics(s,i)};function __extends(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");extendStatics(s,i);function o(){this.constructor=s}s.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}var __assign$1=function(){return __assign$1=Object.assign||function(i){for(var o,et=1,$l=arguments.length;et<$l;et++){o=arguments[et];for(var Nl in o)Object.prototype.hasOwnProperty.call(o,Nl)&&(i[Nl]=o[Nl])}return i},__assign$1.apply(this,arguments)};function __rest(s,i){var o={};for(var et in s)Object.prototype.hasOwnProperty.call(s,et)&&i.indexOf(et)<0&&(o[et]=s[et]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $l=0,et=Object.getOwnPropertySymbols(s);$l<et.length;$l++)i.indexOf(et[$l])<0&&Object.prototype.propertyIsEnumerable.call(s,et[$l])&&(o[et[$l]]=s[et[$l]]);return o}function __values(s){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&s[i],et=0;if(o)return o.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&et>=s.length&&(s=void 0),{value:s&&s[et++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(s,i){var o=typeof Symbol=="function"&&s[Symbol.iterator];if(!o)return s;var et=o.call(s),$l,Nl=[],Ml;try{for(;(i===void 0||i-- >0)&&!($l=et.next()).done;)Nl.push($l.value)}catch(Ol){Ml={error:Ol}}finally{try{$l&&!$l.done&&(o=et.return)&&o.call(et)}finally{if(Ml)throw Ml.error}}return Nl}function __spreadArray(s,i,o){if(o||arguments.length===2)for(var et=0,$l=i.length,Nl;et<$l;et++)(Nl||!(et in i))&&(Nl||(Nl=Array.prototype.slice.call(i,0,et)),Nl[et]=i[et]);return s.concat(Nl||Array.prototype.slice.call(i))}var defaultEnvironment="production",env=typeof process=="undefined"||process.env===void 0?defaultEnvironment:"production",createDefinition=function(s){return{isEnabled:function(i){return s.some(function(o){return!!i[o]})}}},featureDefinitions={measureLayout:createDefinition(["layout","layoutId","drag"]),animation:createDefinition(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:createDefinition(["exit"]),drag:createDefinition(["drag","dragControls"]),focus:createDefinition(["whileFocus"]),hover:createDefinition(["whileHover","onHoverStart","onHoverEnd"]),tap:createDefinition(["whileTap","onTap","onTapStart","onTapCancel"]),pan:createDefinition(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:createDefinition(["whileInView","onViewportEnter","onViewportLeave"])};function loadFeatures(s){for(var i in s)s[i]!==null&&(i==="projectionNodeConstructor"?featureDefinitions.projectionNodeConstructor=s[i]:featureDefinitions[i].Component=s[i])}var warning=function(){},invariant=function(){},LazyContext=react.exports.createContext({strict:!1}),featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length;function useFeatures(s,i,o){var et=[],$l=react.exports.useContext(LazyContext);if(!i)return null;env!=="production"&&o&&$l.strict;for(var Nl=0;Nl<numFeatures;Nl++){var Ml=featureNames[Nl],Ol=featureDefinitions[Ml],Ll=Ol.isEnabled,Fl=Ol.Component;Ll(s)&&Fl&&et.push(react.exports.createElement(Fl,__assign$1({key:Ml},s,{visualElement:i})))}return et}var MotionConfigContext=react.exports.createContext({transformPagePoint:function(s){return s},isStatic:!1,reducedMotion:"never"}),MotionContext=react.exports.createContext({});function useVisualElementContext(){return react.exports.useContext(MotionContext).visualElement}var PresenceContext=react.exports.createContext(null),isBrowser$1=typeof document!="undefined",useIsomorphicLayoutEffect=isBrowser$1?react.exports.useLayoutEffect:react.exports.useEffect,prefersReducedMotion={current:null},hasDetected=!1;function initPrefersReducedMotion(){if(hasDetected=!0,!!isBrowser$1)if(window.matchMedia){var s=window.matchMedia("(prefers-reduced-motion)"),i=function(){return prefersReducedMotion.current=s.matches};s.addListener(i),i()}else prefersReducedMotion.current=!1}function useReducedMotion(){!hasDetected&&initPrefersReducedMotion();var s=__read(react.exports.useState(prefersReducedMotion.current),1),i=s[0];return i}function useReducedMotionConfig(){var s=useReducedMotion(),i=react.exports.useContext(MotionConfigContext).reducedMotion;return i==="never"?!1:i==="always"?!0:s}function useVisualElement(s,i,o,et){var $l=react.exports.useContext(LazyContext),Nl=useVisualElementContext(),Ml=react.exports.useContext(PresenceContext),Ol=useReducedMotionConfig(),Ll=react.exports.useRef(void 0);et||(et=$l.renderer),!Ll.current&&et&&(Ll.current=et(s,{visualState:i,parent:Nl,props:o,presenceId:Ml==null?void 0:Ml.id,blockInitialAnimation:(Ml==null?void 0:Ml.initial)===!1,shouldReduceMotion:Ol}));var Fl=Ll.current;return useIsomorphicLayoutEffect(function(){Fl==null||Fl.syncRender()}),react.exports.useEffect(function(){var Bl;(Bl=Fl==null?void 0:Fl.animationState)===null||Bl===void 0||Bl.animateChanges()}),useIsomorphicLayoutEffect(function(){return function(){return Fl==null?void 0:Fl.notifyUnmount()}},[]),Fl}function isRefObject(s){return typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function useMotionRef(s,i,o){return react.exports.useCallback(function(et){var $l;et&&(($l=s.mount)===null||$l===void 0||$l.call(s,et)),i&&(et?i.mount(et):i.unmount()),o&&(typeof o=="function"?o(et):isRefObject(o)&&(o.current=et))},[i])}function isVariantLabels(s){return Array.isArray(s)}function isVariantLabel(s){return typeof s=="string"||isVariantLabels(s)}function getCurrent(s){var i={};return s.forEachValue(function(o,et){return i[et]=o.get()}),i}function getVelocity$1(s){var i={};return s.forEachValue(function(o,et){return i[et]=o.getVelocity()}),i}function resolveVariantFromProps(s,i,o,et,$l){var Nl;return et===void 0&&(et={}),$l===void 0&&($l={}),typeof i=="function"&&(i=i(o!=null?o:s.custom,et,$l)),typeof i=="string"&&(i=(Nl=s.variants)===null||Nl===void 0?void 0:Nl[i]),typeof i=="function"&&(i=i(o!=null?o:s.custom,et,$l)),i}function resolveVariant(s,i,o){var et=s.getProps();return resolveVariantFromProps(et,i,o!=null?o:et.custom,getCurrent(s),getVelocity$1(s))}function checkIfControllingVariants(s){var i;return typeof((i=s.animate)===null||i===void 0?void 0:i.start)=="function"||isVariantLabel(s.initial)||isVariantLabel(s.animate)||isVariantLabel(s.whileHover)||isVariantLabel(s.whileDrag)||isVariantLabel(s.whileTap)||isVariantLabel(s.whileFocus)||isVariantLabel(s.exit)}function checkIfVariantNode(s){return Boolean(checkIfControllingVariants(s)||s.variants)}function getCurrentTreeVariants(s,i){if(checkIfControllingVariants(s)){var o=s.initial,et=s.animate;return{initial:o===!1||isVariantLabel(o)?o:void 0,animate:isVariantLabel(et)?et:void 0}}return s.inherit!==!1?i:{}}function useCreateMotionContext(s){var i=getCurrentTreeVariants(s,react.exports.useContext(MotionContext)),o=i.initial,et=i.animate;return react.exports.useMemo(function(){return{initial:o,animate:et}},[variantLabelsAsDependency(o),variantLabelsAsDependency(et)])}function variantLabelsAsDependency(s){return Array.isArray(s)?s.join(" "):s}function useConstant(s){var i=react.exports.useRef(null);return i.current===null&&(i.current=s()),i.current}var globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1},id$2=1;function useProjectionId(){return useConstant(function(){if(globalProjectionState.hasEverUpdated)return id$2++})}var LayoutGroupContext=react.exports.createContext({}),SwitchLayoutGroupContext=react.exports.createContext({});function useProjection(s,i,o,et){var $l,Nl=i.layoutId,Ml=i.layout,Ol=i.drag,Ll=i.dragConstraints,Fl=i.layoutScroll,Bl=react.exports.useContext(SwitchLayoutGroupContext);!et||!o||(o==null?void 0:o.projection)||(o.projection=new et(s,o.getLatestValues(),($l=o.parent)===null||$l===void 0?void 0:$l.projection),o.projection.setOptions({layoutId:Nl,layout:Ml,alwaysMeasureLayout:Boolean(Ol)||Ll&&isRefObject(Ll),visualElement:o,scheduleRender:function(){return o.scheduleRender()},animationType:typeof Ml=="string"?Ml:"both",initialPromotionConfig:Bl,layoutScroll:Fl}))}var VisualElementHandler=function(s){__extends(i,s);function i(){return s!==null&&s.apply(this,arguments)||this}return i.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},i.prototype.componentDidUpdate=function(){},i.prototype.updateProps=function(){var o=this.props,et=o.visualElement,$l=o.props;et&&et.setProps($l)},i.prototype.render=function(){return this.props.children},i}(React.Component);function createMotionComponent(s){var i=s.preloadedFeatures,o=s.createVisualElement,et=s.projectionNodeConstructor,$l=s.useRender,Nl=s.useVisualState,Ml=s.Component;i&&loadFeatures(i);function Ol(Ll,Fl){var Bl=useLayoutId(Ll);Ll=__assign$1(__assign$1({},Ll),{layoutId:Bl});var Ul=react.exports.useContext(MotionConfigContext),Gl=null,Wl=useCreateMotionContext(Ll),zl=Ul.isStatic?void 0:useProjectionId(),Ql=Nl(Ll,Ul.isStatic);return!Ul.isStatic&&isBrowser$1&&(Wl.visualElement=useVisualElement(Ml,Ql,__assign$1(__assign$1({},Ul),Ll),o),useProjection(zl,Ll,Wl.visualElement,et||featureDefinitions.projectionNodeConstructor),Gl=useFeatures(Ll,Wl.visualElement,i)),react.exports.createElement(VisualElementHandler,{visualElement:Wl.visualElement,props:__assign$1(__assign$1({},Ul),Ll)},Gl,react.exports.createElement(MotionContext.Provider,{value:Wl},$l(Ml,Ll,zl,useMotionRef(Ql,Wl.visualElement,Fl),Ql,Ul.isStatic,Wl.visualElement)))}return react.exports.forwardRef(Ol)}function useLayoutId(s){var i,o=s.layoutId,et=(i=react.exports.useContext(LayoutGroupContext))===null||i===void 0?void 0:i.id;return et&&o!==void 0?et+"-"+o:o}function createMotionProxy(s){function i(et,$l){return $l===void 0&&($l={}),createMotionComponent(s(et,$l))}if(typeof Proxy=="undefined")return i;var o=new Map;return new Proxy(i,{get:function(et,$l){return o.has($l)||o.set($l,i($l)),o.get($l)}})}var lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function isSVGComponent(s){return typeof s!="string"||s.includes("-")?!1:!!(lowercaseSVGElements.indexOf(s)>-1||/[A-Z]/.test(s))}var scaleCorrectors={};function addScaleCorrector(s){Object.assign(scaleCorrectors,s)}var transformAxes=["","X","Y","Z"],order=["translate","scale","rotate","skew"],transformProps=["transformPerspective","x","y","z"];order.forEach(function(s){return transformAxes.forEach(function(i){return transformProps.push(s+i)})});function sortTransformProps(s,i){return transformProps.indexOf(s)-transformProps.indexOf(i)}var transformPropSet=new Set(transformProps);function isTransformProp(s){return transformPropSet.has(s)}var transformOriginProps=new Set(["originX","originY","originZ"]);function isTransformOriginProp(s){return transformOriginProps.has(s)}function isForcedMotionValue(s,i){var o=i.layout,et=i.layoutId;return isTransformProp(s)||isTransformOriginProp(s)||(o||et!==void 0)&&(!!scaleCorrectors[s]||s==="opacity")}var isMotionValue=function(s){return Boolean(s!==null&&typeof s=="object"&&s.getVelocity)},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function buildTransform(s,i,o,et){var $l=s.transform,Nl=s.transformKeys,Ml=i.enableHardwareAcceleration,Ol=Ml===void 0?!0:Ml,Ll=i.allowTransformNone,Fl=Ll===void 0?!0:Ll,Bl="";Nl.sort(sortTransformProps);for(var Ul=!1,Gl=Nl.length,Wl=0;Wl<Gl;Wl++){var zl=Nl[Wl];Bl+="".concat(translateAlias[zl]||zl,"(").concat($l[zl],") "),zl==="z"&&(Ul=!0)}return!Ul&&Ol?Bl+="translateZ(0)":Bl=Bl.trim(),et?Bl=et($l,o?"":Bl):Fl&&o&&(Bl="none"),Bl}function buildTransformOrigin(s){var i=s.originX,o=i===void 0?"50%":i,et=s.originY,$l=et===void 0?"50%":et,Nl=s.originZ,Ml=Nl===void 0?0:Nl;return"".concat(o," ").concat($l," ").concat(Ml)}function isCSSVariable$1(s){return s.startsWith("--")}var getValueAsType=function(s,i){return i&&typeof s=="number"?i.transform(s):s};const clamp$1=(s,i)=>o=>Math.max(Math.min(o,i),s),sanitize=s=>s%1?Number(s.toFixed(5)):s,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function isString$2(s){return typeof s=="string"}const number={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},alpha=Object.assign(Object.assign({},number),{transform:clamp$1(0,1)}),scale=Object.assign(Object.assign({},number),{default:1}),createUnitType=s=>({test:i=>isString$2(i)&&i.endsWith(s)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${s}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px$1=createUnitType("px"),vh$1=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage=Object.assign(Object.assign({},percent),{parse:s=>percent.parse(s)/100,transform:s=>percent.transform(s*100)}),isColorString=(s,i)=>o=>Boolean(isString$2(o)&&singleColorRegex.test(o)&&o.startsWith(s)||i&&Object.prototype.hasOwnProperty.call(o,i)),splitColor=(s,i,o)=>et=>{if(!isString$2(et))return et;const[$l,Nl,Ml,Ol]=et.match(floatRegex);return{[s]:parseFloat($l),[i]:parseFloat(Nl),[o]:parseFloat(Ml),alpha:Ol!==void 0?parseFloat(Ol):1}},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:s,saturation:i,lightness:o,alpha:et=1})=>"hsla("+Math.round(s)+", "+percent.transform(sanitize(i))+", "+percent.transform(sanitize(o))+", "+sanitize(alpha.transform(et))+")"},clampRgbUnit=clamp$1(0,255),rgbUnit=Object.assign(Object.assign({},number),{transform:s=>Math.round(clampRgbUnit(s))}),rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:s,green:i,blue:o,alpha:et=1})=>"rgba("+rgbUnit.transform(s)+", "+rgbUnit.transform(i)+", "+rgbUnit.transform(o)+", "+sanitize(alpha.transform(et))+")"};function parseHex(s){let i="",o="",et="",$l="";return s.length>5?(i=s.substr(1,2),o=s.substr(3,2),et=s.substr(5,2),$l=s.substr(7,2)):(i=s.substr(1,1),o=s.substr(2,1),et=s.substr(3,1),$l=s.substr(4,1),i+=i,o+=o,et+=et,$l+=$l),{red:parseInt(i,16),green:parseInt(o,16),blue:parseInt(et,16),alpha:$l?parseInt($l,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},color={test:s=>rgba.test(s)||hex.test(s)||hsla.test(s),parse:s=>rgba.test(s)?rgba.parse(s):hsla.test(s)?hsla.parse(s):hex.parse(s),transform:s=>isString$2(s)?s:s.hasOwnProperty("red")?rgba.transform(s):hsla.transform(s)},colorToken="${c}",numberToken="${n}";function test(s){var i,o,et,$l;return isNaN(s)&&isString$2(s)&&((o=(i=s.match(floatRegex))===null||i===void 0?void 0:i.length)!==null&&o!==void 0?o:0)+(($l=(et=s.match(colorRegex))===null||et===void 0?void 0:et.length)!==null&&$l!==void 0?$l:0)>0}function analyse$1(s){typeof s=="number"&&(s=`${s}`);const i=[];let o=0;const et=s.match(colorRegex);et&&(o=et.length,s=s.replace(colorRegex,colorToken),i.push(...et.map(color.parse)));const $l=s.match(floatRegex);return $l&&(s=s.replace(floatRegex,numberToken),i.push(...$l.map(number.parse))),{values:i,numColors:o,tokenised:s}}function parse(s){return analyse$1(s).values}function createTransformer(s){const{values:i,numColors:o,tokenised:et}=analyse$1(s),$l=i.length;return Nl=>{let Ml=et;for(let Ol=0;Ol<$l;Ol++)Ml=Ml.replace(Ol<o?colorToken:numberToken,Ol<o?color.transform(Nl[Ol]):sanitize(Nl[Ol]));return Ml}}const convertNumbersToZero=s=>typeof s=="number"?0:s;function getAnimatableNone$1(s){const i=parse(s);return createTransformer(s)(i.map(convertNumbersToZero))}const complex={test,parse,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(s){let[i,o]=s.slice(0,-1).split("(");if(i==="drop-shadow")return s;const[et]=o.match(floatRegex)||[];if(!et)return s;const $l=o.replace(et,"");let Nl=maxDefaults.has(i)?1:0;return et!==o&&(Nl*=100),i+"("+Nl+$l+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter=Object.assign(Object.assign({},complex),{getAnimatableNone:s=>{const i=s.match(functionRegex);return i?i.map(applyDefaultFilter).join(" "):s}});var int=__assign$1(__assign$1({},number),{transform:Math.round}),numberValueTypes={borderWidth:px$1,borderTopWidth:px$1,borderRightWidth:px$1,borderBottomWidth:px$1,borderLeftWidth:px$1,borderRadius:px$1,radius:px$1,borderTopLeftRadius:px$1,borderTopRightRadius:px$1,borderBottomRightRadius:px$1,borderBottomLeftRadius:px$1,width:px$1,maxWidth:px$1,height:px$1,maxHeight:px$1,size:px$1,top:px$1,right:px$1,bottom:px$1,left:px$1,padding:px$1,paddingTop:px$1,paddingRight:px$1,paddingBottom:px$1,paddingLeft:px$1,margin:px$1,marginTop:px$1,marginRight:px$1,marginBottom:px$1,marginLeft:px$1,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px$1,translateX:px$1,translateY:px$1,translateZ:px$1,x:px$1,y:px$1,z:px$1,perspective:px$1,transformPerspective:px$1,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px$1,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(s,i,o,et){var $l,Nl=s.style,Ml=s.vars,Ol=s.transform,Ll=s.transformKeys,Fl=s.transformOrigin;Ll.length=0;var Bl=!1,Ul=!1,Gl=!0;for(var Wl in i){var zl=i[Wl];if(isCSSVariable$1(Wl)){Ml[Wl]=zl;continue}var Ql=numberValueTypes[Wl],Jl=getValueAsType(zl,Ql);if(isTransformProp(Wl)){if(Bl=!0,Ol[Wl]=Jl,Ll.push(Wl),!Gl)continue;zl!==(($l=Ql.default)!==null&&$l!==void 0?$l:0)&&(Gl=!1)}else isTransformOriginProp(Wl)?(Fl[Wl]=Jl,Ul=!0):Nl[Wl]=Jl}Bl?Nl.transform=buildTransform(s,o,Gl,et):et?Nl.transform=et({},""):!i.transform&&Nl.transform&&(Nl.transform="none"),Ul&&(Nl.transformOrigin=buildTransformOrigin(Fl))}var createHtmlRenderState=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function copyRawValuesOnly(s,i,o){for(var et in i)!isMotionValue(i[et])&&!isForcedMotionValue(et,o)&&(s[et]=i[et])}function useInitialMotionValues(s,i,o){var et=s.transformTemplate;return react.exports.useMemo(function(){var $l=createHtmlRenderState();buildHTMLStyles($l,i,{enableHardwareAcceleration:!o},et);var Nl=$l.vars,Ml=$l.style;return __assign$1(__assign$1({},Nl),Ml)},[i])}function useStyle(s,i,o){var et=s.style||{},$l={};return copyRawValuesOnly($l,et,s),Object.assign($l,useInitialMotionValues(s,i,o)),s.transformValues&&($l=s.transformValues($l)),$l}function useHTMLProps(s,i,o){var et={},$l=useStyle(s,i,o);return Boolean(s.drag)&&s.dragListener!==!1&&(et.draggable=!1,$l.userSelect=$l.WebkitUserSelect=$l.WebkitTouchCallout="none",$l.touchAction=s.drag===!0?"none":"pan-".concat(s.drag==="x"?"y":"x")),et.style=$l,et}var validMotionProps=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function isValidMotionProp(s){return validMotionProps.has(s)}var shouldForward=function(s){return!isValidMotionProp(s)};function loadExternalIsValidProp(s){!s||(shouldForward=function(i){return i.startsWith("on")?!isValidMotionProp(i):s(i)})}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(s,i,o){var et={};for(var $l in s)(shouldForward($l)||o===!0&&isValidMotionProp($l)||!i&&!isValidMotionProp($l)||s.draggable&&$l.startsWith("onDrag"))&&(et[$l]=s[$l]);return et}function calcOrigin$1(s,i,o){return typeof s=="string"?s:px$1.transform(i+o*s)}function calcSVGTransformOrigin(s,i,o){var et=calcOrigin$1(i,s.x,s.width),$l=calcOrigin$1(o,s.y,s.height);return"".concat(et," ").concat($l)}var dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(s,i,o,et,$l){o===void 0&&(o=1),et===void 0&&(et=0),$l===void 0&&($l=!0),s.pathLength=1;var Nl=$l?dashKeys:camelKeys;s[Nl.offset]=px$1.transform(-et);var Ml=px$1.transform(i),Ol=px$1.transform(o);s[Nl.array]="".concat(Ml," ").concat(Ol)}function buildSVGAttrs(s,i,o,et){var $l=i.attrX,Nl=i.attrY,Ml=i.originX,Ol=i.originY,Ll=i.pathLength,Fl=i.pathSpacing,Bl=Fl===void 0?1:Fl,Ul=i.pathOffset,Gl=Ul===void 0?0:Ul,Wl=__rest(i,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);buildHTMLStyles(s,Wl,o,et),s.attrs=s.style,s.style={};var zl=s.attrs,Ql=s.style,Jl=s.dimensions;zl.transform&&(Jl&&(Ql.transform=zl.transform),delete zl.transform),Jl&&(Ml!==void 0||Ol!==void 0||Ql.transform)&&(Ql.transformOrigin=calcSVGTransformOrigin(Jl,Ml!==void 0?Ml:.5,Ol!==void 0?Ol:.5)),$l!==void 0&&(zl.x=$l),Nl!==void 0&&(zl.y=Nl),Ll!==void 0&&buildSVGPath(zl,Ll,Bl,Gl,!1)}var createSvgRenderState=function(){return __assign$1(__assign$1({},createHtmlRenderState()),{attrs:{}})};function useSVGProps(s,i){var o=react.exports.useMemo(function(){var $l=createSvgRenderState();return buildSVGAttrs($l,i,{enableHardwareAcceleration:!1},s.transformTemplate),__assign$1(__assign$1({},$l.attrs),{style:__assign$1({},$l.style)})},[i]);if(s.style){var et={};copyRawValuesOnly(et,s.style,s),o.style=__assign$1(__assign$1({},et),o.style)}return o}function createUseRender(s){s===void 0&&(s=!1);var i=function(o,et,$l,Nl,Ml,Ol){var Ll=Ml.latestValues,Fl=isSVGComponent(o)?useSVGProps:useHTMLProps,Bl=Fl(et,Ll,Ol),Ul=filterProps(et,typeof o=="string",s),Gl=__assign$1(__assign$1(__assign$1({},Ul),Bl),{ref:Nl});return $l&&(Gl["data-projection-id"]=$l),react.exports.createElement(o,Gl)};return i}var CAMEL_CASE_PATTERN=/([a-z])([A-Z])/g,REPLACE_TEMPLATE="$1-$2",camelToDash=function(s){return s.replace(CAMEL_CASE_PATTERN,REPLACE_TEMPLATE).toLowerCase()};function renderHTML(s,i,o,et){var $l=i.style,Nl=i.vars;Object.assign(s.style,$l,et&&et.getProjectionStyles(o));for(var Ml in Nl)s.style.setProperty(Ml,Nl[Ml])}var camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function renderSVG(s,i,o,et){renderHTML(s,i,void 0,et);for(var $l in i.attrs)s.setAttribute(camelCaseAttributes.has($l)?$l:camelToDash($l),i.attrs[$l])}function scrapeMotionValuesFromProps$1(s){var i=s.style,o={};for(var et in i)(isMotionValue(i[et])||isForcedMotionValue(et,s))&&(o[et]=i[et]);return o}function scrapeMotionValuesFromProps(s){var i=scrapeMotionValuesFromProps$1(s);for(var o in s)if(isMotionValue(s[o])){var et=o==="x"||o==="y"?"attr"+o.toUpperCase():o;i[et]=s[o]}return i}function isAnimationControls(s){return typeof s=="object"&&typeof s.start=="function"}var isKeyframesTarget=function(s){return Array.isArray(s)},isCustomValue=function(s){return Boolean(s&&typeof s=="object"&&s.mix&&s.toValue)},resolveFinalValueInKeyframes=function(s){return isKeyframesTarget(s)?s[s.length-1]||0:s};function resolveMotionValue(s){var i=isMotionValue(s)?s.get():s;return isCustomValue(i)?i.toValue():i}function makeState(s,i,o,et){var $l=s.scrapeMotionValuesFromProps,Nl=s.createRenderState,Ml=s.onMount,Ol={latestValues:makeLatestValues(i,o,et,$l),renderState:Nl()};return Ml&&(Ol.mount=function(Ll){return Ml(i,Ll,Ol)}),Ol}var makeUseVisualState=function(s){return function(i,o){var et=react.exports.useContext(MotionContext),$l=react.exports.useContext(PresenceContext);return o?makeState(s,i,et,$l):useConstant(function(){return makeState(s,i,et,$l)})}};function makeLatestValues(s,i,o,et){var $l={},Nl=(o==null?void 0:o.initial)===!1,Ml=et(s);for(var Ol in Ml)$l[Ol]=resolveMotionValue(Ml[Ol]);var Ll=s.initial,Fl=s.animate,Bl=checkIfControllingVariants(s),Ul=checkIfVariantNode(s);i&&Ul&&!Bl&&s.inherit!==!1&&(Ll!=null||(Ll=i.initial),Fl!=null||(Fl=i.animate));var Gl=Nl||Ll===!1,Wl=Gl?Fl:Ll;if(Wl&&typeof Wl!="boolean"&&!isAnimationControls(Wl)){var zl=Array.isArray(Wl)?Wl:[Wl];zl.forEach(function(Ql){var Jl=resolveVariantFromProps(s,Ql);if(!!Jl){var Kl=Jl.transitionEnd;Jl.transition;var Hl=__rest(Jl,["transitionEnd","transition"]);for(var Yl in Hl){var Xl=Hl[Yl];if(Array.isArray(Xl)){var Zl=Gl?Xl.length-1:0;Xl=Xl[Zl]}Xl!==null&&($l[Yl]=Xl)}for(var Yl in Kl)$l[Yl]=Kl[Yl]}})}return $l}var svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:function(s,i,o){var et=o.renderState,$l=o.latestValues;try{et.dimensions=typeof i.getBBox=="function"?i.getBBox():i.getBoundingClientRect()}catch{et.dimensions={x:0,y:0,width:0,height:0}}buildSVGAttrs(et,$l,{enableHardwareAcceleration:!1},s.transformTemplate),renderSVG(i,et)}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(s,i,o,et,$l){var Nl=i.forwardMotionProps,Ml=Nl===void 0?!1:Nl,Ol=isSVGComponent(s)?svgMotionConfig:htmlMotionConfig;return __assign$1(__assign$1({},Ol),{preloadedFeatures:o,useRender:createUseRender(Ml),createVisualElement:et,projectionNodeConstructor:$l,Component:s})}var AnimationType;(function(s){s.Animate="animate",s.Hover="whileHover",s.Tap="whileTap",s.Drag="whileDrag",s.Focus="whileFocus",s.InView="whileInView",s.Exit="exit"})(AnimationType||(AnimationType={}));function addDomEvent(s,i,o,et){return et===void 0&&(et={passive:!0}),s.addEventListener(i,o,et),function(){return s.removeEventListener(i,o)}}function useDomEvent(s,i,o,et){react.exports.useEffect(function(){var $l=s.current;if(o&&$l)return addDomEvent($l,i,o,et)},[s,i,o,et])}function useFocusGesture(s){var i=s.whileFocus,o=s.visualElement,et=function(){var Nl;(Nl=o.animationState)===null||Nl===void 0||Nl.setActive(AnimationType.Focus,!0)},$l=function(){var Nl;(Nl=o.animationState)===null||Nl===void 0||Nl.setActive(AnimationType.Focus,!1)};useDomEvent(o,"focus",i?et:void 0),useDomEvent(o,"blur",i?$l:void 0)}function isMouseEvent(s){return typeof PointerEvent!="undefined"&&s instanceof PointerEvent?s.pointerType==="mouse":s instanceof MouseEvent}function isTouchEvent(s){var i=!!s.touches;return i}function filterPrimaryPointer(s){return function(i){var o=i instanceof MouseEvent,et=!o||o&&i.button===0;et&&s(i)}}var defaultPagePoint={pageX:0,pageY:0};function pointFromTouch(s,i){i===void 0&&(i="page");var o=s.touches[0]||s.changedTouches[0],et=o||defaultPagePoint;return{x:et[i+"X"],y:et[i+"Y"]}}function pointFromMouse(s,i){return i===void 0&&(i="page"),{x:s[i+"X"],y:s[i+"Y"]}}function extractEventInfo(s,i){return i===void 0&&(i="page"),{point:isTouchEvent(s)?pointFromTouch(s,i):pointFromMouse(s,i)}}var wrapHandler=function(s,i){i===void 0&&(i=!1);var o=function(et){return s(et,extractEventInfo(et))};return i?filterPrimaryPointer(o):o},supportsPointerEvents=function(){return isBrowser$1&&window.onpointerdown===null},supportsTouchEvents=function(){return isBrowser$1&&window.ontouchstart===null},supportsMouseEvents=function(){return isBrowser$1&&window.onmousedown===null},mouseEventNames={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},touchEventNames={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function getPointerEventName(s){return supportsPointerEvents()?s:supportsTouchEvents()?touchEventNames[s]:supportsMouseEvents()?mouseEventNames[s]:s}function addPointerEvent(s,i,o,et){return addDomEvent(s,getPointerEventName(i),wrapHandler(o,i==="pointerdown"),et)}function usePointerEvent(s,i,o,et){return useDomEvent(s,getPointerEventName(i),o&&wrapHandler(o,i==="pointerdown"),et)}function createLock(s){var i=null;return function(){var o=function(){i=null};return i===null?(i=s,o):!1}}var globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(s){var i=!1;if(s==="y")i=globalVerticalLock();else if(s==="x")i=globalHorizontalLock();else{var o=globalHorizontalLock(),et=globalVerticalLock();o&&et?i=function(){o(),et()}:(o&&o(),et&&et())}return i}function isDragActive(){var s=getGlobalLock(!0);return s?(s(),!1):!0}function createHoverEvent(s,i,o){return function(et,$l){var Nl;!isMouseEvent(et)||isDragActive()||((Nl=s.animationState)===null||Nl===void 0||Nl.setActive(AnimationType.Hover,i),o==null||o(et,$l))}}function useHoverGesture(s){var i=s.onHoverStart,o=s.onHoverEnd,et=s.whileHover,$l=s.visualElement;usePointerEvent($l,"pointerenter",i||et?createHoverEvent($l,!0,i):void 0,{passive:!i}),usePointerEvent($l,"pointerleave",o||et?createHoverEvent($l,!1,o):void 0,{passive:!o})}var isNodeOrChild=function(s,i){return i?s===i?!0:isNodeOrChild(s,i.parentElement):!1};function useUnmountEffect(s){return react.exports.useEffect(function(){return function(){return s()}},[])}const clamp=(s,i,o)=>Math.min(Math.max(o,s),i),safeMin=.001,minDuration=.01,maxDuration=10,minDamping=.05,maxDamping=1;function findSpring({duration:s=800,bounce:i=.25,velocity:o=0,mass:et=1}){let $l,Nl;warning(s<=maxDuration*1e3);let Ml=1-i;Ml=clamp(minDamping,maxDamping,Ml),s=clamp(minDuration,maxDuration,s/1e3),Ml<1?($l=Fl=>{const Bl=Fl*Ml,Ul=Bl*s,Gl=Bl-o,Wl=calcAngularFreq(Fl,Ml),zl=Math.exp(-Ul);return safeMin-Gl/Wl*zl},Nl=Fl=>{const Ul=Fl*Ml*s,Gl=Ul*o+o,Wl=Math.pow(Ml,2)*Math.pow(Fl,2)*s,zl=Math.exp(-Ul),Ql=calcAngularFreq(Math.pow(Fl,2),Ml);return(-$l(Fl)+safeMin>0?-1:1)*((Gl-Wl)*zl)/Ql}):($l=Fl=>{const Bl=Math.exp(-Fl*s),Ul=(Fl-o)*s+1;return-safeMin+Bl*Ul},Nl=Fl=>{const Bl=Math.exp(-Fl*s),Ul=(o-Fl)*(s*s);return Bl*Ul});const Ol=5/s,Ll=approximateRoot($l,Nl,Ol);if(s=s*1e3,isNaN(Ll))return{stiffness:100,damping:10,duration:s};{const Fl=Math.pow(Ll,2)*et;return{stiffness:Fl,damping:Ml*2*Math.sqrt(et*Fl),duration:s}}}const rootIterations=12;function approximateRoot(s,i,o){let et=o;for(let $l=1;$l<rootIterations;$l++)et=et-s(et)/i(et);return et}function calcAngularFreq(s,i){return s*Math.sqrt(1-i*i)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(s,i){return i.some(o=>s[o]!==void 0)}function getSpringOptions(s){let i=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},s);if(!isSpringType(s,physicsKeys)&&isSpringType(s,durationKeys)){const o=findSpring(s);i=Object.assign(Object.assign(Object.assign({},i),o),{velocity:0,mass:1}),i.isResolvedFromDuration=!0}return i}function spring(s){var{from:i=0,to:o=1,restSpeed:et=2,restDelta:$l}=s,Nl=__rest(s,["from","to","restSpeed","restDelta"]);const Ml={done:!1,value:i};let{stiffness:Ol,damping:Ll,mass:Fl,velocity:Bl,duration:Ul,isResolvedFromDuration:Gl}=getSpringOptions(Nl),Wl=zero,zl=zero;function Ql(){const Jl=Bl?-(Bl/1e3):0,Kl=o-i,Hl=Ll/(2*Math.sqrt(Ol*Fl)),Yl=Math.sqrt(Ol/Fl)/1e3;if($l===void 0&&($l=Math.min(Math.abs(o-i)/100,.4)),Hl<1){const Xl=calcAngularFreq(Yl,Hl);Wl=Zl=>{const _d=Math.exp(-Hl*Yl*Zl);return o-_d*((Jl+Hl*Yl*Kl)/Xl*Math.sin(Xl*Zl)+Kl*Math.cos(Xl*Zl))},zl=Zl=>{const _d=Math.exp(-Hl*Yl*Zl);return Hl*Yl*_d*(Math.sin(Xl*Zl)*(Jl+Hl*Yl*Kl)/Xl+Kl*Math.cos(Xl*Zl))-_d*(Math.cos(Xl*Zl)*(Jl+Hl*Yl*Kl)-Xl*Kl*Math.sin(Xl*Zl))}}else if(Hl===1)Wl=Xl=>o-Math.exp(-Yl*Xl)*(Kl+(Jl+Yl*Kl)*Xl);else{const Xl=Yl*Math.sqrt(Hl*Hl-1);Wl=Zl=>{const _d=Math.exp(-Hl*Yl*Zl),_f=Math.min(Xl*Zl,300);return o-_d*((Jl+Hl*Yl*Kl)*Math.sinh(_f)+Xl*Kl*Math.cosh(_f))/Xl}}}return Ql(),{next:Jl=>{const Kl=Wl(Jl);if(Gl)Ml.done=Jl>=Ul;else{const Hl=zl(Jl)*1e3,Yl=Math.abs(Hl)<=et,Xl=Math.abs(o-Kl)<=$l;Ml.done=Yl&&Xl}return Ml.value=Ml.done?o:Kl,Ml},flipTarget:()=>{Bl=-Bl,[i,o]=[o,i],Ql()}}}spring.needsInterpolation=(s,i)=>typeof s=="string"||typeof i=="string";const zero=s=>0,progress=(s,i,o)=>{const et=i-s;return et===0?1:(o-s)/et},mix=(s,i,o)=>-o*s+o*i+s;function hueToRgb(s,i,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?s+(i-s)*6*o:o<1/2?i:o<2/3?s+(i-s)*(2/3-o)*6:s}function hslaToRgba({hue:s,saturation:i,lightness:o,alpha:et}){s/=360,i/=100,o/=100;let $l=0,Nl=0,Ml=0;if(!i)$l=Nl=Ml=o;else{const Ol=o<.5?o*(1+i):o+i-o*i,Ll=2*o-Ol;$l=hueToRgb(Ll,Ol,s+1/3),Nl=hueToRgb(Ll,Ol,s),Ml=hueToRgb(Ll,Ol,s-1/3)}return{red:Math.round($l*255),green:Math.round(Nl*255),blue:Math.round(Ml*255),alpha:et}}const mixLinearColor=(s,i,o)=>{const et=s*s,$l=i*i;return Math.sqrt(Math.max(0,o*($l-et)+et))},colorTypes=[hex,rgba,hsla],getColorType=s=>colorTypes.find(i=>i.test(s)),mixColor=(s,i)=>{let o=getColorType(s),et=getColorType(i),$l=o.parse(s),Nl=et.parse(i);o===hsla&&($l=hslaToRgba($l),o=rgba),et===hsla&&(Nl=hslaToRgba(Nl),et=rgba);const Ml=Object.assign({},$l);return Ol=>{for(const Ll in Ml)Ll!=="alpha"&&(Ml[Ll]=mixLinearColor($l[Ll],Nl[Ll],Ol));return Ml.alpha=mix($l.alpha,Nl.alpha,Ol),o.transform(Ml)}},isNum=s=>typeof s=="number",combineFunctions=(s,i)=>o=>i(s(o)),pipe=(...s)=>s.reduce(combineFunctions);function getMixer(s,i){return isNum(s)?o=>mix(s,i,o):color.test(s)?mixColor(s,i):mixComplex(s,i)}const mixArray=(s,i)=>{const o=[...s],et=o.length,$l=s.map((Nl,Ml)=>getMixer(Nl,i[Ml]));return Nl=>{for(let Ml=0;Ml<et;Ml++)o[Ml]=$l[Ml](Nl);return o}},mixObject=(s,i)=>{const o=Object.assign(Object.assign({},s),i),et={};for(const $l in o)s[$l]!==void 0&&i[$l]!==void 0&&(et[$l]=getMixer(s[$l],i[$l]));return $l=>{for(const Nl in et)o[Nl]=et[Nl]($l);return o}};function analyse(s){const i=complex.parse(s),o=i.length;let et=0,$l=0,Nl=0;for(let Ml=0;Ml<o;Ml++)et||typeof i[Ml]=="number"?et++:i[Ml].hue!==void 0?Nl++:$l++;return{parsed:i,numNumbers:et,numRGB:$l,numHSL:Nl}}const mixComplex=(s,i)=>{const o=complex.createTransformer(i),et=analyse(s),$l=analyse(i);return et.numHSL===$l.numHSL&&et.numRGB===$l.numRGB&&et.numNumbers>=$l.numNumbers?pipe(mixArray(et.parsed,$l.parsed),o):Ml=>`${Ml>0?i:s}`},mixNumber=(s,i)=>o=>mix(s,i,o);function detectMixerFactory(s){if(typeof s=="number")return mixNumber;if(typeof s=="string")return color.test(s)?mixColor:mixComplex;if(Array.isArray(s))return mixArray;if(typeof s=="object")return mixObject}function createMixers(s,i,o){const et=[],$l=o||detectMixerFactory(s[0]),Nl=s.length-1;for(let Ml=0;Ml<Nl;Ml++){let Ol=$l(s[Ml],s[Ml+1]);if(i){const Ll=Array.isArray(i)?i[Ml]:i;Ol=pipe(Ll,Ol)}et.push(Ol)}return et}function fastInterpolate([s,i],[o]){return et=>o(progress(s,i,et))}function slowInterpolate(s,i){const o=s.length,et=o-1;return $l=>{let Nl=0,Ml=!1;if($l<=s[0]?Ml=!0:$l>=s[et]&&(Nl=et-1,Ml=!0),!Ml){let Ll=1;for(;Ll<o&&!(s[Ll]>$l||Ll===et);Ll++);Nl=Ll-1}const Ol=progress(s[Nl],s[Nl+1],$l);return i[Nl](Ol)}}function interpolate(s,i,{clamp:o=!0,ease:et,mixer:$l}={}){const Nl=s.length;invariant(Nl===i.length),invariant(!et||!Array.isArray(et)||et.length===Nl-1),s[0]>s[Nl-1]&&(s=[].concat(s),i=[].concat(i),s.reverse(),i.reverse());const Ml=createMixers(i,et,$l),Ol=Nl===2?fastInterpolate(s,Ml):slowInterpolate(s,Ml);return o?Ll=>Ol(clamp(s[0],s[Nl-1],Ll)):Ol}const reverseEasing=s=>i=>1-s(1-i),mirrorEasing=s=>i=>i<=.5?s(2*i)/2:(2-s(2*(1-i)))/2,createExpoIn=s=>i=>Math.pow(i,s),createBackIn=s=>i=>i*i*((s+1)*i-s),createAnticipate=s=>{const i=createBackIn(s);return o=>(o*=2)<1?.5*i(o):.5*(2-Math.pow(2,-10*(o-1)))},DEFAULT_OVERSHOOT_STRENGTH=1.525,BOUNCE_FIRST_THRESHOLD=4/11,BOUNCE_SECOND_THRESHOLD=8/11,BOUNCE_THIRD_THRESHOLD=9/10,linear=s=>s,easeIn=createExpoIn(2),easeOut=reverseEasing(easeIn),easeInOut=mirrorEasing(easeIn),circIn=s=>1-Math.sin(Math.acos(s)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circOut),backIn=createBackIn(DEFAULT_OVERSHOOT_STRENGTH),backOut=reverseEasing(backIn),backInOut=mirrorEasing(backIn),anticipate=createAnticipate(DEFAULT_OVERSHOOT_STRENGTH),ca$1=4356/361,cb$1=35442/1805,cc$2=16061/1805,bounceOut=s=>{if(s===1||s===0)return s;const i=s*s;return s<BOUNCE_FIRST_THRESHOLD?7.5625*i:s<BOUNCE_SECOND_THRESHOLD?9.075*i-9.9*s+3.4:s<BOUNCE_THIRD_THRESHOLD?ca$1*i-cb$1*s+cc$2:10.8*s*s-20.52*s+10.72},bounceIn=reverseEasing(bounceOut),bounceInOut=s=>s<.5?.5*(1-bounceOut(1-s*2)):.5*bounceOut(s*2-1)+.5;function defaultEasing(s,i){return s.map(()=>i||easeInOut).splice(0,s.length-1)}function defaultOffset(s){const i=s.length;return s.map((o,et)=>et!==0?et/(i-1):0)}function convertOffsetToTimes(s,i){return s.map(o=>o*i)}function keyframes$1({from:s=0,to:i=1,ease:o,offset:et,duration:$l=300}){const Nl={done:!1,value:s},Ml=Array.isArray(i)?i:[s,i],Ol=convertOffsetToTimes(et&&et.length===Ml.length?et:defaultOffset(Ml),$l);function Ll(){return interpolate(Ol,Ml,{ease:Array.isArray(o)?o:defaultEasing(Ml,o)})}let Fl=Ll();return{next:Bl=>(Nl.value=Fl(Bl),Nl.done=Bl>=$l,Nl),flipTarget:()=>{Ml.reverse(),Fl=Ll()}}}function decay({velocity:s=0,from:i=0,power:o=.8,timeConstant:et=350,restDelta:$l=.5,modifyTarget:Nl}){const Ml={done:!1,value:i};let Ol=o*s;const Ll=i+Ol,Fl=Nl===void 0?Ll:Nl(Ll);return Fl!==Ll&&(Ol=Fl-i),{next:Bl=>{const Ul=-Ol*Math.exp(-Bl/et);return Ml.done=!(Ul>$l||Ul<-$l),Ml.value=Ml.done?Fl:Fl+Ul,Ml},flipTarget:()=>{}}}const types={keyframes:keyframes$1,spring,decay};function detectAnimationFromOptions(s){if(Array.isArray(s.to))return keyframes$1;if(types[s.type])return types[s.type];const i=new Set(Object.keys(s));return i.has("ease")||i.has("duration")&&!i.has("dampingRatio")?keyframes$1:i.has("dampingRatio")||i.has("stiffness")||i.has("mass")||i.has("damping")||i.has("restSpeed")||i.has("restDelta")?spring:keyframes$1}const defaultTimestep=1/60*1e3,getCurrentTime=typeof performance!="undefined"?()=>performance.now():()=>Date.now(),onNextFrame=typeof window!="undefined"?s=>window.requestAnimationFrame(s):s=>setTimeout(()=>s(getCurrentTime()),defaultTimestep);function createRenderStep(s){let i=[],o=[],et=0,$l=!1,Nl=!1;const Ml=new WeakSet,Ol={schedule:(Ll,Fl=!1,Bl=!1)=>{const Ul=Bl&&$l,Gl=Ul?i:o;return Fl&&Ml.add(Ll),Gl.indexOf(Ll)===-1&&(Gl.push(Ll),Ul&&$l&&(et=i.length)),Ll},cancel:Ll=>{const Fl=o.indexOf(Ll);Fl!==-1&&o.splice(Fl,1),Ml.delete(Ll)},process:Ll=>{if($l){Nl=!0;return}if($l=!0,[i,o]=[o,i],o.length=0,et=i.length,et)for(let Fl=0;Fl<et;Fl++){const Bl=i[Fl];Bl(Ll),Ml.has(Bl)&&(Ol.schedule(Bl),s())}$l=!1,Nl&&(Nl=!1,Ol.process(Ll))}};return Ol}const maxElapsed=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const frame={delta:0,timestamp:0},stepsOrder=["read","update","preRender","render","postRender"],steps=stepsOrder.reduce((s,i)=>(s[i]=createRenderStep(()=>runNextFrame=!0),s),{}),sync=stepsOrder.reduce((s,i)=>{const o=steps[i];return s[i]=(et,$l=!1,Nl=!1)=>(runNextFrame||startLoop(),o.schedule(et,$l,Nl)),s},{}),cancelSync=stepsOrder.reduce((s,i)=>(s[i]=steps[i].cancel,s),{}),flushSync=stepsOrder.reduce((s,i)=>(s[i]=()=>steps[i].process(frame),s),{}),processStep=s=>steps[s].process(frame),processFrame=s=>{runNextFrame=!1,frame.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(s-frame.timestamp,maxElapsed),1),frame.timestamp=s,isProcessing=!0,stepsOrder.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)},getFrameData=()=>frame;function loopElapsed(s,i,o=0){return s-i-o}function reverseElapsed(s,i,o=0,et=!0){return et?loopElapsed(i+-s,i,o):i-(s-i)+o}function hasRepeatDelayElapsed(s,i,o,et){return et?s>=i+o:s<=-o}const framesync=s=>{const i=({delta:o})=>s(o);return{start:()=>sync.update(i,!0),stop:()=>cancelSync.update(i)}};function animate$1(s){var i,o,{from:et,autoplay:$l=!0,driver:Nl=framesync,elapsed:Ml=0,repeat:Ol=0,repeatType:Ll="loop",repeatDelay:Fl=0,onPlay:Bl,onStop:Ul,onComplete:Gl,onRepeat:Wl,onUpdate:zl}=s,Ql=__rest(s,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:Jl}=Ql,Kl,Hl=0,Yl=Ql.duration,Xl,Zl=!1,_d=!0,_f;const e0=detectAnimationFromOptions(Ql);!((o=(i=e0).needsInterpolation)===null||o===void 0)&&o.call(i,et,Jl)&&(_f=interpolate([0,100],[et,Jl],{clamp:!1}),et=0,Jl=100);const s0=e0(Object.assign(Object.assign({},Ql),{from:et,to:Jl}));function u0(){Hl++,Ll==="reverse"?(_d=Hl%2===0,Ml=reverseElapsed(Ml,Yl,Fl,_d)):(Ml=loopElapsed(Ml,Yl,Fl),Ll==="mirror"&&s0.flipTarget()),Zl=!1,Wl&&Wl()}function g0(){Kl.stop(),Gl&&Gl()}function f0(S0){if(_d||(S0=-S0),Ml+=S0,!Zl){const p0=s0.next(Math.max(0,Ml));Xl=p0.value,_f&&(Xl=_f(Xl)),Zl=_d?p0.done:Ml<=0}zl==null||zl(Xl),Zl&&(Hl===0&&(Yl!=null||(Yl=Ml)),Hl<Ol?hasRepeatDelayElapsed(Ml,Yl,Fl,_d)&&u0():g0())}function _0(){Bl==null||Bl(),Kl=Nl(f0),Kl.start()}return $l&&_0(),{stop:()=>{Ul==null||Ul(),Kl.stop()}}}function velocityPerSecond(s,i){return i?s*(1e3/i):0}function inertia({from:s=0,velocity:i=0,min:o,max:et,power:$l=.8,timeConstant:Nl=750,bounceStiffness:Ml=500,bounceDamping:Ol=10,restDelta:Ll=1,modifyTarget:Fl,driver:Bl,onUpdate:Ul,onComplete:Gl,onStop:Wl}){let zl;function Ql(Yl){return o!==void 0&&Yl<o||et!==void 0&&Yl>et}function Jl(Yl){return o===void 0?et:et===void 0||Math.abs(o-Yl)<Math.abs(et-Yl)?o:et}function Kl(Yl){zl==null||zl.stop(),zl=animate$1(Object.assign(Object.assign({},Yl),{driver:Bl,onUpdate:Xl=>{var Zl;Ul==null||Ul(Xl),(Zl=Yl.onUpdate)===null||Zl===void 0||Zl.call(Yl,Xl)},onComplete:Gl,onStop:Wl}))}function Hl(Yl){Kl(Object.assign({type:"spring",stiffness:Ml,damping:Ol,restDelta:Ll},Yl))}if(Ql(s))Hl({from:s,velocity:i,to:Jl(s)});else{let Yl=$l*i+s;typeof Fl!="undefined"&&(Yl=Fl(Yl));const Xl=Jl(Yl),Zl=Xl===o?-1:1;let _d,_f;const e0=s0=>{_d=_f,_f=s0,i=velocityPerSecond(s0-_d,getFrameData().delta),(Zl===1&&s0>Xl||Zl===-1&&s0<Xl)&&Hl({from:s0,to:Xl,velocity:i})};Kl({type:"decay",from:s,velocity:i,timeConstant:Nl,power:$l,restDelta:Ll,modifyTarget:Fl,onUpdate:Ql(Yl)?e0:void 0})}return{stop:()=>zl==null?void 0:zl.stop()}}const isPoint=s=>s.hasOwnProperty("x")&&s.hasOwnProperty("y"),isPoint3D=s=>isPoint(s)&&s.hasOwnProperty("z"),distance1D=(s,i)=>Math.abs(s-i);function distance(s,i){if(isNum(s)&&isNum(i))return distance1D(s,i);if(isPoint(s)&&isPoint(i)){const o=distance1D(s.x,i.x),et=distance1D(s.y,i.y),$l=isPoint3D(s)&&isPoint3D(i)?distance1D(s.z,i.z):0;return Math.sqrt(Math.pow(o,2)+Math.pow(et,2)+Math.pow($l,2))}}const a=(s,i)=>1-3*i+3*s,b=(s,i)=>3*i-6*s,c=s=>3*s,calcBezier=(s,i,o)=>((a(i,o)*s+b(i,o))*s+c(i))*s,getSlope=(s,i,o)=>3*a(i,o)*s*s+2*b(i,o)*s+c(i),subdivisionPrecision=1e-7,subdivisionMaxIterations=10;function binarySubdivide(s,i,o,et,$l){let Nl,Ml,Ol=0;do Ml=i+(o-i)/2,Nl=calcBezier(Ml,et,$l)-s,Nl>0?o=Ml:i=Ml;while(Math.abs(Nl)>subdivisionPrecision&&++Ol<subdivisionMaxIterations);return Ml}const newtonIterations=8,newtonMinSlope=.001;function newtonRaphsonIterate(s,i,o,et){for(let $l=0;$l<newtonIterations;++$l){const Nl=getSlope(i,o,et);if(Nl===0)return i;i-=(calcBezier(i,o,et)-s)/Nl}return i}const kSplineTableSize=11,kSampleStepSize=1/(kSplineTableSize-1);function cubicBezier(s,i,o,et){if(s===i&&o===et)return linear;const $l=new Float32Array(kSplineTableSize);for(let Ml=0;Ml<kSplineTableSize;++Ml)$l[Ml]=calcBezier(Ml*kSampleStepSize,s,o);function Nl(Ml){let Ol=0,Ll=1;const Fl=kSplineTableSize-1;for(;Ll!==Fl&&$l[Ll]<=Ml;++Ll)Ol+=kSampleStepSize;--Ll;const Bl=(Ml-$l[Ll])/($l[Ll+1]-$l[Ll]),Ul=Ol+Bl*kSampleStepSize,Gl=getSlope(Ul,s,o);return Gl>=newtonMinSlope?newtonRaphsonIterate(Ml,Ul,s,o):Gl===0?Ul:binarySubdivide(Ml,Ol,Ol+kSampleStepSize,s,o)}return Ml=>Ml===0||Ml===1?Ml:calcBezier(Nl(Ml),i,et)}function useTapGesture(s){var i=s.onTap,o=s.onTapStart,et=s.onTapCancel,$l=s.whileTap,Nl=s.visualElement,Ml=i||o||et||$l,Ol=react.exports.useRef(!1),Ll=react.exports.useRef(null),Fl={passive:!(o||i||et||zl)};function Bl(){var Ql;(Ql=Ll.current)===null||Ql===void 0||Ql.call(Ll),Ll.current=null}function Ul(){var Ql;return Bl(),Ol.current=!1,(Ql=Nl.animationState)===null||Ql===void 0||Ql.setActive(AnimationType.Tap,!1),!isDragActive()}function Gl(Ql,Jl){!Ul()||(isNodeOrChild(Nl.getInstance(),Ql.target)?i==null||i(Ql,Jl):et==null||et(Ql,Jl))}function Wl(Ql,Jl){!Ul()||et==null||et(Ql,Jl)}function zl(Ql,Jl){var Kl;Bl(),!Ol.current&&(Ol.current=!0,Ll.current=pipe(addPointerEvent(window,"pointerup",Gl,Fl),addPointerEvent(window,"pointercancel",Wl,Fl)),(Kl=Nl.animationState)===null||Kl===void 0||Kl.setActive(AnimationType.Tap,!0),o==null||o(Ql,Jl))}usePointerEvent(Nl,"pointerdown",Ml?zl:void 0,Fl),useUnmountEffect(Bl)}var warned=new Set;function warnOnce(s,i,o){s||warned.has(i)||(console.warn(i),o&&console.warn(o),warned.add(i))}var observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=function(s){var i;(i=observerCallbacks.get(s.target))===null||i===void 0||i(s)},fireAllObserverCallbacks=function(s){s.forEach(fireObserverCallback)};function initIntersectionObserver(s){var i=s.root,o=__rest(s,["root"]),et=i||document;observers.has(et)||observers.set(et,{});var $l=observers.get(et),Nl=JSON.stringify(o);return $l[Nl]||($l[Nl]=new IntersectionObserver(fireAllObserverCallbacks,__assign$1({root:i},o))),$l[Nl]}function observeIntersection(s,i,o){var et=initIntersectionObserver(i);return observerCallbacks.set(s,o),et.observe(s),function(){observerCallbacks.delete(s),et.unobserve(s)}}function useViewport(s){var i=s.visualElement,o=s.whileInView,et=s.onViewportEnter,$l=s.onViewportLeave,Nl=s.viewport,Ml=Nl===void 0?{}:Nl,Ol=react.exports.useRef({hasEnteredView:!1,isInView:!1}),Ll=Boolean(o||et||$l);Ml.once&&Ol.current.hasEnteredView&&(Ll=!1);var Fl=typeof IntersectionObserver=="undefined"?useMissingIntersectionObserver:useIntersectionObserver;Fl(Ll,Ol.current,i,Ml)}var thresholdNames={some:0,all:1};function useIntersectionObserver(s,i,o,et){var $l=et.root,Nl=et.margin,Ml=et.amount,Ol=Ml===void 0?"some":Ml,Ll=et.once;react.exports.useEffect(function(){if(!!s){var Fl={root:$l==null?void 0:$l.current,rootMargin:Nl,threshold:typeof Ol=="number"?Ol:thresholdNames[Ol]},Bl=function(Ul){var Gl,Wl=Ul.isIntersecting;if(i.isInView!==Wl&&(i.isInView=Wl,!(Ll&&!Wl&&i.hasEnteredView))){Wl&&(i.hasEnteredView=!0),(Gl=o.animationState)===null||Gl===void 0||Gl.setActive(AnimationType.InView,Wl);var zl=o.getProps(),Ql=Wl?zl.onViewportEnter:zl.onViewportLeave;Ql==null||Ql(Ul)}};return observeIntersection(o.getInstance(),Fl,Bl)}},[s,$l,Nl,Ol])}function useMissingIntersectionObserver(s,i,o,et){var $l=et.fallback,Nl=$l===void 0?!0:$l;react.exports.useEffect(function(){!s||!Nl||(env!=="production"&&warnOnce(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(function(){var Ml;i.hasEnteredView=!0;var Ol=o.getProps().onViewportEnter;Ol==null||Ol(null),(Ml=o.animationState)===null||Ml===void 0||Ml.setActive(AnimationType.InView,!0)}))},[s])}var makeRenderlessComponent=function(s){return function(i){return s(i),null}},gestureAnimations={inView:makeRenderlessComponent(useViewport),tap:makeRenderlessComponent(useTapGesture),focus:makeRenderlessComponent(useFocusGesture),hover:makeRenderlessComponent(useHoverGesture)},counter=0,incrementId=function(){return counter++},useId=function(){return useConstant(incrementId)};function usePresence(){var s=react.exports.useContext(PresenceContext);if(s===null)return[!0,null];var i=s.isPresent,o=s.onExitComplete,et=s.register,$l=useId();react.exports.useEffect(function(){return et($l)},[]);var Nl=function(){return o==null?void 0:o($l)};return!i&&o?[!1,Nl]:[!0]}function shallowCompare(s,i){if(!Array.isArray(i))return!1;var o=i.length;if(o!==s.length)return!1;for(var et=0;et<o;et++)if(i[et]!==s[et])return!1;return!0}var secondsToMilliseconds=function(s){return s*1e3},easingLookup={linear,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate,bounceIn,bounceInOut,bounceOut},easingDefinitionToFunction=function(s){if(Array.isArray(s)){invariant(s.length===4);var i=__read(s,4),o=i[0],et=i[1],$l=i[2],Nl=i[3];return cubicBezier(o,et,$l,Nl)}else if(typeof s=="string")return easingLookup[s];return s},isEasingArray=function(s){return Array.isArray(s)&&typeof s[0]!="number"},isAnimatable=function(s,i){return s==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&complex.test(i)&&!i.startsWith("url("))},underDampedSpring=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},criticallyDampedSpring=function(s){return{type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}},linearTween=function(){return{type:"keyframes",ease:"linear",duration:.3}},keyframes=function(s){return{type:"keyframes",duration:.8,values:s}},defaultTransitions={x:underDampedSpring,y:underDampedSpring,z:underDampedSpring,rotate:underDampedSpring,rotateX:underDampedSpring,rotateY:underDampedSpring,rotateZ:underDampedSpring,scaleX:criticallyDampedSpring,scaleY:criticallyDampedSpring,scale:criticallyDampedSpring,opacity:linearTween,backgroundColor:linearTween,color:linearTween,default:criticallyDampedSpring},getDefaultTransition=function(s,i){var o;return isKeyframesTarget(i)?o=keyframes:o=defaultTransitions[s]||defaultTransitions.default,__assign$1({to:i},o(i))},defaultValueTypes=__assign$1(__assign$1({},numberValueTypes),{color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter}),getDefaultValueType=function(s){return defaultValueTypes[s]};function getAnimatableNone(s,i){var o,et=getDefaultValueType(s);return et!==filter&&(et=complex),(o=et.getAnimatableNone)===null||o===void 0?void 0:o.call(et,i)}var instantAnimationState={current:!1};function isTransitionDefined(s){s.when,s.delay,s.delayChildren,s.staggerChildren,s.staggerDirection,s.repeat,s.repeatType,s.repeatDelay,s.from;var i=__rest(s,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(i).length}function convertTransitionToAnimationOptions(s){var i=s.ease,o=s.times,et=s.yoyo,$l=s.flip,Nl=s.loop,Ml=__rest(s,["ease","times","yoyo","flip","loop"]),Ol=__assign$1({},Ml);return o&&(Ol.offset=o),Ml.duration&&(Ol.duration=secondsToMilliseconds(Ml.duration)),Ml.repeatDelay&&(Ol.repeatDelay=secondsToMilliseconds(Ml.repeatDelay)),i&&(Ol.ease=isEasingArray(i)?i.map(easingDefinitionToFunction):easingDefinitionToFunction(i)),Ml.type==="tween"&&(Ol.type="keyframes"),(et||Nl||$l)&&(et?Ol.repeatType="reverse":Nl?Ol.repeatType="loop":$l&&(Ol.repeatType="mirror"),Ol.repeat=Nl||et||$l||Ml.repeat),Ml.type!=="spring"&&(Ol.type="keyframes"),Ol}function getDelayFromTransition(s,i){var o,et,$l=getValueTransition(s,i)||{};return(et=(o=$l.delay)!==null&&o!==void 0?o:s.delay)!==null&&et!==void 0?et:0}function hydrateKeyframes(s){return Array.isArray(s.to)&&s.to[0]===null&&(s.to=__spreadArray([],__read(s.to),!1),s.to[0]=s.from),s}function getPopmotionAnimationOptions(s,i,o){var et;return Array.isArray(i.to)&&((et=s.duration)!==null&&et!==void 0||(s.duration=.8)),hydrateKeyframes(i),isTransitionDefined(s)||(s=__assign$1(__assign$1({},s),getDefaultTransition(o,i.to))),__assign$1(__assign$1({},i),convertTransitionToAnimationOptions(s))}function getAnimation(s,i,o,et,$l){var Nl,Ml=getValueTransition(et,s),Ol=(Nl=Ml.from)!==null&&Nl!==void 0?Nl:i.get(),Ll=isAnimatable(s,o);Ol==="none"&&Ll&&typeof o=="string"?Ol=getAnimatableNone(s,o):isZero(Ol)&&typeof o=="string"?Ol=getZeroUnit(o):!Array.isArray(o)&&isZero(o)&&typeof Ol=="string"&&(o=getZeroUnit(Ol));var Fl=isAnimatable(s,Ol);function Bl(){var Gl={from:Ol,to:o,velocity:i.getVelocity(),onComplete:$l,onUpdate:function(Wl){return i.set(Wl)}};return Ml.type==="inertia"||Ml.type==="decay"?inertia(__assign$1(__assign$1({},Gl),Ml)):animate$1(__assign$1(__assign$1({},getPopmotionAnimationOptions(Ml,Gl,s)),{onUpdate:function(Wl){var zl;Gl.onUpdate(Wl),(zl=Ml.onUpdate)===null||zl===void 0||zl.call(Ml,Wl)},onComplete:function(){var Wl;Gl.onComplete(),(Wl=Ml.onComplete)===null||Wl===void 0||Wl.call(Ml)}}))}function Ul(){var Gl,Wl,zl=resolveFinalValueInKeyframes(o);return i.set(zl),$l(),(Gl=Ml==null?void 0:Ml.onUpdate)===null||Gl===void 0||Gl.call(Ml,zl),(Wl=Ml==null?void 0:Ml.onComplete)===null||Wl===void 0||Wl.call(Ml),{stop:function(){}}}return!Fl||!Ll||Ml.type===!1?Ul:Bl}function isZero(s){return s===0||typeof s=="string"&&parseFloat(s)===0&&s.indexOf(" ")===-1}function getZeroUnit(s){return typeof s=="number"?0:getAnimatableNone("",s)}function getValueTransition(s,i){return s[i]||s.default||s}function startAnimation(s,i,o,et){return et===void 0&&(et={}),instantAnimationState.current&&(et={type:!1}),i.start(function($l){var Nl,Ml,Ol=getAnimation(s,i,o,et,$l),Ll=getDelayFromTransition(et,s),Fl=function(){return Ml=Ol()};return Ll?Nl=window.setTimeout(Fl,secondsToMilliseconds(Ll)):Fl(),function(){clearTimeout(Nl),Ml==null||Ml.stop()}})}var isNumericalString=function(s){return/^\-?\d*\.?\d+$/.test(s)},isZeroValueString=function(s){return/^0[^.\s]+$/.test(s)};function addUniqueItem(s,i){s.indexOf(i)===-1&&s.push(i)}function removeItem(s,i){var o=s.indexOf(i);o>-1&&s.splice(o,1)}var SubscriptionManager=function(){function s(){this.subscriptions=[]}return s.prototype.add=function(i){var o=this;return addUniqueItem(this.subscriptions,i),function(){return removeItem(o.subscriptions,i)}},s.prototype.notify=function(i,o,et){var $l=this.subscriptions.length;if(!!$l)if($l===1)this.subscriptions[0](i,o,et);else for(var Nl=0;Nl<$l;Nl++){var Ml=this.subscriptions[Nl];Ml&&Ml(i,o,et)}},s.prototype.getSize=function(){return this.subscriptions.length},s.prototype.clear=function(){this.subscriptions.length=0},s}(),isFloat=function(s){return!isNaN(parseFloat(s))},MotionValue=function(){function s(i){var o=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new SubscriptionManager,this.velocityUpdateSubscribers=new SubscriptionManager,this.renderSubscribers=new SubscriptionManager,this.canTrackVelocity=!1,this.updateAndNotify=function(et,$l){$l===void 0&&($l=!0),o.prev=o.current,o.current=et;var Nl=getFrameData(),Ml=Nl.delta,Ol=Nl.timestamp;o.lastUpdated!==Ol&&(o.timeDelta=Ml,o.lastUpdated=Ol,sync.postRender(o.scheduleVelocityCheck)),o.prev!==o.current&&o.updateSubscribers.notify(o.current),o.velocityUpdateSubscribers.getSize()&&o.velocityUpdateSubscribers.notify(o.getVelocity()),$l&&o.renderSubscribers.notify(o.current)},this.scheduleVelocityCheck=function(){return sync.postRender(o.velocityCheck)},this.velocityCheck=function(et){var $l=et.timestamp;$l!==o.lastUpdated&&(o.prev=o.current,o.velocityUpdateSubscribers.notify(o.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=i,this.canTrackVelocity=isFloat(this.current)}return s.prototype.onChange=function(i){return this.updateSubscribers.add(i)},s.prototype.clearListeners=function(){this.updateSubscribers.clear()},s.prototype.onRenderRequest=function(i){return i(this.get()),this.renderSubscribers.add(i)},s.prototype.attach=function(i){this.passiveEffect=i},s.prototype.set=function(i,o){o===void 0&&(o=!0),!o||!this.passiveEffect?this.updateAndNotify(i,o):this.passiveEffect(i,this.updateAndNotify)},s.prototype.get=function(){return this.current},s.prototype.getPrevious=function(){return this.prev},s.prototype.getVelocity=function(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},s.prototype.start=function(i){var o=this;return this.stop(),new Promise(function(et){o.hasAnimated=!0,o.stopAnimation=i(et)}).then(function(){return o.clearAnimation()})},s.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},s.prototype.isAnimating=function(){return!!this.stopAnimation},s.prototype.clearAnimation=function(){this.stopAnimation=null},s.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},s}();function motionValue(s){return new MotionValue(s)}var testValueType=function(s){return function(i){return i.test(s)}},auto={test:function(s){return s==="auto"},parse:function(s){return s}},dimensionValueTypes=[number,px$1,percent,degrees,vw,vh$1,auto],findDimensionValueType=function(s){return dimensionValueTypes.find(testValueType(s))},valueTypes=__spreadArray(__spreadArray([],__read(dimensionValueTypes),!1),[color,complex],!1),findValueType=function(s){return valueTypes.find(testValueType(s))};function setMotionValue(s,i,o){s.hasValue(i)?s.getValue(i).set(o):s.addValue(i,motionValue(o))}function setTarget(s,i){var o=resolveVariant(s,i),et=o?s.makeTargetAnimatable(o,!1):{},$l=et.transitionEnd,Nl=$l===void 0?{}:$l;et.transition;var Ml=__rest(et,["transitionEnd","transition"]);Ml=__assign$1(__assign$1({},Ml),Nl);for(var Ol in Ml){var Ll=resolveFinalValueInKeyframes(Ml[Ol]);setMotionValue(s,Ol,Ll)}}function checkTargetForNewValues(s,i,o){var et,$l,Nl,Ml,Ol=Object.keys(i).filter(function(Wl){return!s.hasValue(Wl)}),Ll=Ol.length;if(!!Ll)for(var Fl=0;Fl<Ll;Fl++){var Bl=Ol[Fl],Ul=i[Bl],Gl=null;Array.isArray(Ul)&&(Gl=Ul[0]),Gl===null&&(Gl=($l=(et=o[Bl])!==null&&et!==void 0?et:s.readValue(Bl))!==null&&$l!==void 0?$l:i[Bl]),Gl!=null&&(typeof Gl=="string"&&(isNumericalString(Gl)||isZeroValueString(Gl))?Gl=parseFloat(Gl):!findValueType(Gl)&&complex.test(Ul)&&(Gl=getAnimatableNone(Bl,Ul)),s.addValue(Bl,motionValue(Gl)),(Nl=(Ml=o)[Bl])!==null&&Nl!==void 0||(Ml[Bl]=Gl),s.setBaseTarget(Bl,Gl))}}function getOriginFromTransition(s,i){if(!!i){var o=i[s]||i.default||i;return o.from}}function getOrigin(s,i,o){var et,$l,Nl={};for(var Ml in s)Nl[Ml]=(et=getOriginFromTransition(Ml,i))!==null&&et!==void 0?et:($l=o.getValue(Ml))===null||$l===void 0?void 0:$l.get();return Nl}function animateVisualElement(s,i,o){o===void 0&&(o={}),s.notifyAnimationStart(i);var et;if(Array.isArray(i)){var $l=i.map(function(Ml){return animateVariant(s,Ml,o)});et=Promise.all($l)}else if(typeof i=="string")et=animateVariant(s,i,o);else{var Nl=typeof i=="function"?resolveVariant(s,i,o.custom):i;et=animateTarget(s,Nl,o)}return et.then(function(){return s.notifyAnimationComplete(i)})}function animateVariant(s,i,o){var et;o===void 0&&(o={});var $l=resolveVariant(s,i,o.custom),Nl=($l||{}).transition,Ml=Nl===void 0?s.getDefaultTransition()||{}:Nl;o.transitionOverride&&(Ml=o.transitionOverride);var Ol=$l?function(){return animateTarget(s,$l,o)}:function(){return Promise.resolve()},Ll=!((et=s.variantChildren)===null||et===void 0)&&et.size?function(Wl){Wl===void 0&&(Wl=0);var zl=Ml.delayChildren,Ql=zl===void 0?0:zl,Jl=Ml.staggerChildren,Kl=Ml.staggerDirection;return animateChildren(s,i,Ql+Wl,Jl,Kl,o)}:function(){return Promise.resolve()},Fl=Ml.when;if(Fl){var Bl=__read(Fl==="beforeChildren"?[Ol,Ll]:[Ll,Ol],2),Ul=Bl[0],Gl=Bl[1];return Ul().then(Gl)}else return Promise.all([Ol(),Ll(o.delay)])}function animateTarget(s,i,o){var et,$l=o===void 0?{}:o,Nl=$l.delay,Ml=Nl===void 0?0:Nl,Ol=$l.transitionOverride,Ll=$l.type,Fl=s.makeTargetAnimatable(i),Bl=Fl.transition,Ul=Bl===void 0?s.getDefaultTransition():Bl,Gl=Fl.transitionEnd,Wl=__rest(Fl,["transition","transitionEnd"]);Ol&&(Ul=Ol);var zl=[],Ql=Ll&&((et=s.animationState)===null||et===void 0?void 0:et.getState()[Ll]);for(var Jl in Wl){var Kl=s.getValue(Jl),Hl=Wl[Jl];if(!(!Kl||Hl===void 0||Ql&&shouldBlockAnimation(Ql,Jl))){var Yl=__assign$1({delay:Ml},Ul);s.shouldReduceMotion&&isTransformProp(Jl)&&(Yl=__assign$1(__assign$1({},Yl),{type:!1,delay:0}));var Xl=startAnimation(Jl,Kl,Hl,Yl);zl.push(Xl)}}return Promise.all(zl).then(function(){Gl&&setTarget(s,Gl)})}function animateChildren(s,i,o,et,$l,Nl){o===void 0&&(o=0),et===void 0&&(et=0),$l===void 0&&($l=1);var Ml=[],Ol=(s.variantChildren.size-1)*et,Ll=$l===1?function(Fl){return Fl===void 0&&(Fl=0),Fl*et}:function(Fl){return Fl===void 0&&(Fl=0),Ol-Fl*et};return Array.from(s.variantChildren).sort(sortByTreeOrder).forEach(function(Fl,Bl){Ml.push(animateVariant(Fl,i,__assign$1(__assign$1({},Nl),{delay:o+Ll(Bl)})).then(function(){return Fl.notifyAnimationComplete(i)}))}),Promise.all(Ml)}function sortByTreeOrder(s,i){return s.sortNodePosition(i)}function shouldBlockAnimation(s,i){var o=s.protectedKeys,et=s.needsAnimating,$l=o.hasOwnProperty(i)&&et[i]!==!0;return et[i]=!1,$l}var variantPriorityOrder=[AnimationType.Animate,AnimationType.InView,AnimationType.Focus,AnimationType.Hover,AnimationType.Tap,AnimationType.Drag,AnimationType.Exit],reversePriorityOrder=__spreadArray([],__read(variantPriorityOrder),!1).reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(s){return function(i){return Promise.all(i.map(function(o){var et=o.animation,$l=o.options;return animateVisualElement(s,et,$l)}))}}function createAnimationState(s){var i=animateList(s),o=createState(),et={},$l=!0,Nl=function(Bl,Ul){var Gl=resolveVariant(s,Ul);if(Gl){Gl.transition;var Wl=Gl.transitionEnd,zl=__rest(Gl,["transition","transitionEnd"]);Bl=__assign$1(__assign$1(__assign$1({},Bl),zl),Wl)}return Bl};function Ml(Bl){return et[Bl]!==void 0}function Ol(Bl){i=Bl(s)}function Ll(Bl,Ul){for(var Gl,Wl=s.getProps(),zl=s.getVariantContext(!0)||{},Ql=[],Jl=new Set,Kl={},Hl=1/0,Yl=function(_f){var e0=reversePriorityOrder[_f],s0=o[e0],u0=(Gl=Wl[e0])!==null&&Gl!==void 0?Gl:zl[e0],g0=isVariantLabel(u0),f0=e0===Ul?s0.isActive:null;f0===!1&&(Hl=_f);var _0=u0===zl[e0]&&u0!==Wl[e0]&&g0;if(_0&&$l&&s.manuallyAnimateOnMount&&(_0=!1),s0.protectedKeys=__assign$1({},Kl),!s0.isActive&&f0===null||!u0&&!s0.prevProp||isAnimationControls(u0)||typeof u0=="boolean")return"continue";var S0=checkVariantsDidChange(s0.prevProp,u0),p0=S0||e0===Ul&&s0.isActive&&!_0&&g0||_f>Hl&&g0,o0=Array.isArray(u0)?u0:[u0],n0=o0.reduce(Nl,{});f0===!1&&(n0={});var t0=s0.prevResolvedValues,r0=t0===void 0?{}:t0,d0=__assign$1(__assign$1({},r0),n0),h0=function(v0){p0=!0,Jl.delete(v0),s0.needsAnimating[v0]=!0};for(var i0 in d0){var c0=n0[i0],a0=r0[i0];Kl.hasOwnProperty(i0)||(c0!==a0?isKeyframesTarget(c0)&&isKeyframesTarget(a0)?!shallowCompare(c0,a0)||S0?h0(i0):s0.protectedKeys[i0]=!0:c0!==void 0?h0(i0):Jl.add(i0):c0!==void 0&&Jl.has(i0)?h0(i0):s0.protectedKeys[i0]=!0)}s0.prevProp=u0,s0.prevResolvedValues=n0,s0.isActive&&(Kl=__assign$1(__assign$1({},Kl),n0)),$l&&s.blockInitialAnimation&&(p0=!1),p0&&!_0&&Ql.push.apply(Ql,__spreadArray([],__read(o0.map(function(v0){return{animation:v0,options:__assign$1({type:e0},Bl)}})),!1))},Xl=0;Xl<numAnimationTypes;Xl++)Yl(Xl);if(et=__assign$1({},Kl),Jl.size){var Zl={};Jl.forEach(function(_f){var e0=s.getBaseTarget(_f);e0!==void 0&&(Zl[_f]=e0)}),Ql.push({animation:Zl})}var _d=Boolean(Ql.length);return $l&&Wl.initial===!1&&!s.manuallyAnimateOnMount&&(_d=!1),$l=!1,_d?i(Ql):Promise.resolve()}function Fl(Bl,Ul,Gl){var Wl;if(o[Bl].isActive===Ul)return Promise.resolve();(Wl=s.variantChildren)===null||Wl===void 0||Wl.forEach(function(Jl){var Kl;return(Kl=Jl.animationState)===null||Kl===void 0?void 0:Kl.setActive(Bl,Ul)}),o[Bl].isActive=Ul;var zl=Ll(Gl,Bl);for(var Ql in o)o[Ql].protectedKeys={};return zl}return{isAnimated:Ml,animateChanges:Ll,setActive:Fl,setAnimateFunction:Ol,getState:function(){return o}}}function checkVariantsDidChange(s,i){return typeof i=="string"?i!==s:isVariantLabels(i)?!shallowCompare(i,s):!1}function createTypeState(s){return s===void 0&&(s=!1),{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){var s;return s={},s[AnimationType.Animate]=createTypeState(!0),s[AnimationType.InView]=createTypeState(),s[AnimationType.Hover]=createTypeState(),s[AnimationType.Tap]=createTypeState(),s[AnimationType.Drag]=createTypeState(),s[AnimationType.Focus]=createTypeState(),s[AnimationType.Exit]=createTypeState(),s}var animations={animation:makeRenderlessComponent(function(s){var i=s.visualElement,o=s.animate;i.animationState||(i.animationState=createAnimationState(i)),isAnimationControls(o)&&react.exports.useEffect(function(){return o.subscribe(i)},[o])}),exit:makeRenderlessComponent(function(s){var i=s.custom,o=s.visualElement,et=__read(usePresence(),2),$l=et[0],Nl=et[1],Ml=react.exports.useContext(PresenceContext);react.exports.useEffect(function(){var Ol,Ll;o.isPresent=$l;var Fl=(Ol=o.animationState)===null||Ol===void 0?void 0:Ol.setActive(AnimationType.Exit,!$l,{custom:(Ll=Ml==null?void 0:Ml.custom)!==null&&Ll!==void 0?Ll:i});!$l&&(Fl==null||Fl.then(Nl))},[$l])})},PanSession=function(){function s(i,o,et){var $l=this,Nl=et===void 0?{}:et,Ml=Nl.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(!!($l.lastMoveEvent&&$l.lastMoveEventInfo)){var Gl=getPanInfo($l.lastMoveEventInfo,$l.history),Wl=$l.startEvent!==null,zl=distance(Gl.offset,{x:0,y:0})>=3;if(!(!Wl&&!zl)){var Ql=Gl.point,Jl=getFrameData().timestamp;$l.history.push(__assign$1(__assign$1({},Ql),{timestamp:Jl}));var Kl=$l.handlers,Hl=Kl.onStart,Yl=Kl.onMove;Wl||(Hl&&Hl($l.lastMoveEvent,Gl),$l.startEvent=$l.lastMoveEvent),Yl&&Yl($l.lastMoveEvent,Gl)}}},this.handlePointerMove=function(Gl,Wl){if($l.lastMoveEvent=Gl,$l.lastMoveEventInfo=transformPoint(Wl,$l.transformPagePoint),isMouseEvent(Gl)&&Gl.buttons===0){$l.handlePointerUp(Gl,Wl);return}sync.update($l.updatePoint,!0)},this.handlePointerUp=function(Gl,Wl){$l.end();var zl=$l.handlers,Ql=zl.onEnd,Jl=zl.onSessionEnd,Kl=getPanInfo(transformPoint(Wl,$l.transformPagePoint),$l.history);$l.startEvent&&Ql&&Ql(Gl,Kl),Jl&&Jl(Gl,Kl)},!(isTouchEvent(i)&&i.touches.length>1)){this.handlers=o,this.transformPagePoint=Ml;var Ol=extractEventInfo(i),Ll=transformPoint(Ol,this.transformPagePoint),Fl=Ll.point,Bl=getFrameData().timestamp;this.history=[__assign$1(__assign$1({},Fl),{timestamp:Bl})];var Ul=o.onSessionStart;Ul&&Ul(i,getPanInfo(Ll,this.history)),this.removeListeners=pipe(addPointerEvent(window,"pointermove",this.handlePointerMove),addPointerEvent(window,"pointerup",this.handlePointerUp),addPointerEvent(window,"pointercancel",this.handlePointerUp))}}return s.prototype.updateHandlers=function(i){this.handlers=i},s.prototype.end=function(){this.removeListeners&&this.removeListeners(),cancelSync.update(this.updatePoint)},s}();function transformPoint(s,i){return i?{point:i(s.point)}:s}function subtractPoint(s,i){return{x:s.x-i.x,y:s.y-i.y}}function getPanInfo(s,i){var o=s.point;return{point:o,delta:subtractPoint(o,lastDevicePoint(i)),offset:subtractPoint(o,startDevicePoint(i)),velocity:getVelocity(i,.1)}}function startDevicePoint(s){return s[0]}function lastDevicePoint(s){return s[s.length-1]}function getVelocity(s,i){if(s.length<2)return{x:0,y:0};for(var o=s.length-1,et=null,$l=lastDevicePoint(s);o>=0&&(et=s[o],!($l.timestamp-et.timestamp>secondsToMilliseconds(i)));)o--;if(!et)return{x:0,y:0};var Nl=($l.timestamp-et.timestamp)/1e3;if(Nl===0)return{x:0,y:0};var Ml={x:($l.x-et.x)/Nl,y:($l.y-et.y)/Nl};return Ml.x===1/0&&(Ml.x=0),Ml.y===1/0&&(Ml.y=0),Ml}function calcLength(s){return s.max-s.min}function isNear(s,i,o){return i===void 0&&(i=0),o===void 0&&(o=.01),distance(s,i)<o}function calcAxisDelta(s,i,o,et){et===void 0&&(et=.5),s.origin=et,s.originPoint=mix(i.min,i.max,s.origin),s.scale=calcLength(o)/calcLength(i),(isNear(s.scale,1,1e-4)||isNaN(s.scale))&&(s.scale=1),s.translate=mix(o.min,o.max,s.origin)-s.originPoint,(isNear(s.translate)||isNaN(s.translate))&&(s.translate=0)}function calcBoxDelta(s,i,o,et){calcAxisDelta(s.x,i.x,o.x,et==null?void 0:et.originX),calcAxisDelta(s.y,i.y,o.y,et==null?void 0:et.originY)}function calcRelativeAxis(s,i,o){s.min=o.min+i.min,s.max=s.min+calcLength(i)}function calcRelativeBox(s,i,o){calcRelativeAxis(s.x,i.x,o.x),calcRelativeAxis(s.y,i.y,o.y)}function calcRelativeAxisPosition(s,i,o){s.min=i.min-o.min,s.max=s.min+calcLength(i)}function calcRelativePosition(s,i,o){calcRelativeAxisPosition(s.x,i.x,o.x),calcRelativeAxisPosition(s.y,i.y,o.y)}function applyConstraints(s,i,o){var et=i.min,$l=i.max;return et!==void 0&&s<et?s=o?mix(et,s,o.min):Math.max(s,et):$l!==void 0&&s>$l&&(s=o?mix($l,s,o.max):Math.min(s,$l)),s}function calcRelativeAxisConstraints(s,i,o){return{min:i!==void 0?s.min+i:void 0,max:o!==void 0?s.max+o-(s.max-s.min):void 0}}function calcRelativeConstraints(s,i){var o=i.top,et=i.left,$l=i.bottom,Nl=i.right;return{x:calcRelativeAxisConstraints(s.x,et,Nl),y:calcRelativeAxisConstraints(s.y,o,$l)}}function calcViewportAxisConstraints(s,i){var o,et=i.min-s.min,$l=i.max-s.max;return i.max-i.min<s.max-s.min&&(o=__read([$l,et],2),et=o[0],$l=o[1]),{min:et,max:$l}}function calcViewportConstraints(s,i){return{x:calcViewportAxisConstraints(s.x,i.x),y:calcViewportAxisConstraints(s.y,i.y)}}function calcOrigin(s,i){var o=.5,et=calcLength(s),$l=calcLength(i);return $l>et?o=progress(i.min,i.max-et,s.min):et>$l&&(o=progress(s.min,s.max-$l,i.min)),clamp(0,1,o)}function rebaseAxisConstraints(s,i){var o={};return i.min!==void 0&&(o.min=i.min-s.min),i.max!==void 0&&(o.max=i.max-s.min),o}var defaultElastic=.35;function resolveDragElastic(s){return s===void 0&&(s=defaultElastic),s===!1?s=0:s===!0&&(s=defaultElastic),{x:resolveAxisElastic(s,"left","right"),y:resolveAxisElastic(s,"top","bottom")}}function resolveAxisElastic(s,i,o){return{min:resolvePointElastic(s,i),max:resolvePointElastic(s,o)}}function resolvePointElastic(s,i){var o;return typeof s=="number"?s:(o=s[i])!==null&&o!==void 0?o:0}var createAxisDelta=function(){return{translate:0,scale:1,origin:0,originPoint:0}},createDelta=function(){return{x:createAxisDelta(),y:createAxisDelta()}},createAxis=function(){return{min:0,max:0}},createBox=function(){return{x:createAxis(),y:createAxis()}};function eachAxis(s){return[s("x"),s("y")]}function convertBoundingBoxToBox(s){var i=s.top,o=s.left,et=s.right,$l=s.bottom;return{x:{min:o,max:et},y:{min:i,max:$l}}}function convertBoxToBoundingBox(s){var i=s.x,o=s.y;return{top:o.min,right:i.max,bottom:o.max,left:i.min}}function transformBoxPoints(s,i){if(!i)return s;var o=i({x:s.left,y:s.top}),et=i({x:s.right,y:s.bottom});return{top:o.y,left:o.x,bottom:et.y,right:et.x}}function isIdentityScale(s){return s===void 0||s===1}function hasScale(s){var i=s.scale,o=s.scaleX,et=s.scaleY;return!isIdentityScale(i)||!isIdentityScale(o)||!isIdentityScale(et)}function hasTransform(s){return hasScale(s)||hasTranslate(s.x)||hasTranslate(s.y)||s.z||s.rotate||s.rotateX||s.rotateY}function hasTranslate(s){return s&&s!=="0%"}function scalePoint(s,i,o){var et=s-o,$l=i*et;return o+$l}function applyPointDelta(s,i,o,et,$l){return $l!==void 0&&(s=scalePoint(s,$l,et)),scalePoint(s,o,et)+i}function applyAxisDelta(s,i,o,et,$l){i===void 0&&(i=0),o===void 0&&(o=1),s.min=applyPointDelta(s.min,i,o,et,$l),s.max=applyPointDelta(s.max,i,o,et,$l)}function applyBoxDelta(s,i){var o=i.x,et=i.y;applyAxisDelta(s.x,o.translate,o.scale,o.originPoint),applyAxisDelta(s.y,et.translate,et.scale,et.originPoint)}function applyTreeDeltas(s,i,o,et){var $l,Nl;et===void 0&&(et=!1);var Ml=o.length;if(!!Ml){i.x=i.y=1;for(var Ol,Ll,Fl=0;Fl<Ml;Fl++)Ol=o[Fl],Ll=Ol.projectionDelta,((Nl=($l=Ol.instance)===null||$l===void 0?void 0:$l.style)===null||Nl===void 0?void 0:Nl.display)!=="contents"&&(et&&Ol.options.layoutScroll&&Ol.scroll&&Ol!==Ol.root&&transformBox(s,{x:-Ol.scroll.x,y:-Ol.scroll.y}),Ll&&(i.x*=Ll.x.scale,i.y*=Ll.y.scale,applyBoxDelta(s,Ll)),et&&hasTransform(Ol.latestValues)&&transformBox(s,Ol.latestValues))}}function translateAxis(s,i){s.min=s.min+i,s.max=s.max+i}function transformAxis(s,i,o){var et=__read(o,3),$l=et[0],Nl=et[1],Ml=et[2],Ol=i[Ml]!==void 0?i[Ml]:.5,Ll=mix(s.min,s.max,Ol);applyAxisDelta(s,i[$l],i[Nl],Ll,i.scale)}var xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(s,i){transformAxis(s.x,i,xKeys$1),transformAxis(s.y,i,yKeys$1)}function measureViewportBox(s,i){return convertBoundingBoxToBox(transformBoxPoints(s.getBoundingClientRect(),i))}function measurePageBox(s,i,o){var et=measureViewportBox(s,o),$l=i.scroll;return $l&&(translateAxis(et.x,$l.x),translateAxis(et.y,$l.y)),et}var elementDragControls=new WeakMap,VisualElementDragControls=function(){function s(i){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=i}return s.prototype.start=function(i,o){var et=this,$l=o===void 0?{}:o,Nl=$l.snapToCursor,Ml=Nl===void 0?!1:Nl;if(this.visualElement.isPresent!==!1){var Ol=function(Ul){et.stopAnimation(),Ml&&et.snapToCursor(extractEventInfo(Ul,"page").point)},Ll=function(Ul,Gl){var Wl,zl=et.getProps(),Ql=zl.drag,Jl=zl.dragPropagation,Kl=zl.onDragStart;Ql&&!Jl&&(et.openGlobalLock&&et.openGlobalLock(),et.openGlobalLock=getGlobalLock(Ql),!et.openGlobalLock)||(et.isDragging=!0,et.currentDirection=null,et.resolveConstraints(),et.visualElement.projection&&(et.visualElement.projection.isAnimationBlocked=!0,et.visualElement.projection.target=void 0),eachAxis(function(Hl){var Yl,Xl,Zl=et.getAxisMotionValue(Hl).get()||0;if(percent.test(Zl)){var _d=(Xl=(Yl=et.visualElement.projection)===null||Yl===void 0?void 0:Yl.layout)===null||Xl===void 0?void 0:Xl.actual[Hl];if(_d){var _f=calcLength(_d);Zl=_f*(parseFloat(Zl)/100)}}et.originPoint[Hl]=Zl}),Kl==null||Kl(Ul,Gl),(Wl=et.visualElement.animationState)===null||Wl===void 0||Wl.setActive(AnimationType.Drag,!0))},Fl=function(Ul,Gl){var Wl=et.getProps(),zl=Wl.dragPropagation,Ql=Wl.dragDirectionLock,Jl=Wl.onDirectionLock,Kl=Wl.onDrag;if(!(!zl&&!et.openGlobalLock)){var Hl=Gl.offset;if(Ql&&et.currentDirection===null){et.currentDirection=getCurrentDirection(Hl),et.currentDirection!==null&&(Jl==null||Jl(et.currentDirection));return}et.updateAxis("x",Gl.point,Hl),et.updateAxis("y",Gl.point,Hl),et.visualElement.syncRender(),Kl==null||Kl(Ul,Gl)}},Bl=function(Ul,Gl){return et.stop(Ul,Gl)};this.panSession=new PanSession(i,{onSessionStart:Ol,onStart:Ll,onMove:Fl,onSessionEnd:Bl},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},s.prototype.stop=function(i,o){var et=this.isDragging;if(this.cancel(),!!et){var $l=o.velocity;this.startAnimation($l);var Nl=this.getProps().onDragEnd;Nl==null||Nl(i,o)}},s.prototype.cancel=function(){var i,o;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(i=this.panSession)===null||i===void 0||i.end(),this.panSession=void 0;var et=this.getProps().dragPropagation;!et&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(o=this.visualElement.animationState)===null||o===void 0||o.setActive(AnimationType.Drag,!1)},s.prototype.updateAxis=function(i,o,et){var $l=this.getProps().drag;if(!(!et||!shouldDrag(i,$l,this.currentDirection))){var Nl=this.getAxisMotionValue(i),Ml=this.originPoint[i]+et[i];this.constraints&&this.constraints[i]&&(Ml=applyConstraints(Ml,this.constraints[i],this.elastic[i])),Nl.set(Ml)}},s.prototype.resolveConstraints=function(){var i=this,o=this.getProps(),et=o.dragConstraints,$l=o.dragElastic,Nl=(this.visualElement.projection||{}).layout,Ml=this.constraints;et&&isRefObject(et)?this.constraints||(this.constraints=this.resolveRefConstraints()):et&&Nl?this.constraints=calcRelativeConstraints(Nl.actual,et):this.constraints=!1,this.elastic=resolveDragElastic($l),Ml!==this.constraints&&Nl&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(function(Ol){i.getAxisMotionValue(Ol)&&(i.constraints[Ol]=rebaseAxisConstraints(Nl.actual[Ol],i.constraints[Ol]))})},s.prototype.resolveRefConstraints=function(){var i=this.getProps(),o=i.dragConstraints,et=i.onMeasureDragConstraints;if(!o||!isRefObject(o))return!1;var $l=o.current,Nl=this.visualElement.projection;if(!Nl||!Nl.layout)return!1;var Ml=measurePageBox($l,Nl.root,this.visualElement.getTransformPagePoint()),Ol=calcViewportConstraints(Nl.layout.actual,Ml);if(et){var Ll=et(convertBoxToBoundingBox(Ol));this.hasMutatedConstraints=!!Ll,Ll&&(Ol=convertBoundingBoxToBox(Ll))}return Ol},s.prototype.startAnimation=function(i){var o=this,et=this.getProps(),$l=et.drag,Nl=et.dragMomentum,Ml=et.dragElastic,Ol=et.dragTransition,Ll=et.dragSnapToOrigin,Fl=et.onDragTransitionEnd,Bl=this.constraints||{},Ul=eachAxis(function(Gl){var Wl;if(!!shouldDrag(Gl,$l,o.currentDirection)){var zl=(Wl=Bl==null?void 0:Bl[Gl])!==null&&Wl!==void 0?Wl:{};Ll&&(zl={min:0,max:0});var Ql=Ml?200:1e6,Jl=Ml?40:1e7,Kl=__assign$1(__assign$1({type:"inertia",velocity:Nl?i[Gl]:0,bounceStiffness:Ql,bounceDamping:Jl,timeConstant:750,restDelta:1,restSpeed:10},Ol),zl);return o.startAxisValueAnimation(Gl,Kl)}});return Promise.all(Ul).then(Fl)},s.prototype.startAxisValueAnimation=function(i,o){var et=this.getAxisMotionValue(i);return startAnimation(i,et,0,o)},s.prototype.stopAnimation=function(){var i=this;eachAxis(function(o){return i.getAxisMotionValue(o).stop()})},s.prototype.getAxisMotionValue=function(i){var o,et,$l="_drag"+i.toUpperCase(),Nl=this.visualElement.getProps()[$l];return Nl||this.visualElement.getValue(i,(et=(o=this.visualElement.getProps().initial)===null||o===void 0?void 0:o[i])!==null&&et!==void 0?et:0)},s.prototype.snapToCursor=function(i){var o=this;eachAxis(function(et){var $l=o.getProps().drag;if(!!shouldDrag(et,$l,o.currentDirection)){var Nl=o.visualElement.projection,Ml=o.getAxisMotionValue(et);if(Nl&&Nl.layout){var Ol=Nl.layout.actual[et],Ll=Ol.min,Fl=Ol.max;Ml.set(i[et]-mix(Ll,Fl,.5))}}})},s.prototype.scalePositionWithinConstraints=function(){var i=this,o,et=this.getProps(),$l=et.drag,Nl=et.dragConstraints,Ml=this.visualElement.projection;if(!(!isRefObject(Nl)||!Ml||!this.constraints)){this.stopAnimation();var Ol={x:0,y:0};eachAxis(function(Fl){var Bl=i.getAxisMotionValue(Fl);if(Bl){var Ul=Bl.get();Ol[Fl]=calcOrigin({min:Ul,max:Ul},i.constraints[Fl])}});var Ll=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=Ll?Ll({},""):"none",(o=Ml.root)===null||o===void 0||o.updateScroll(),Ml.updateLayout(),this.resolveConstraints(),eachAxis(function(Fl){if(!!shouldDrag(Fl,$l,null)){var Bl=i.getAxisMotionValue(Fl),Ul=i.constraints[Fl],Gl=Ul.min,Wl=Ul.max;Bl.set(mix(Gl,Wl,Ol[Fl]))}})}},s.prototype.addListeners=function(){var i=this,o;elementDragControls.set(this.visualElement,this);var et=this.visualElement.getInstance(),$l=addPointerEvent(et,"pointerdown",function(Fl){var Bl=i.getProps(),Ul=Bl.drag,Gl=Bl.dragListener,Wl=Gl===void 0?!0:Gl;Ul&&Wl&&i.start(Fl)}),Nl=function(){var Fl=i.getProps().dragConstraints;isRefObject(Fl)&&(i.constraints=i.resolveRefConstraints())},Ml=this.visualElement.projection,Ol=Ml.addEventListener("measure",Nl);Ml&&!Ml.layout&&((o=Ml.root)===null||o===void 0||o.updateScroll(),Ml.updateLayout()),Nl();var Ll=addDomEvent(window,"resize",function(){return i.scalePositionWithinConstraints()});return Ml.addEventListener("didUpdate",function(Fl){var Bl=Fl.delta,Ul=Fl.hasLayoutChanged;i.isDragging&&Ul&&(eachAxis(function(Gl){var Wl=i.getAxisMotionValue(Gl);!Wl||(i.originPoint[Gl]+=Bl[Gl].translate,Wl.set(Wl.get()+Bl[Gl].translate))}),i.visualElement.syncRender())}),function(){Ll(),$l(),Ol()}},s.prototype.getProps=function(){var i=this.visualElement.getProps(),o=i.drag,et=o===void 0?!1:o,$l=i.dragDirectionLock,Nl=$l===void 0?!1:$l,Ml=i.dragPropagation,Ol=Ml===void 0?!1:Ml,Ll=i.dragConstraints,Fl=Ll===void 0?!1:Ll,Bl=i.dragElastic,Ul=Bl===void 0?defaultElastic:Bl,Gl=i.dragMomentum,Wl=Gl===void 0?!0:Gl;return __assign$1(__assign$1({},i),{drag:et,dragDirectionLock:Nl,dragPropagation:Ol,dragConstraints:Fl,dragElastic:Ul,dragMomentum:Wl})},s}();function shouldDrag(s,i,o){return(i===!0||i===s)&&(o===null||o===s)}function getCurrentDirection(s,i){i===void 0&&(i=10);var o=null;return Math.abs(s.y)>i?o="y":Math.abs(s.x)>i&&(o="x"),o}function useDrag(s){var i=s.dragControls,o=s.visualElement,et=useConstant(function(){return new VisualElementDragControls(o)});react.exports.useEffect(function(){return i&&i.subscribe(et)},[et,i]),react.exports.useEffect(function(){return et.addListeners()},[et])}function usePanGesture(s){var i=s.onPan,o=s.onPanStart,et=s.onPanEnd,$l=s.onPanSessionStart,Nl=s.visualElement,Ml=i||o||et||$l,Ol=react.exports.useRef(null),Ll=react.exports.useContext(MotionConfigContext).transformPagePoint,Fl={onSessionStart:$l,onStart:o,onMove:i,onEnd:function(Ul,Gl){Ol.current=null,et&&et(Ul,Gl)}};react.exports.useEffect(function(){Ol.current!==null&&Ol.current.updateHandlers(Fl)});function Bl(Ul){Ol.current=new PanSession(Ul,Fl,{transformPagePoint:Ll})}usePointerEvent(Nl,"pointerdown",Ml&&Bl),useUnmountEffect(function(){return Ol.current&&Ol.current.end()})}var drag={pan:makeRenderlessComponent(usePanGesture),drag:makeRenderlessComponent(useDrag)},names=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function createLifecycles(){var s=names.map(function(){return new SubscriptionManager}),i={},o={clearAllListeners:function(){return s.forEach(function(et){return et.clear()})},updatePropListeners:function(et){names.forEach(function($l){var Nl,Ml="on"+$l,Ol=et[Ml];(Nl=i[$l])===null||Nl===void 0||Nl.call(i),Ol&&(i[$l]=o[Ml](Ol))})}};return s.forEach(function(et,$l){o["on"+names[$l]]=function(Nl){return et.add(Nl)},o["notify"+names[$l]]=function(){for(var Nl=[],Ml=0;Ml<arguments.length;Ml++)Nl[Ml]=arguments[Ml];return et.notify.apply(et,__spreadArray([],__read(Nl),!1))}}),o}function updateMotionValuesFromProps(s,i,o){var et;for(var $l in i){var Nl=i[$l],Ml=o[$l];if(isMotionValue(Nl))s.addValue($l,Nl);else if(isMotionValue(Ml))s.addValue($l,motionValue(Nl));else if(Ml!==Nl)if(s.hasValue($l)){var Ol=s.getValue($l);!Ol.hasAnimated&&Ol.set(Nl)}else s.addValue($l,motionValue((et=s.getStaticValue($l))!==null&&et!==void 0?et:Nl))}for(var $l in o)i[$l]===void 0&&s.removeValue($l);return i}var visualElement=function(s){var i=s.treeType,o=i===void 0?"":i,et=s.build,$l=s.getBaseTarget,Nl=s.makeTargetAnimatable,Ml=s.measureViewportBox,Ol=s.render,Ll=s.readValueFromInstance,Fl=s.removeValueFromRenderState,Bl=s.sortNodePosition,Ul=s.scrapeMotionValuesFromProps;return function(Gl,Wl){var zl=Gl.parent,Ql=Gl.props,Jl=Gl.presenceId,Kl=Gl.blockInitialAnimation,Hl=Gl.visualState,Yl=Gl.shouldReduceMotion;Wl===void 0&&(Wl={});var Xl=!1,Zl=Hl.latestValues,_d=Hl.renderState,_f,e0=createLifecycles(),s0=new Map,u0=new Map,g0={},f0=__assign$1({},Zl),_0;function S0(){!_f||!Xl||(p0(),Ol(_f,_d,Ql.style,c0.projection))}function p0(){et(c0,_d,Zl,Wl,Ql)}function o0(){e0.notifyUpdate(Zl)}function n0(a0,v0){var l0=v0.onChange(function(E0){Zl[a0]=E0,Ql.onUpdate&&sync.update(o0,!1,!0)}),b0=v0.onRenderRequest(c0.scheduleRender);u0.set(a0,function(){l0(),b0()})}var t0=Ul(Ql);for(var r0 in t0){var d0=t0[r0];Zl[r0]!==void 0&&isMotionValue(d0)&&d0.set(Zl[r0],!1)}var h0=checkIfControllingVariants(Ql),i0=checkIfVariantNode(Ql),c0=__assign$1(__assign$1({treeType:o,current:null,depth:zl?zl.depth+1:0,parent:zl,children:new Set,presenceId:Jl,shouldReduceMotion:Yl,variantChildren:i0?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(zl==null?void 0:zl.isMounted()),blockInitialAnimation:Kl,isMounted:function(){return Boolean(_f)},mount:function(a0){Xl=!0,_f=c0.current=a0,c0.projection&&c0.projection.mount(a0),i0&&zl&&!h0&&(_0=zl==null?void 0:zl.addVariantChild(c0)),s0.forEach(function(v0,l0){return n0(l0,v0)}),zl==null||zl.children.add(c0),c0.setProps(Ql)},unmount:function(){var a0;(a0=c0.projection)===null||a0===void 0||a0.unmount(),cancelSync.update(o0),cancelSync.render(S0),u0.forEach(function(v0){return v0()}),_0==null||_0(),zl==null||zl.children.delete(c0),e0.clearAllListeners(),_f=void 0,Xl=!1},addVariantChild:function(a0){var v0,l0=c0.getClosestVariantNode();if(l0)return(v0=l0.variantChildren)===null||v0===void 0||v0.add(a0),function(){return l0.variantChildren.delete(a0)}},sortNodePosition:function(a0){return!Bl||o!==a0.treeType?0:Bl(c0.getInstance(),a0.getInstance())},getClosestVariantNode:function(){return i0?c0:zl==null?void 0:zl.getClosestVariantNode()},getLayoutId:function(){return Ql.layoutId},getInstance:function(){return _f},getStaticValue:function(a0){return Zl[a0]},setStaticValue:function(a0,v0){return Zl[a0]=v0},getLatestValues:function(){return Zl},setVisibility:function(a0){c0.isVisible!==a0&&(c0.isVisible=a0,c0.scheduleRender())},makeTargetAnimatable:function(a0,v0){return v0===void 0&&(v0=!0),Nl(c0,a0,Ql,v0)},measureViewportBox:function(){return Ml(_f,Ql)},addValue:function(a0,v0){c0.hasValue(a0)&&c0.removeValue(a0),s0.set(a0,v0),Zl[a0]=v0.get(),n0(a0,v0)},removeValue:function(a0){var v0;s0.delete(a0),(v0=u0.get(a0))===null||v0===void 0||v0(),u0.delete(a0),delete Zl[a0],Fl(a0,_d)},hasValue:function(a0){return s0.has(a0)},getValue:function(a0,v0){var l0=s0.get(a0);return l0===void 0&&v0!==void 0&&(l0=motionValue(v0),c0.addValue(a0,l0)),l0},forEachValue:function(a0){return s0.forEach(a0)},readValue:function(a0){var v0;return(v0=Zl[a0])!==null&&v0!==void 0?v0:Ll(_f,a0,Wl)},setBaseTarget:function(a0,v0){f0[a0]=v0},getBaseTarget:function(a0){if($l){var v0=$l(Ql,a0);if(v0!==void 0&&!isMotionValue(v0))return v0}return f0[a0]}},e0),{build:function(){return p0(),_d},scheduleRender:function(){sync.render(S0,!1,!0)},syncRender:S0,setProps:function(a0){(a0.transformTemplate||Ql.transformTemplate)&&c0.scheduleRender(),Ql=a0,e0.updatePropListeners(a0),g0=updateMotionValuesFromProps(c0,Ul(Ql),g0)},getProps:function(){return Ql},getVariant:function(a0){var v0;return(v0=Ql.variants)===null||v0===void 0?void 0:v0[a0]},getDefaultTransition:function(){return Ql.transition},getTransformPagePoint:function(){return Ql.transformPagePoint},getVariantContext:function(a0){if(a0===void 0&&(a0=!1),a0)return zl==null?void 0:zl.getVariantContext();if(!h0){var v0=(zl==null?void 0:zl.getVariantContext())||{};return Ql.initial!==void 0&&(v0.initial=Ql.initial),v0}for(var l0={},b0=0;b0<numVariantProps;b0++){var E0=variantProps[b0],C0=Ql[E0];(isVariantLabel(C0)||C0===!1)&&(l0[E0]=C0)}return l0}});return c0}},variantProps=__spreadArray(["initial"],__read(variantPriorityOrder),!1),numVariantProps=variantProps.length;function isCSSVariable(s){return typeof s=="string"&&s.startsWith("var(--")}var cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(s){var i=cssVariableRegex.exec(s);if(!i)return[,];var o=__read(i,3),et=o[1],$l=o[2];return[et,$l]}function getVariableValue(s,i,o){var et=__read(parseCSSVariable(s),2),$l=et[0],Nl=et[1];if(!!$l){var Ml=window.getComputedStyle(i).getPropertyValue($l);return Ml?Ml.trim():isCSSVariable(Nl)?getVariableValue(Nl,i):Nl}}function resolveCSSVariables(s,i,o){var et,$l=__rest(i,[]),Nl=s.getInstance();if(!(Nl instanceof Element))return{target:$l,transitionEnd:o};o&&(o=__assign$1({},o)),s.forEachValue(function(Fl){var Bl=Fl.get();if(!!isCSSVariable(Bl)){var Ul=getVariableValue(Bl,Nl);Ul&&Fl.set(Ul)}});for(var Ml in $l){var Ol=$l[Ml];if(!!isCSSVariable(Ol)){var Ll=getVariableValue(Ol,Nl);!Ll||($l[Ml]=Ll,o&&((et=o[Ml])!==null&&et!==void 0||(o[Ml]=Ol)))}}return{target:$l,transitionEnd:o}}var positionalKeys=new Set(["width","height","top","left","right","bottom","x","y"]),isPositionalKey=function(s){return positionalKeys.has(s)},hasPositionalKey=function(s){return Object.keys(s).some(isPositionalKey)},setAndResetVelocity=function(s,i){s.set(i,!1),s.set(i)},isNumOrPxType=function(s){return s===number||s===px$1},BoundingBoxDimension;(function(s){s.width="width",s.height="height",s.left="left",s.right="right",s.top="top",s.bottom="bottom"})(BoundingBoxDimension||(BoundingBoxDimension={}));var getPosFromMatrix=function(s,i){return parseFloat(s.split(", ")[i])},getTranslateFromMatrix=function(s,i){return function(o,et){var $l=et.transform;if($l==="none"||!$l)return 0;var Nl=$l.match(/^matrix3d\((.+)\)$/);if(Nl)return getPosFromMatrix(Nl[1],i);var Ml=$l.match(/^matrix\((.+)\)$/);return Ml?getPosFromMatrix(Ml[1],s):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformProps.filter(function(s){return!transformKeys.has(s)});function removeNonTranslationalTransform(s){var i=[];return nonTranslationalTransformKeys.forEach(function(o){var et=s.getValue(o);et!==void 0&&(i.push([o,et.get()]),et.set(o.startsWith("scale")?1:0))}),i.length&&s.syncRender(),i}var positionalValues={width:function(s,i){var o=s.x,et=i.paddingLeft,$l=et===void 0?"0":et,Nl=i.paddingRight,Ml=Nl===void 0?"0":Nl;return o.max-o.min-parseFloat($l)-parseFloat(Ml)},height:function(s,i){var o=s.y,et=i.paddingTop,$l=et===void 0?"0":et,Nl=i.paddingBottom,Ml=Nl===void 0?"0":Nl;return o.max-o.min-parseFloat($l)-parseFloat(Ml)},top:function(s,i){var o=i.top;return parseFloat(o)},left:function(s,i){var o=i.left;return parseFloat(o)},bottom:function(s,i){var o=s.y,et=i.top;return parseFloat(et)+(o.max-o.min)},right:function(s,i){var o=s.x,et=i.left;return parseFloat(et)+(o.max-o.min)},x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)},convertChangedValueTypes=function(s,i,o){var et=i.measureViewportBox(),$l=i.getInstance(),Nl=getComputedStyle($l),Ml=Nl.display,Ol={};Ml==="none"&&i.setStaticValue("display",s.display||"block"),o.forEach(function(Fl){Ol[Fl]=positionalValues[Fl](et,Nl)}),i.syncRender();var Ll=i.measureViewportBox();return o.forEach(function(Fl){var Bl=i.getValue(Fl);setAndResetVelocity(Bl,Ol[Fl]),s[Fl]=positionalValues[Fl](Ll,Nl)}),s},checkAndConvertChangedValueTypes=function(s,i,o,et){o===void 0&&(o={}),et===void 0&&(et={}),i=__assign$1({},i),et=__assign$1({},et);var $l=Object.keys(i).filter(isPositionalKey),Nl=[],Ml=!1,Ol=[];if($l.forEach(function(Bl){var Ul=s.getValue(Bl);if(!!s.hasValue(Bl)){var Gl=o[Bl],Wl=findDimensionValueType(Gl),zl=i[Bl],Ql;if(isKeyframesTarget(zl)){var Jl=zl.length,Kl=zl[0]===null?1:0;Gl=zl[Kl],Wl=findDimensionValueType(Gl);for(var Hl=Kl;Hl<Jl;Hl++)Ql?invariant(findDimensionValueType(zl[Hl])===Ql):Ql=findDimensionValueType(zl[Hl])}else Ql=findDimensionValueType(zl);if(Wl!==Ql)if(isNumOrPxType(Wl)&&isNumOrPxType(Ql)){var Yl=Ul.get();typeof Yl=="string"&&Ul.set(parseFloat(Yl)),typeof zl=="string"?i[Bl]=parseFloat(zl):Array.isArray(zl)&&Ql===px$1&&(i[Bl]=zl.map(parseFloat))}else(Wl==null?void 0:Wl.transform)&&(Ql==null?void 0:Ql.transform)&&(Gl===0||zl===0)?Gl===0?Ul.set(Ql.transform(Gl)):i[Bl]=Wl.transform(zl):(Ml||(Nl=removeNonTranslationalTransform(s),Ml=!0),Ol.push(Bl),et[Bl]=et[Bl]!==void 0?et[Bl]:i[Bl],setAndResetVelocity(Ul,zl))}}),Ol.length){var Ll=Ol.indexOf("height")>=0?window.pageYOffset:null,Fl=convertChangedValueTypes(i,s,Ol);return Nl.length&&Nl.forEach(function(Bl){var Ul=__read(Bl,2),Gl=Ul[0],Wl=Ul[1];s.getValue(Gl).set(Wl)}),s.syncRender(),Ll!==null&&window.scrollTo({top:Ll}),{target:Fl,transitionEnd:et}}else return{target:i,transitionEnd:et}};function unitConversion(s,i,o,et){return hasPositionalKey(i)?checkAndConvertChangedValueTypes(s,i,o,et):{target:i,transitionEnd:et}}var parseDomVariant=function(s,i,o,et){var $l=resolveCSSVariables(s,i,et);return i=$l.target,et=$l.transitionEnd,unitConversion(s,i,o,et)};function getComputedStyle$1(s){return window.getComputedStyle(s)}var htmlConfig={treeType:"dom",readValueFromInstance:function(s,i){if(isTransformProp(i)){var o=getDefaultValueType(i);return o&&o.default||0}else{var et=getComputedStyle$1(s);return(isCSSVariable$1(i)?et.getPropertyValue(i):et[i])||0}},sortNodePosition:function(s,i){return s.compareDocumentPosition(i)&2?1:-1},getBaseTarget:function(s,i){var o;return(o=s.style)===null||o===void 0?void 0:o[i]},measureViewportBox:function(s,i){var o=i.transformPagePoint;return measureViewportBox(s,o)},resetTransform:function(s,i,o){var et=o.transformTemplate;i.style.transform=et?et({},""):"none",s.scheduleRender()},restoreTransform:function(s,i){s.style.transform=i.style.transform},removeValueFromRenderState:function(s,i){var o=i.vars,et=i.style;delete o[s],delete et[s]},makeTargetAnimatable:function(s,i,o,et){var $l=o.transformValues;et===void 0&&(et=!0);var Nl=i.transition,Ml=i.transitionEnd,Ol=__rest(i,["transition","transitionEnd"]),Ll=getOrigin(Ol,Nl||{},s);if($l&&(Ml&&(Ml=$l(Ml)),Ol&&(Ol=$l(Ol)),Ll&&(Ll=$l(Ll))),et){checkTargetForNewValues(s,Ol,Ll);var Fl=parseDomVariant(s,Ol,Ll,Ml);Ml=Fl.transitionEnd,Ol=Fl.target}return __assign$1({transition:Nl,transitionEnd:Ml},Ol)},scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,build:function(s,i,o,et,$l){s.isVisible!==void 0&&(i.style.visibility=s.isVisible?"visible":"hidden"),buildHTMLStyles(i,o,et,$l.transformTemplate)},render:renderHTML},htmlVisualElement=visualElement(htmlConfig),svgVisualElement=visualElement(__assign$1(__assign$1({},htmlConfig),{getBaseTarget:function(s,i){return s[i]},readValueFromInstance:function(s,i){var o;return isTransformProp(i)?((o=getDefaultValueType(i))===null||o===void 0?void 0:o.default)||0:(i=camelCaseAttributes.has(i)?i:camelToDash(i),s.getAttribute(i))},scrapeMotionValuesFromProps,build:function(s,i,o,et,$l){buildSVGAttrs(i,o,et,$l.transformTemplate)},render:renderSVG})),createDomVisualElement=function(s,i){return isSVGComponent(s)?svgVisualElement(i,{enableHardwareAcceleration:!1}):htmlVisualElement(i,{enableHardwareAcceleration:!0})};function pixelsToPercent(s,i){return i.max===i.min?0:s/(i.max-i.min)*100}var correctBorderRadius={correct:function(s,i){if(!i.target)return s;if(typeof s=="string")if(px$1.test(s))s=parseFloat(s);else return s;var o=pixelsToPercent(s,i.target.x),et=pixelsToPercent(s,i.target.y);return"".concat(o,"% ").concat(et,"%")}},varToken="_$css",correctBoxShadow={correct:function(s,i){var o=i.treeScale,et=i.projectionDelta,$l=s,Nl=s.includes("var("),Ml=[];Nl&&(s=s.replace(cssVariableRegex,function(Ql){return Ml.push(Ql),varToken}));var Ol=complex.parse(s);if(Ol.length>5)return $l;var Ll=complex.createTransformer(s),Fl=typeof Ol[0]!="number"?1:0,Bl=et.x.scale*o.x,Ul=et.y.scale*o.y;Ol[0+Fl]/=Bl,Ol[1+Fl]/=Ul;var Gl=mix(Bl,Ul,.5);typeof Ol[2+Fl]=="number"&&(Ol[2+Fl]/=Gl),typeof Ol[3+Fl]=="number"&&(Ol[3+Fl]/=Gl);var Wl=Ll(Ol);if(Nl){var zl=0;Wl=Wl.replace(varToken,function(){var Ql=Ml[zl];return zl++,Ql})}return Wl}},jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=react.exports,k$2=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$2(s,i,o){var et,$l={},Nl=null,Ml=null;o!==void 0&&(Nl=""+o),i.key!==void 0&&(Nl=""+i.key),i.ref!==void 0&&(Ml=i.ref);for(et in i)m$1.call(i,et)&&!p$1.hasOwnProperty(et)&&($l[et]=i[et]);if(s&&s.defaultProps)for(et in i=s.defaultProps,i)$l[et]===void 0&&($l[et]=i[et]);return{$$typeof:k$2,type:s,key:Nl,ref:Ml,props:$l,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs,Fragment=jsxRuntime.exports.Fragment;var MeasureLayoutWithContext=function(s){__extends(i,s);function i(){return s!==null&&s.apply(this,arguments)||this}return i.prototype.componentDidMount=function(){var o=this,et=this.props,$l=et.visualElement,Nl=et.layoutGroup,Ml=et.switchLayoutGroup,Ol=et.layoutId,Ll=$l.projection;addScaleCorrector(defaultScaleCorrectors),Ll&&(Nl!=null&&Nl.group&&Nl.group.add(Ll),(Ml==null?void 0:Ml.register)&&Ol&&Ml.register(Ll),Ll.root.didUpdate(),Ll.addEventListener("animationComplete",function(){o.safeToRemove()}),Ll.setOptions(__assign$1(__assign$1({},Ll.options),{onExitComplete:function(){return o.safeToRemove()}}))),globalProjectionState.hasEverUpdated=!0},i.prototype.getSnapshotBeforeUpdate=function(o){var et=this,$l=this.props,Nl=$l.layoutDependency,Ml=$l.visualElement,Ol=$l.drag,Ll=$l.isPresent,Fl=Ml.projection;return Fl&&(Fl.isPresent=Ll,Ol||o.layoutDependency!==Nl||Nl===void 0?Fl.willUpdate():this.safeToRemove(),o.isPresent!==Ll&&(Ll?Fl.promote():Fl.relegate()||sync.postRender(function(){var Bl;!((Bl=Fl.getStack())===null||Bl===void 0)&&Bl.members.length||et.safeToRemove()}))),null},i.prototype.componentDidUpdate=function(){var o=this.props.visualElement.projection;o&&(o.root.didUpdate(),!o.currentAnimation&&o.isLead()&&this.safeToRemove())},i.prototype.componentWillUnmount=function(){var o=this.props,et=o.visualElement,$l=o.layoutGroup,Nl=o.switchLayoutGroup,Ml=et.projection;Ml&&(Ml.scheduleCheckAfterUnmount(),$l!=null&&$l.group&&$l.group.remove(Ml),Nl!=null&&Nl.deregister&&Nl.deregister(Ml))},i.prototype.safeToRemove=function(){var o=this.props.safeToRemove;o==null||o()},i.prototype.render=function(){return null},i}(React.Component);function MeasureLayout(s){var i=__read(usePresence(),2),o=i[0],et=i[1],$l=react.exports.useContext(LayoutGroupContext);return jsx(MeasureLayoutWithContext,{...__assign$1({},s,{layoutGroup:$l,switchLayoutGroup:react.exports.useContext(SwitchLayoutGroupContext),isPresent:o,safeToRemove:et})})}var defaultScaleCorrectors={borderRadius:__assign$1(__assign$1({},correctBorderRadius),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},layoutFeatures={measureLayout:MeasureLayout};function animate(s,i,o){o===void 0&&(o={});var et=isMotionValue(s)?s:motionValue(s);return startAnimation("",et,i,o),{stop:function(){return et.stop()},isAnimating:function(){return et.isAnimating()}}}var borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=function(s){return typeof s=="string"?parseFloat(s):s},isPx=function(s){return typeof s=="number"||px$1.test(s)};function mixValues(s,i,o,et,$l,Nl){var Ml,Ol,Ll,Fl;$l?(s.opacity=mix(0,(Ml=o.opacity)!==null&&Ml!==void 0?Ml:1,easeCrossfadeIn(et)),s.opacityExit=mix((Ol=i.opacity)!==null&&Ol!==void 0?Ol:1,0,easeCrossfadeOut(et))):Nl&&(s.opacity=mix((Ll=i.opacity)!==null&&Ll!==void 0?Ll:1,(Fl=o.opacity)!==null&&Fl!==void 0?Fl:1,et));for(var Bl=0;Bl<numBorders;Bl++){var Ul="border".concat(borders[Bl],"Radius"),Gl=getRadius(i,Ul),Wl=getRadius(o,Ul);if(!(Gl===void 0&&Wl===void 0)){Gl||(Gl=0),Wl||(Wl=0);var zl=Gl===0||Wl===0||isPx(Gl)===isPx(Wl);zl?(s[Ul]=Math.max(mix(asNumber(Gl),asNumber(Wl),et),0),(percent.test(Wl)||percent.test(Gl))&&(s[Ul]+="%")):s[Ul]=Wl}}(i.rotate||o.rotate)&&(s.rotate=mix(i.rotate||0,o.rotate||0,et))}function getRadius(s,i){var o;return(o=s[i])!==null&&o!==void 0?o:s.borderRadius}var easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,linear);function compress(s,i,o){return function(et){return et<s?0:et>i?1:o(progress(s,i,et))}}function copyAxisInto(s,i){s.min=i.min,s.max=i.max}function copyBoxInto(s,i){copyAxisInto(s.x,i.x),copyAxisInto(s.y,i.y)}function removePointDelta(s,i,o,et,$l){return s-=i,s=scalePoint(s,1/o,et),$l!==void 0&&(s=scalePoint(s,1/$l,et)),s}function removeAxisDelta(s,i,o,et,$l,Nl,Ml){if(i===void 0&&(i=0),o===void 0&&(o=1),et===void 0&&(et=.5),Nl===void 0&&(Nl=s),Ml===void 0&&(Ml=s),percent.test(i)){i=parseFloat(i);var Ol=mix(Ml.min,Ml.max,i/100);i=Ol-Ml.min}if(typeof i=="number"){var Ll=mix(Nl.min,Nl.max,et);s===Nl&&(Ll-=i),s.min=removePointDelta(s.min,i,o,Ll,$l),s.max=removePointDelta(s.max,i,o,Ll,$l)}}function removeAxisTransforms(s,i,o,et,$l){var Nl=__read(o,3),Ml=Nl[0],Ol=Nl[1],Ll=Nl[2];removeAxisDelta(s,i[Ml],i[Ol],i[Ll],i.scale,et,$l)}var xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(s,i,o,et){removeAxisTransforms(s.x,i,xKeys,o==null?void 0:o.x,et==null?void 0:et.x),removeAxisTransforms(s.y,i,yKeys,o==null?void 0:o.y,et==null?void 0:et.y)}function isAxisDeltaZero(s){return s.translate===0&&s.scale===1}function isDeltaZero(s){return isAxisDeltaZero(s.x)&&isAxisDeltaZero(s.y)}function boxEquals(s,i){return s.x.min===i.x.min&&s.x.max===i.x.max&&s.y.min===i.y.min&&s.y.max===i.y.max}var NodeStack=function(){function s(){this.members=[]}return s.prototype.add=function(i){addUniqueItem(this.members,i),i.scheduleRender()},s.prototype.remove=function(i){if(removeItem(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){var o=this.members[this.members.length-1];o&&this.promote(o)}},s.prototype.relegate=function(i){var o=this.members.findIndex(function(Ml){return i===Ml});if(o===0)return!1;for(var et,$l=o;$l>=0;$l--){var Nl=this.members[$l];if(Nl.isPresent!==!1){et=Nl;break}}return et?(this.promote(et),!0):!1},s.prototype.promote=function(i,o){var et,$l=this.lead;if(i!==$l&&(this.prevLead=$l,this.lead=i,i.show(),$l)){$l.instance&&$l.scheduleRender(),i.scheduleRender(),i.resumeFrom=$l,o&&(i.resumeFrom.preserveOpacity=!0),$l.snapshot&&(i.snapshot=$l.snapshot,i.snapshot.latestValues=$l.animationValues||$l.latestValues,i.snapshot.isShared=!0),!((et=i.root)===null||et===void 0)&&et.isUpdating&&(i.isLayoutDirty=!0);var Nl=i.options.crossfade;Nl===!1&&$l.hide()}},s.prototype.exitAnimationComplete=function(){this.members.forEach(function(i){var o,et,$l,Nl,Ml;(et=(o=i.options).onExitComplete)===null||et===void 0||et.call(o),(Ml=($l=i.resumingFrom)===null||$l===void 0?void 0:(Nl=$l.options).onExitComplete)===null||Ml===void 0||Ml.call(Nl)})},s.prototype.scheduleRender=function(){this.members.forEach(function(i){i.instance&&i.scheduleRender(!1)})},s.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},s}(),identityProjection="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function buildProjectionTransform(s,i,o){var et=s.x.translate/i.x,$l=s.y.translate/i.y,Nl="translate3d(".concat(et,"px, ").concat($l,"px, 0) ");if(Nl+="scale(".concat(1/i.x,", ").concat(1/i.y,") "),o){var Ml=o.rotate,Ol=o.rotateX,Ll=o.rotateY;Ml&&(Nl+="rotate(".concat(Ml,"deg) ")),Ol&&(Nl+="rotateX(".concat(Ol,"deg) ")),Ll&&(Nl+="rotateY(".concat(Ll,"deg) "))}var Fl=s.x.scale*i.x,Bl=s.y.scale*i.y;return Nl+="scale(".concat(Fl,", ").concat(Bl,")"),Nl===identityProjection?"none":Nl}var compareByDepth=function(s,i){return s.depth-i.depth},FlatTree=function(){function s(){this.children=[],this.isDirty=!1}return s.prototype.add=function(i){addUniqueItem(this.children,i),this.isDirty=!0},s.prototype.remove=function(i){removeItem(this.children,i),this.isDirty=!0},s.prototype.forEach=function(i){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(i)},s}(),animationTarget=1e3;function createProjectionNode(s){var i=s.attachResizeListener,o=s.defaultParent,et=s.measureScroll,$l=s.checkIsScrollRoot,Nl=s.resetTransform;return function(){function Ml(Ol,Ll,Fl){var Bl=this;Ll===void 0&&(Ll={}),Fl===void 0&&(Fl=o==null?void 0:o()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){Bl.isUpdating&&(Bl.isUpdating=!1,Bl.clearAllSnapshots())},this.updateProjection=function(){Bl.nodes.forEach(resolveTargetDelta),Bl.nodes.forEach(calcProjection)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=Ol,this.latestValues=Ll,this.root=Fl?Fl.root||Fl:this,this.path=Fl?__spreadArray(__spreadArray([],__read(Fl.path),!1),[Fl],!1):[],this.parent=Fl,this.depth=Fl?Fl.depth+1:0,Ol&&this.root.registerPotentialNode(Ol,this);for(var Ul=0;Ul<this.path.length;Ul++)this.path[Ul].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}return Ml.prototype.addEventListener=function(Ol,Ll){return this.eventHandlers.has(Ol)||this.eventHandlers.set(Ol,new SubscriptionManager),this.eventHandlers.get(Ol).add(Ll)},Ml.prototype.notifyListeners=function(Ol){for(var Ll=[],Fl=1;Fl<arguments.length;Fl++)Ll[Fl-1]=arguments[Fl];var Bl=this.eventHandlers.get(Ol);Bl==null||Bl.notify.apply(Bl,__spreadArray([],__read(Ll),!1))},Ml.prototype.hasListeners=function(Ol){return this.eventHandlers.has(Ol)},Ml.prototype.registerPotentialNode=function(Ol,Ll){this.potentialNodes.set(Ol,Ll)},Ml.prototype.mount=function(Ol,Ll){var Fl=this,Bl;if(Ll===void 0&&(Ll=!1),!this.instance){this.isSVG=Ol instanceof SVGElement&&Ol.tagName!=="svg",this.instance=Ol;var Ul=this.options,Gl=Ul.layoutId,Wl=Ul.layout,zl=Ul.visualElement;if(zl&&!zl.getInstance()&&zl.mount(Ol),this.root.nodes.add(this),(Bl=this.parent)===null||Bl===void 0||Bl.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),Ll&&(Wl||Gl)&&(this.isLayoutDirty=!0),i){var Ql,Jl=function(){return Fl.root.updateBlockedByResize=!1};i(Ol,function(){Fl.root.updateBlockedByResize=!0,clearTimeout(Ql),Ql=window.setTimeout(Jl,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,Fl.nodes.forEach(finishAnimation))})}Gl&&this.root.registerSharedNode(Gl,this),this.options.animate!==!1&&zl&&(Gl||Wl)&&this.addEventListener("didUpdate",function(Kl){var Hl,Yl,Xl,Zl,_d,_f=Kl.delta,e0=Kl.hasLayoutChanged,s0=Kl.hasRelativeTargetChanged,u0=Kl.layout;if(Fl.isTreeAnimationBlocked()){Fl.target=void 0,Fl.relativeTarget=void 0;return}var g0=(Yl=(Hl=Fl.options.transition)!==null&&Hl!==void 0?Hl:zl.getDefaultTransition())!==null&&Yl!==void 0?Yl:defaultLayoutTransition,f0=zl.getProps(),_0=f0.onLayoutAnimationStart,S0=f0.onLayoutAnimationComplete,p0=!Fl.targetLayout||!boxEquals(Fl.targetLayout,u0)||s0,o0=!e0&&s0;if(((Xl=Fl.resumeFrom)===null||Xl===void 0?void 0:Xl.instance)||o0||e0&&(p0||!Fl.currentAnimation)){Fl.resumeFrom&&(Fl.resumingFrom=Fl.resumeFrom,Fl.resumingFrom.resumingFrom=void 0),Fl.setAnimationOrigin(_f,o0);var n0=__assign$1(__assign$1({},getValueTransition(g0,"layout")),{onPlay:_0,onComplete:S0});zl.shouldReduceMotion&&(n0.delay=0,n0.type=!1),Fl.startAnimation(n0)}else!e0&&Fl.animationProgress===0&&Fl.finishAnimation(),Fl.isLead()&&((_d=(Zl=Fl.options).onExitComplete)===null||_d===void 0||_d.call(Zl));Fl.targetLayout=u0})}},Ml.prototype.unmount=function(){var Ol,Ll;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(Ol=this.getStack())===null||Ol===void 0||Ol.remove(this),(Ll=this.parent)===null||Ll===void 0||Ll.children.delete(this),this.instance=void 0,cancelSync.preRender(this.updateProjection)},Ml.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},Ml.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},Ml.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},Ml.prototype.isTreeAnimationBlocked=function(){var Ol;return this.isAnimationBlocked||((Ol=this.parent)===null||Ol===void 0?void 0:Ol.isTreeAnimationBlocked())||!1},Ml.prototype.startUpdate=function(){var Ol;this.isUpdateBlocked()||(this.isUpdating=!0,(Ol=this.nodes)===null||Ol===void 0||Ol.forEach(resetRotation))},Ml.prototype.willUpdate=function(Ol){var Ll,Fl,Bl;if(Ol===void 0&&(Ol=!0),this.root.isUpdateBlocked()){(Fl=(Ll=this.options).onExitComplete)===null||Fl===void 0||Fl.call(Ll);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var Ul=0;Ul<this.path.length;Ul++){var Gl=this.path[Ul];Gl.shouldResetTransform=!0,Gl.updateScroll()}var Wl=this.options,zl=Wl.layoutId,Ql=Wl.layout;if(!(zl===void 0&&!Ql)){var Jl=(Bl=this.options.visualElement)===null||Bl===void 0?void 0:Bl.getProps().transformTemplate;this.prevTransformTemplateValue=Jl==null?void 0:Jl(this.latestValues,""),this.updateSnapshot(),Ol&&this.notifyListeners("willUpdate")}}},Ml.prototype.didUpdate=function(){var Ol=this.isUpdateBlocked();if(Ol){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(mountNodeEarly),this.potentialNodes.clear()),this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots(),flushSync.update(),flushSync.preRender(),flushSync.render())},Ml.prototype.clearAllSnapshots=function(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)},Ml.prototype.scheduleUpdateProjection=function(){sync.preRender(this.updateProjection,!1,!0)},Ml.prototype.scheduleCheckAfterUnmount=function(){var Ol=this;sync.postRender(function(){Ol.isLayoutDirty?Ol.root.didUpdate():Ol.root.checkUpdateFailed()})},Ml.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var Ol=this.measure(),Ll=this.removeTransform(this.removeElementScroll(Ol));roundBox(Ll),this.snapshot={measured:Ol,layout:Ll,latestValues:{}}}},Ml.prototype.updateLayout=function(){var Ol;if(!!this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var Ll=0;Ll<this.path.length;Ll++){var Fl=this.path[Ll];Fl.updateScroll()}var Bl=this.measure();roundBox(Bl);var Ul=this.layout;this.layout={measured:Bl,actual:this.removeElementScroll(Bl)},this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(Ol=this.options.visualElement)===null||Ol===void 0||Ol.notifyLayoutMeasure(this.layout.actual,Ul==null?void 0:Ul.actual)}},Ml.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=$l(this.instance),this.scroll=et(this.instance))},Ml.prototype.resetTransform=function(){var Ol;if(!!Nl){var Ll=this.isLayoutDirty||this.shouldResetTransform,Fl=this.projectionDelta&&!isDeltaZero(this.projectionDelta),Bl=(Ol=this.options.visualElement)===null||Ol===void 0?void 0:Ol.getProps().transformTemplate,Ul=Bl==null?void 0:Bl(this.latestValues,""),Gl=Ul!==this.prevTransformTemplateValue;Ll&&(Fl||hasTransform(this.latestValues)||Gl)&&(Nl(this.instance,Ul),this.shouldResetTransform=!1,this.scheduleRender())}},Ml.prototype.measure=function(){var Ol=this.options.visualElement;if(!Ol)return createBox();var Ll=Ol.measureViewportBox(),Fl=this.root.scroll;return Fl&&(translateAxis(Ll.x,Fl.x),translateAxis(Ll.y,Fl.y)),Ll},Ml.prototype.removeElementScroll=function(Ol){var Ll=createBox();copyBoxInto(Ll,Ol);for(var Fl=0;Fl<this.path.length;Fl++){var Bl=this.path[Fl],Ul=Bl.scroll,Gl=Bl.options,Wl=Bl.isScrollRoot;if(Bl!==this.root&&Ul&&Gl.layoutScroll){if(Wl){copyBoxInto(Ll,Ol);var zl=this.root.scroll;zl&&(translateAxis(Ll.x,-zl.x),translateAxis(Ll.y,-zl.y))}translateAxis(Ll.x,Ul.x),translateAxis(Ll.y,Ul.y)}}return Ll},Ml.prototype.applyTransform=function(Ol,Ll){Ll===void 0&&(Ll=!1);var Fl=createBox();copyBoxInto(Fl,Ol);for(var Bl=0;Bl<this.path.length;Bl++){var Ul=this.path[Bl];!Ll&&Ul.options.layoutScroll&&Ul.scroll&&Ul!==Ul.root&&transformBox(Fl,{x:-Ul.scroll.x,y:-Ul.scroll.y}),hasTransform(Ul.latestValues)&&transformBox(Fl,Ul.latestValues)}return hasTransform(this.latestValues)&&transformBox(Fl,this.latestValues),Fl},Ml.prototype.removeTransform=function(Ol){var Ll,Fl=createBox();copyBoxInto(Fl,Ol);for(var Bl=0;Bl<this.path.length;Bl++){var Ul=this.path[Bl];if(!!Ul.instance&&!!hasTransform(Ul.latestValues)){hasScale(Ul.latestValues)&&Ul.updateSnapshot();var Gl=createBox(),Wl=Ul.measure();copyBoxInto(Gl,Wl),removeBoxTransforms(Fl,Ul.latestValues,(Ll=Ul.snapshot)===null||Ll===void 0?void 0:Ll.layout,Gl)}}return hasTransform(this.latestValues)&&removeBoxTransforms(Fl,this.latestValues),Fl},Ml.prototype.setTargetDelta=function(Ol){this.targetDelta=Ol,this.root.scheduleUpdateProjection()},Ml.prototype.setOptions=function(Ol){var Ll;this.options=__assign$1(__assign$1(__assign$1({},this.options),Ol),{crossfade:(Ll=Ol.crossfade)!==null&&Ll!==void 0?Ll:!0})},Ml.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},Ml.prototype.resolveTargetDelta=function(){var Ol,Ll=this.options,Fl=Ll.layout,Bl=Ll.layoutId;!this.layout||!(Fl||Bl)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&((Ol=this.relativeParent)===null||Ol===void 0?void 0:Ol.target)?calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):copyBoxInto(this.target,this.layout.actual),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,this.relativeParent.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)))))},Ml.prototype.getClosestProjectingParent=function(){if(!(!this.parent||hasTransform(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},Ml.prototype.calcProjection=function(){var Ol,Ll=this.options,Fl=Ll.layout,Bl=Ll.layoutId;if(this.isTreeAnimating=Boolean(((Ol=this.parent)===null||Ol===void 0?void 0:Ol.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(Fl||Bl))){var Ul=this.getLead();copyBoxInto(this.layoutCorrected,this.layout.actual),applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==Ul);var Gl=Ul.target;if(!!Gl){this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());var Wl=this.treeScale.x,zl=this.treeScale.y,Ql=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,Gl,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==Ql||this.treeScale.x!==Wl||this.treeScale.y!==zl)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Gl))}}},Ml.prototype.hide=function(){this.isVisible=!1},Ml.prototype.show=function(){this.isVisible=!0},Ml.prototype.scheduleRender=function(Ol){var Ll,Fl,Bl;Ol===void 0&&(Ol=!0),(Fl=(Ll=this.options).scheduleRender)===null||Fl===void 0||Fl.call(Ll),Ol&&((Bl=this.getStack())===null||Bl===void 0||Bl.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},Ml.prototype.setAnimationOrigin=function(Ol,Ll){var Fl=this,Bl;Ll===void 0&&(Ll=!1);var Ul=this.snapshot,Gl=(Ul==null?void 0:Ul.latestValues)||{},Wl=__assign$1({},this.latestValues),zl=createDelta();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!Ll;var Ql=createBox(),Jl=Ul==null?void 0:Ul.isShared,Kl=(((Bl=this.getStack())===null||Bl===void 0?void 0:Bl.members.length)||0)<=1,Hl=Boolean(Jl&&!Kl&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0,this.mixTargetDelta=function(Yl){var Xl,Zl=Yl/1e3;mixAxisDelta(zl.x,Ol.x,Zl),mixAxisDelta(zl.y,Ol.y,Zl),Fl.setTargetDelta(zl),Fl.relativeTarget&&Fl.relativeTargetOrigin&&Fl.layout&&((Xl=Fl.relativeParent)===null||Xl===void 0?void 0:Xl.layout)&&(calcRelativePosition(Ql,Fl.layout.actual,Fl.relativeParent.layout.actual),mixBox(Fl.relativeTarget,Fl.relativeTargetOrigin,Ql,Zl)),Jl&&(Fl.animationValues=Wl,mixValues(Wl,Gl,Fl.latestValues,Zl,Hl,Kl)),Fl.root.scheduleUpdateProjection(),Fl.scheduleRender(),Fl.animationProgress=Zl},this.mixTargetDelta(0)},Ml.prototype.startAnimation=function(Ol){var Ll=this,Fl,Bl;this.notifyListeners("animationStart"),(Fl=this.currentAnimation)===null||Fl===void 0||Fl.stop(),this.resumingFrom&&((Bl=this.resumingFrom.currentAnimation)===null||Bl===void 0||Bl.stop()),this.pendingAnimation&&(cancelSync.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sync.update(function(){globalProjectionState.hasAnimatedSinceResize=!0,Ll.currentAnimation=animate(0,animationTarget,__assign$1(__assign$1({},Ol),{onUpdate:function(Ul){var Gl;Ll.mixTargetDelta(Ul),(Gl=Ol.onUpdate)===null||Gl===void 0||Gl.call(Ol,Ul)},onComplete:function(){var Ul;(Ul=Ol.onComplete)===null||Ul===void 0||Ul.call(Ol),Ll.completeAnimation()}})),Ll.resumingFrom&&(Ll.resumingFrom.currentAnimation=Ll.currentAnimation),Ll.pendingAnimation=void 0})},Ml.prototype.completeAnimation=function(){var Ol;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(Ol=this.getStack())===null||Ol===void 0||Ol.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},Ml.prototype.finishAnimation=function(){var Ol;this.currentAnimation&&((Ol=this.mixTargetDelta)===null||Ol===void 0||Ol.call(this,animationTarget),this.currentAnimation.stop()),this.completeAnimation()},Ml.prototype.applyTransformsToTarget=function(){var Ol=this.getLead(),Ll=Ol.targetWithTransforms,Fl=Ol.target,Bl=Ol.layout,Ul=Ol.latestValues;!Ll||!Fl||!Bl||(copyBoxInto(Ll,Fl),transformBox(Ll,Ul),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,Ll,Ul))},Ml.prototype.registerSharedNode=function(Ol,Ll){var Fl,Bl,Ul;this.sharedNodes.has(Ol)||this.sharedNodes.set(Ol,new NodeStack);var Gl=this.sharedNodes.get(Ol);Gl.add(Ll),Ll.promote({transition:(Fl=Ll.options.initialPromotionConfig)===null||Fl===void 0?void 0:Fl.transition,preserveFollowOpacity:(Ul=(Bl=Ll.options.initialPromotionConfig)===null||Bl===void 0?void 0:Bl.shouldPreserveFollowOpacity)===null||Ul===void 0?void 0:Ul.call(Bl,Ll)})},Ml.prototype.isLead=function(){var Ol=this.getStack();return Ol?Ol.lead===this:!0},Ml.prototype.getLead=function(){var Ol,Ll=this.options.layoutId;return Ll?((Ol=this.getStack())===null||Ol===void 0?void 0:Ol.lead)||this:this},Ml.prototype.getPrevLead=function(){var Ol,Ll=this.options.layoutId;return Ll?(Ol=this.getStack())===null||Ol===void 0?void 0:Ol.prevLead:void 0},Ml.prototype.getStack=function(){var Ol=this.options.layoutId;if(Ol)return this.root.sharedNodes.get(Ol)},Ml.prototype.promote=function(Ol){var Ll=Ol===void 0?{}:Ol,Fl=Ll.needsReset,Bl=Ll.transition,Ul=Ll.preserveFollowOpacity,Gl=this.getStack();Gl&&Gl.promote(this,Ul),Fl&&(this.projectionDelta=void 0,this.needsReset=!0),Bl&&this.setOptions({transition:Bl})},Ml.prototype.relegate=function(){var Ol=this.getStack();return Ol?Ol.relegate(this):!1},Ml.prototype.resetRotation=function(){var Ol=this.options.visualElement;if(!!Ol){for(var Ll=!1,Fl={},Bl=0;Bl<transformAxes.length;Bl++){var Ul=transformAxes[Bl],Gl="rotate"+Ul;!Ol.getStaticValue(Gl)||(Ll=!0,Fl[Gl]=Ol.getStaticValue(Gl),Ol.setStaticValue(Gl,0))}if(!!Ll){Ol==null||Ol.syncRender();for(var Gl in Fl)Ol.setStaticValue(Gl,Fl[Gl]);Ol.scheduleRender()}}},Ml.prototype.getProjectionStyles=function(Ol){var Ll,Fl,Bl,Ul,Gl,Wl;Ol===void 0&&(Ol={});var zl={};if(!this.instance||this.isSVG)return zl;if(this.isVisible)zl.visibility="";else return{visibility:"hidden"};var Ql=(Ll=this.options.visualElement)===null||Ll===void 0?void 0:Ll.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,zl.opacity="",zl.pointerEvents=resolveMotionValue(Ol.pointerEvents)||"",zl.transform=Ql?Ql(this.latestValues,""):"none",zl;var Jl=this.getLead();if(!this.projectionDelta||!this.layout||!Jl.target){var Kl={};return this.options.layoutId&&(Kl.opacity=(Fl=this.latestValues.opacity)!==null&&Fl!==void 0?Fl:1,Kl.pointerEvents=resolveMotionValue(Ol.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Kl.transform=Ql?Ql({},""):"none",this.hasProjected=!1),Kl}var Hl=Jl.animationValues||Jl.latestValues;this.applyTransformsToTarget(),zl.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,Hl),Ql&&(zl.transform=Ql(Hl,zl.transform));var Yl=this.projectionDelta,Xl=Yl.x,Zl=Yl.y;zl.transformOrigin="".concat(Xl.origin*100,"% ").concat(Zl.origin*100,"% 0"),Jl.animationValues?zl.opacity=Jl===this?(Ul=(Bl=Hl.opacity)!==null&&Bl!==void 0?Bl:this.latestValues.opacity)!==null&&Ul!==void 0?Ul:1:this.preserveOpacity?this.latestValues.opacity:Hl.opacityExit:zl.opacity=Jl===this?(Gl=Hl.opacity)!==null&&Gl!==void 0?Gl:"":(Wl=Hl.opacityExit)!==null&&Wl!==void 0?Wl:0;for(var _d in scaleCorrectors)if(Hl[_d]!==void 0){var _f=scaleCorrectors[_d],e0=_f.correct,s0=_f.applyTo,u0=e0(Hl[_d],Jl);if(s0)for(var g0=s0.length,f0=0;f0<g0;f0++)zl[s0[f0]]=u0;else zl[_d]=u0}return this.options.layoutId&&(zl.pointerEvents=Jl===this?resolveMotionValue(Ol.pointerEvents)||"":"none"),zl},Ml.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},Ml.prototype.resetTree=function(){this.root.nodes.forEach(function(Ol){var Ll;return(Ll=Ol.currentAnimation)===null||Ll===void 0?void 0:Ll.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()},Ml}()}function updateLayout(s){s.updateLayout()}function notifyLayoutUpdate(s){var i,o,et,$l,Nl=(o=(i=s.resumeFrom)===null||i===void 0?void 0:i.snapshot)!==null&&o!==void 0?o:s.snapshot;if(s.isLead()&&s.layout&&Nl&&s.hasListeners("didUpdate")){var Ml=s.layout,Ol=Ml.actual,Ll=Ml.measured;s.options.animationType==="size"?eachAxis(function(Hl){var Yl=Nl.isShared?Nl.measured[Hl]:Nl.layout[Hl],Xl=calcLength(Yl);Yl.min=Ol[Hl].min,Yl.max=Yl.min+Xl}):s.options.animationType==="position"&&eachAxis(function(Hl){var Yl=Nl.isShared?Nl.measured[Hl]:Nl.layout[Hl],Xl=calcLength(Ol[Hl]);Yl.max=Yl.min+Xl});var Fl=createDelta();calcBoxDelta(Fl,Ol,Nl.layout);var Bl=createDelta();Nl.isShared?calcBoxDelta(Bl,s.applyTransform(Ll,!0),Nl.measured):calcBoxDelta(Bl,Ol,Nl.layout);var Ul=!isDeltaZero(Fl),Gl=!1;if(!s.resumeFrom&&(s.relativeParent=s.getClosestProjectingParent(),s.relativeParent&&!s.relativeParent.resumeFrom)){var Wl=s.relativeParent,zl=Wl.snapshot,Ql=Wl.layout;if(zl&&Ql){var Jl=createBox();calcRelativePosition(Jl,Nl.layout,zl.layout);var Kl=createBox();calcRelativePosition(Kl,Ol,Ql.actual),boxEquals(Jl,Kl)||(Gl=!0)}}s.notifyListeners("didUpdate",{layout:Ol,snapshot:Nl,delta:Bl,layoutDelta:Fl,hasLayoutChanged:Ul,hasRelativeTargetChanged:Gl})}else s.isLead()&&(($l=(et=s.options).onExitComplete)===null||$l===void 0||$l.call(et));s.options.transition=void 0}function clearSnapshot(s){s.clearSnapshot()}function clearMeasurements(s){s.clearMeasurements()}function resetTransformStyle(s){var i=s.options.visualElement;i!=null&&i.getProps().onBeforeLayoutMeasure&&i.notifyBeforeLayoutMeasure(),s.resetTransform()}function finishAnimation(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0}function resolveTargetDelta(s){s.resolveTargetDelta()}function calcProjection(s){s.calcProjection()}function resetRotation(s){s.resetRotation()}function removeLeadSnapshots(s){s.removeLeadSnapshot()}function mixAxisDelta(s,i,o){s.translate=mix(i.translate,0,o),s.scale=mix(i.scale,1,o),s.origin=i.origin,s.originPoint=i.originPoint}function mixAxis(s,i,o,et){s.min=mix(i.min,o.min,et),s.max=mix(i.max,o.max,et)}function mixBox(s,i,o,et){mixAxis(s.x,i.x,o.x,et),mixAxis(s.y,i.y,o.y,et)}function hasOpacityCrossfade(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}var defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]};function mountNodeEarly(s,i){for(var o=s.root,et=s.path.length-1;et>=0;et--)if(Boolean(s.path[et].instance)){o=s.path[et];break}var $l=o&&o!==s.root?o.instance:document,Nl=$l.querySelector('[data-projection-id="'.concat(i,'"]'));Nl&&s.mount(Nl,!0)}function roundAxis(s){s.min=Math.round(s.min),s.max=Math.round(s.max)}function roundBox(s){roundAxis(s.x),roundAxis(s.y)}var DocumentProjectionNode=createProjectionNode({attachResizeListener:function(s,i){return addDomEvent(s,"resize",i)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:function(s){return{x:s.scrollLeft,y:s.scrollTop}},defaultParent:function(){if(!rootProjectionNode.current){var s=new DocumentProjectionNode(0,{});s.mount(window),s.setOptions({layoutScroll:!0}),rootProjectionNode.current=s}return rootProjectionNode.current},resetTransform:function(s,i){s.style.transform=i!=null?i:"none"},checkIsScrollRoot:function(s){return Boolean(window.getComputedStyle(s).position==="fixed")}}),featureBundle=__assign$1(__assign$1(__assign$1(__assign$1({},animations),gestureAnimations),drag),layoutFeatures),motion=createMotionProxy(function(s,i){return createDomMotionConfig(s,i,featureBundle,createDomVisualElement,HTMLProjectionNode)});function useIsMounted(){var s=react.exports.useRef(!1);return useIsomorphicLayoutEffect(function(){return s.current=!0,function(){s.current=!1}},[]),s}function useForceUpdate(){var s=useIsMounted(),i=__read(react.exports.useState(0),2),o=i[0],et=i[1],$l=react.exports.useCallback(function(){s.current&&et(o+1)},[o]),Nl=react.exports.useCallback(function(){return sync.postRender($l)},[$l]);return[Nl,o]}var PresenceChild=function(s){var i=s.children,o=s.initial,et=s.isPresent,$l=s.onExitComplete,Nl=s.custom,Ml=s.presenceAffectsLayout,Ol=useConstant(newChildrenMap),Ll=useId(),Fl=react.exports.useMemo(function(){return{id:Ll,initial:o,isPresent:et,custom:Nl,onExitComplete:function(Bl){var Ul,Gl;Ol.set(Bl,!0);try{for(var Wl=__values(Ol.values()),zl=Wl.next();!zl.done;zl=Wl.next()){var Ql=zl.value;if(!Ql)return}}catch(Jl){Ul={error:Jl}}finally{try{zl&&!zl.done&&(Gl=Wl.return)&&Gl.call(Wl)}finally{if(Ul)throw Ul.error}}$l==null||$l()},register:function(Bl){return Ol.set(Bl,!1),function(){return Ol.delete(Bl)}}}},Ml?void 0:[et]);return react.exports.useMemo(function(){Ol.forEach(function(Bl,Ul){return Ol.set(Ul,!1)})},[et]),react.exports.useEffect(function(){!et&&!Ol.size&&($l==null||$l())},[et]),react.exports.createElement(PresenceContext.Provider,{value:Fl},i)};function newChildrenMap(){return new Map}var getChildKey=function(s){return s.key||""};function updateChildLookup(s,i){s.forEach(function(o){var et=getChildKey(o);i.set(et,o)})}function onlyElements(s){var i=[];return react.exports.Children.forEach(s,function(o){react.exports.isValidElement(o)&&i.push(o)}),i}var AnimatePresence=function(s){var i=s.children,o=s.custom,et=s.initial,$l=et===void 0?!0:et,Nl=s.onExitComplete,Ml=s.exitBeforeEnter,Ol=s.presenceAffectsLayout,Ll=Ol===void 0?!0:Ol,Fl=__read(useForceUpdate(),1),Bl=Fl[0],Ul=react.exports.useContext(LayoutGroupContext).forceRender;Ul&&(Bl=Ul);var Gl=useIsMounted(),Wl=onlyElements(i),zl=Wl,Ql=new Set,Jl=react.exports.useRef(zl),Kl=react.exports.useRef(new Map).current,Hl=react.exports.useRef(!0);if(useIsomorphicLayoutEffect(function(){Hl.current=!1,updateChildLookup(Wl,Kl),Jl.current=zl}),useUnmountEffect(function(){Hl.current=!0,Kl.clear(),Ql.clear()}),Hl.current)return react.exports.createElement(react.exports.Fragment,null,zl.map(function(e0){return react.exports.createElement(PresenceChild,{key:getChildKey(e0),isPresent:!0,initial:$l?void 0:!1,presenceAffectsLayout:Ll},e0)}));zl=__spreadArray([],__read(zl),!1);for(var Yl=Jl.current.map(getChildKey),Xl=Wl.map(getChildKey),Zl=Yl.length,_d=0;_d<Zl;_d++){var _f=Yl[_d];Xl.indexOf(_f)===-1&&Ql.add(_f)}return Ml&&Ql.size&&(zl=[]),Ql.forEach(function(e0){if(Xl.indexOf(e0)===-1){var s0=Kl.get(e0);if(!!s0){var u0=Yl.indexOf(e0),g0=function(){Kl.delete(e0),Ql.delete(e0);var f0=Jl.current.findIndex(function(_0){return _0.key===e0});if(Jl.current.splice(f0,1),!Ql.size){if(Jl.current=Wl,Gl.current===!1)return;Bl(),Nl&&Nl()}};zl.splice(u0,0,react.exports.createElement(PresenceChild,{key:getChildKey(s0),isPresent:!1,onExitComplete:g0,custom:o,presenceAffectsLayout:Ll},s0))}}}),zl=zl.map(function(e0){var s0=e0.key;return Ql.has(s0)?e0:react.exports.createElement(PresenceChild,{key:getChildKey(e0),isPresent:!0,presenceAffectsLayout:Ll},e0)}),env!=="production"&&Ml&&zl.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),react.exports.createElement(react.exports.Fragment,null,Ql.size?zl:zl.map(function(e0){return react.exports.cloneElement(e0)}))},DeprecatedLayoutGroupContext=react.exports.createContext(null),notify=function(s){return!s.isLayoutDirty&&s.willUpdate(!1)};function nodeGroup(){var s=new Set,i=new WeakMap,o=function(){return s.forEach(notify)};return{add:function(et){s.add(et),i.set(et,et.addEventListener("willUpdate",o))},remove:function(et){var $l;s.delete(et),($l=i.get(et))===null||$l===void 0||$l(),i.delete(et),o()},dirty:o}}var shouldInheritGroup=function(s){return s===!0},shouldInheritId=function(s){return shouldInheritGroup(s===!0)||s==="id"},LayoutGroup=function(s){var i,o,et=s.children,$l=s.id,Nl=s.inheritId,Ml=s.inherit,Ol=Ml===void 0?!0:Ml;Nl!==void 0&&(Ol=Nl);var Ll=react.exports.useContext(LayoutGroupContext),Fl=react.exports.useContext(DeprecatedLayoutGroupContext),Bl=__read(useForceUpdate(),2),Ul=Bl[0],Gl=Bl[1],Wl=react.exports.useRef(null),zl=(i=Ll.id)!==null&&i!==void 0?i:Fl;Wl.current===null&&(shouldInheritId(Ol)&&zl&&($l=$l?zl+"-"+$l:zl),Wl.current={id:$l,group:shouldInheritGroup(Ol)&&(o=Ll==null?void 0:Ll.group)!==null&&o!==void 0?o:nodeGroup()});var Ql=react.exports.useMemo(function(){return __assign$1(__assign$1({},Wl.current),{forceRender:Ul})},[Gl]);return react.exports.createElement(LayoutGroupContext.Provider,{value:Ql},et)};const AlertInnerWrapper=styled.div`
  display: flex;
  align-items: center;
  flex-direction: row;
  padding: 15px 0;
  justify-content: center;
  text-align: center;
  width: 100%;
  opacity: 80%;
  z-index: 3;
  ${({alertColor:s})=>s&&Ce$2`
      color: ${s};
    `}
`,AlertText=styled.div`
  font-size: ${s=>s.theme.fontSize.h7};
  opacity: 100%;
  margin-left: 5px;
  display: flex;
  align-items: center;
  color: ${s=>s.theme.colors.grey900};
  @media (max-width: 500px) {
    font-size: ${({theme:s})=>s.fontSize.body1};
  }
  @media (max-width: 320px) {
    font-size: ${({theme:s})=>s.fontSize.body2};
  }
`,AlertInner=styled(motion.div)`
  position: fixed;
  background: ${({theme:s})=>s.colors.grey100};
  border-radius: 10px;
  border: 1px solid ${({theme:s})=>s.colors.grey100};
  padding: 7px 30px;
  top: 100px;
  flex: 1;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 9999;
  & :hover {
    cursor: default;
  }
`,AlertWrapper=styled(motion.div)`
  position: fixed;
  top: 100px;
  width: 100%;
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
`,ALERT="alert",AlertState={alertHandle:!1,alertMessage:"\uD14C\uC2A4\uD2B8\uD14C\uC2A4\uD2B8\uD14C\uC2A4\uD2B8",alertStatus:"warning"},alertState=Recoil_index_7({key:ALERT,default:AlertState}),variants={active:{opacity:1,scale:1},unActive:{opacity:0,scale:.5}},Alert=()=>{const[s,i]=Recoil_index_21(alertState);react.exports.useEffect(()=>{const et=setTimeout(()=>{i({...s,alertHandle:!1}),clearTimeout(et)},4e3)},[s.alertHandle]);const o={success:"#55af7a",error:"#f44336",warning:"#ffa50e"};return jsx(AnimatePresence,{children:s.alertHandle&&jsx(AlertWrapper,{children:jsx(AlertInner,{variants,exit:"unActive",animate:"active",initial:{opacity:0,scale:0},transition:{duration:.5},children:jsx(AlertInnerWrapper,{alertColor:o[s.alertStatus],children:jsx(AlertText,{children:s.alertMessage})})})})})};var Alert$1=react.exports.memo(Alert);styled.footer`
  display: flex;
  justify-content: center;
  max-width: 1064px;
  margin: auto;
  padding: 0 67px;
  box-sizing: border-box;
`;styled.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
`;const FooterText=styled.a`
  font-size: ${s=>s.theme.fontSize.body2};
  font-weight: 600;
  margin-right: 20px;
  color: ${s=>s.theme.colors.grey600};
  cursor: pointer;
  white-space: nowrap;
  @media (max-width: ${s=>s.theme.windowSize.tablet}px) {
    margin-top: 10px;
  }
  ${s=>s.google&&Ce$2`
      font-size: ${i=>i.theme.fontSize.h7};
      font-weight: 700;
      color: ${i=>i.theme.colors.grey700};
    `}
`,FooterCopyRight=styled.span`
  display: inline-block;
  position: relative;
  font-size: ${s=>s.theme.fontSize.body3};
  color: ${s=>s.theme.colors.grey600};
  white-space: nowrap;
  @media (max-width: ${s=>s.theme.windowSize.mobile}px) {
    font-size: ${s=>s.theme.fontSize.body4};
  }
`,FooterWrapper=styled.div`
  ${({disable:s})=>s&&Ce$2`
      display: none;
    `}
  display: flex;
  bottom: 0;
  padding: 30px 40px;
  justify-content: space-between;
  width: 100vw;
  box-sizing: border-box;
  align-items: flex-end;
  background-color: rgba(0, 0, 0, 0.01);
  backdrop-filter: blur(10px);
  @media (max-width: ${s=>s.theme.windowSize.mobile}px) {
    padding: 30px 20px;
  }
`,FooterLogo=styled.div`
  display: flex;
  align-items: center;
  flex-direction: row;
  flex: 1;
  @media (max-width: ${s=>s.theme.windowSize.tablet}px) {
    height: 100%;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start;
  }
`;styled.div`
  margin-right: 20px;
`;styled.img`
  height: 30px;

  padding-right: 5px;
  @media (max-width: 500px) {
    height: 30px;
  }
`;const Footer=({disable:s=!0})=>jsxs(FooterWrapper,{disable:s,children:[jsxs(FooterLogo,{children:[jsx(FooterText,{google:!0,href:"https://developers.google.com/",children:"Google"}),jsx(FooterText,{href:"https://developers.google.com/community-guidelines",children:"Community guidelines"}),jsx(FooterText,{href:"https://gdsc-dju-blog.web.app/",children:"GDSC DJU Tech Blog"}),jsx(FooterText,{href:"https://gdsc-dju-shared.web.app/",children:"GDSC DJU Shared"})]}),jsxs(FooterCopyRight,{children:["Copyright \xA9 ","GDSC Daejin 2021"]})]}),MODAL="Modal",MODAL_KEY={ADMIN_SIGN_IN:"adminSignIn",ADMIN_SIGN_UP:"adminSignUp",ADMIN_SET_PROFILE:"adminSetProfile",ADMIN_EDIT_MEMBER:"adminEditMember",ADMIN_APPLICANT:"adminApplicant",ADMIN_EMAIL_CHECK:"adminEmailCheck",MEMBER_CARD:"memberCard",APPLY_CHECK:"applyCheck"},ModalState={[MODAL_KEY.ADMIN_SIGN_IN]:!1,[MODAL_KEY.ADMIN_SIGN_UP]:!1,[MODAL_KEY.ADMIN_SET_PROFILE]:!1,[MODAL_KEY.ADMIN_EDIT_MEMBER]:!1,[MODAL_KEY.MEMBER_CARD]:!1,[MODAL_KEY.APPLY_CHECK]:!1,[MODAL_KEY.ADMIN_APPLICANT]:!1,[MODAL_KEY.ADMIN_EMAIL_CHECK]:!1,selectedId:""},modalState=Recoil_index_7({key:MODAL,default:ModalState}),Modal=()=>(Recoil_index_21(modalState),jsx(AnimatePresence,{}));var GDSCLogo="/assets/GDSCLogo.a7a27ddd.svg";const MENU="menu",MENU_KEY={APPMENU:"appMenu",NAV:"nav",FOOTER:"footer"},MenuState={[MENU_KEY.APPMENU]:!1,[MENU_KEY.NAV]:!0,[MENU_KEY.FOOTER]:!0},menuState=Recoil_index_7({key:MENU,default:MenuState}),StyledMenuButton=styled(motion.button)`
  outline: none;
  border: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  cursor: pointer;
  position: relative;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  @media (min-width: ${s=>s.theme.windowSize.mobile}px) {
    display: none;
  }
`,MenuToggleIcon=()=>{const[s,i]=Recoil_index_21(menuState),o=Ze$2();return jsx(StyledMenuButton,{initial:!1,animate:s.appMenu?"open":"closed",onClick:()=>i({...s,[MENU_KEY.APPMENU]:!s.appMenu}),children:jsxs("svg",{width:"23",height:"23",viewBox:"0 0 23 23",fill:o.colors.grey900,children:[jsx(motion.path,{fill:o.colors.grey900,strokeWidth:"3",stroke:o.colors.grey900,strokeLinecap:"round",variants:{closed:{d:"M 2 2.5 L 20 2.5"},open:{d:"M 3 16.5 L 17 2.5"}}}),jsx(motion.path,{fill:o.colors.grey900,strokeWidth:"3",stroke:o.colors.grey900,strokeLinecap:"round",d:"M 2 9.423 L 20 9.423",variants:{closed:{opacity:1},open:{opacity:0}},transition:{duration:.1}}),jsx(motion.path,{fill:o.colors.grey900,strokeWidth:"3",stroke:o.colors.grey900,strokeLinecap:"round",variants:{closed:{d:"M 2 16.346 L 20 16.346"},open:{d:"M 3 2.5 L 17 16.346"}}})]})})};/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign||function(s){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var et in o)Object.prototype.hasOwnProperty.call(o,et)&&(s[et]=o[et])}return s},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(s,i){if(s==null)return{};var o={},et=Object.keys(s),$l,Nl;for(Nl=0;Nl<et.length;Nl++)$l=et[Nl],!(i.indexOf($l)>=0)&&(o[$l]=s[$l]);return o}const _excluded=["onClick","reloadDocument","replace","state","target","to"];function BrowserRouter(s){let{basename:i,children:o,window:et}=s,$l=react.exports.useRef();$l.current==null&&($l.current=createBrowserHistory({window:et}));let Nl=$l.current,[Ml,Ol]=react.exports.useState({action:Nl.action,location:Nl.location});return react.exports.useLayoutEffect(()=>Nl.listen(Ol),[Nl]),react.exports.createElement(Router,{basename:i,children:o,location:Ml.location,navigationType:Ml.action,navigator:Nl})}function isModifiedEvent(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}const Link=react.exports.forwardRef(function(i,o){let{onClick:et,reloadDocument:$l,replace:Nl=!1,state:Ml,target:Ol,to:Ll}=i,Fl=_objectWithoutPropertiesLoose(i,_excluded),Bl=useHref(Ll),Ul=useLinkClickHandler(Ll,{replace:Nl,state:Ml,target:Ol});function Gl(Wl){et&&et(Wl),!Wl.defaultPrevented&&!$l&&Ul(Wl)}return react.exports.createElement("a",_extends({},Fl,{href:Bl,onClick:Gl,ref:o,target:Ol}))});function useLinkClickHandler(s,i){let{target:o,replace:et,state:$l}=i===void 0?{}:i,Nl=useNavigate(),Ml=useLocation(),Ol=useResolvedPath(s);return react.exports.useCallback(Ll=>{if(Ll.button===0&&(!o||o==="_self")&&!isModifiedEvent(Ll)){Ll.preventDefault();let Fl=!!et||createPath(Ml)===createPath(Ol);Nl(s,{replace:Fl,state:$l})}},[Ml,Nl,Ol,et,$l,o,s])}function useSearchParams(s){let i=react.exports.useRef(createSearchParams(s)),o=useLocation(),et=react.exports.useMemo(()=>{let Ml=createSearchParams(o.search);for(let Ol of i.current.keys())Ml.has(Ol)||i.current.getAll(Ol).forEach(Ll=>{Ml.append(Ol,Ll)});return Ml},[o.search]),$l=useNavigate(),Nl=react.exports.useCallback((Ml,Ol)=>{$l("?"+createSearchParams(Ml),Ol)},[$l]);return[et,Nl]}function createSearchParams(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((i,o)=>{let et=s[o];return i.concat(Array.isArray(et)?et.map($l=>[o,$l]):[[o,et]])},[]))}const NavDesign=styled(motion.nav)`
  position: fixed;
  top: 0;
  z-index: 90;
  height: 70px;
  width: 100vw;
  display: flex;
  ${s=>s.background?Ce$2`
          //background-color: rgba(255, 255, 255, 0.1);
          backdrop-filter: saturate(50%) blur(8px);
        `:Ce$2`
          background: ${({theme:i})=>i.colors.background};
          box-shadow: 0 4px 30px ${({theme:i})=>i.colors.greyOpacity100};
          border-bottom: 1px solid ${i=>i.theme.colors.grey200};
        `}
  ${s=>s.disable&&Ce$2`
      display: none;
    `}
`,NavWrapper=styled.div`
  display: flex;
  flex-direction: row;
  width: 100%;
  margin: auto;
  height: 100%;
`,NavInner=styled.div`
  width: 92%;
  margin: 0 auto;
  display: flex;
  align-items: center;
`,StyledLogoWrapper=styled(Link)`
  display: flex;
  align-items: center;
  font-size: 1.6rem;
`,StyledImg=styled.img`
  height: 20px;
  width: 100%;
  padding: 0 8px;
`,StyledLogo=styled.div`
  color: ${s=>s.theme.colors.grey800};
  margin-right: 5px;
  font-weight: bold;
  font-size: 2rem;
`,SchoolNameUni=styled.div`
  color: ${s=>s.theme.colors.grey600};
  font-size: ${s=>s.theme.fontSize.body3};
  margin-top: 4px;
  margin-right: 5px;
  font-weight: 500;
`,SchoolName=styled.div`
  color: ${s=>s.theme.colors.grey600};
  font-size: ${s=>s.theme.fontSize.body3};
  margin-top: 4px;
  margin-right: 3px;
  display: flex;
  font-weight: 500;
`,WideNavigation=styled.div`
  z-index: 999;
  margin-left: 20px;
  @media (max-width: ${s=>s.theme.windowSize.mobile}px) {
    display: none;
  }
`,ShortNavigation=styled(motion.nav)`
  position: fixed;
  width: 100vw;
  height: 100vh;
  top: 0;
  right: 100vw;
  z-index: 91;
  @media (min-width: 500px) {
    display: none;
  }
`,StyledLink=styled(motion.div)`
  text-decoration: none;
  list-style: none;
  display: flex;
  align-items: center;
  padding: 10px 15px;
  border-radius: 8px;
  transition-duration: 0.3s;
  transition-timing-function: ease;
  font-size: ${({theme:s})=>s.fontSize.body2};
  transition-delay: 0s;
  color: ${({theme:s})=>s.colors.grey900};
  ${({isRoute:s})=>s&&Ce$2`
      color: ${({theme:i})=>i.colors.tossBlueActive};
    `};
  &:hover {
    color: ${({theme:s})=>s.colors.tossBlueActive};
    background-color: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    text-decoration: none;
  }
`,NavTask=styled.li`
  display: flex;
  align-items: center;
  margin: 0 5px;
  cursor: pointer;
  color: ${s=>s.theme.colors.grey800};
  font-size: 1.4rem;
  font-weight: 500;
  word-break: keep-all;
  list-style: none;
  text-decoration: none;
  border-radius: 8px;
`,NavTaskWrapper=styled.ul`
  display: flex;
  flex: 1;
  align-items: center;
  list-style: none;
  padding-left: 0;
`;styled.div`
  display: flex;
  align-items: center;
  margin-right: 15px;
  padding: 7px 7px;
  border-radius: 10px;
  transition-delay: 0.05s;
  transition-duration: 0.2s;
  transition-timing-function: ease;
  :hover {
    background: ${s=>s.theme.colors.grey100};
    cursor: pointer;
  }
`;const DeskNavCategory=()=>{const s=useLocation(),i=useNavigate(),o=et=>s.pathname.includes(et);return jsx(WideNavigation,{children:jsx(NavTaskWrapper,{children:ROUTES.map((et,$l)=>jsx(NavTask,{children:jsx(StyledLink,{onClick:()=>{i(et.route)},isRoute:o(et.route),children:et.title})},$l))})})},navigationAnimate={open:{transition:{staggerChildren:.07,delayChildren:.2}},closed:{transition:{staggerChildren:.05,staggerDirection:-1}}},sidebar={open:s=>({x:"100vw",transition:{duration:.5}}),closed:s=>({x:"-100vw",transition:{duration:.5}})},MenuWrapper=styled.div`
  display: flex;
  flex-direction: column;
  margin-top: 100px;
  align-items: center;
`,MenuInner=styled(motion.div)`
  margin-top: 50px;
  padding: 25px;
  width: 200px;
  z-index: 999;
`,MenuLogo=styled.img`
  width: 100px;
`,MenuRouteWrapper=styled(motion.div)`
  list-style: none;
  margin-bottom: 20px;
  display: flex;
  cursor: pointer;
  flex-direction: column;
  justify-content: flex-start;
`,CategoryLine=styled.div`
  background: ${({theme:s})=>s.colors.grey200};
  height: 1px;
  width: 100%;
  opacity: 50;
`;var MobileMenu$1="";const MobileMenuCategory=()=>{const s=useNavigate(),[i,o]=Recoil_index_21(menuState);return jsxs(MenuWrapper,{children:[jsx("picture",{children:jsx(MenuLogo,{src:GDSCLogo})}),jsx(MenuInner,{variants:navigationAnimate,initial:!1,children:ROUTES.map((et,$l)=>jsxs(MenuRouteWrapper,{onClick:()=>{s(et.route),o({...i,[MENU_KEY.APPMENU]:!1})},children:[jsx(StyledLink,{children:et.title}),jsx(CategoryLine,{})]},$l))})]})};styled.div`
  position: absolute;
  bottom: -50%;
  left: 0;
  transform: translate(-50%, -50%);
`;const MobileNavBackGround=styled(motion.div)`
  overflow: hidden;
  position: relative;
  width: 100%;
  height: 100%;
  background: ${({theme:s})=>s.colors.background};
  border: 0;
  z-index: 900;
  display: flex;
  flex-direction: column;
  align-items: center;
  border-color: ${s=>s.theme.colors.grey200};
`,MobileMenu=()=>{const[s,i]=Recoil_index_21(menuState);return jsx(ShortNavigation,{initial:!1,animate:s.appMenu?"open":"closed",children:jsx(MobileNavBackGround,{variants:sidebar,children:jsx(MobileMenuCategory,{})})})},DarkModeIcon=()=>{const s=Ze$2();return jsx("svg",{className:"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiBox-root css-uqopch",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"DarkModeIcon",fill:s.colors.grey700,children:jsx("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"})})},LightModeIcon=()=>{const s=Ze$2();return jsx("svg",{className:"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiBox-root css-uqopch",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"LightModeIcon",fill:s.colors.grey700,children:jsx("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"})})},ThemeButton=styled.button`
  padding: 7px;
  width: 40px;
  height: 40px;
  background: transparent;
  border: 0 solid transparent;
  cursor: pointer;
`,ThemeToggleButton=({theme:s,toggleButton:i})=>jsx(ThemeButton,{onClick:i,children:s==="light"?jsx(DarkModeIcon,{}):jsx(LightModeIcon,{})}),ROUTES=[{route:"/introduce",title:"Introduce"},{route:"/recruit",title:"Recruiting"},{route:"/faq",title:"FAQ"}],Navigation=({theme:s,toggleTheme:i})=>{const o=useLocation(),et=o.pathname=="/";return jsxs(NavDesign,{background:et,disable:(()=>{let Nl=!1;return o.pathname.includes("auth")&&(Nl=!0),o.pathname.includes("admin")&&(Nl=!0),Nl})(),children:[jsx(NavWrapper,{children:jsxs(NavInner,{children:[jsx(NavTaskWrapper,{children:jsxs(NavTask,{children:[jsxs(StyledLogoWrapper,{to:"/",children:[jsx(StyledImg,{src:GDSCLogo,alt:"GDSC-Chapter-Logo"}),jsx(StyledLogo,{children:"GDSC "}),jsx(SchoolName,{children:"Daejin"}),jsx(SchoolNameUni,{children:"Univ."})]}),jsx(DeskNavCategory,{})]})}),jsx(ThemeToggleButton,{theme:s,toggleButton:i}),jsx(MenuToggleIcon,{})]})}),jsx(MobileMenu,{})]})},LoaderBackground=styled(motion.div)`
  display: flex;
  background: rgba(255, 255, 255, 0.7);
  ${s=>s.background&&Ce$2`
      background: rgba(0, 0, 0, 0.7);
    `}

  width: 100vw;
  height: 100vh;
  align-items: center;
  justify-content: center;
  position: fixed;
  z-index: 1000;
`,GoogleLoader=styled(motion.div)`
  width: 100px;
  height: 100px;
  z-index: 2000;
`;var lottie$1={exports:{}};(function(module,exports){typeof navigator!="undefined"&&function(s,i){module.exports=i()}(commonjsGlobal$1,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(i){_useWebWorker=!!i},getWebWorker=function(){return _useWebWorker},setLocationHref=function(i){locationHref=i},getLocationHref=function(){return locationHref};function createTag(s){return document.createElement(s)}function extendPrototype(s,i){var o,et=s.length,$l;for(o=0;o<et;o+=1){$l=s[o].prototype;for(var Nl in $l)Object.prototype.hasOwnProperty.call($l,Nl)&&(i.prototype[Nl]=$l[Nl])}}function getDescriptor(s,i){return Object.getOwnPropertyDescriptor(s,i)}function createProxyFunction(s){function i(){}return i.prototype=s,i}var audioControllerFactory=function(){function s(i){this.audios=[],this.audioFactory=i,this._volume=1,this._isMuted=!1}return s.prototype={addAudio:function(o){this.audios.push(o)},pause:function(){var o,et=this.audios.length;for(o=0;o<et;o+=1)this.audios[o].pause()},resume:function(){var o,et=this.audios.length;for(o=0;o<et;o+=1)this.audios[o].resume()},setRate:function(o){var et,$l=this.audios.length;for(et=0;et<$l;et+=1)this.audios[et].setRate(o)},createAudio:function(o){return this.audioFactory?this.audioFactory(o):window.Howl?new window.Howl({src:[o]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(o){this.audioFactory=o},setVolume:function(o){this._volume=o,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var o,et=this.audios.length;for(o=0;o<et;o+=1)this.audios[o].volume(this._volume*(this._isMuted?0:1))}},function(){return new s}}(),createTypedArray=function(){function s(o,et){var $l=0,Nl=[],Ml;switch(o){case"int16":case"uint8c":Ml=1;break;default:Ml=1.1;break}for($l=0;$l<et;$l+=1)Nl.push(Ml);return Nl}function i(o,et){return o==="float32"?new Float32Array(et):o==="int16"?new Int16Array(et):o==="uint8c"?new Uint8ClampedArray(et):s(o,et)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?i:s}();function createSizedArray(s){return Array.apply(null,{length:s})}function _typeof$6(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(o){return typeof o}:_typeof$6=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$6(s)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var s=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],i,o=s.length;for(i=0;i<o;i+=1)BMMath[s[i]]=Math[s[i]]})(),BMMath.random=Math.random,BMMath.abs=function(s){var i=_typeof$6(s);if(i==="object"&&s.length){var o=createSizedArray(s.length),et,$l=s.length;for(et=0;et<$l;et+=1)o[et]=Math.abs(s[et]);return o}return Math.abs(s)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(s){s.style.position="absolute",s.style.top=0,s.style.left=0,s.style.display="block",s.style.transformOrigin="0 0",s.style.webkitTransformOrigin="0 0",s.style.backfaceVisibility="visible",s.style.webkitBackfaceVisibility="visible",s.style.transformStyle="preserve-3d",s.style.webkitTransformStyle="preserve-3d",s.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(s,i,o,et){this.type=s,this.currentTime=i,this.totalTime=o,this.direction=et<0?-1:1}function BMCompleteEvent(s,i){this.type=s,this.direction=i<0?-1:1}function BMCompleteLoopEvent(s,i,o,et){this.type=s,this.currentLoop=o,this.totalLoops=i,this.direction=et<0?-1:1}function BMSegmentStartEvent(s,i,o){this.type=s,this.firstFrame=i,this.totalFrames=o}function BMDestroyEvent(s,i){this.type=s,this.target=i}function BMRenderFrameErrorEvent(s,i){this.type="renderFrameError",this.nativeError=s,this.currentTime=i}function BMConfigErrorEvent(s){this.type="configError",this.nativeError=s}var createElementID=function(){var s=0;return function(){return s+=1,idPrefix$1+"__lottie_element_"+s}}();function HSVtoRGB(s,i,o){var et,$l,Nl,Ml,Ol,Ll,Fl,Bl;switch(Ml=Math.floor(s*6),Ol=s*6-Ml,Ll=o*(1-i),Fl=o*(1-Ol*i),Bl=o*(1-(1-Ol)*i),Ml%6){case 0:et=o,$l=Bl,Nl=Ll;break;case 1:et=Fl,$l=o,Nl=Ll;break;case 2:et=Ll,$l=o,Nl=Bl;break;case 3:et=Ll,$l=Fl,Nl=o;break;case 4:et=Bl,$l=Ll,Nl=o;break;case 5:et=o,$l=Ll,Nl=Fl;break}return[et,$l,Nl]}function RGBtoHSV(s,i,o){var et=Math.max(s,i,o),$l=Math.min(s,i,o),Nl=et-$l,Ml,Ol=et===0?0:Nl/et,Ll=et/255;switch(et){case $l:Ml=0;break;case s:Ml=i-o+Nl*(i<o?6:0),Ml/=6*Nl;break;case i:Ml=o-s+Nl*2,Ml/=6*Nl;break;case o:Ml=s-i+Nl*4,Ml/=6*Nl;break}return[Ml,Ol,Ll]}function addSaturationToRGB(s,i){var o=RGBtoHSV(s[0]*255,s[1]*255,s[2]*255);return o[1]+=i,o[1]>1?o[1]=1:o[1]<=0&&(o[1]=0),HSVtoRGB(o[0],o[1],o[2])}function addBrightnessToRGB(s,i){var o=RGBtoHSV(s[0]*255,s[1]*255,s[2]*255);return o[2]+=i,o[2]>1?o[2]=1:o[2]<0&&(o[2]=0),HSVtoRGB(o[0],o[1],o[2])}function addHueToRGB(s,i){var o=RGBtoHSV(s[0]*255,s[1]*255,s[2]*255);return o[0]+=i/360,o[0]>1?o[0]-=1:o[0]<0&&(o[0]+=1),HSVtoRGB(o[0],o[1],o[2])}var rgbToHex=function(){var s=[],i,o;for(i=0;i<256;i+=1)o=i.toString(16),s[i]=o.length===1?"0"+o:o;return function(et,$l,Nl){return et<0&&(et=0),$l<0&&($l=0),Nl<0&&(Nl=0),"#"+s[et]+s[$l]+s[Nl]}}(),setSubframeEnabled=function(i){subframeEnabled=!!i},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(i){expressionsPlugin=i},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(i){defaultCurveSegments=i},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(i){idPrefix$1=i};function createNS(s){return document.createElementNS(svgNS,s)}function _typeof$5(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(o){return typeof o}:_typeof$5=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$5(s)}var dataManager=function(){var s=1,i=[],o,et,$l={onmessage:function(){},postMessage:function(Wl){o({data:Wl})}},Nl={postMessage:function(Wl){$l.onmessage({data:Wl})}};function Ml(Gl){if(window.Worker&&window.Blob&&getWebWorker()){var Wl=new Blob(["var _workerSelf = self; self.onmessage = ",Gl.toString()],{type:"text/javascript"}),zl=URL.createObjectURL(Wl);return new Worker(zl)}return o=Gl,$l}function Ol(){et||(et=Ml(function(Wl){function zl(){function Jl(p0,o0){var n0,t0,r0=p0.length,d0,h0,i0,c0;for(t0=0;t0<r0;t0+=1)if(n0=p0[t0],"ks"in n0&&!n0.completed){if(n0.completed=!0,n0.tt&&(p0[t0-1].td=n0.tt),n0.hasMask){var a0=n0.masksProperties;for(h0=a0.length,d0=0;d0<h0;d0+=1)if(a0[d0].pt.k.i)Zl(a0[d0].pt.k);else for(c0=a0[d0].pt.k.length,i0=0;i0<c0;i0+=1)a0[d0].pt.k[i0].s&&Zl(a0[d0].pt.k[i0].s[0]),a0[d0].pt.k[i0].e&&Zl(a0[d0].pt.k[i0].e[0])}n0.ty===0?(n0.layers=Yl(n0.refId,o0),Jl(n0.layers,o0)):n0.ty===4?Xl(n0.shapes):n0.ty===5&&_0(n0)}}function Kl(p0,o0){if(p0){var n0=0,t0=p0.length;for(n0=0;n0<t0;n0+=1)p0[n0].t===1&&(p0[n0].data.layers=Yl(p0[n0].data.refId,o0),Jl(p0[n0].data.layers,o0))}}function Hl(p0,o0){for(var n0=0,t0=o0.length;n0<t0;){if(o0[n0].id===p0)return o0[n0];n0+=1}return null}function Yl(p0,o0){var n0=Hl(p0,o0);return n0?n0.layers.__used?JSON.parse(JSON.stringify(n0.layers)):(n0.layers.__used=!0,n0.layers):null}function Xl(p0){var o0,n0=p0.length,t0,r0;for(o0=n0-1;o0>=0;o0-=1)if(p0[o0].ty==="sh")if(p0[o0].ks.k.i)Zl(p0[o0].ks.k);else for(r0=p0[o0].ks.k.length,t0=0;t0<r0;t0+=1)p0[o0].ks.k[t0].s&&Zl(p0[o0].ks.k[t0].s[0]),p0[o0].ks.k[t0].e&&Zl(p0[o0].ks.k[t0].e[0]);else p0[o0].ty==="gr"&&Xl(p0[o0].it)}function Zl(p0){var o0,n0=p0.i.length;for(o0=0;o0<n0;o0+=1)p0.i[o0][0]+=p0.v[o0][0],p0.i[o0][1]+=p0.v[o0][1],p0.o[o0][0]+=p0.v[o0][0],p0.o[o0][1]+=p0.v[o0][1]}function _d(p0,o0){var n0=o0?o0.split("."):[100,100,100];return p0[0]>n0[0]?!0:n0[0]>p0[0]?!1:p0[1]>n0[1]?!0:n0[1]>p0[1]?!1:p0[2]>n0[2]?!0:n0[2]>p0[2]?!1:null}var _f=function(){var p0=[4,4,14];function o0(t0){var r0=t0.t.d;t0.t.d={k:[{s:r0,t:0}]}}function n0(t0){var r0,d0=t0.length;for(r0=0;r0<d0;r0+=1)t0[r0].ty===5&&o0(t0[r0])}return function(t0){if(_d(p0,t0.v)&&(n0(t0.layers),t0.assets)){var r0,d0=t0.assets.length;for(r0=0;r0<d0;r0+=1)t0.assets[r0].layers&&n0(t0.assets[r0].layers)}}}(),e0=function(){var p0=[4,7,99];return function(o0){if(o0.chars&&!_d(p0,o0.v)){var n0,t0=o0.chars.length;for(n0=0;n0<t0;n0+=1){var r0=o0.chars[n0];r0.data&&r0.data.shapes&&(Xl(r0.data.shapes),r0.data.ip=0,r0.data.op=99999,r0.data.st=0,r0.data.sr=1,r0.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},o0.chars[n0].t||(r0.data.shapes.push({ty:"no"}),r0.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),s0=function(){var p0=[5,7,15];function o0(t0){var r0=t0.t.p;typeof r0.a=="number"&&(r0.a={a:0,k:r0.a}),typeof r0.p=="number"&&(r0.p={a:0,k:r0.p}),typeof r0.r=="number"&&(r0.r={a:0,k:r0.r})}function n0(t0){var r0,d0=t0.length;for(r0=0;r0<d0;r0+=1)t0[r0].ty===5&&o0(t0[r0])}return function(t0){if(_d(p0,t0.v)&&(n0(t0.layers),t0.assets)){var r0,d0=t0.assets.length;for(r0=0;r0<d0;r0+=1)t0.assets[r0].layers&&n0(t0.assets[r0].layers)}}}(),u0=function(){var p0=[4,1,9];function o0(t0){var r0,d0=t0.length,h0,i0;for(r0=0;r0<d0;r0+=1)if(t0[r0].ty==="gr")o0(t0[r0].it);else if(t0[r0].ty==="fl"||t0[r0].ty==="st")if(t0[r0].c.k&&t0[r0].c.k[0].i)for(i0=t0[r0].c.k.length,h0=0;h0<i0;h0+=1)t0[r0].c.k[h0].s&&(t0[r0].c.k[h0].s[0]/=255,t0[r0].c.k[h0].s[1]/=255,t0[r0].c.k[h0].s[2]/=255,t0[r0].c.k[h0].s[3]/=255),t0[r0].c.k[h0].e&&(t0[r0].c.k[h0].e[0]/=255,t0[r0].c.k[h0].e[1]/=255,t0[r0].c.k[h0].e[2]/=255,t0[r0].c.k[h0].e[3]/=255);else t0[r0].c.k[0]/=255,t0[r0].c.k[1]/=255,t0[r0].c.k[2]/=255,t0[r0].c.k[3]/=255}function n0(t0){var r0,d0=t0.length;for(r0=0;r0<d0;r0+=1)t0[r0].ty===4&&o0(t0[r0].shapes)}return function(t0){if(_d(p0,t0.v)&&(n0(t0.layers),t0.assets)){var r0,d0=t0.assets.length;for(r0=0;r0<d0;r0+=1)t0.assets[r0].layers&&n0(t0.assets[r0].layers)}}}(),g0=function(){var p0=[4,4,18];function o0(t0){var r0,d0=t0.length,h0,i0;for(r0=d0-1;r0>=0;r0-=1)if(t0[r0].ty==="sh")if(t0[r0].ks.k.i)t0[r0].ks.k.c=t0[r0].closed;else for(i0=t0[r0].ks.k.length,h0=0;h0<i0;h0+=1)t0[r0].ks.k[h0].s&&(t0[r0].ks.k[h0].s[0].c=t0[r0].closed),t0[r0].ks.k[h0].e&&(t0[r0].ks.k[h0].e[0].c=t0[r0].closed);else t0[r0].ty==="gr"&&o0(t0[r0].it)}function n0(t0){var r0,d0,h0=t0.length,i0,c0,a0,v0;for(d0=0;d0<h0;d0+=1){if(r0=t0[d0],r0.hasMask){var l0=r0.masksProperties;for(c0=l0.length,i0=0;i0<c0;i0+=1)if(l0[i0].pt.k.i)l0[i0].pt.k.c=l0[i0].cl;else for(v0=l0[i0].pt.k.length,a0=0;a0<v0;a0+=1)l0[i0].pt.k[a0].s&&(l0[i0].pt.k[a0].s[0].c=l0[i0].cl),l0[i0].pt.k[a0].e&&(l0[i0].pt.k[a0].e[0].c=l0[i0].cl)}r0.ty===4&&o0(r0.shapes)}}return function(t0){if(_d(p0,t0.v)&&(n0(t0.layers),t0.assets)){var r0,d0=t0.assets.length;for(r0=0;r0<d0;r0+=1)t0.assets[r0].layers&&n0(t0.assets[r0].layers)}}}();function f0(p0){p0.__complete||(u0(p0),_f(p0),e0(p0),s0(p0),g0(p0),Jl(p0.layers,p0.assets),Kl(p0.chars,p0.assets),p0.__complete=!0)}function _0(p0){p0.t.a.length===0&&"m"in p0.t.p}var S0={};return S0.completeData=f0,S0.checkColors=u0,S0.checkChars=e0,S0.checkPathProperties=s0,S0.checkShapes=g0,S0.completeLayers=Jl,S0}if(Nl.dataManager||(Nl.dataManager=zl()),Nl.assetLoader||(Nl.assetLoader=function(){function Jl(Hl){var Yl=Hl.getResponseHeader("content-type");return Yl&&Hl.responseType==="json"&&Yl.indexOf("json")!==-1||Hl.response&&_typeof$5(Hl.response)==="object"?Hl.response:Hl.response&&typeof Hl.response=="string"?JSON.parse(Hl.response):Hl.responseText?JSON.parse(Hl.responseText):null}function Kl(Hl,Yl,Xl,Zl){var _d,_f=new XMLHttpRequest;try{_f.responseType="json"}catch{}_f.onreadystatechange=function(){if(_f.readyState===4)if(_f.status===200)_d=Jl(_f),Xl(_d);else try{_d=Jl(_f),Xl(_d)}catch(e0){Zl&&Zl(e0)}};try{_f.open("GET",Hl,!0)}catch{_f.open("GET",Yl+"/"+Hl,!0)}_f.send()}return{load:Kl}}()),Wl.data.type==="loadAnimation")Nl.assetLoader.load(Wl.data.path,Wl.data.fullPath,function(Jl){Nl.dataManager.completeData(Jl),Nl.postMessage({id:Wl.data.id,payload:Jl,status:"success"})},function(){Nl.postMessage({id:Wl.data.id,status:"error"})});else if(Wl.data.type==="complete"){var Ql=Wl.data.animation;Nl.dataManager.completeData(Ql),Nl.postMessage({id:Wl.data.id,payload:Ql,status:"success"})}else Wl.data.type==="loadData"&&Nl.assetLoader.load(Wl.data.path,Wl.data.fullPath,function(Jl){Nl.postMessage({id:Wl.data.id,payload:Jl,status:"success"})},function(){Nl.postMessage({id:Wl.data.id,status:"error"})})}),et.onmessage=function(Gl){var Wl=Gl.data,zl=Wl.id,Ql=i[zl];i[zl]=null,Wl.status==="success"?Ql.onComplete(Wl.payload):Ql.onError&&Ql.onError()})}function Ll(Gl,Wl){s+=1;var zl="processId_"+s;return i[zl]={onComplete:Gl,onError:Wl},zl}function Fl(Gl,Wl,zl){Ol();var Ql=Ll(Wl,zl);et.postMessage({type:"loadAnimation",path:Gl,fullPath:window.location.origin+window.location.pathname,id:Ql})}function Bl(Gl,Wl,zl){Ol();var Ql=Ll(Wl,zl);et.postMessage({type:"loadData",path:Gl,fullPath:window.location.origin+window.location.pathname,id:Ql})}function Ul(Gl,Wl,zl){Ol();var Ql=Ll(Wl,zl);et.postMessage({type:"complete",animation:Gl,id:Ql})}return{loadAnimation:Fl,loadData:Bl,completeAnimation:Ul}}(),ImagePreloader=function(){var s=function(){var Kl=createTag("canvas");Kl.width=1,Kl.height=1;var Hl=Kl.getContext("2d");return Hl.fillStyle="rgba(0,0,0,0)",Hl.fillRect(0,0,1,1),Kl}();function i(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function o(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function et(Kl,Hl,Yl){var Xl="";if(Kl.e)Xl=Kl.p;else if(Hl){var Zl=Kl.p;Zl.indexOf("images/")!==-1&&(Zl=Zl.split("/")[1]),Xl=Hl+Zl}else Xl=Yl,Xl+=Kl.u?Kl.u:"",Xl+=Kl.p;return Xl}function $l(Kl){var Hl=0,Yl=setInterval(function(){var Xl=Kl.getBBox();(Xl.width||Hl>500)&&(this._imageLoaded(),clearInterval(Yl)),Hl+=1}.bind(this),50)}function Nl(Kl){var Hl=et(Kl,this.assetsPath,this.path),Yl=createNS("image");isSafari?this.testImageLoaded(Yl):Yl.addEventListener("load",this._imageLoaded,!1),Yl.addEventListener("error",function(){Xl.img=s,this._imageLoaded()}.bind(this),!1),Yl.setAttributeNS("http://www.w3.org/1999/xlink","href",Hl),this._elementHelper.append?this._elementHelper.append(Yl):this._elementHelper.appendChild(Yl);var Xl={img:Yl,assetData:Kl};return Xl}function Ml(Kl){var Hl=et(Kl,this.assetsPath,this.path),Yl=createTag("img");Yl.crossOrigin="anonymous",Yl.addEventListener("load",this._imageLoaded,!1),Yl.addEventListener("error",function(){Xl.img=s,this._imageLoaded()}.bind(this),!1),Yl.src=Hl;var Xl={img:Yl,assetData:Kl};return Xl}function Ol(Kl){var Hl={assetData:Kl},Yl=et(Kl,this.assetsPath,this.path);return dataManager.loadData(Yl,function(Xl){Hl.img=Xl,this._footageLoaded()}.bind(this),function(){Hl.img={},this._footageLoaded()}.bind(this)),Hl}function Ll(Kl,Hl){this.imagesLoadedCb=Hl;var Yl,Xl=Kl.length;for(Yl=0;Yl<Xl;Yl+=1)Kl[Yl].layers||(!Kl[Yl].t||Kl[Yl].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Kl[Yl]))):Kl[Yl].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Kl[Yl]))))}function Fl(Kl){this.path=Kl||""}function Bl(Kl){this.assetsPath=Kl||""}function Ul(Kl){for(var Hl=0,Yl=this.images.length;Hl<Yl;){if(this.images[Hl].assetData===Kl)return this.images[Hl].img;Hl+=1}return null}function Gl(){this.imagesLoadedCb=null,this.images.length=0}function Wl(){return this.totalImages===this.loadedAssets}function zl(){return this.totalFootages===this.loadedFootagesCount}function Ql(Kl,Hl){Kl==="svg"?(this._elementHelper=Hl,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Jl(){this._imageLoaded=i.bind(this),this._footageLoaded=o.bind(this),this.testImageLoaded=$l.bind(this),this.createFootageData=Ol.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Jl.prototype={loadAssets:Ll,setAssetsPath:Bl,setPath:Fl,loadedImages:Wl,loadedFootages:zl,destroy:Gl,getAsset:Ul,createImgData:Ml,createImageData:Nl,imageLoaded:i,footageLoaded:o,setCacheType:Ql},Jl}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(i,o){if(this._cbs[i])for(var et=this._cbs[i],$l=0;$l<et.length;$l+=1)et[$l](o)},addEventListener:function(i,o){return this._cbs[i]||(this._cbs[i]=[]),this._cbs[i].push(o),function(){this.removeEventListener(i,o)}.bind(this)},removeEventListener:function(i,o){if(!o)this._cbs[i]=null;else if(this._cbs[i]){for(var et=0,$l=this._cbs[i].length;et<$l;)this._cbs[i][et]===o&&(this._cbs[i].splice(et,1),et-=1,$l-=1),et+=1;this._cbs[i].length||(this._cbs[i]=null)}}};var markerParser=function(){function s(i){for(var o=i.split(`\r
`),et={},$l,Nl=0,Ml=0;Ml<o.length;Ml+=1)$l=o[Ml].split(":"),$l.length===2&&(et[$l[0]]=$l[1].trim(),Nl+=1);if(Nl===0)throw new Error;return et}return function(i){for(var o=[],et=0;et<i.length;et+=1){var $l=i[et],Nl={time:$l.tm,duration:$l.dr};try{Nl.payload=JSON.parse(i[et].cm)}catch{try{Nl.payload=s(i[et].cm)}catch{Nl.payload={name:i[et].cm}}}o.push(Nl)}return o}}(),ProjectInterface=function(){function s(i){this.compositions.push(i)}return function(){function i(o){for(var et=0,$l=this.compositions.length;et<$l;){if(this.compositions[et].data&&this.compositions[et].data.nm===o)return this.compositions[et].prepareFrame&&this.compositions[et].data.xt&&this.compositions[et].prepareFrame(this.currentFrame),this.compositions[et].compInterface;et+=1}return null}return i.compositions=[],i.currentFrame=0,i.registerComposition=s,i}}(),renderers={},registerRenderer=function(i,o){renderers[i]=o};function getRenderer(s){return renderers[s]}function _typeof$4(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(o){return typeof o}:_typeof$4=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$4(s)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(s){(s.wrapper||s.container)&&(this.wrapper=s.wrapper||s.container);var i="svg";s.animType?i=s.animType:s.renderer&&(i=s.renderer);var o=getRenderer(i);this.renderer=new o(this,s.rendererSettings),this.imagePreloader.setCacheType(i,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=i,s.loop===""||s.loop===null||s.loop===void 0||s.loop===!0?this.loop=!0:s.loop===!1?this.loop=!1:this.loop=parseInt(s.loop,10),this.autoplay="autoplay"in s?s.autoplay:!0,this.name=s.name?s.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(s,"autoloadSegments")?s.autoloadSegments:!0,this.assetsPath=s.assetsPath,this.initialSegment=s.initialSegment,s.audioFactory&&this.audioController.setAudioFactory(s.audioFactory),s.animationData?this.setupAnimation(s.animationData):s.path&&(s.path.lastIndexOf("\\")!==-1?this.path=s.path.substr(0,s.path.lastIndexOf("\\")+1):this.path=s.path.substr(0,s.path.lastIndexOf("/")+1),this.fileName=s.path.substr(s.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(s.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(s){dataManager.completeAnimation(s,this.configAnimation)},AnimationItem.prototype.setData=function(s,i){i&&_typeof$4(i)!=="object"&&(i=JSON.parse(i));var o={wrapper:s,animationData:i},et=s.attributes;o.path=et.getNamedItem("data-animation-path")?et.getNamedItem("data-animation-path").value:et.getNamedItem("data-bm-path")?et.getNamedItem("data-bm-path").value:et.getNamedItem("bm-path")?et.getNamedItem("bm-path").value:"",o.animType=et.getNamedItem("data-anim-type")?et.getNamedItem("data-anim-type").value:et.getNamedItem("data-bm-type")?et.getNamedItem("data-bm-type").value:et.getNamedItem("bm-type")?et.getNamedItem("bm-type").value:et.getNamedItem("data-bm-renderer")?et.getNamedItem("data-bm-renderer").value:et.getNamedItem("bm-renderer")?et.getNamedItem("bm-renderer").value:"canvas";var $l=et.getNamedItem("data-anim-loop")?et.getNamedItem("data-anim-loop").value:et.getNamedItem("data-bm-loop")?et.getNamedItem("data-bm-loop").value:et.getNamedItem("bm-loop")?et.getNamedItem("bm-loop").value:"";$l==="false"?o.loop=!1:$l==="true"?o.loop=!0:$l!==""&&(o.loop=parseInt($l,10));var Nl=et.getNamedItem("data-anim-autoplay")?et.getNamedItem("data-anim-autoplay").value:et.getNamedItem("data-bm-autoplay")?et.getNamedItem("data-bm-autoplay").value:et.getNamedItem("bm-autoplay")?et.getNamedItem("bm-autoplay").value:!0;o.autoplay=Nl!=="false",o.name=et.getNamedItem("data-name")?et.getNamedItem("data-name").value:et.getNamedItem("data-bm-name")?et.getNamedItem("data-bm-name").value:et.getNamedItem("bm-name")?et.getNamedItem("bm-name").value:"";var Ml=et.getNamedItem("data-anim-prerender")?et.getNamedItem("data-anim-prerender").value:et.getNamedItem("data-bm-prerender")?et.getNamedItem("data-bm-prerender").value:et.getNamedItem("bm-prerender")?et.getNamedItem("bm-prerender").value:"";Ml==="false"&&(o.prerender=!1),this.setParams(o)},AnimationItem.prototype.includeLayers=function(s){s.op>this.animationData.op&&(this.animationData.op=s.op,this.totalFrames=Math.floor(s.op-this.animationData.ip));var i=this.animationData.layers,o,et=i.length,$l=s.layers,Nl,Ml=$l.length;for(Nl=0;Nl<Ml;Nl+=1)for(o=0;o<et;){if(i[o].id===$l[Nl].id){i[o]=$l[Nl];break}o+=1}if((s.chars||s.fonts)&&(this.renderer.globalData.fontManager.addChars(s.chars),this.renderer.globalData.fontManager.addFonts(s.fonts,this.renderer.globalData.defs)),s.assets)for(et=s.assets.length,o=0;o<et;o+=1)this.animationData.assets.push(s.assets[o]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(s){this.animationData=s;var i=getExpressionsPlugin();i&&i.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var s=this.animationData.segments;if(!s||s.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var i=s.shift();this.timeCompleted=i.time*this.frameRate;var o=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(o,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var s=this.animationData.segments;s||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(s){if(!!this.renderer)try{this.animationData=s,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(s),s.assets||(s.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(s.assets),this.markers=markerParser(s.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(i){this.triggerConfigError(i)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var s=getExpressionsPlugin();s&&s.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(s){this.isSubframeEnabled=!!s},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(s){this.triggerRenderFrameError(s)}},AnimationItem.prototype.play=function(s){s&&this.name!==s||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(s){s&&this.name!==s||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(s){s&&this.name!==s||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(s){s&&this.name!==s||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(s){for(var i,o=0;o<this.markers.length;o+=1)if(i=this.markers[o],i.payload&&i.payload.name===s)return i;return null},AnimationItem.prototype.goToAndStop=function(s,i,o){if(!(o&&this.name!==o)){var et=Number(s);if(isNaN(et)){var $l=this.getMarkerData(s);$l&&this.goToAndStop($l.time,!0)}else i?this.setCurrentRawFrameValue(s):this.setCurrentRawFrameValue(s*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(s,i,o){if(!(o&&this.name!==o)){var et=Number(s);if(isNaN(et)){var $l=this.getMarkerData(s);$l&&($l.duration?this.playSegments([$l.time,$l.time+$l.duration],!0):this.goToAndStop($l.time,!0))}else this.goToAndStop(et,i,o);this.play()}},AnimationItem.prototype.advanceTime=function(s){if(!(this.isPaused===!0||this.isLoaded===!1)){var i=this.currentRawFrame+s*this.frameModifier,o=!1;i>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(i>this.totalFrames?i%this.totalFrames:0)||(o=!0,i=this.totalFrames-1):i>=this.totalFrames?(this.playCount+=1,this.checkSegments(i%this.totalFrames)||(this.setCurrentRawFrameValue(i%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(i):i<0?this.checkSegments(i%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+i%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(o=!0,i=0)):this.setCurrentRawFrameValue(i),o&&(this.setCurrentRawFrameValue(i),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(s,i){this.playCount=0,s[1]<s[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=s[0]-s[1],this.timeCompleted=this.totalFrames,this.firstFrame=s[1],this.setCurrentRawFrameValue(this.totalFrames-.001-i)):s[1]>s[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=s[1]-s[0],this.timeCompleted=this.totalFrames,this.firstFrame=s[0],this.setCurrentRawFrameValue(.001+i)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(s,i){var o=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<s?o=s:this.currentRawFrame+this.firstFrame>i&&(o=i-s)),this.firstFrame=s,this.totalFrames=i-s,this.timeCompleted=this.totalFrames,o!==-1&&this.goToAndStop(o,!0)},AnimationItem.prototype.playSegments=function(s,i){if(i&&(this.segments.length=0),_typeof$4(s[0])==="object"){var o,et=s.length;for(o=0;o<et;o+=1)this.segments.push(s[o])}else this.segments.push(s);this.segments.length&&i&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(s){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),s&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(s){return this.segments.length?(this.adjustSegment(this.segments.shift(),s),!0):!1},AnimationItem.prototype.destroy=function(s){s&&this.name!==s||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(s){this.currentRawFrame=s,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(s){this.playSpeed=s,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(s){this.playDirection=s<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(s,i){i&&this.name!==i||this.audioController.setVolume(s)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(s){s&&this.name!==s||this.audioController.mute()},AnimationItem.prototype.unmute=function(s){s&&this.name!==s||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(s){var i="";if(s.e)i=s.p;else if(this.assetsPath){var o=s.p;o.indexOf("images/")!==-1&&(o=o.split("/")[1]),i=this.assetsPath+o}else i=this.path,i+=s.u?s.u:"",i+=s.p;return i},AnimationItem.prototype.getAssetData=function(s){for(var i=0,o=this.assets.length;i<o;){if(s===this.assets[i].id)return this.assets[i];i+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(s){return s?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(s,i,o){try{var et=this.renderer.getElementByPath(s);et.updateDocumentData(i,o)}catch{}},AnimationItem.prototype.trigger=function(s){if(this._cbs&&this._cbs[s])switch(s){case"enterFrame":this.triggerEvent(s,new BMEnterFrameEvent(s,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(s,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(s,new BMCompleteLoopEvent(s,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(s,new BMCompleteEvent(s,this.frameMult));break;case"segmentStart":this.triggerEvent(s,new BMSegmentStartEvent(s,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(s,new BMDestroyEvent(s,this));break;default:this.triggerEvent(s)}s==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(s,this.currentFrame,this.totalFrames,this.frameMult)),s==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(s,this.loop,this.playCount,this.frameMult)),s==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(s,this.frameMult)),s==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(s,this.firstFrame,this.totalFrames)),s==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(s,this))},AnimationItem.prototype.triggerRenderFrameError=function(s){var i=new BMRenderFrameErrorEvent(s,this.currentFrame);this.triggerEvent("error",i),this.onError&&this.onError.call(this,i)},AnimationItem.prototype.triggerConfigError=function(s){var i=new BMConfigErrorEvent(s,this.currentFrame);this.triggerEvent("error",i),this.onError&&this.onError.call(this,i)};var animationManager=function(){var s={},i=[],o=0,et=0,$l=0,Nl=!0,Ml=!1;function Ol(o0){for(var n0=0,t0=o0.target;n0<et;)i[n0].animation===t0&&(i.splice(n0,1),n0-=1,et-=1,t0.isPaused||Ul()),n0+=1}function Ll(o0,n0){if(!o0)return null;for(var t0=0;t0<et;){if(i[t0].elem===o0&&i[t0].elem!==null)return i[t0].animation;t0+=1}var r0=new AnimationItem;return Gl(r0,o0),r0.setData(o0,n0),r0}function Fl(){var o0,n0=i.length,t0=[];for(o0=0;o0<n0;o0+=1)t0.push(i[o0].animation);return t0}function Bl(){$l+=1,u0()}function Ul(){$l-=1}function Gl(o0,n0){o0.addEventListener("destroy",Ol),o0.addEventListener("_active",Bl),o0.addEventListener("_idle",Ul),i.push({elem:n0,animation:o0}),et+=1}function Wl(o0){var n0=new AnimationItem;return Gl(n0,null),n0.setParams(o0),n0}function zl(o0,n0){var t0;for(t0=0;t0<et;t0+=1)i[t0].animation.setSpeed(o0,n0)}function Ql(o0,n0){var t0;for(t0=0;t0<et;t0+=1)i[t0].animation.setDirection(o0,n0)}function Jl(o0){var n0;for(n0=0;n0<et;n0+=1)i[n0].animation.play(o0)}function Kl(o0){var n0=o0-o,t0;for(t0=0;t0<et;t0+=1)i[t0].animation.advanceTime(n0);o=o0,$l&&!Ml?window.requestAnimationFrame(Kl):Nl=!0}function Hl(o0){o=o0,window.requestAnimationFrame(Kl)}function Yl(o0){var n0;for(n0=0;n0<et;n0+=1)i[n0].animation.pause(o0)}function Xl(o0,n0,t0){var r0;for(r0=0;r0<et;r0+=1)i[r0].animation.goToAndStop(o0,n0,t0)}function Zl(o0){var n0;for(n0=0;n0<et;n0+=1)i[n0].animation.stop(o0)}function _d(o0){var n0;for(n0=0;n0<et;n0+=1)i[n0].animation.togglePause(o0)}function _f(o0){var n0;for(n0=et-1;n0>=0;n0-=1)i[n0].animation.destroy(o0)}function e0(o0,n0,t0){var r0=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),d0,h0=r0.length;for(d0=0;d0<h0;d0+=1)t0&&r0[d0].setAttribute("data-bm-type",t0),Ll(r0[d0],o0);if(n0&&h0===0){t0||(t0="svg");var i0=document.getElementsByTagName("body")[0];i0.innerText="";var c0=createTag("div");c0.style.width="100%",c0.style.height="100%",c0.setAttribute("data-bm-type",t0),i0.appendChild(c0),Ll(c0,o0)}}function s0(){var o0;for(o0=0;o0<et;o0+=1)i[o0].animation.resize()}function u0(){!Ml&&$l&&Nl&&(window.requestAnimationFrame(Hl),Nl=!1)}function g0(){Ml=!0}function f0(){Ml=!1,u0()}function _0(o0,n0){var t0;for(t0=0;t0<et;t0+=1)i[t0].animation.setVolume(o0,n0)}function S0(o0){var n0;for(n0=0;n0<et;n0+=1)i[n0].animation.mute(o0)}function p0(o0){var n0;for(n0=0;n0<et;n0+=1)i[n0].animation.unmute(o0)}return s.registerAnimation=Ll,s.loadAnimation=Wl,s.setSpeed=zl,s.setDirection=Ql,s.play=Jl,s.pause=Yl,s.stop=Zl,s.togglePause=_d,s.searchAnimations=e0,s.resize=s0,s.goToAndStop=Xl,s.destroy=_f,s.freeze=g0,s.unfreeze=f0,s.setVolume=_0,s.mute=S0,s.unmute=p0,s.getRegisteredAnimations=Fl,s}(),BezierFactory=function(){var s={};s.getBezierEasing=o;var i={};function o(Hl,Yl,Xl,Zl,_d){var _f=_d||("bez_"+Hl+"_"+Yl+"_"+Xl+"_"+Zl).replace(/\./g,"p");if(i[_f])return i[_f];var e0=new Kl([Hl,Yl,Xl,Zl]);return i[_f]=e0,e0}var et=4,$l=.001,Nl=1e-7,Ml=10,Ol=11,Ll=1/(Ol-1),Fl=typeof Float32Array=="function";function Bl(Hl,Yl){return 1-3*Yl+3*Hl}function Ul(Hl,Yl){return 3*Yl-6*Hl}function Gl(Hl){return 3*Hl}function Wl(Hl,Yl,Xl){return((Bl(Yl,Xl)*Hl+Ul(Yl,Xl))*Hl+Gl(Yl))*Hl}function zl(Hl,Yl,Xl){return 3*Bl(Yl,Xl)*Hl*Hl+2*Ul(Yl,Xl)*Hl+Gl(Yl)}function Ql(Hl,Yl,Xl,Zl,_d){var _f,e0,s0=0;do e0=Yl+(Xl-Yl)/2,_f=Wl(e0,Zl,_d)-Hl,_f>0?Xl=e0:Yl=e0;while(Math.abs(_f)>Nl&&++s0<Ml);return e0}function Jl(Hl,Yl,Xl,Zl){for(var _d=0;_d<et;++_d){var _f=zl(Yl,Xl,Zl);if(_f===0)return Yl;var e0=Wl(Yl,Xl,Zl)-Hl;Yl-=e0/_f}return Yl}function Kl(Hl){this._p=Hl,this._mSampleValues=Fl?new Float32Array(Ol):new Array(Ol),this._precomputed=!1,this.get=this.get.bind(this)}return Kl.prototype={get:function(Yl){var Xl=this._p[0],Zl=this._p[1],_d=this._p[2],_f=this._p[3];return this._precomputed||this._precompute(),Xl===Zl&&_d===_f?Yl:Yl===0?0:Yl===1?1:Wl(this._getTForX(Yl),Zl,_f)},_precompute:function(){var Yl=this._p[0],Xl=this._p[1],Zl=this._p[2],_d=this._p[3];this._precomputed=!0,(Yl!==Xl||Zl!==_d)&&this._calcSampleValues()},_calcSampleValues:function(){for(var Yl=this._p[0],Xl=this._p[2],Zl=0;Zl<Ol;++Zl)this._mSampleValues[Zl]=Wl(Zl*Ll,Yl,Xl)},_getTForX:function(Yl){for(var Xl=this._p[0],Zl=this._p[2],_d=this._mSampleValues,_f=0,e0=1,s0=Ol-1;e0!==s0&&_d[e0]<=Yl;++e0)_f+=Ll;--e0;var u0=(Yl-_d[e0])/(_d[e0+1]-_d[e0]),g0=_f+u0*Ll,f0=zl(g0,Xl,Zl);return f0>=$l?Jl(Yl,g0,Xl,Zl):f0===0?g0:Ql(Yl,_f,_f+Ll,Xl,Zl)}},s}(),pooling=function(){function s(i){return i.concat(createSizedArray(i.length))}return{double:s}}(),poolFactory=function(){return function(s,i,o){var et=0,$l=s,Nl=createSizedArray($l),Ml={newElement:Ol,release:Ll};function Ol(){var Fl;return et?(et-=1,Fl=Nl[et]):Fl=i(),Fl}function Ll(Fl){et===$l&&(Nl=pooling.double(Nl),$l*=2),o&&o(Fl),Nl[et]=Fl,et+=1}return Ml}}(),bezierLengthPool=function(){function s(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,s)}(),segmentsLengthPool=function(){function s(){return{lengths:[],totalLength:0}}function i(o){var et,$l=o.lengths.length;for(et=0;et<$l;et+=1)bezierLengthPool.release(o.lengths[et]);o.lengths.length=0}return poolFactory(8,s,i)}();function bezFunction(){var s=Math;function i(Gl,Wl,zl,Ql,Jl,Kl){var Hl=Gl*Ql+Wl*Jl+zl*Kl-Jl*Ql-Kl*Gl-zl*Wl;return Hl>-.001&&Hl<.001}function o(Gl,Wl,zl,Ql,Jl,Kl,Hl,Yl,Xl){if(zl===0&&Kl===0&&Xl===0)return i(Gl,Wl,Ql,Jl,Hl,Yl);var Zl=s.sqrt(s.pow(Ql-Gl,2)+s.pow(Jl-Wl,2)+s.pow(Kl-zl,2)),_d=s.sqrt(s.pow(Hl-Gl,2)+s.pow(Yl-Wl,2)+s.pow(Xl-zl,2)),_f=s.sqrt(s.pow(Hl-Ql,2)+s.pow(Yl-Jl,2)+s.pow(Xl-Kl,2)),e0;return Zl>_d?Zl>_f?e0=Zl-_d-_f:e0=_f-_d-Zl:_f>_d?e0=_f-_d-Zl:e0=_d-Zl-_f,e0>-1e-4&&e0<1e-4}var et=function(){return function(Gl,Wl,zl,Ql){var Jl=getDefaultCurveSegments(),Kl,Hl,Yl,Xl,Zl,_d=0,_f,e0=[],s0=[],u0=bezierLengthPool.newElement();for(Yl=zl.length,Kl=0;Kl<Jl;Kl+=1){for(Zl=Kl/(Jl-1),_f=0,Hl=0;Hl<Yl;Hl+=1)Xl=bmPow(1-Zl,3)*Gl[Hl]+3*bmPow(1-Zl,2)*Zl*zl[Hl]+3*(1-Zl)*bmPow(Zl,2)*Ql[Hl]+bmPow(Zl,3)*Wl[Hl],e0[Hl]=Xl,s0[Hl]!==null&&(_f+=bmPow(e0[Hl]-s0[Hl],2)),s0[Hl]=e0[Hl];_f&&(_f=bmSqrt(_f),_d+=_f),u0.percents[Kl]=Zl,u0.lengths[Kl]=_d}return u0.addedLength=_d,u0}}();function $l(Gl){var Wl=segmentsLengthPool.newElement(),zl=Gl.c,Ql=Gl.v,Jl=Gl.o,Kl=Gl.i,Hl,Yl=Gl._length,Xl=Wl.lengths,Zl=0;for(Hl=0;Hl<Yl-1;Hl+=1)Xl[Hl]=et(Ql[Hl],Ql[Hl+1],Jl[Hl],Kl[Hl+1]),Zl+=Xl[Hl].addedLength;return zl&&Yl&&(Xl[Hl]=et(Ql[Hl],Ql[0],Jl[Hl],Kl[0]),Zl+=Xl[Hl].addedLength),Wl.totalLength=Zl,Wl}function Nl(Gl){this.segmentLength=0,this.points=new Array(Gl)}function Ml(Gl,Wl){this.partialLength=Gl,this.point=Wl}var Ol=function(){var Gl={};return function(Wl,zl,Ql,Jl){var Kl=(Wl[0]+"_"+Wl[1]+"_"+zl[0]+"_"+zl[1]+"_"+Ql[0]+"_"+Ql[1]+"_"+Jl[0]+"_"+Jl[1]).replace(/\./g,"p");if(!Gl[Kl]){var Hl=getDefaultCurveSegments(),Yl,Xl,Zl,_d,_f,e0=0,s0,u0,g0=null;Wl.length===2&&(Wl[0]!==zl[0]||Wl[1]!==zl[1])&&i(Wl[0],Wl[1],zl[0],zl[1],Wl[0]+Ql[0],Wl[1]+Ql[1])&&i(Wl[0],Wl[1],zl[0],zl[1],zl[0]+Jl[0],zl[1]+Jl[1])&&(Hl=2);var f0=new Nl(Hl);for(Zl=Ql.length,Yl=0;Yl<Hl;Yl+=1){for(u0=createSizedArray(Zl),_f=Yl/(Hl-1),s0=0,Xl=0;Xl<Zl;Xl+=1)_d=bmPow(1-_f,3)*Wl[Xl]+3*bmPow(1-_f,2)*_f*(Wl[Xl]+Ql[Xl])+3*(1-_f)*bmPow(_f,2)*(zl[Xl]+Jl[Xl])+bmPow(_f,3)*zl[Xl],u0[Xl]=_d,g0!==null&&(s0+=bmPow(u0[Xl]-g0[Xl],2));s0=bmSqrt(s0),e0+=s0,f0.points[Yl]=new Ml(s0,u0),g0=u0}f0.segmentLength=e0,Gl[Kl]=f0}return Gl[Kl]}}();function Ll(Gl,Wl){var zl=Wl.percents,Ql=Wl.lengths,Jl=zl.length,Kl=bmFloor((Jl-1)*Gl),Hl=Gl*Wl.addedLength,Yl=0;if(Kl===Jl-1||Kl===0||Hl===Ql[Kl])return zl[Kl];for(var Xl=Ql[Kl]>Hl?-1:1,Zl=!0;Zl;)if(Ql[Kl]<=Hl&&Ql[Kl+1]>Hl?(Yl=(Hl-Ql[Kl])/(Ql[Kl+1]-Ql[Kl]),Zl=!1):Kl+=Xl,Kl<0||Kl>=Jl-1){if(Kl===Jl-1)return zl[Kl];Zl=!1}return zl[Kl]+(zl[Kl+1]-zl[Kl])*Yl}function Fl(Gl,Wl,zl,Ql,Jl,Kl){var Hl=Ll(Jl,Kl),Yl=1-Hl,Xl=s.round((Yl*Yl*Yl*Gl[0]+(Hl*Yl*Yl+Yl*Hl*Yl+Yl*Yl*Hl)*zl[0]+(Hl*Hl*Yl+Yl*Hl*Hl+Hl*Yl*Hl)*Ql[0]+Hl*Hl*Hl*Wl[0])*1e3)/1e3,Zl=s.round((Yl*Yl*Yl*Gl[1]+(Hl*Yl*Yl+Yl*Hl*Yl+Yl*Yl*Hl)*zl[1]+(Hl*Hl*Yl+Yl*Hl*Hl+Hl*Yl*Hl)*Ql[1]+Hl*Hl*Hl*Wl[1])*1e3)/1e3;return[Xl,Zl]}var Bl=createTypedArray("float32",8);function Ul(Gl,Wl,zl,Ql,Jl,Kl,Hl){Jl<0?Jl=0:Jl>1&&(Jl=1);var Yl=Ll(Jl,Hl);Kl=Kl>1?1:Kl;var Xl=Ll(Kl,Hl),Zl,_d=Gl.length,_f=1-Yl,e0=1-Xl,s0=_f*_f*_f,u0=Yl*_f*_f*3,g0=Yl*Yl*_f*3,f0=Yl*Yl*Yl,_0=_f*_f*e0,S0=Yl*_f*e0+_f*Yl*e0+_f*_f*Xl,p0=Yl*Yl*e0+_f*Yl*Xl+Yl*_f*Xl,o0=Yl*Yl*Xl,n0=_f*e0*e0,t0=Yl*e0*e0+_f*Xl*e0+_f*e0*Xl,r0=Yl*Xl*e0+_f*Xl*Xl+Yl*e0*Xl,d0=Yl*Xl*Xl,h0=e0*e0*e0,i0=Xl*e0*e0+e0*Xl*e0+e0*e0*Xl,c0=Xl*Xl*e0+e0*Xl*Xl+Xl*e0*Xl,a0=Xl*Xl*Xl;for(Zl=0;Zl<_d;Zl+=1)Bl[Zl*4]=s.round((s0*Gl[Zl]+u0*zl[Zl]+g0*Ql[Zl]+f0*Wl[Zl])*1e3)/1e3,Bl[Zl*4+1]=s.round((_0*Gl[Zl]+S0*zl[Zl]+p0*Ql[Zl]+o0*Wl[Zl])*1e3)/1e3,Bl[Zl*4+2]=s.round((n0*Gl[Zl]+t0*zl[Zl]+r0*Ql[Zl]+d0*Wl[Zl])*1e3)/1e3,Bl[Zl*4+3]=s.round((h0*Gl[Zl]+i0*zl[Zl]+c0*Ql[Zl]+a0*Wl[Zl])*1e3)/1e3;return Bl}return{getSegmentsLength:$l,getNewSegment:Ul,getPointInSegment:Fl,buildBezierData:Ol,pointOnLine2D:i,pointOnLine3D:o}}var bez=bezFunction(),PropertyFactory=function(){var s=initialDefaultFrame,i=Math.abs;function o(Jl,Kl){var Hl=this.offsetTime,Yl;this.propType==="multidimensional"&&(Yl=createTypedArray("float32",this.pv.length));for(var Xl=Kl.lastIndex,Zl=Xl,_d=this.keyframes.length-1,_f=!0,e0,s0,u0;_f;){if(e0=this.keyframes[Zl],s0=this.keyframes[Zl+1],Zl===_d-1&&Jl>=s0.t-Hl){e0.h&&(e0=s0),Xl=0;break}if(s0.t-Hl>Jl){Xl=Zl;break}Zl<_d-1?Zl+=1:(Xl=0,_f=!1)}u0=this.keyframesMetadata[Zl]||{};var g0,f0,_0,S0,p0,o0,n0=s0.t-Hl,t0=e0.t-Hl,r0;if(e0.to){u0.bezierData||(u0.bezierData=bez.buildBezierData(e0.s,s0.s||e0.e,e0.to,e0.ti));var d0=u0.bezierData;if(Jl>=n0||Jl<t0){var h0=Jl>=n0?d0.points.length-1:0;for(f0=d0.points[h0].point.length,g0=0;g0<f0;g0+=1)Yl[g0]=d0.points[h0].point[g0]}else{u0.__fnct?o0=u0.__fnct:(o0=BezierFactory.getBezierEasing(e0.o.x,e0.o.y,e0.i.x,e0.i.y,e0.n).get,u0.__fnct=o0),_0=o0((Jl-t0)/(n0-t0));var i0=d0.segmentLength*_0,c0,a0=Kl.lastFrame<Jl&&Kl._lastKeyframeIndex===Zl?Kl._lastAddedLength:0;for(p0=Kl.lastFrame<Jl&&Kl._lastKeyframeIndex===Zl?Kl._lastPoint:0,_f=!0,S0=d0.points.length;_f;){if(a0+=d0.points[p0].partialLength,i0===0||_0===0||p0===d0.points.length-1){for(f0=d0.points[p0].point.length,g0=0;g0<f0;g0+=1)Yl[g0]=d0.points[p0].point[g0];break}else if(i0>=a0&&i0<a0+d0.points[p0+1].partialLength){for(c0=(i0-a0)/d0.points[p0+1].partialLength,f0=d0.points[p0].point.length,g0=0;g0<f0;g0+=1)Yl[g0]=d0.points[p0].point[g0]+(d0.points[p0+1].point[g0]-d0.points[p0].point[g0])*c0;break}p0<S0-1?p0+=1:_f=!1}Kl._lastPoint=p0,Kl._lastAddedLength=a0-d0.points[p0].partialLength,Kl._lastKeyframeIndex=Zl}}else{var v0,l0,b0,E0,C0;if(_d=e0.s.length,r0=s0.s||e0.e,this.sh&&e0.h!==1)if(Jl>=n0)Yl[0]=r0[0],Yl[1]=r0[1],Yl[2]=r0[2];else if(Jl<=t0)Yl[0]=e0.s[0],Yl[1]=e0.s[1],Yl[2]=e0.s[2];else{var $0=Nl(e0.s),I0=Nl(r0),x0=(Jl-t0)/(n0-t0);$l(Yl,et($0,I0,x0))}else for(Zl=0;Zl<_d;Zl+=1)e0.h!==1&&(Jl>=n0?_0=1:Jl<t0?_0=0:(e0.o.x.constructor===Array?(u0.__fnct||(u0.__fnct=[]),u0.__fnct[Zl]?o0=u0.__fnct[Zl]:(v0=e0.o.x[Zl]===void 0?e0.o.x[0]:e0.o.x[Zl],l0=e0.o.y[Zl]===void 0?e0.o.y[0]:e0.o.y[Zl],b0=e0.i.x[Zl]===void 0?e0.i.x[0]:e0.i.x[Zl],E0=e0.i.y[Zl]===void 0?e0.i.y[0]:e0.i.y[Zl],o0=BezierFactory.getBezierEasing(v0,l0,b0,E0).get,u0.__fnct[Zl]=o0)):u0.__fnct?o0=u0.__fnct:(v0=e0.o.x,l0=e0.o.y,b0=e0.i.x,E0=e0.i.y,o0=BezierFactory.getBezierEasing(v0,l0,b0,E0).get,e0.keyframeMetadata=o0),_0=o0((Jl-t0)/(n0-t0)))),r0=s0.s||e0.e,C0=e0.h===1?e0.s[Zl]:e0.s[Zl]+(r0[Zl]-e0.s[Zl])*_0,this.propType==="multidimensional"?Yl[Zl]=C0:Yl=C0}return Kl.lastIndex=Xl,Yl}function et(Jl,Kl,Hl){var Yl=[],Xl=Jl[0],Zl=Jl[1],_d=Jl[2],_f=Jl[3],e0=Kl[0],s0=Kl[1],u0=Kl[2],g0=Kl[3],f0,_0,S0,p0,o0;return _0=Xl*e0+Zl*s0+_d*u0+_f*g0,_0<0&&(_0=-_0,e0=-e0,s0=-s0,u0=-u0,g0=-g0),1-_0>1e-6?(f0=Math.acos(_0),S0=Math.sin(f0),p0=Math.sin((1-Hl)*f0)/S0,o0=Math.sin(Hl*f0)/S0):(p0=1-Hl,o0=Hl),Yl[0]=p0*Xl+o0*e0,Yl[1]=p0*Zl+o0*s0,Yl[2]=p0*_d+o0*u0,Yl[3]=p0*_f+o0*g0,Yl}function $l(Jl,Kl){var Hl=Kl[0],Yl=Kl[1],Xl=Kl[2],Zl=Kl[3],_d=Math.atan2(2*Yl*Zl-2*Hl*Xl,1-2*Yl*Yl-2*Xl*Xl),_f=Math.asin(2*Hl*Yl+2*Xl*Zl),e0=Math.atan2(2*Hl*Zl-2*Yl*Xl,1-2*Hl*Hl-2*Xl*Xl);Jl[0]=_d/degToRads,Jl[1]=_f/degToRads,Jl[2]=e0/degToRads}function Nl(Jl){var Kl=Jl[0]*degToRads,Hl=Jl[1]*degToRads,Yl=Jl[2]*degToRads,Xl=Math.cos(Kl/2),Zl=Math.cos(Hl/2),_d=Math.cos(Yl/2),_f=Math.sin(Kl/2),e0=Math.sin(Hl/2),s0=Math.sin(Yl/2),u0=Xl*Zl*_d-_f*e0*s0,g0=_f*e0*_d+Xl*Zl*s0,f0=_f*Zl*_d+Xl*e0*s0,_0=Xl*e0*_d-_f*Zl*s0;return[g0,f0,_0,u0]}function Ml(){var Jl=this.comp.renderedFrame-this.offsetTime,Kl=this.keyframes[0].t-this.offsetTime,Hl=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(Jl===this._caching.lastFrame||this._caching.lastFrame!==s&&(this._caching.lastFrame>=Hl&&Jl>=Hl||this._caching.lastFrame<Kl&&Jl<Kl))){this._caching.lastFrame>=Jl&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var Yl=this.interpolateValue(Jl,this._caching);this.pv=Yl}return this._caching.lastFrame=Jl,this.pv}function Ol(Jl){var Kl;if(this.propType==="unidimensional")Kl=Jl*this.mult,i(this.v-Kl)>1e-5&&(this.v=Kl,this._mdf=!0);else for(var Hl=0,Yl=this.v.length;Hl<Yl;)Kl=Jl[Hl]*this.mult,i(this.v[Hl]-Kl)>1e-5&&(this.v[Hl]=Kl,this._mdf=!0),Hl+=1}function Ll(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var Jl,Kl=this.effectsSequence.length,Hl=this.kf?this.pv:this.data.k;for(Jl=0;Jl<Kl;Jl+=1)Hl=this.effectsSequence[Jl](Hl);this.setVValue(Hl),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Fl(Jl){this.effectsSequence.push(Jl),this.container.addDynamicProperty(this)}function Bl(Jl,Kl,Hl,Yl){this.propType="unidimensional",this.mult=Hl||1,this.data=Kl,this.v=Hl?Kl.k*Hl:Kl.k,this.pv=Kl.k,this._mdf=!1,this.elem=Jl,this.container=Yl,this.comp=Jl.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=Ll,this.setVValue=Ol,this.addEffect=Fl}function Ul(Jl,Kl,Hl,Yl){this.propType="multidimensional",this.mult=Hl||1,this.data=Kl,this._mdf=!1,this.elem=Jl,this.container=Yl,this.comp=Jl.comp,this.k=!1,this.kf=!1,this.frameId=-1;var Xl,Zl=Kl.k.length;for(this.v=createTypedArray("float32",Zl),this.pv=createTypedArray("float32",Zl),this.vel=createTypedArray("float32",Zl),Xl=0;Xl<Zl;Xl+=1)this.v[Xl]=Kl.k[Xl]*this.mult,this.pv[Xl]=Kl.k[Xl];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=Ll,this.setVValue=Ol,this.addEffect=Fl}function Gl(Jl,Kl,Hl,Yl){this.propType="unidimensional",this.keyframes=Kl.k,this.keyframesMetadata=[],this.offsetTime=Jl.data.st,this.frameId=-1,this._caching={lastFrame:s,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=Kl,this.mult=Hl||1,this.elem=Jl,this.container=Yl,this.comp=Jl.comp,this.v=s,this.pv=s,this._isFirstFrame=!0,this.getValue=Ll,this.setVValue=Ol,this.interpolateValue=o,this.effectsSequence=[Ml.bind(this)],this.addEffect=Fl}function Wl(Jl,Kl,Hl,Yl){this.propType="multidimensional";var Xl,Zl=Kl.k.length,_d,_f,e0,s0;for(Xl=0;Xl<Zl-1;Xl+=1)Kl.k[Xl].to&&Kl.k[Xl].s&&Kl.k[Xl+1]&&Kl.k[Xl+1].s&&(_d=Kl.k[Xl].s,_f=Kl.k[Xl+1].s,e0=Kl.k[Xl].to,s0=Kl.k[Xl].ti,(_d.length===2&&!(_d[0]===_f[0]&&_d[1]===_f[1])&&bez.pointOnLine2D(_d[0],_d[1],_f[0],_f[1],_d[0]+e0[0],_d[1]+e0[1])&&bez.pointOnLine2D(_d[0],_d[1],_f[0],_f[1],_f[0]+s0[0],_f[1]+s0[1])||_d.length===3&&!(_d[0]===_f[0]&&_d[1]===_f[1]&&_d[2]===_f[2])&&bez.pointOnLine3D(_d[0],_d[1],_d[2],_f[0],_f[1],_f[2],_d[0]+e0[0],_d[1]+e0[1],_d[2]+e0[2])&&bez.pointOnLine3D(_d[0],_d[1],_d[2],_f[0],_f[1],_f[2],_f[0]+s0[0],_f[1]+s0[1],_f[2]+s0[2]))&&(Kl.k[Xl].to=null,Kl.k[Xl].ti=null),_d[0]===_f[0]&&_d[1]===_f[1]&&e0[0]===0&&e0[1]===0&&s0[0]===0&&s0[1]===0&&(_d.length===2||_d[2]===_f[2]&&e0[2]===0&&s0[2]===0)&&(Kl.k[Xl].to=null,Kl.k[Xl].ti=null));this.effectsSequence=[Ml.bind(this)],this.data=Kl,this.keyframes=Kl.k,this.keyframesMetadata=[],this.offsetTime=Jl.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=Hl||1,this.elem=Jl,this.container=Yl,this.comp=Jl.comp,this.getValue=Ll,this.setVValue=Ol,this.interpolateValue=o,this.frameId=-1;var u0=Kl.k[0].s.length;for(this.v=createTypedArray("float32",u0),this.pv=createTypedArray("float32",u0),Xl=0;Xl<u0;Xl+=1)this.v[Xl]=s,this.pv[Xl]=s;this._caching={lastFrame:s,lastIndex:0,value:createTypedArray("float32",u0)},this.addEffect=Fl}function zl(Jl,Kl,Hl,Yl,Xl){var Zl;if(!Kl.k.length)Zl=new Bl(Jl,Kl,Yl,Xl);else if(typeof Kl.k[0]=="number")Zl=new Ul(Jl,Kl,Yl,Xl);else switch(Hl){case 0:Zl=new Gl(Jl,Kl,Yl,Xl);break;case 1:Zl=new Wl(Jl,Kl,Yl,Xl);break}return Zl.effectsSequence.length&&Xl.addDynamicProperty(Zl),Zl}var Ql={getProp:zl};return Ql}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(i){this.dynamicProperties.indexOf(i)===-1&&(this.dynamicProperties.push(i),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var i,o=this.dynamicProperties.length;for(i=0;i<o;i+=1)this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(i){this.container=i,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function s(){return createTypedArray("float32",2)}return poolFactory(8,s)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(s,i){this.c=s,this.setLength(i);for(var o=0;o<i;)this.v[o]=pointPool.newElement(),this.o[o]=pointPool.newElement(),this.i[o]=pointPool.newElement(),o+=1},ShapePath.prototype.setLength=function(s){for(;this._maxLength<s;)this.doubleArrayLength();this._length=s},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(s,i,o,et,$l){var Nl;switch(this._length=Math.max(this._length,et+1),this._length>=this._maxLength&&this.doubleArrayLength(),o){case"v":Nl=this.v;break;case"i":Nl=this.i;break;case"o":Nl=this.o;break;default:Nl=[];break}(!Nl[et]||Nl[et]&&!$l)&&(Nl[et]=pointPool.newElement()),Nl[et][0]=s,Nl[et][1]=i},ShapePath.prototype.setTripleAt=function(s,i,o,et,$l,Nl,Ml,Ol){this.setXYAt(s,i,"v",Ml,Ol),this.setXYAt(o,et,"o",Ml,Ol),this.setXYAt($l,Nl,"i",Ml,Ol)},ShapePath.prototype.reverse=function(){var s=new ShapePath;s.setPathData(this.c,this._length);var i=this.v,o=this.o,et=this.i,$l=0;this.c&&(s.setTripleAt(i[0][0],i[0][1],et[0][0],et[0][1],o[0][0],o[0][1],0,!1),$l=1);var Nl=this._length-1,Ml=this._length,Ol;for(Ol=$l;Ol<Ml;Ol+=1)s.setTripleAt(i[Nl][0],i[Nl][1],et[Nl][0],et[Nl][1],o[Nl][0],o[Nl][1],Ol,!1),Nl-=1;return s};var shapePool=function(){function s(){return new ShapePath}function i($l){var Nl=$l._length,Ml;for(Ml=0;Ml<Nl;Ml+=1)pointPool.release($l.v[Ml]),pointPool.release($l.i[Ml]),pointPool.release($l.o[Ml]),$l.v[Ml]=null,$l.i[Ml]=null,$l.o[Ml]=null;$l._length=0,$l.c=!1}function o($l){var Nl=et.newElement(),Ml,Ol=$l._length===void 0?$l.v.length:$l._length;for(Nl.setLength(Ol),Nl.c=$l.c,Ml=0;Ml<Ol;Ml+=1)Nl.setTripleAt($l.v[Ml][0],$l.v[Ml][1],$l.o[Ml][0],$l.o[Ml][1],$l.i[Ml][0],$l.i[Ml][1],Ml);return Nl}var et=poolFactory(4,s,i);return et.clone=o,et}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(s){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=s,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var s;for(s=0;s<this._length;s+=1)shapePool.release(this.shapes[s]);this._length=0};var shapeCollectionPool=function(){var s={newShapeCollection:$l,release:Nl},i=0,o=4,et=createSizedArray(o);function $l(){var Ml;return i?(i-=1,Ml=et[i]):Ml=new ShapeCollection,Ml}function Nl(Ml){var Ol,Ll=Ml._length;for(Ol=0;Ol<Ll;Ol+=1)shapePool.release(Ml.shapes[Ol]);Ml._length=0,i===o&&(et=pooling.double(et),o*=2),et[i]=Ml,i+=1}return s}(),ShapePropertyFactory=function(){var s=-999999;function i(Kl,Hl,Yl){var Xl=Yl.lastIndex,Zl,_d,_f,e0,s0,u0,g0,f0,_0,S0=this.keyframes;if(Kl<S0[0].t-this.offsetTime)Zl=S0[0].s[0],_f=!0,Xl=0;else if(Kl>=S0[S0.length-1].t-this.offsetTime)Zl=S0[S0.length-1].s?S0[S0.length-1].s[0]:S0[S0.length-2].e[0],_f=!0;else{for(var p0=Xl,o0=S0.length-1,n0=!0,t0,r0,d0;n0&&(t0=S0[p0],r0=S0[p0+1],!(r0.t-this.offsetTime>Kl));)p0<o0-1?p0+=1:n0=!1;if(d0=this.keyframesMetadata[p0]||{},_f=t0.h===1,Xl=p0,!_f){if(Kl>=r0.t-this.offsetTime)f0=1;else if(Kl<t0.t-this.offsetTime)f0=0;else{var h0;d0.__fnct?h0=d0.__fnct:(h0=BezierFactory.getBezierEasing(t0.o.x,t0.o.y,t0.i.x,t0.i.y).get,d0.__fnct=h0),f0=h0((Kl-(t0.t-this.offsetTime))/(r0.t-this.offsetTime-(t0.t-this.offsetTime)))}_d=r0.s?r0.s[0]:t0.e[0]}Zl=t0.s[0]}for(u0=Hl._length,g0=Zl.i[0].length,Yl.lastIndex=Xl,e0=0;e0<u0;e0+=1)for(s0=0;s0<g0;s0+=1)_0=_f?Zl.i[e0][s0]:Zl.i[e0][s0]+(_d.i[e0][s0]-Zl.i[e0][s0])*f0,Hl.i[e0][s0]=_0,_0=_f?Zl.o[e0][s0]:Zl.o[e0][s0]+(_d.o[e0][s0]-Zl.o[e0][s0])*f0,Hl.o[e0][s0]=_0,_0=_f?Zl.v[e0][s0]:Zl.v[e0][s0]+(_d.v[e0][s0]-Zl.v[e0][s0])*f0,Hl.v[e0][s0]=_0}function o(){var Kl=this.comp.renderedFrame-this.offsetTime,Hl=this.keyframes[0].t-this.offsetTime,Yl=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Xl=this._caching.lastFrame;return Xl!==s&&(Xl<Hl&&Kl<Hl||Xl>Yl&&Kl>Yl)||(this._caching.lastIndex=Xl<Kl?this._caching.lastIndex:0,this.interpolateShape(Kl,this.pv,this._caching)),this._caching.lastFrame=Kl,this.pv}function et(){this.paths=this.localShapeCollection}function $l(Kl,Hl){if(Kl._length!==Hl._length||Kl.c!==Hl.c)return!1;var Yl,Xl=Kl._length;for(Yl=0;Yl<Xl;Yl+=1)if(Kl.v[Yl][0]!==Hl.v[Yl][0]||Kl.v[Yl][1]!==Hl.v[Yl][1]||Kl.o[Yl][0]!==Hl.o[Yl][0]||Kl.o[Yl][1]!==Hl.o[Yl][1]||Kl.i[Yl][0]!==Hl.i[Yl][0]||Kl.i[Yl][1]!==Hl.i[Yl][1])return!1;return!0}function Nl(Kl){$l(this.v,Kl)||(this.v=shapePool.clone(Kl),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function Ml(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Kl;this.kf?Kl=this.pv:this.data.ks?Kl=this.data.ks.k:Kl=this.data.pt.k;var Hl,Yl=this.effectsSequence.length;for(Hl=0;Hl<Yl;Hl+=1)Kl=this.effectsSequence[Hl](Kl);this.setVValue(Kl),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Ol(Kl,Hl,Yl){this.propType="shape",this.comp=Kl.comp,this.container=Kl,this.elem=Kl,this.data=Hl,this.k=!1,this.kf=!1,this._mdf=!1;var Xl=Yl===3?Hl.pt.k:Hl.ks.k;this.v=shapePool.clone(Xl),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=et,this.effectsSequence=[]}function Ll(Kl){this.effectsSequence.push(Kl),this.container.addDynamicProperty(this)}Ol.prototype.interpolateShape=i,Ol.prototype.getValue=Ml,Ol.prototype.setVValue=Nl,Ol.prototype.addEffect=Ll;function Fl(Kl,Hl,Yl){this.propType="shape",this.comp=Kl.comp,this.elem=Kl,this.container=Kl,this.offsetTime=Kl.data.st,this.keyframes=Yl===3?Hl.pt.k:Hl.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Xl=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Xl),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=s,this.reset=et,this._caching={lastFrame:s,lastIndex:0},this.effectsSequence=[o.bind(this)]}Fl.prototype.getValue=Ml,Fl.prototype.interpolateShape=i,Fl.prototype.setVValue=Nl,Fl.prototype.addEffect=Ll;var Bl=function(){var Kl=roundCorner;function Hl(Yl,Xl){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Xl.d,this.elem=Yl,this.comp=Yl.comp,this.frameId=-1,this.initDynamicPropertyContainer(Yl),this.p=PropertyFactory.getProp(Yl,Xl.p,1,0,this),this.s=PropertyFactory.getProp(Yl,Xl.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Hl.prototype={reset:et,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Xl=this.p.v[0],Zl=this.p.v[1],_d=this.s.v[0]/2,_f=this.s.v[1]/2,e0=this.d!==3,s0=this.v;s0.v[0][0]=Xl,s0.v[0][1]=Zl-_f,s0.v[1][0]=e0?Xl+_d:Xl-_d,s0.v[1][1]=Zl,s0.v[2][0]=Xl,s0.v[2][1]=Zl+_f,s0.v[3][0]=e0?Xl-_d:Xl+_d,s0.v[3][1]=Zl,s0.i[0][0]=e0?Xl-_d*Kl:Xl+_d*Kl,s0.i[0][1]=Zl-_f,s0.i[1][0]=e0?Xl+_d:Xl-_d,s0.i[1][1]=Zl-_f*Kl,s0.i[2][0]=e0?Xl+_d*Kl:Xl-_d*Kl,s0.i[2][1]=Zl+_f,s0.i[3][0]=e0?Xl-_d:Xl+_d,s0.i[3][1]=Zl+_f*Kl,s0.o[0][0]=e0?Xl+_d*Kl:Xl-_d*Kl,s0.o[0][1]=Zl-_f,s0.o[1][0]=e0?Xl+_d:Xl-_d,s0.o[1][1]=Zl+_f*Kl,s0.o[2][0]=e0?Xl-_d*Kl:Xl+_d*Kl,s0.o[2][1]=Zl+_f,s0.o[3][0]=e0?Xl-_d:Xl+_d,s0.o[3][1]=Zl-_f*Kl}},extendPrototype([DynamicPropertyContainer],Hl),Hl}(),Ul=function(){function Kl(Hl,Yl){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Hl,this.comp=Hl.comp,this.data=Yl,this.frameId=-1,this.d=Yl.d,this.initDynamicPropertyContainer(Hl),Yl.sy===1?(this.ir=PropertyFactory.getProp(Hl,Yl.ir,0,0,this),this.is=PropertyFactory.getProp(Hl,Yl.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Hl,Yl.pt,0,0,this),this.p=PropertyFactory.getProp(Hl,Yl.p,1,0,this),this.r=PropertyFactory.getProp(Hl,Yl.r,0,degToRads,this),this.or=PropertyFactory.getProp(Hl,Yl.or,0,0,this),this.os=PropertyFactory.getProp(Hl,Yl.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Kl.prototype={reset:et,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Yl=Math.floor(this.pt.v)*2,Xl=Math.PI*2/Yl,Zl=!0,_d=this.or.v,_f=this.ir.v,e0=this.os.v,s0=this.is.v,u0=2*Math.PI*_d/(Yl*2),g0=2*Math.PI*_f/(Yl*2),f0,_0,S0,p0,o0=-Math.PI/2;o0+=this.r.v;var n0=this.data.d===3?-1:1;for(this.v._length=0,f0=0;f0<Yl;f0+=1){_0=Zl?_d:_f,S0=Zl?e0:s0,p0=Zl?u0:g0;var t0=_0*Math.cos(o0),r0=_0*Math.sin(o0),d0=t0===0&&r0===0?0:r0/Math.sqrt(t0*t0+r0*r0),h0=t0===0&&r0===0?0:-t0/Math.sqrt(t0*t0+r0*r0);t0+=+this.p.v[0],r0+=+this.p.v[1],this.v.setTripleAt(t0,r0,t0-d0*p0*S0*n0,r0-h0*p0*S0*n0,t0+d0*p0*S0*n0,r0+h0*p0*S0*n0,f0,!0),Zl=!Zl,o0+=Xl*n0}},convertPolygonToPath:function(){var Yl=Math.floor(this.pt.v),Xl=Math.PI*2/Yl,Zl=this.or.v,_d=this.os.v,_f=2*Math.PI*Zl/(Yl*4),e0,s0=-Math.PI*.5,u0=this.data.d===3?-1:1;for(s0+=this.r.v,this.v._length=0,e0=0;e0<Yl;e0+=1){var g0=Zl*Math.cos(s0),f0=Zl*Math.sin(s0),_0=g0===0&&f0===0?0:f0/Math.sqrt(g0*g0+f0*f0),S0=g0===0&&f0===0?0:-g0/Math.sqrt(g0*g0+f0*f0);g0+=+this.p.v[0],f0+=+this.p.v[1],this.v.setTripleAt(g0,f0,g0-_0*_f*_d*u0,f0-S0*_f*_d*u0,g0+_0*_f*_d*u0,f0+S0*_f*_d*u0,e0,!0),s0+=Xl*u0}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Kl),Kl}(),Gl=function(){function Kl(Hl,Yl){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Hl,this.comp=Hl.comp,this.frameId=-1,this.d=Yl.d,this.initDynamicPropertyContainer(Hl),this.p=PropertyFactory.getProp(Hl,Yl.p,1,0,this),this.s=PropertyFactory.getProp(Hl,Yl.s,1,0,this),this.r=PropertyFactory.getProp(Hl,Yl.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Kl.prototype={convertRectToPath:function(){var Yl=this.p.v[0],Xl=this.p.v[1],Zl=this.s.v[0]/2,_d=this.s.v[1]/2,_f=bmMin(Zl,_d,this.r.v),e0=_f*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(Yl+Zl,Xl-_d+_f,Yl+Zl,Xl-_d+_f,Yl+Zl,Xl-_d+e0,0,!0),this.v.setTripleAt(Yl+Zl,Xl+_d-_f,Yl+Zl,Xl+_d-e0,Yl+Zl,Xl+_d-_f,1,!0),_f!==0?(this.v.setTripleAt(Yl+Zl-_f,Xl+_d,Yl+Zl-_f,Xl+_d,Yl+Zl-e0,Xl+_d,2,!0),this.v.setTripleAt(Yl-Zl+_f,Xl+_d,Yl-Zl+e0,Xl+_d,Yl-Zl+_f,Xl+_d,3,!0),this.v.setTripleAt(Yl-Zl,Xl+_d-_f,Yl-Zl,Xl+_d-_f,Yl-Zl,Xl+_d-e0,4,!0),this.v.setTripleAt(Yl-Zl,Xl-_d+_f,Yl-Zl,Xl-_d+e0,Yl-Zl,Xl-_d+_f,5,!0),this.v.setTripleAt(Yl-Zl+_f,Xl-_d,Yl-Zl+_f,Xl-_d,Yl-Zl+e0,Xl-_d,6,!0),this.v.setTripleAt(Yl+Zl-_f,Xl-_d,Yl+Zl-e0,Xl-_d,Yl+Zl-_f,Xl-_d,7,!0)):(this.v.setTripleAt(Yl-Zl,Xl+_d,Yl-Zl+e0,Xl+_d,Yl-Zl,Xl+_d,2),this.v.setTripleAt(Yl-Zl,Xl-_d,Yl-Zl,Xl-_d+e0,Yl-Zl,Xl-_d,3))):(this.v.setTripleAt(Yl+Zl,Xl-_d+_f,Yl+Zl,Xl-_d+e0,Yl+Zl,Xl-_d+_f,0,!0),_f!==0?(this.v.setTripleAt(Yl+Zl-_f,Xl-_d,Yl+Zl-_f,Xl-_d,Yl+Zl-e0,Xl-_d,1,!0),this.v.setTripleAt(Yl-Zl+_f,Xl-_d,Yl-Zl+e0,Xl-_d,Yl-Zl+_f,Xl-_d,2,!0),this.v.setTripleAt(Yl-Zl,Xl-_d+_f,Yl-Zl,Xl-_d+_f,Yl-Zl,Xl-_d+e0,3,!0),this.v.setTripleAt(Yl-Zl,Xl+_d-_f,Yl-Zl,Xl+_d-e0,Yl-Zl,Xl+_d-_f,4,!0),this.v.setTripleAt(Yl-Zl+_f,Xl+_d,Yl-Zl+_f,Xl+_d,Yl-Zl+e0,Xl+_d,5,!0),this.v.setTripleAt(Yl+Zl-_f,Xl+_d,Yl+Zl-e0,Xl+_d,Yl+Zl-_f,Xl+_d,6,!0),this.v.setTripleAt(Yl+Zl,Xl+_d-_f,Yl+Zl,Xl+_d-_f,Yl+Zl,Xl+_d-e0,7,!0)):(this.v.setTripleAt(Yl-Zl,Xl-_d,Yl-Zl+e0,Xl-_d,Yl-Zl,Xl-_d,1,!0),this.v.setTripleAt(Yl-Zl,Xl+_d,Yl-Zl,Xl+_d-e0,Yl-Zl,Xl+_d,2,!0),this.v.setTripleAt(Yl+Zl,Xl+_d,Yl+Zl-e0,Xl+_d,Yl+Zl,Xl+_d,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:et},extendPrototype([DynamicPropertyContainer],Kl),Kl}();function Wl(Kl,Hl,Yl){var Xl;if(Yl===3||Yl===4){var Zl=Yl===3?Hl.pt:Hl.ks,_d=Zl.k;_d.length?Xl=new Fl(Kl,Hl,Yl):Xl=new Ol(Kl,Hl,Yl)}else Yl===5?Xl=new Gl(Kl,Hl):Yl===6?Xl=new Bl(Kl,Hl):Yl===7&&(Xl=new Ul(Kl,Hl));return Xl.k&&Kl.addDynamicProperty(Xl),Xl}function zl(){return Ol}function Ql(){return Fl}var Jl={};return Jl.getShapeProp=Wl,Jl.getConstructorFunction=zl,Jl.getKeyframedConstructorFunction=Ql,Jl}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var s=Math.cos,i=Math.sin,o=Math.tan,et=Math.round;function $l(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function Nl(n0){if(n0===0)return this;var t0=s(n0),r0=i(n0);return this._t(t0,-r0,0,0,r0,t0,0,0,0,0,1,0,0,0,0,1)}function Ml(n0){if(n0===0)return this;var t0=s(n0),r0=i(n0);return this._t(1,0,0,0,0,t0,-r0,0,0,r0,t0,0,0,0,0,1)}function Ol(n0){if(n0===0)return this;var t0=s(n0),r0=i(n0);return this._t(t0,0,r0,0,0,1,0,0,-r0,0,t0,0,0,0,0,1)}function Ll(n0){if(n0===0)return this;var t0=s(n0),r0=i(n0);return this._t(t0,-r0,0,0,r0,t0,0,0,0,0,1,0,0,0,0,1)}function Fl(n0,t0){return this._t(1,t0,n0,1,0,0)}function Bl(n0,t0){return this.shear(o(n0),o(t0))}function Ul(n0,t0){var r0=s(t0),d0=i(t0);return this._t(r0,d0,0,0,-d0,r0,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,o(n0),1,0,0,0,0,1,0,0,0,0,1)._t(r0,-d0,0,0,d0,r0,0,0,0,0,1,0,0,0,0,1)}function Gl(n0,t0,r0){return!r0&&r0!==0&&(r0=1),n0===1&&t0===1&&r0===1?this:this._t(n0,0,0,0,0,t0,0,0,0,0,r0,0,0,0,0,1)}function Wl(n0,t0,r0,d0,h0,i0,c0,a0,v0,l0,b0,E0,C0,$0,I0,x0){return this.props[0]=n0,this.props[1]=t0,this.props[2]=r0,this.props[3]=d0,this.props[4]=h0,this.props[5]=i0,this.props[6]=c0,this.props[7]=a0,this.props[8]=v0,this.props[9]=l0,this.props[10]=b0,this.props[11]=E0,this.props[12]=C0,this.props[13]=$0,this.props[14]=I0,this.props[15]=x0,this}function zl(n0,t0,r0){return r0=r0||0,n0!==0||t0!==0||r0!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,n0,t0,r0,1):this}function Ql(n0,t0,r0,d0,h0,i0,c0,a0,v0,l0,b0,E0,C0,$0,I0,x0){var w0=this.props;if(n0===1&&t0===0&&r0===0&&d0===0&&h0===0&&i0===1&&c0===0&&a0===0&&v0===0&&l0===0&&b0===1&&E0===0)return w0[12]=w0[12]*n0+w0[15]*C0,w0[13]=w0[13]*i0+w0[15]*$0,w0[14]=w0[14]*b0+w0[15]*I0,w0[15]*=x0,this._identityCalculated=!1,this;var M0=w0[0],D0=w0[1],V0=w0[2],N0=w0[3],j0=w0[4],K0=w0[5],G0=w0[6],W0=w0[7],Y0=w0[8],H0=w0[9],P0=w0[10],U0=w0[11],Q0=w0[12],Z0=w0[13],X0=w0[14],rp=w0[15];return w0[0]=M0*n0+D0*h0+V0*v0+N0*C0,w0[1]=M0*t0+D0*i0+V0*l0+N0*$0,w0[2]=M0*r0+D0*c0+V0*b0+N0*I0,w0[3]=M0*d0+D0*a0+V0*E0+N0*x0,w0[4]=j0*n0+K0*h0+G0*v0+W0*C0,w0[5]=j0*t0+K0*i0+G0*l0+W0*$0,w0[6]=j0*r0+K0*c0+G0*b0+W0*I0,w0[7]=j0*d0+K0*a0+G0*E0+W0*x0,w0[8]=Y0*n0+H0*h0+P0*v0+U0*C0,w0[9]=Y0*t0+H0*i0+P0*l0+U0*$0,w0[10]=Y0*r0+H0*c0+P0*b0+U0*I0,w0[11]=Y0*d0+H0*a0+P0*E0+U0*x0,w0[12]=Q0*n0+Z0*h0+X0*v0+rp*C0,w0[13]=Q0*t0+Z0*i0+X0*l0+rp*$0,w0[14]=Q0*r0+Z0*c0+X0*b0+rp*I0,w0[15]=Q0*d0+Z0*a0+X0*E0+rp*x0,this._identityCalculated=!1,this}function Jl(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Kl(n0){for(var t0=0;t0<16;){if(n0.props[t0]!==this.props[t0])return!1;t0+=1}return!0}function Hl(n0){var t0;for(t0=0;t0<16;t0+=1)n0.props[t0]=this.props[t0];return n0}function Yl(n0){var t0;for(t0=0;t0<16;t0+=1)this.props[t0]=n0[t0]}function Xl(n0,t0,r0){return{x:n0*this.props[0]+t0*this.props[4]+r0*this.props[8]+this.props[12],y:n0*this.props[1]+t0*this.props[5]+r0*this.props[9]+this.props[13],z:n0*this.props[2]+t0*this.props[6]+r0*this.props[10]+this.props[14]}}function Zl(n0,t0,r0){return n0*this.props[0]+t0*this.props[4]+r0*this.props[8]+this.props[12]}function _d(n0,t0,r0){return n0*this.props[1]+t0*this.props[5]+r0*this.props[9]+this.props[13]}function _f(n0,t0,r0){return n0*this.props[2]+t0*this.props[6]+r0*this.props[10]+this.props[14]}function e0(){var n0=this.props[0]*this.props[5]-this.props[1]*this.props[4],t0=this.props[5]/n0,r0=-this.props[1]/n0,d0=-this.props[4]/n0,h0=this.props[0]/n0,i0=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/n0,c0=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/n0,a0=new Matrix;return a0.props[0]=t0,a0.props[1]=r0,a0.props[4]=d0,a0.props[5]=h0,a0.props[12]=i0,a0.props[13]=c0,a0}function s0(n0){var t0=this.getInverseMatrix();return t0.applyToPointArray(n0[0],n0[1],n0[2]||0)}function u0(n0){var t0,r0=n0.length,d0=[];for(t0=0;t0<r0;t0+=1)d0[t0]=s0(n0[t0]);return d0}function g0(n0,t0,r0){var d0=createTypedArray("float32",6);if(this.isIdentity())d0[0]=n0[0],d0[1]=n0[1],d0[2]=t0[0],d0[3]=t0[1],d0[4]=r0[0],d0[5]=r0[1];else{var h0=this.props[0],i0=this.props[1],c0=this.props[4],a0=this.props[5],v0=this.props[12],l0=this.props[13];d0[0]=n0[0]*h0+n0[1]*c0+v0,d0[1]=n0[0]*i0+n0[1]*a0+l0,d0[2]=t0[0]*h0+t0[1]*c0+v0,d0[3]=t0[0]*i0+t0[1]*a0+l0,d0[4]=r0[0]*h0+r0[1]*c0+v0,d0[5]=r0[0]*i0+r0[1]*a0+l0}return d0}function f0(n0,t0,r0){var d0;return this.isIdentity()?d0=[n0,t0,r0]:d0=[n0*this.props[0]+t0*this.props[4]+r0*this.props[8]+this.props[12],n0*this.props[1]+t0*this.props[5]+r0*this.props[9]+this.props[13],n0*this.props[2]+t0*this.props[6]+r0*this.props[10]+this.props[14]],d0}function _0(n0,t0){if(this.isIdentity())return n0+","+t0;var r0=this.props;return Math.round((n0*r0[0]+t0*r0[4]+r0[12])*100)/100+","+Math.round((n0*r0[1]+t0*r0[5]+r0[13])*100)/100}function S0(){for(var n0=0,t0=this.props,r0="matrix3d(",d0=1e4;n0<16;)r0+=et(t0[n0]*d0)/d0,r0+=n0===15?")":",",n0+=1;return r0}function p0(n0){var t0=1e4;return n0<1e-6&&n0>0||n0>-1e-6&&n0<0?et(n0*t0)/t0:n0}function o0(){var n0=this.props,t0=p0(n0[0]),r0=p0(n0[1]),d0=p0(n0[4]),h0=p0(n0[5]),i0=p0(n0[12]),c0=p0(n0[13]);return"matrix("+t0+","+r0+","+d0+","+h0+","+i0+","+c0+")"}return function(){this.reset=$l,this.rotate=Nl,this.rotateX=Ml,this.rotateY=Ol,this.rotateZ=Ll,this.skew=Bl,this.skewFromAxis=Ul,this.shear=Fl,this.scale=Gl,this.setTransform=Wl,this.translate=zl,this.transform=Ql,this.applyToPoint=Xl,this.applyToX=Zl,this.applyToY=_d,this.applyToZ=_f,this.applyToPointArray=f0,this.applyToTriplePoints=g0,this.applyToPointStringified=_0,this.toCSS=S0,this.to2dCSS=o0,this.clone=Hl,this.cloneFromProps=Yl,this.equals=Kl,this.inversePoints=u0,this.inversePoint=s0,this.getInverseMatrix=e0,this._t=this.transform,this.isIdentity=Jl,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(o){return typeof o}:_typeof$3=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$3(s)}var lottie={};function setLocation(s){setLocationHref(s)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(s){setSubframeEnabled(s)}function setPrefix(s){setIdPrefix(s)}function loadAnimation(s){return animationManager.loadAnimation(s)}function setQuality(s){if(typeof s=="string")switch(s){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(s)&&s>1&&setDefaultCurveSegments(s)}function inBrowser(){return typeof navigator!="undefined"}function installPlugin(s,i){s==="expressions"&&setExpressionsPlugin(i)}function getFactory(s){switch(s){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.6";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(s){for(var i=queryString.split("&"),o=0;o<i.length;o+=1){var et=i[o].split("=");if(decodeURIComponent(et[0])==s)return decodeURIComponent(et[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(s){}var ShapeModifiers=function(){var s={},i={};s.registerModifier=o,s.getModifier=et;function o($l,Nl){i[$l]||(i[$l]=Nl)}function et($l,Nl,Ml){return new i[$l](Nl,Ml)}return s}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(s){if(!this.closed){s.sh.container.addDynamicProperty(s.sh);var i={shape:s.sh,data:s,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(i),this.addShapeToModifier(i),this._isAnimated&&s.setAsAnimated()}},ShapeModifier.prototype.init=function(s,i){this.shapes=[],this.elem=s,this.initDynamicPropertyContainer(s),this.initModifierProperties(s,i),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(s,i){this.s=PropertyFactory.getProp(s,i.s,0,.01,this),this.e=PropertyFactory.getProp(s,i.e,0,.01,this),this.o=PropertyFactory.getProp(s,i.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=i.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(s){s.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(s,i,o,et,$l){var Nl=[];i<=1?Nl.push({s,e:i}):s>=1?Nl.push({s:s-1,e:i-1}):(Nl.push({s,e:1}),Nl.push({s:0,e:i-1}));var Ml=[],Ol,Ll=Nl.length,Fl;for(Ol=0;Ol<Ll;Ol+=1)if(Fl=Nl[Ol],!(Fl.e*$l<et||Fl.s*$l>et+o)){var Bl,Ul;Fl.s*$l<=et?Bl=0:Bl=(Fl.s*$l-et)/o,Fl.e*$l>=et+o?Ul=1:Ul=(Fl.e*$l-et)/o,Ml.push([Bl,Ul])}return Ml.length||Ml.push([0,0]),Ml},TrimModifier.prototype.releasePathsData=function(s){var i,o=s.length;for(i=0;i<o;i+=1)segmentsLengthPool.release(s[i]);return s.length=0,s},TrimModifier.prototype.processShapes=function(s){var i,o;if(this._mdf||s){var et=this.o.v%360/360;if(et<0&&(et+=1),this.s.v>1?i=1+et:this.s.v<0?i=0+et:i=this.s.v+et,this.e.v>1?o=1+et:this.e.v<0?o=0+et:o=this.e.v+et,i>o){var $l=i;i=o,o=$l}i=Math.round(i*1e4)*1e-4,o=Math.round(o*1e4)*1e-4,this.sValue=i,this.eValue=o}else i=this.sValue,o=this.eValue;var Nl,Ml,Ol=this.shapes.length,Ll,Fl,Bl,Ul,Gl,Wl=0;if(o===i)for(Ml=0;Ml<Ol;Ml+=1)this.shapes[Ml].localShapeCollection.releaseShapes(),this.shapes[Ml].shape._mdf=!0,this.shapes[Ml].shape.paths=this.shapes[Ml].localShapeCollection,this._mdf&&(this.shapes[Ml].pathsData.length=0);else if(o===1&&i===0||o===0&&i===1){if(this._mdf)for(Ml=0;Ml<Ol;Ml+=1)this.shapes[Ml].pathsData.length=0,this.shapes[Ml].shape._mdf=!0}else{var zl=[],Ql,Jl;for(Ml=0;Ml<Ol;Ml+=1)if(Ql=this.shapes[Ml],!Ql.shape._mdf&&!this._mdf&&!s&&this.m!==2)Ql.shape.paths=Ql.localShapeCollection;else{if(Nl=Ql.shape.paths,Fl=Nl._length,Gl=0,!Ql.shape._mdf&&Ql.pathsData.length)Gl=Ql.totalShapeLength;else{for(Bl=this.releasePathsData(Ql.pathsData),Ll=0;Ll<Fl;Ll+=1)Ul=bez.getSegmentsLength(Nl.shapes[Ll]),Bl.push(Ul),Gl+=Ul.totalLength;Ql.totalShapeLength=Gl,Ql.pathsData=Bl}Wl+=Gl,Ql.shape._mdf=!0}var Kl=i,Hl=o,Yl=0,Xl;for(Ml=Ol-1;Ml>=0;Ml-=1)if(Ql=this.shapes[Ml],Ql.shape._mdf){for(Jl=Ql.localShapeCollection,Jl.releaseShapes(),this.m===2&&Ol>1?(Xl=this.calculateShapeEdges(i,o,Ql.totalShapeLength,Yl,Wl),Yl+=Ql.totalShapeLength):Xl=[[Kl,Hl]],Fl=Xl.length,Ll=0;Ll<Fl;Ll+=1){Kl=Xl[Ll][0],Hl=Xl[Ll][1],zl.length=0,Hl<=1?zl.push({s:Ql.totalShapeLength*Kl,e:Ql.totalShapeLength*Hl}):Kl>=1?zl.push({s:Ql.totalShapeLength*(Kl-1),e:Ql.totalShapeLength*(Hl-1)}):(zl.push({s:Ql.totalShapeLength*Kl,e:Ql.totalShapeLength}),zl.push({s:0,e:Ql.totalShapeLength*(Hl-1)}));var Zl=this.addShapes(Ql,zl[0]);if(zl[0].s!==zl[0].e){if(zl.length>1){var _d=Ql.shape.paths.shapes[Ql.shape.paths._length-1];if(_d.c){var _f=Zl.pop();this.addPaths(Zl,Jl),Zl=this.addShapes(Ql,zl[1],_f)}else this.addPaths(Zl,Jl),Zl=this.addShapes(Ql,zl[1])}this.addPaths(Zl,Jl)}}Ql.shape.paths=Jl}}},TrimModifier.prototype.addPaths=function(s,i){var o,et=s.length;for(o=0;o<et;o+=1)i.addShape(s[o])},TrimModifier.prototype.addSegment=function(s,i,o,et,$l,Nl,Ml){$l.setXYAt(i[0],i[1],"o",Nl),$l.setXYAt(o[0],o[1],"i",Nl+1),Ml&&$l.setXYAt(s[0],s[1],"v",Nl),$l.setXYAt(et[0],et[1],"v",Nl+1)},TrimModifier.prototype.addSegmentFromArray=function(s,i,o,et){i.setXYAt(s[1],s[5],"o",o),i.setXYAt(s[2],s[6],"i",o+1),et&&i.setXYAt(s[0],s[4],"v",o),i.setXYAt(s[3],s[7],"v",o+1)},TrimModifier.prototype.addShapes=function(s,i,o){var et=s.pathsData,$l=s.shape.paths.shapes,Nl,Ml=s.shape.paths._length,Ol,Ll,Fl=0,Bl,Ul,Gl,Wl,zl=[],Ql,Jl=!0;for(o?(Ul=o._length,Ql=o._length):(o=shapePool.newElement(),Ul=0,Ql=0),zl.push(o),Nl=0;Nl<Ml;Nl+=1){for(Gl=et[Nl].lengths,o.c=$l[Nl].c,Ll=$l[Nl].c?Gl.length:Gl.length+1,Ol=1;Ol<Ll;Ol+=1)if(Bl=Gl[Ol-1],Fl+Bl.addedLength<i.s)Fl+=Bl.addedLength,o.c=!1;else if(Fl>i.e){o.c=!1;break}else i.s<=Fl&&i.e>=Fl+Bl.addedLength?(this.addSegment($l[Nl].v[Ol-1],$l[Nl].o[Ol-1],$l[Nl].i[Ol],$l[Nl].v[Ol],o,Ul,Jl),Jl=!1):(Wl=bez.getNewSegment($l[Nl].v[Ol-1],$l[Nl].v[Ol],$l[Nl].o[Ol-1],$l[Nl].i[Ol],(i.s-Fl)/Bl.addedLength,(i.e-Fl)/Bl.addedLength,Gl[Ol-1]),this.addSegmentFromArray(Wl,o,Ul,Jl),Jl=!1,o.c=!1),Fl+=Bl.addedLength,Ul+=1;if($l[Nl].c&&Gl.length){if(Bl=Gl[Ol-1],Fl<=i.e){var Kl=Gl[Ol-1].addedLength;i.s<=Fl&&i.e>=Fl+Kl?(this.addSegment($l[Nl].v[Ol-1],$l[Nl].o[Ol-1],$l[Nl].i[0],$l[Nl].v[0],o,Ul,Jl),Jl=!1):(Wl=bez.getNewSegment($l[Nl].v[Ol-1],$l[Nl].v[0],$l[Nl].o[Ol-1],$l[Nl].i[0],(i.s-Fl)/Kl,(i.e-Fl)/Kl,Gl[Ol-1]),this.addSegmentFromArray(Wl,o,Ul,Jl),Jl=!1,o.c=!1)}else o.c=!1;Fl+=Bl.addedLength,Ul+=1}if(o._length&&(o.setXYAt(o.v[Ql][0],o.v[Ql][1],"i",Ql),o.setXYAt(o.v[o._length-1][0],o.v[o._length-1][1],"o",o._length-1)),Fl>i.e)break;Nl<Ml-1&&(o=shapePool.newElement(),Jl=!0,zl.push(o),Ul=0)}return zl};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(s,i){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(s,i.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(s,i){var o=i/100,et=[0,0],$l=s._length,Nl=0;for(Nl=0;Nl<$l;Nl+=1)et[0]+=s.v[Nl][0],et[1]+=s.v[Nl][1];et[0]/=$l,et[1]/=$l;var Ml=shapePool.newElement();Ml.c=s.c;var Ol,Ll,Fl,Bl,Ul,Gl;for(Nl=0;Nl<$l;Nl+=1)Ol=s.v[Nl][0]+(et[0]-s.v[Nl][0])*o,Ll=s.v[Nl][1]+(et[1]-s.v[Nl][1])*o,Fl=s.o[Nl][0]+(et[0]-s.o[Nl][0])*-o,Bl=s.o[Nl][1]+(et[1]-s.o[Nl][1])*-o,Ul=s.i[Nl][0]+(et[0]-s.i[Nl][0])*-o,Gl=s.i[Nl][1]+(et[1]-s.i[Nl][1])*-o,Ml.setTripleAt(Ol,Ll,Fl,Bl,Ul,Gl,Nl);return Ml},PuckerAndBloatModifier.prototype.processShapes=function(s){var i,o,et=this.shapes.length,$l,Nl,Ml=this.amount.v;if(Ml!==0){var Ol,Ll;for(o=0;o<et;o+=1){if(Ol=this.shapes[o],Ll=Ol.localShapeCollection,!(!Ol.shape._mdf&&!this._mdf&&!s))for(Ll.releaseShapes(),Ol.shape._mdf=!0,i=Ol.shape.paths.shapes,Nl=Ol.shape.paths._length,$l=0;$l<Nl;$l+=1)Ll.addShape(this.processPath(i[$l],Ml));Ol.shape.paths=Ol.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var s=[0,0];function i(Ll){var Fl=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||Fl,this.a&&Ll.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&Ll.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&Ll.skewFromAxis(-this.sk.v,this.sa.v),this.r?Ll.rotate(-this.r.v):Ll.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?Ll.translate(this.px.v,this.py.v,-this.pz.v):Ll.translate(this.px.v,this.py.v,0):Ll.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function o(Ll){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||Ll){var Fl;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Bl,Ul;if(Fl=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Bl=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/Fl,0),Ul=this.p.getValueAtTime(this.p.keyframes[0].t/Fl,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Bl=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Fl,0),Ul=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/Fl,0)):(Bl=this.p.pv,Ul=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/Fl,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Bl=[],Ul=[];var Gl=this.px,Wl=this.py;Gl._caching.lastFrame+Gl.offsetTime<=Gl.keyframes[0].t?(Bl[0]=Gl.getValueAtTime((Gl.keyframes[0].t+.01)/Fl,0),Bl[1]=Wl.getValueAtTime((Wl.keyframes[0].t+.01)/Fl,0),Ul[0]=Gl.getValueAtTime(Gl.keyframes[0].t/Fl,0),Ul[1]=Wl.getValueAtTime(Wl.keyframes[0].t/Fl,0)):Gl._caching.lastFrame+Gl.offsetTime>=Gl.keyframes[Gl.keyframes.length-1].t?(Bl[0]=Gl.getValueAtTime(Gl.keyframes[Gl.keyframes.length-1].t/Fl,0),Bl[1]=Wl.getValueAtTime(Wl.keyframes[Wl.keyframes.length-1].t/Fl,0),Ul[0]=Gl.getValueAtTime((Gl.keyframes[Gl.keyframes.length-1].t-.01)/Fl,0),Ul[1]=Wl.getValueAtTime((Wl.keyframes[Wl.keyframes.length-1].t-.01)/Fl,0)):(Bl=[Gl.pv,Wl.pv],Ul[0]=Gl.getValueAtTime((Gl._caching.lastFrame+Gl.offsetTime-.01)/Fl,Gl.offsetTime),Ul[1]=Wl.getValueAtTime((Wl._caching.lastFrame+Wl.offsetTime-.01)/Fl,Wl.offsetTime))}else Ul=s,Bl=Ul;this.v.rotate(-Math.atan2(Bl[1]-Ul[1],Bl[0]-Ul[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function et(){if(!this.a.k)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function $l(){}function Nl(Ll){this._addDynamicProperty(Ll),this.elem.addDynamicProperty(Ll),this._isDirty=!0}function Ml(Ll,Fl,Bl){if(this.elem=Ll,this.frameId=-1,this.propType="transform",this.data=Fl,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(Bl||Ll),Fl.p&&Fl.p.s?(this.px=PropertyFactory.getProp(Ll,Fl.p.x,0,0,this),this.py=PropertyFactory.getProp(Ll,Fl.p.y,0,0,this),Fl.p.z&&(this.pz=PropertyFactory.getProp(Ll,Fl.p.z,0,0,this))):this.p=PropertyFactory.getProp(Ll,Fl.p||{k:[0,0,0]},1,0,this),Fl.rx){if(this.rx=PropertyFactory.getProp(Ll,Fl.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(Ll,Fl.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(Ll,Fl.rz,0,degToRads,this),Fl.or.k[0].ti){var Ul,Gl=Fl.or.k.length;for(Ul=0;Ul<Gl;Ul+=1)Fl.or.k[Ul].to=null,Fl.or.k[Ul].ti=null}this.or=PropertyFactory.getProp(Ll,Fl.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(Ll,Fl.r||{k:0},0,degToRads,this);Fl.sk&&(this.sk=PropertyFactory.getProp(Ll,Fl.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(Ll,Fl.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(Ll,Fl.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(Ll,Fl.s||{k:[100,100,100]},1,.01,this),Fl.o?this.o=PropertyFactory.getProp(Ll,Fl.o,0,.01,Ll):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}Ml.prototype={applyToMatrix:i,getValue:o,precalculateMatrix:et,autoOrient:$l},extendPrototype([DynamicPropertyContainer],Ml),Ml.prototype.addDynamicProperty=Nl,Ml.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function Ol(Ll,Fl,Bl){return new Ml(Ll,Fl,Bl)}return{getTransformProperty:Ol}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(s,i){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(s,i.c,0,null,this),this.o=PropertyFactory.getProp(s,i.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(s,i.tr,this),this.so=PropertyFactory.getProp(s,i.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(s,i.tr.eo,0,.01,this),this.data=i,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(s,i,o,et,$l,Nl){var Ml=Nl?-1:1,Ol=et.s.v[0]+(1-et.s.v[0])*(1-$l),Ll=et.s.v[1]+(1-et.s.v[1])*(1-$l);s.translate(et.p.v[0]*Ml*$l,et.p.v[1]*Ml*$l,et.p.v[2]),i.translate(-et.a.v[0],-et.a.v[1],et.a.v[2]),i.rotate(-et.r.v*Ml*$l),i.translate(et.a.v[0],et.a.v[1],et.a.v[2]),o.translate(-et.a.v[0],-et.a.v[1],et.a.v[2]),o.scale(Nl?1/Ol:Ol,Nl?1/Ll:Ll),o.translate(et.a.v[0],et.a.v[1],et.a.v[2])},RepeaterModifier.prototype.init=function(s,i,o,et){for(this.elem=s,this.arr=i,this.pos=o,this.elemsData=et,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(s),this.initModifierProperties(s,i[o]);o>0;)o-=1,this._elements.unshift(i[o]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(s){var i,o=s.length;for(i=0;i<o;i+=1)s[i]._processed=!1,s[i].ty==="gr"&&this.resetElements(s[i].it)},RepeaterModifier.prototype.cloneElements=function(s){var i=JSON.parse(JSON.stringify(s));return this.resetElements(i),i},RepeaterModifier.prototype.changeGroupRender=function(s,i){var o,et=s.length;for(o=0;o<et;o+=1)s[o]._render=i,s[o].ty==="gr"&&this.changeGroupRender(s[o].it,i)},RepeaterModifier.prototype.processShapes=function(s){var i,o,et,$l,Nl,Ml=!1;if(this._mdf||s){var Ol=Math.ceil(this.c.v);if(this._groups.length<Ol){for(;this._groups.length<Ol;){var Ll={it:this.cloneElements(this._elements),ty:"gr"};Ll.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,Ll),this._groups.splice(0,0,Ll),this._currentCopies+=1}this.elem.reloadShapes(),Ml=!0}Nl=0;var Fl;for(et=0;et<=this._groups.length-1;et+=1){if(Fl=Nl<Ol,this._groups[et]._render=Fl,this.changeGroupRender(this._groups[et].it,Fl),!Fl){var Bl=this.elemsData[et].it,Ul=Bl[Bl.length-1];Ul.transform.op.v!==0?(Ul.transform.op._mdf=!0,Ul.transform.op.v=0):Ul.transform.op._mdf=!1}Nl+=1}this._currentCopies=Ol;var Gl=this.o.v,Wl=Gl%1,zl=Gl>0?Math.floor(Gl):Math.ceil(Gl),Ql=this.pMatrix.props,Jl=this.rMatrix.props,Kl=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Hl=0;if(Gl>0){for(;Hl<zl;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Hl+=1;Wl&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,Wl,!1),Hl+=Wl)}else if(Gl<0){for(;Hl>zl;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Hl-=1;Wl&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-Wl,!0),Hl-=Wl)}et=this.data.m===1?0:this._currentCopies-1,$l=this.data.m===1?1:-1,Nl=this._currentCopies;for(var Yl,Xl;Nl;){if(i=this.elemsData[et].it,o=i[i.length-1].transform.mProps.v.props,Xl=o.length,i[i.length-1].transform.mProps._mdf=!0,i[i.length-1].transform.op._mdf=!0,i[i.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(et/(this._currentCopies-1)),Hl!==0){for((et!==0&&$l===1||et!==this._currentCopies-1&&$l===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Jl[0],Jl[1],Jl[2],Jl[3],Jl[4],Jl[5],Jl[6],Jl[7],Jl[8],Jl[9],Jl[10],Jl[11],Jl[12],Jl[13],Jl[14],Jl[15]),this.matrix.transform(Kl[0],Kl[1],Kl[2],Kl[3],Kl[4],Kl[5],Kl[6],Kl[7],Kl[8],Kl[9],Kl[10],Kl[11],Kl[12],Kl[13],Kl[14],Kl[15]),this.matrix.transform(Ql[0],Ql[1],Ql[2],Ql[3],Ql[4],Ql[5],Ql[6],Ql[7],Ql[8],Ql[9],Ql[10],Ql[11],Ql[12],Ql[13],Ql[14],Ql[15]),Yl=0;Yl<Xl;Yl+=1)o[Yl]=this.matrix.props[Yl];this.matrix.reset()}else for(this.matrix.reset(),Yl=0;Yl<Xl;Yl+=1)o[Yl]=this.matrix.props[Yl];Hl+=1,Nl-=1,et+=$l}}else for(Nl=this._currentCopies,et=0,$l=1;Nl;)i=this.elemsData[et].it,o=i[i.length-1].transform.mProps.v.props,i[i.length-1].transform.mProps._mdf=!1,i[i.length-1].transform.op._mdf=!1,Nl-=1,et+=$l;return Ml},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(s,i){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(s,i.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(s,i){var o=shapePool.newElement();o.c=s.c;var et,$l=s._length,Nl,Ml,Ol,Ll,Fl,Bl,Ul=0,Gl,Wl,zl,Ql,Jl,Kl;for(et=0;et<$l;et+=1)Nl=s.v[et],Ol=s.o[et],Ml=s.i[et],Nl[0]===Ol[0]&&Nl[1]===Ol[1]&&Nl[0]===Ml[0]&&Nl[1]===Ml[1]?(et===0||et===$l-1)&&!s.c?(o.setTripleAt(Nl[0],Nl[1],Ol[0],Ol[1],Ml[0],Ml[1],Ul),Ul+=1):(et===0?Ll=s.v[$l-1]:Ll=s.v[et-1],Fl=Math.sqrt(Math.pow(Nl[0]-Ll[0],2)+Math.pow(Nl[1]-Ll[1],2)),Bl=Fl?Math.min(Fl/2,i)/Fl:0,Jl=Nl[0]+(Ll[0]-Nl[0])*Bl,Gl=Jl,Kl=Nl[1]-(Nl[1]-Ll[1])*Bl,Wl=Kl,zl=Gl-(Gl-Nl[0])*roundCorner,Ql=Wl-(Wl-Nl[1])*roundCorner,o.setTripleAt(Gl,Wl,zl,Ql,Jl,Kl,Ul),Ul+=1,et===$l-1?Ll=s.v[0]:Ll=s.v[et+1],Fl=Math.sqrt(Math.pow(Nl[0]-Ll[0],2)+Math.pow(Nl[1]-Ll[1],2)),Bl=Fl?Math.min(Fl/2,i)/Fl:0,zl=Nl[0]+(Ll[0]-Nl[0])*Bl,Gl=zl,Ql=Nl[1]+(Ll[1]-Nl[1])*Bl,Wl=Ql,Jl=Gl-(Gl-Nl[0])*roundCorner,Kl=Wl-(Wl-Nl[1])*roundCorner,o.setTripleAt(Gl,Wl,zl,Ql,Jl,Kl,Ul),Ul+=1):(o.setTripleAt(s.v[et][0],s.v[et][1],s.o[et][0],s.o[et][1],s.i[et][0],s.i[et][1],Ul),Ul+=1);return o},RoundCornersModifier.prototype.processShapes=function(s){var i,o,et=this.shapes.length,$l,Nl,Ml=this.rd.v;if(Ml!==0){var Ol,Ll;for(o=0;o<et;o+=1){if(Ol=this.shapes[o],Ll=Ol.localShapeCollection,!(!Ol.shape._mdf&&!this._mdf&&!s))for(Ll.releaseShapes(),Ol.shape._mdf=!0,i=Ol.shape.paths.shapes,Nl=Ol.shape.paths._length,$l=0;$l<Nl;$l+=1)Ll.addShape(this.processPath(i[$l],Ml));Ol.shape.paths=Ol.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(s){for(var i=s.fStyle?s.fStyle.split(" "):[],o="normal",et="normal",$l=i.length,Nl,Ml=0;Ml<$l;Ml+=1)switch(Nl=i[Ml].toLowerCase(),Nl){case"italic":et="italic";break;case"bold":o="700";break;case"black":o="900";break;case"medium":o="500";break;case"regular":case"normal":o="400";break;case"light":case"thin":o="200";break}return{style:et,weight:s.fWeight||o}}var FontManager=function(){var s=5e3,i={w:0,size:0,shapes:[],data:{shapes:[]}},o=[];o=o.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var et=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],$l=[65039,8205];function Nl(Xl){var Zl=Xl.split(","),_d,_f=Zl.length,e0=[];for(_d=0;_d<_f;_d+=1)Zl[_d]!=="sans-serif"&&Zl[_d]!=="monospace"&&e0.push(Zl[_d]);return e0.join(",")}function Ml(Xl,Zl){var _d=createTag("span");_d.setAttribute("aria-hidden",!0),_d.style.fontFamily=Zl;var _f=createTag("span");_f.innerText="giItT1WQy@!-/#",_d.style.position="absolute",_d.style.left="-10000px",_d.style.top="-10000px",_d.style.fontSize="300px",_d.style.fontVariant="normal",_d.style.fontStyle="normal",_d.style.fontWeight="normal",_d.style.letterSpacing="0",_d.appendChild(_f),document.body.appendChild(_d);var e0=_f.offsetWidth;return _f.style.fontFamily=Nl(Xl)+", "+Zl,{node:_f,w:e0,parent:_d}}function Ol(){var Xl,Zl=this.fonts.length,_d,_f,e0=Zl;for(Xl=0;Xl<Zl;Xl+=1)this.fonts[Xl].loaded?e0-=1:this.fonts[Xl].fOrigin==="n"||this.fonts[Xl].origin===0?this.fonts[Xl].loaded=!0:(_d=this.fonts[Xl].monoCase.node,_f=this.fonts[Xl].monoCase.w,_d.offsetWidth!==_f?(e0-=1,this.fonts[Xl].loaded=!0):(_d=this.fonts[Xl].sansCase.node,_f=this.fonts[Xl].sansCase.w,_d.offsetWidth!==_f&&(e0-=1,this.fonts[Xl].loaded=!0)),this.fonts[Xl].loaded&&(this.fonts[Xl].sansCase.parent.parentNode.removeChild(this.fonts[Xl].sansCase.parent),this.fonts[Xl].monoCase.parent.parentNode.removeChild(this.fonts[Xl].monoCase.parent)));e0!==0&&Date.now()-this.initTime<s?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function Ll(Xl,Zl){var _d=document.body&&Zl?"svg":"canvas",_f,e0=getFontProperties(Xl);if(_d==="svg"){var s0=createNS("text");s0.style.fontSize="100px",s0.setAttribute("font-family",Xl.fFamily),s0.setAttribute("font-style",e0.style),s0.setAttribute("font-weight",e0.weight),s0.textContent="1",Xl.fClass?(s0.style.fontFamily="inherit",s0.setAttribute("class",Xl.fClass)):s0.style.fontFamily=Xl.fFamily,Zl.appendChild(s0),_f=s0}else{var u0=new OffscreenCanvas(500,500).getContext("2d");u0.font=e0.style+" "+e0.weight+" 100px "+Xl.fFamily,_f=u0}function g0(f0){return _d==="svg"?(_f.textContent=f0,_f.getComputedTextLength()):_f.measureText(f0).width}return{measureText:g0}}function Fl(Xl,Zl){if(!Xl){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Xl.list;return}if(!document.body){this.isLoaded=!0,Xl.list.forEach(function(o0){o0.helper=Ll(o0),o0.cache={}}),this.fonts=Xl.list;return}var _d=Xl.list,_f,e0=_d.length,s0=e0;for(_f=0;_f<e0;_f+=1){var u0=!0,g0,f0;if(_d[_f].loaded=!1,_d[_f].monoCase=Ml(_d[_f].fFamily,"monospace"),_d[_f].sansCase=Ml(_d[_f].fFamily,"sans-serif"),!_d[_f].fPath)_d[_f].loaded=!0,s0-=1;else if(_d[_f].fOrigin==="p"||_d[_f].origin===3){if(g0=document.querySelectorAll('style[f-forigin="p"][f-family="'+_d[_f].fFamily+'"], style[f-origin="3"][f-family="'+_d[_f].fFamily+'"]'),g0.length>0&&(u0=!1),u0){var _0=createTag("style");_0.setAttribute("f-forigin",_d[_f].fOrigin),_0.setAttribute("f-origin",_d[_f].origin),_0.setAttribute("f-family",_d[_f].fFamily),_0.type="text/css",_0.innerText="@font-face {font-family: "+_d[_f].fFamily+"; font-style: normal; src: url('"+_d[_f].fPath+"');}",Zl.appendChild(_0)}}else if(_d[_f].fOrigin==="g"||_d[_f].origin===1){for(g0=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),f0=0;f0<g0.length;f0+=1)g0[f0].href.indexOf(_d[_f].fPath)!==-1&&(u0=!1);if(u0){var S0=createTag("link");S0.setAttribute("f-forigin",_d[_f].fOrigin),S0.setAttribute("f-origin",_d[_f].origin),S0.type="text/css",S0.rel="stylesheet",S0.href=_d[_f].fPath,document.body.appendChild(S0)}}else if(_d[_f].fOrigin==="t"||_d[_f].origin===2){for(g0=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),f0=0;f0<g0.length;f0+=1)_d[_f].fPath===g0[f0].src&&(u0=!1);if(u0){var p0=createTag("link");p0.setAttribute("f-forigin",_d[_f].fOrigin),p0.setAttribute("f-origin",_d[_f].origin),p0.setAttribute("rel","stylesheet"),p0.setAttribute("href",_d[_f].fPath),Zl.appendChild(p0)}}_d[_f].helper=Ll(_d[_f],Zl),_d[_f].cache={},this.fonts.push(_d[_f])}s0===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Bl(Xl){if(!!Xl){this.chars||(this.chars=[]);var Zl,_d=Xl.length,_f,e0=this.chars.length,s0;for(Zl=0;Zl<_d;Zl+=1){for(_f=0,s0=!1;_f<e0;)this.chars[_f].style===Xl[Zl].style&&this.chars[_f].fFamily===Xl[Zl].fFamily&&this.chars[_f].ch===Xl[Zl].ch&&(s0=!0),_f+=1;s0||(this.chars.push(Xl[Zl]),e0+=1)}}}function Ul(Xl,Zl,_d){for(var _f=0,e0=this.chars.length;_f<e0;){if(this.chars[_f].ch===Xl&&this.chars[_f].style===Zl&&this.chars[_f].fFamily===_d)return this.chars[_f];_f+=1}return(typeof Xl=="string"&&Xl.charCodeAt(0)!==13||!Xl)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Xl,Zl,_d)),i}function Gl(Xl,Zl,_d){var _f=this.getFontByName(Zl),e0=Xl.charCodeAt(0);if(!_f.cache[e0+1]){var s0=_f.helper;if(Xl===" "){var u0=s0.measureText("|"+Xl+"|"),g0=s0.measureText("||");_f.cache[e0+1]=(u0-g0)/100}else _f.cache[e0+1]=s0.measureText(Xl)/100}return _f.cache[e0+1]*_d}function Wl(Xl){for(var Zl=0,_d=this.fonts.length;Zl<_d;){if(this.fonts[Zl].fName===Xl)return this.fonts[Zl];Zl+=1}return this.fonts[0]}function zl(Xl,Zl){var _d=Xl.toString(16)+Zl.toString(16);return et.indexOf(_d)!==-1}function Ql(Xl,Zl){return Zl?Xl===$l[0]&&Zl===$l[1]:Xl===$l[1]}function Jl(Xl){return o.indexOf(Xl)!==-1}function Kl(){this.isLoaded=!0}var Hl=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Hl.isModifier=zl,Hl.isZeroWidthJoiner=Ql,Hl.isCombinedCharacter=Jl;var Yl={addChars:Bl,addFonts:Fl,getCharData:Ul,getFontByName:Wl,measureText:Gl,checkLoadedFonts:Ol,setIsLoaded:Kl};return Hl.prototype=Yl,Hl}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(i){this.renderableComponents.indexOf(i)===-1&&this.renderableComponents.push(i)},removeRenderableComponent:function(i){this.renderableComponents.indexOf(i)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(i),1)},prepareRenderableFrame:function(i){this.checkLayerLimits(i)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(i){this.data.ip-this.data.st<=i&&this.data.op-this.data.st>i?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var i,o=this.renderableComponents.length;for(i=0;i<o;i+=1)this.renderableComponents[i].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function s(o,et){this._mask=o,this._data=et}Object.defineProperty(s.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(s.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var i=function(et){var $l=createSizedArray(et.viewData.length),Nl,Ml=et.viewData.length;for(Nl=0;Nl<Ml;Nl+=1)$l[Nl]=new s(et.viewData[Nl],et.masksProperties[Nl]);var Ol=function(Fl){for(Nl=0;Nl<Ml;){if(et.masksProperties[Nl].nm===Fl)return $l[Nl];Nl+=1}return null};return Ol};return i}(),ExpressionPropertyInterface=function(){var s={pv:0,v:0,mult:1},i={pv:[0,0,0],v:[0,0,0],mult:1};function o(Ml,Ol,Ll){Object.defineProperty(Ml,"velocity",{get:function(){return Ol.getVelocityAtTime(Ol.comp.currentFrame)}}),Ml.numKeys=Ol.keyframes?Ol.keyframes.length:0,Ml.key=function(Fl){if(!Ml.numKeys)return 0;var Bl="";"s"in Ol.keyframes[Fl-1]?Bl=Ol.keyframes[Fl-1].s:"e"in Ol.keyframes[Fl-2]?Bl=Ol.keyframes[Fl-2].e:Bl=Ol.keyframes[Fl-2].s;var Ul=Ll==="unidimensional"?new Number(Bl):Object.assign({},Bl);return Ul.time=Ol.keyframes[Fl-1].t/Ol.elem.comp.globalData.frameRate,Ul.value=Ll==="unidimensional"?Bl[0]:Bl,Ul},Ml.valueAtTime=Ol.getValueAtTime,Ml.speedAtTime=Ol.getSpeedAtTime,Ml.velocityAtTime=Ol.getVelocityAtTime,Ml.propertyGroup=Ol.propertyGroup}function et(Ml){(!Ml||!("pv"in Ml))&&(Ml=s);var Ol=1/Ml.mult,Ll=Ml.pv*Ol,Fl=new Number(Ll);return Fl.value=Ll,o(Fl,Ml,"unidimensional"),function(){return Ml.k&&Ml.getValue(),Ll=Ml.v*Ol,Fl.value!==Ll&&(Fl=new Number(Ll),Fl.value=Ll,o(Fl,Ml,"unidimensional")),Fl}}function $l(Ml){(!Ml||!("pv"in Ml))&&(Ml=i);var Ol=1/Ml.mult,Ll=Ml.data&&Ml.data.l||Ml.pv.length,Fl=createTypedArray("float32",Ll),Bl=createTypedArray("float32",Ll);return Fl.value=Bl,o(Fl,Ml,"multidimensional"),function(){Ml.k&&Ml.getValue();for(var Ul=0;Ul<Ll;Ul+=1)Bl[Ul]=Ml.v[Ul]*Ol,Fl[Ul]=Bl[Ul];return Fl}}function Nl(){return s}return function(Ml){return Ml?Ml.propType==="unidimensional"?et(Ml):$l(Ml):Nl}}(),TransformExpressionInterface=function(){return function(s){function i(Ml){switch(Ml){case"scale":case"Scale":case"ADBE Scale":case 6:return i.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return i.rotation;case"ADBE Rotate X":return i.xRotation;case"ADBE Rotate Y":return i.yRotation;case"position":case"Position":case"ADBE Position":case 2:return i.position;case"ADBE Position_0":return i.xPosition;case"ADBE Position_1":return i.yPosition;case"ADBE Position_2":return i.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return i.anchorPoint;case"opacity":case"Opacity":case 11:return i.opacity;default:return null}}Object.defineProperty(i,"rotation",{get:ExpressionPropertyInterface(s.r||s.rz)}),Object.defineProperty(i,"zRotation",{get:ExpressionPropertyInterface(s.rz||s.r)}),Object.defineProperty(i,"xRotation",{get:ExpressionPropertyInterface(s.rx)}),Object.defineProperty(i,"yRotation",{get:ExpressionPropertyInterface(s.ry)}),Object.defineProperty(i,"scale",{get:ExpressionPropertyInterface(s.s)});var o,et,$l,Nl;return s.p?Nl=ExpressionPropertyInterface(s.p):(o=ExpressionPropertyInterface(s.px),et=ExpressionPropertyInterface(s.py),s.pz&&($l=ExpressionPropertyInterface(s.pz))),Object.defineProperty(i,"position",{get:function(){return s.p?Nl():[o(),et(),$l?$l():0]}}),Object.defineProperty(i,"xPosition",{get:ExpressionPropertyInterface(s.px)}),Object.defineProperty(i,"yPosition",{get:ExpressionPropertyInterface(s.py)}),Object.defineProperty(i,"zPosition",{get:ExpressionPropertyInterface(s.pz)}),Object.defineProperty(i,"anchorPoint",{get:ExpressionPropertyInterface(s.a)}),Object.defineProperty(i,"opacity",{get:ExpressionPropertyInterface(s.o)}),Object.defineProperty(i,"skew",{get:ExpressionPropertyInterface(s.sk)}),Object.defineProperty(i,"skewAxis",{get:ExpressionPropertyInterface(s.sa)}),Object.defineProperty(i,"orientation",{get:ExpressionPropertyInterface(s.or)}),i}}(),LayerExpressionInterface=function(){function s(Fl){var Bl=new Matrix;if(Fl!==void 0){var Ul=this._elem.finalTransform.mProp.getValueAtTime(Fl);Ul.clone(Bl)}else{var Gl=this._elem.finalTransform.mProp;Gl.applyToMatrix(Bl)}return Bl}function i(Fl,Bl){var Ul=this.getMatrix(Bl);return Ul.props[12]=0,Ul.props[13]=0,Ul.props[14]=0,this.applyPoint(Ul,Fl)}function o(Fl,Bl){var Ul=this.getMatrix(Bl);return this.applyPoint(Ul,Fl)}function et(Fl,Bl){var Ul=this.getMatrix(Bl);return Ul.props[12]=0,Ul.props[13]=0,Ul.props[14]=0,this.invertPoint(Ul,Fl)}function $l(Fl,Bl){var Ul=this.getMatrix(Bl);return this.invertPoint(Ul,Fl)}function Nl(Fl,Bl){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Ul,Gl=this._elem.hierarchy.length;for(Ul=0;Ul<Gl;Ul+=1)this._elem.hierarchy[Ul].finalTransform.mProp.applyToMatrix(Fl)}return Fl.applyToPointArray(Bl[0],Bl[1],Bl[2]||0)}function Ml(Fl,Bl){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Ul,Gl=this._elem.hierarchy.length;for(Ul=0;Ul<Gl;Ul+=1)this._elem.hierarchy[Ul].finalTransform.mProp.applyToMatrix(Fl)}return Fl.inversePoint(Bl)}function Ol(Fl){var Bl=new Matrix;if(Bl.reset(),this._elem.finalTransform.mProp.applyToMatrix(Bl),this._elem.hierarchy&&this._elem.hierarchy.length){var Ul,Gl=this._elem.hierarchy.length;for(Ul=0;Ul<Gl;Ul+=1)this._elem.hierarchy[Ul].finalTransform.mProp.applyToMatrix(Bl);return Bl.inversePoint(Fl)}return Bl.inversePoint(Fl)}function Ll(){return[1,1,1,1]}return function(Fl){var Bl;function Ul(Ql){Wl.mask=new MaskManagerInterface(Ql,Fl)}function Gl(Ql){Wl.effect=Ql}function Wl(Ql){switch(Ql){case"ADBE Root Vectors Group":case"Contents":case 2:return Wl.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return Bl;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return Wl.effect;case"ADBE Text Properties":return Wl.textInterface;default:return null}}Wl.getMatrix=s,Wl.invertPoint=Ml,Wl.applyPoint=Nl,Wl.toWorld=o,Wl.toWorldVec=i,Wl.fromWorld=$l,Wl.fromWorldVec=et,Wl.toComp=o,Wl.fromComp=Ol,Wl.sampleImage=Ll,Wl.sourceRectAtTime=Fl.sourceRectAtTime.bind(Fl),Wl._elem=Fl,Bl=TransformExpressionInterface(Fl.finalTransform.mProp);var zl=getDescriptor(Bl,"anchorPoint");return Object.defineProperties(Wl,{hasParent:{get:function(){return Fl.hierarchy.length}},parent:{get:function(){return Fl.hierarchy[0].layerInterface}},rotation:getDescriptor(Bl,"rotation"),scale:getDescriptor(Bl,"scale"),position:getDescriptor(Bl,"position"),opacity:getDescriptor(Bl,"opacity"),anchorPoint:zl,anchor_point:zl,transform:{get:function(){return Bl}},active:{get:function(){return Fl.isInRange}}}),Wl.startTime=Fl.data.st,Wl.index=Fl.data.ind,Wl.source=Fl.data.refId,Wl.height=Fl.data.ty===0?Fl.data.h:100,Wl.width=Fl.data.ty===0?Fl.data.w:100,Wl.inPoint=Fl.data.ip/Fl.comp.globalData.frameRate,Wl.outPoint=Fl.data.op/Fl.comp.globalData.frameRate,Wl._name=Fl.data.nm,Wl.registerMaskInterface=Ul,Wl.registerEffectsInterface=Gl,Wl}}(),propertyGroupFactory=function(){return function(s,i){return function(o){return o=o===void 0?1:o,o<=0?s:i(o-1)}}}(),PropertyInterface=function(){return function(s,i){var o={_name:s};function et($l){return $l=$l===void 0?1:$l,$l<=0?o:i($l-1)}return et}}(),EffectsExpressionInterface=function(){var s={createEffectsInterface:i};function i($l,Nl){if($l.effectsManager){var Ml=[],Ol=$l.data.ef,Ll,Fl=$l.effectsManager.effectElements.length;for(Ll=0;Ll<Fl;Ll+=1)Ml.push(o(Ol[Ll],$l.effectsManager.effectElements[Ll],Nl,$l));var Bl=$l.data.ef||[],Ul=function(Wl){for(Ll=0,Fl=Bl.length;Ll<Fl;){if(Wl===Bl[Ll].nm||Wl===Bl[Ll].mn||Wl===Bl[Ll].ix)return Ml[Ll];Ll+=1}return null};return Object.defineProperty(Ul,"numProperties",{get:function(){return Bl.length}}),Ul}return null}function o($l,Nl,Ml,Ol){function Ll(Wl){for(var zl=$l.ef,Ql=0,Jl=zl.length;Ql<Jl;){if(Wl===zl[Ql].nm||Wl===zl[Ql].mn||Wl===zl[Ql].ix)return zl[Ql].ty===5?Bl[Ql]:Bl[Ql]();Ql+=1}throw new Error}var Fl=propertyGroupFactory(Ll,Ml),Bl=[],Ul,Gl=$l.ef.length;for(Ul=0;Ul<Gl;Ul+=1)$l.ef[Ul].ty===5?Bl.push(o($l.ef[Ul],Nl.effectElements[Ul],Nl.effectElements[Ul].propertyGroup,Ol)):Bl.push(et(Nl.effectElements[Ul],$l.ef[Ul].ty,Ol,Fl));return $l.mn==="ADBE Color Control"&&Object.defineProperty(Ll,"color",{get:function(){return Bl[0]()}}),Object.defineProperties(Ll,{numProperties:{get:function(){return $l.np}},_name:{value:$l.nm},propertyGroup:{value:Fl}}),Ll.enabled=$l.en!==0,Ll.active=Ll.enabled,Ll}function et($l,Nl,Ml,Ol){var Ll=ExpressionPropertyInterface($l.p);function Fl(){return Nl===10?Ml.comp.compInterface($l.p.v):Ll()}return $l.p.setGroupProperty&&$l.p.setGroupProperty(PropertyInterface("",Ol)),Fl}return s}(),CompExpressionInterface=function(){return function(s){function i(o){for(var et=0,$l=s.layers.length;et<$l;){if(s.layers[et].nm===o||s.layers[et].ind===o)return s.elements[et].layerInterface;et+=1}return null}return Object.defineProperty(i,"_name",{value:s.data.nm}),i.layer=i,i.pixelAspect=1,i.height=s.data.h||s.globalData.compSize.h,i.width=s.data.w||s.globalData.compSize.w,i.pixelAspect=1,i.frameDuration=1/s.globalData.frameRate,i.displayStartTime=0,i.numLayers=s.layers.length,i}}(),ShapePathInterface=function(){return function(i,o,et){var $l=o.sh;function Nl(Ol){return Ol==="Shape"||Ol==="shape"||Ol==="Path"||Ol==="path"||Ol==="ADBE Vector Shape"||Ol===2?Nl.path:null}var Ml=propertyGroupFactory(Nl,et);return $l.setGroupProperty(PropertyInterface("Path",Ml)),Object.defineProperties(Nl,{path:{get:function(){return $l.k&&$l.getValue(),$l}},shape:{get:function(){return $l.k&&$l.getValue(),$l}},_name:{value:i.nm},ix:{value:i.ix},propertyIndex:{value:i.ix},mn:{value:i.mn},propertyGroup:{value:et}}),Nl}}(),ShapeExpressionInterface=function(){function s(zl,Ql,Jl){var Kl=[],Hl,Yl=zl?zl.length:0;for(Hl=0;Hl<Yl;Hl+=1)zl[Hl].ty==="gr"?Kl.push(o(zl[Hl],Ql[Hl],Jl)):zl[Hl].ty==="fl"?Kl.push(et(zl[Hl],Ql[Hl],Jl)):zl[Hl].ty==="st"?Kl.push(Ml(zl[Hl],Ql[Hl],Jl)):zl[Hl].ty==="tm"?Kl.push(Ol(zl[Hl],Ql[Hl],Jl)):zl[Hl].ty==="tr"||(zl[Hl].ty==="el"?Kl.push(Fl(zl[Hl],Ql[Hl],Jl)):zl[Hl].ty==="sr"?Kl.push(Bl(zl[Hl],Ql[Hl],Jl)):zl[Hl].ty==="sh"?Kl.push(ShapePathInterface(zl[Hl],Ql[Hl],Jl)):zl[Hl].ty==="rc"?Kl.push(Ul(zl[Hl],Ql[Hl],Jl)):zl[Hl].ty==="rd"?Kl.push(Gl(zl[Hl],Ql[Hl],Jl)):zl[Hl].ty==="rp"?Kl.push(Wl(zl[Hl],Ql[Hl],Jl)):zl[Hl].ty==="gf"?Kl.push($l(zl[Hl],Ql[Hl],Jl)):Kl.push(Nl(zl[Hl],Ql[Hl])));return Kl}function i(zl,Ql,Jl){var Kl,Hl=function(Zl){for(var _d=0,_f=Kl.length;_d<_f;){if(Kl[_d]._name===Zl||Kl[_d].mn===Zl||Kl[_d].propertyIndex===Zl||Kl[_d].ix===Zl||Kl[_d].ind===Zl)return Kl[_d];_d+=1}return typeof Zl=="number"?Kl[Zl-1]:null};Hl.propertyGroup=propertyGroupFactory(Hl,Jl),Kl=s(zl.it,Ql.it,Hl.propertyGroup),Hl.numProperties=Kl.length;var Yl=Ll(zl.it[zl.it.length-1],Ql.it[Ql.it.length-1],Hl.propertyGroup);return Hl.transform=Yl,Hl.propertyIndex=zl.cix,Hl._name=zl.nm,Hl}function o(zl,Ql,Jl){var Kl=function(Zl){switch(Zl){case"ADBE Vectors Group":case"Contents":case 2:return Kl.content;default:return Kl.transform}};Kl.propertyGroup=propertyGroupFactory(Kl,Jl);var Hl=i(zl,Ql,Kl.propertyGroup),Yl=Ll(zl.it[zl.it.length-1],Ql.it[Ql.it.length-1],Kl.propertyGroup);return Kl.content=Hl,Kl.transform=Yl,Object.defineProperty(Kl,"_name",{get:function(){return zl.nm}}),Kl.numProperties=zl.np,Kl.propertyIndex=zl.ix,Kl.nm=zl.nm,Kl.mn=zl.mn,Kl}function et(zl,Ql,Jl){function Kl(Hl){return Hl==="Color"||Hl==="color"?Kl.color:Hl==="Opacity"||Hl==="opacity"?Kl.opacity:null}return Object.defineProperties(Kl,{color:{get:ExpressionPropertyInterface(Ql.c)},opacity:{get:ExpressionPropertyInterface(Ql.o)},_name:{value:zl.nm},mn:{value:zl.mn}}),Ql.c.setGroupProperty(PropertyInterface("Color",Jl)),Ql.o.setGroupProperty(PropertyInterface("Opacity",Jl)),Kl}function $l(zl,Ql,Jl){function Kl(Hl){return Hl==="Start Point"||Hl==="start point"?Kl.startPoint:Hl==="End Point"||Hl==="end point"?Kl.endPoint:Hl==="Opacity"||Hl==="opacity"?Kl.opacity:null}return Object.defineProperties(Kl,{startPoint:{get:ExpressionPropertyInterface(Ql.s)},endPoint:{get:ExpressionPropertyInterface(Ql.e)},opacity:{get:ExpressionPropertyInterface(Ql.o)},type:{get:function(){return"a"}},_name:{value:zl.nm},mn:{value:zl.mn}}),Ql.s.setGroupProperty(PropertyInterface("Start Point",Jl)),Ql.e.setGroupProperty(PropertyInterface("End Point",Jl)),Ql.o.setGroupProperty(PropertyInterface("Opacity",Jl)),Kl}function Nl(){function zl(){return null}return zl}function Ml(zl,Ql,Jl){var Kl=propertyGroupFactory(_f,Jl),Hl=propertyGroupFactory(_d,Kl);function Yl(e0){Object.defineProperty(_d,zl.d[e0].nm,{get:ExpressionPropertyInterface(Ql.d.dataProps[e0].p)})}var Xl,Zl=zl.d?zl.d.length:0,_d={};for(Xl=0;Xl<Zl;Xl+=1)Yl(Xl),Ql.d.dataProps[Xl].p.setGroupProperty(Hl);function _f(e0){return e0==="Color"||e0==="color"?_f.color:e0==="Opacity"||e0==="opacity"?_f.opacity:e0==="Stroke Width"||e0==="stroke width"?_f.strokeWidth:null}return Object.defineProperties(_f,{color:{get:ExpressionPropertyInterface(Ql.c)},opacity:{get:ExpressionPropertyInterface(Ql.o)},strokeWidth:{get:ExpressionPropertyInterface(Ql.w)},dash:{get:function(){return _d}},_name:{value:zl.nm},mn:{value:zl.mn}}),Ql.c.setGroupProperty(PropertyInterface("Color",Kl)),Ql.o.setGroupProperty(PropertyInterface("Opacity",Kl)),Ql.w.setGroupProperty(PropertyInterface("Stroke Width",Kl)),_f}function Ol(zl,Ql,Jl){function Kl(Yl){return Yl===zl.e.ix||Yl==="End"||Yl==="end"?Kl.end:Yl===zl.s.ix?Kl.start:Yl===zl.o.ix?Kl.offset:null}var Hl=propertyGroupFactory(Kl,Jl);return Kl.propertyIndex=zl.ix,Ql.s.setGroupProperty(PropertyInterface("Start",Hl)),Ql.e.setGroupProperty(PropertyInterface("End",Hl)),Ql.o.setGroupProperty(PropertyInterface("Offset",Hl)),Kl.propertyIndex=zl.ix,Kl.propertyGroup=Jl,Object.defineProperties(Kl,{start:{get:ExpressionPropertyInterface(Ql.s)},end:{get:ExpressionPropertyInterface(Ql.e)},offset:{get:ExpressionPropertyInterface(Ql.o)},_name:{value:zl.nm}}),Kl.mn=zl.mn,Kl}function Ll(zl,Ql,Jl){function Kl(Yl){return zl.a.ix===Yl||Yl==="Anchor Point"?Kl.anchorPoint:zl.o.ix===Yl||Yl==="Opacity"?Kl.opacity:zl.p.ix===Yl||Yl==="Position"?Kl.position:zl.r.ix===Yl||Yl==="Rotation"||Yl==="ADBE Vector Rotation"?Kl.rotation:zl.s.ix===Yl||Yl==="Scale"?Kl.scale:zl.sk&&zl.sk.ix===Yl||Yl==="Skew"?Kl.skew:zl.sa&&zl.sa.ix===Yl||Yl==="Skew Axis"?Kl.skewAxis:null}var Hl=propertyGroupFactory(Kl,Jl);return Ql.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Hl)),Ql.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Hl)),Ql.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Hl)),Ql.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Hl)),Ql.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Hl)),Ql.transform.mProps.sk&&(Ql.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Hl)),Ql.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Hl))),Ql.transform.op.setGroupProperty(PropertyInterface("Opacity",Hl)),Object.defineProperties(Kl,{opacity:{get:ExpressionPropertyInterface(Ql.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Ql.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Ql.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Ql.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Ql.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Ql.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Ql.transform.mProps.sa)},_name:{value:zl.nm}}),Kl.ty="tr",Kl.mn=zl.mn,Kl.propertyGroup=Jl,Kl}function Fl(zl,Ql,Jl){function Kl(Xl){return zl.p.ix===Xl?Kl.position:zl.s.ix===Xl?Kl.size:null}var Hl=propertyGroupFactory(Kl,Jl);Kl.propertyIndex=zl.ix;var Yl=Ql.sh.ty==="tm"?Ql.sh.prop:Ql.sh;return Yl.s.setGroupProperty(PropertyInterface("Size",Hl)),Yl.p.setGroupProperty(PropertyInterface("Position",Hl)),Object.defineProperties(Kl,{size:{get:ExpressionPropertyInterface(Yl.s)},position:{get:ExpressionPropertyInterface(Yl.p)},_name:{value:zl.nm}}),Kl.mn=zl.mn,Kl}function Bl(zl,Ql,Jl){function Kl(Xl){return zl.p.ix===Xl?Kl.position:zl.r.ix===Xl?Kl.rotation:zl.pt.ix===Xl?Kl.points:zl.or.ix===Xl||Xl==="ADBE Vector Star Outer Radius"?Kl.outerRadius:zl.os.ix===Xl?Kl.outerRoundness:zl.ir&&(zl.ir.ix===Xl||Xl==="ADBE Vector Star Inner Radius")?Kl.innerRadius:zl.is&&zl.is.ix===Xl?Kl.innerRoundness:null}var Hl=propertyGroupFactory(Kl,Jl),Yl=Ql.sh.ty==="tm"?Ql.sh.prop:Ql.sh;return Kl.propertyIndex=zl.ix,Yl.or.setGroupProperty(PropertyInterface("Outer Radius",Hl)),Yl.os.setGroupProperty(PropertyInterface("Outer Roundness",Hl)),Yl.pt.setGroupProperty(PropertyInterface("Points",Hl)),Yl.p.setGroupProperty(PropertyInterface("Position",Hl)),Yl.r.setGroupProperty(PropertyInterface("Rotation",Hl)),zl.ir&&(Yl.ir.setGroupProperty(PropertyInterface("Inner Radius",Hl)),Yl.is.setGroupProperty(PropertyInterface("Inner Roundness",Hl))),Object.defineProperties(Kl,{position:{get:ExpressionPropertyInterface(Yl.p)},rotation:{get:ExpressionPropertyInterface(Yl.r)},points:{get:ExpressionPropertyInterface(Yl.pt)},outerRadius:{get:ExpressionPropertyInterface(Yl.or)},outerRoundness:{get:ExpressionPropertyInterface(Yl.os)},innerRadius:{get:ExpressionPropertyInterface(Yl.ir)},innerRoundness:{get:ExpressionPropertyInterface(Yl.is)},_name:{value:zl.nm}}),Kl.mn=zl.mn,Kl}function Ul(zl,Ql,Jl){function Kl(Xl){return zl.p.ix===Xl?Kl.position:zl.r.ix===Xl?Kl.roundness:zl.s.ix===Xl||Xl==="Size"||Xl==="ADBE Vector Rect Size"?Kl.size:null}var Hl=propertyGroupFactory(Kl,Jl),Yl=Ql.sh.ty==="tm"?Ql.sh.prop:Ql.sh;return Kl.propertyIndex=zl.ix,Yl.p.setGroupProperty(PropertyInterface("Position",Hl)),Yl.s.setGroupProperty(PropertyInterface("Size",Hl)),Yl.r.setGroupProperty(PropertyInterface("Rotation",Hl)),Object.defineProperties(Kl,{position:{get:ExpressionPropertyInterface(Yl.p)},roundness:{get:ExpressionPropertyInterface(Yl.r)},size:{get:ExpressionPropertyInterface(Yl.s)},_name:{value:zl.nm}}),Kl.mn=zl.mn,Kl}function Gl(zl,Ql,Jl){function Kl(Xl){return zl.r.ix===Xl||Xl==="Round Corners 1"?Kl.radius:null}var Hl=propertyGroupFactory(Kl,Jl),Yl=Ql;return Kl.propertyIndex=zl.ix,Yl.rd.setGroupProperty(PropertyInterface("Radius",Hl)),Object.defineProperties(Kl,{radius:{get:ExpressionPropertyInterface(Yl.rd)},_name:{value:zl.nm}}),Kl.mn=zl.mn,Kl}function Wl(zl,Ql,Jl){function Kl(Xl){return zl.c.ix===Xl||Xl==="Copies"?Kl.copies:zl.o.ix===Xl||Xl==="Offset"?Kl.offset:null}var Hl=propertyGroupFactory(Kl,Jl),Yl=Ql;return Kl.propertyIndex=zl.ix,Yl.c.setGroupProperty(PropertyInterface("Copies",Hl)),Yl.o.setGroupProperty(PropertyInterface("Offset",Hl)),Object.defineProperties(Kl,{copies:{get:ExpressionPropertyInterface(Yl.c)},offset:{get:ExpressionPropertyInterface(Yl.o)},_name:{value:zl.nm}}),Kl.mn=zl.mn,Kl}return function(zl,Ql,Jl){var Kl;function Hl(Xl){if(typeof Xl=="number")return Xl=Xl===void 0?1:Xl,Xl===0?Jl:Kl[Xl-1];for(var Zl=0,_d=Kl.length;Zl<_d;){if(Kl[Zl]._name===Xl)return Kl[Zl];Zl+=1}return null}function Yl(){return Jl}return Hl.propertyGroup=propertyGroupFactory(Hl,Yl),Kl=s(zl,Ql,Hl.propertyGroup),Hl.numProperties=Kl.length,Hl._name="Contents",Hl}}(),TextExpressionInterface=function(){return function(s){var i,o;function et($l){switch($l){case"ADBE Text Document":return et.sourceText;default:return null}}return Object.defineProperty(et,"sourceText",{get:function(){s.textProperty.getValue();var Nl=s.textProperty.currentData.t;return Nl!==i&&(s.textProperty.currentData.t=i,o=new String(Nl),o.value=Nl||new String(Nl)),o}}),et}}(),getBlendMode=function(){var s={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(i){return s[i]||""}}();function SliderEffect(s,i,o){this.p=PropertyFactory.getProp(i,s.v,0,0,o)}function AngleEffect(s,i,o){this.p=PropertyFactory.getProp(i,s.v,0,0,o)}function ColorEffect(s,i,o){this.p=PropertyFactory.getProp(i,s.v,1,0,o)}function PointEffect(s,i,o){this.p=PropertyFactory.getProp(i,s.v,1,0,o)}function LayerIndexEffect(s,i,o){this.p=PropertyFactory.getProp(i,s.v,0,0,o)}function MaskIndexEffect(s,i,o){this.p=PropertyFactory.getProp(i,s.v,0,0,o)}function CheckboxEffect(s,i,o){this.p=PropertyFactory.getProp(i,s.v,0,0,o)}function NoValueEffect(){this.p={}}function EffectsManager(s,i){var o=s.ef||[];this.effectElements=[];var et,$l=o.length,Nl;for(et=0;et<$l;et+=1)Nl=new GroupEffect(o[et],i),this.effectElements.push(Nl)}function GroupEffect(s,i){this.init(s,i)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(s,i){this.data=s,this.effectElements=[],this.initDynamicPropertyContainer(i);var o,et=this.data.ef.length,$l,Nl=this.data.ef;for(o=0;o<et;o+=1){switch($l=null,Nl[o].ty){case 0:$l=new SliderEffect(Nl[o],i,this);break;case 1:$l=new AngleEffect(Nl[o],i,this);break;case 2:$l=new ColorEffect(Nl[o],i,this);break;case 3:$l=new PointEffect(Nl[o],i,this);break;case 4:case 7:$l=new CheckboxEffect(Nl[o],i,this);break;case 10:$l=new LayerIndexEffect(Nl[o],i,this);break;case 11:$l=new MaskIndexEffect(Nl[o],i,this);break;case 5:$l=new EffectsManager(Nl[o],i);break;default:$l=new NoValueEffect(Nl[o]);break}$l&&this.effectElements.push($l)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var i=0,o=this.data.masksProperties.length;i<o;){if(this.data.masksProperties[i].mode!=="n"&&this.data.masksProperties[i].cl!==!1)return!0;i+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var i=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(i),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var i=getBlendMode(this.data.bm),o=this.baseElement||this.layerElement;o.style["mix-blend-mode"]=i},initBaseData:function(i,o,et){this.globalData=o,this.comp=et,this.data=i,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(i,o){var et,$l=this.dynamicProperties.length;for(et=0;et<$l;et+=1)(o||this._isParent&&this.dynamicProperties[et].propType==="transform")&&(this.dynamicProperties[et].getValue(),this.dynamicProperties[et]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(i){this.dynamicProperties.indexOf(i)===-1&&this.dynamicProperties.push(i)}};function _typeof$2(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(o){return typeof o}:_typeof$2=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$2(s)}var FootageInterface=function(){var s=function(et){var $l="",Nl=et.getFootageData();function Ml(){return $l="",Nl=et.getFootageData(),Ol}function Ol(Ll){if(Nl[Ll])return $l=Ll,Nl=Nl[Ll],_typeof$2(Nl)==="object"?Ol:Nl;var Fl=Ll.indexOf($l);if(Fl!==-1){var Bl=parseInt(Ll.substr(Fl+$l.length),10);return Nl=Nl[Bl],_typeof$2(Nl)==="object"?Ol:Nl}return""}return Ml},i=function(et){function $l(Nl){return Nl==="Outline"?$l.outlineInterface():null}return $l._name="Outline",$l.outlineInterface=s(et),$l};return function(o){function et($l){return $l==="Data"?et.dataInterface:null}return et._name="Data",et.dataInterface=i(o),et}}();function FootageElement(s,i,o){this.initFrame(),this.initRenderable(),this.assetData=i.getAssetData(s.refId),this.footageData=i.imageLoader.getAsset(this.assetData),this.initBaseData(s,i,o)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(s,i,o){this.initFrame(),this.initRenderable(),this.assetData=i.getAssetData(s.refId),this.initBaseData(s,i,o),this._isPlaying=!1,this._canPlay=!1;var et=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(et),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=s.tm?PropertyFactory.getProp(this,s.tm,0,i.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,s.au&&s.au.lv?s.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(s){if(this.prepareRenderableFrame(s,!0),this.prepareProperties(s,!0),this.tm._placeholder)this._currentTime=s/this.data.sr;else{var i=this.tm.v;this._currentTime=i}this._volume=this.lv.v[0];var o=this._volume*this._volumeMultiplier;this._previousVolume!==o&&(this._previousVolume=o,this.audio.volume(o))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(s){this.audio.rate(s)},AudioElement.prototype.volume=function(s){this._volumeMultiplier=s,this._previousVolume=s*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(s){var i,o=this.layers.length,et;for(this.completeLayers=!0,i=o-1;i>=0;i-=1)this.elements[i]||(et=this.layers[i],et.ip-et.st<=s-this.layers[i].st&&et.op-et.st>s-this.layers[i].st&&this.buildItem(i)),this.completeLayers=this.elements[i]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(s){switch(s.ty){case 2:return this.createImage(s);case 0:return this.createComp(s);case 1:return this.createSolid(s);case 3:return this.createNull(s);case 4:return this.createShape(s);case 5:return this.createText(s);case 6:return this.createAudio(s);case 13:return this.createCamera(s);case 15:return this.createFootage(s);default:return this.createNull(s)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(s){return new AudioElement(s,this.globalData,this)},BaseRenderer.prototype.createFootage=function(s){return new FootageElement(s,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var s,i=this.layers.length;for(s=0;s<i;s+=1)this.buildItem(s);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(s){this.completeLayers=!1;var i,o=s.length,et,$l=this.layers.length;for(i=0;i<o;i+=1)for(et=0;et<$l;){if(this.layers[et].id===s[i].id){this.layers[et]=s[i];break}et+=1}},BaseRenderer.prototype.setProjectInterface=function(s){this.globalData.projectInterface=s},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(s,i,o){for(var et=this.elements,$l=this.layers,Nl=0,Ml=$l.length;Nl<Ml;)$l[Nl].ind==i&&(!et[Nl]||et[Nl]===!0?(this.buildItem(Nl),this.addPendingElement(s)):(o.push(et[Nl]),et[Nl].setAsParent(),$l[Nl].parent!==void 0?this.buildElementParenting(s,$l[Nl].parent,o):s.setHierarchy(o))),Nl+=1},BaseRenderer.prototype.addPendingElement=function(s){this.pendingElements.push(s)},BaseRenderer.prototype.searchExtraCompositions=function(s){var i,o=s.length;for(i=0;i<o;i+=1)if(s[i].xt){var et=this.createComp(s[i]);et.initExpressions(),this.globalData.projectInterface.registerComposition(et)}},BaseRenderer.prototype.getElementByPath=function(s){var i=s.shift(),o;if(typeof i=="number")o=this.elements[i];else{var et,$l=this.elements.length;for(et=0;et<$l;et+=1)if(this.elements[et].data.nm===i){o=this.elements[et];break}}return s.length===0?o:o.getElementByPath(s)},BaseRenderer.prototype.setupGlobalData=function(s,i){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(s.chars),this.globalData.fontManager.addFonts(s.fonts,i),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=s.fr,this.globalData.nm=s.nm,this.globalData.compSize={w:s.w,h:s.h}};function TransformElement(){}TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var i,o=this.finalTransform.mat,et=0,$l=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;et<$l;){if(this.hierarchy[et].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}et+=1}if(this.finalTransform._matMdf)for(i=this.finalTransform.mProp.v.props,o.cloneFromProps(i),et=0;et<$l;et+=1)i=this.hierarchy[et].finalTransform.mProp.v.props,o.transform(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9],i[10],i[11],i[12],i[13],i[14],i[15])}},globalToLocal:function(i){var o=[];o.push(this.finalTransform);for(var et=!0,$l=this.comp;et;)$l.finalTransform?($l.data.hasMask&&o.splice(0,0,$l.finalTransform),$l=$l.comp):et=!1;var Nl,Ml=o.length,Ol;for(Nl=0;Nl<Ml;Nl+=1)Ol=o[Nl].mat.applyToPointArray(0,0,0),i=[i[0]-Ol[0],i[1]-Ol[1],0];return i},mHelper:new Matrix};function MaskElement(s,i,o){this.data=s,this.element=i,this.globalData=o,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var et=this.globalData.defs,$l,Nl=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(Nl),this.solidPath="";var Ml,Ol=this.masksProperties,Ll=0,Fl=[],Bl,Ul,Gl=createElementID(),Wl,zl,Ql,Jl,Kl="clipPath",Hl="clip-path";for($l=0;$l<Nl;$l+=1)if((Ol[$l].mode!=="a"&&Ol[$l].mode!=="n"||Ol[$l].inv||Ol[$l].o.k!==100||Ol[$l].o.x)&&(Kl="mask",Hl="mask"),(Ol[$l].mode==="s"||Ol[$l].mode==="i")&&Ll===0?(Wl=createNS("rect"),Wl.setAttribute("fill","#ffffff"),Wl.setAttribute("width",this.element.comp.data.w||0),Wl.setAttribute("height",this.element.comp.data.h||0),Fl.push(Wl)):Wl=null,Ml=createNS("path"),Ol[$l].mode==="n")this.viewData[$l]={op:PropertyFactory.getProp(this.element,Ol[$l].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Ol[$l],3),elem:Ml,lastPath:""},et.appendChild(Ml);else{Ll+=1,Ml.setAttribute("fill",Ol[$l].mode==="s"?"#000000":"#ffffff"),Ml.setAttribute("clip-rule","nonzero");var Yl;if(Ol[$l].x.k!==0?(Kl="mask",Hl="mask",Jl=PropertyFactory.getProp(this.element,Ol[$l].x,0,null,this.element),Yl=createElementID(),zl=createNS("filter"),zl.setAttribute("id",Yl),Ql=createNS("feMorphology"),Ql.setAttribute("operator","erode"),Ql.setAttribute("in","SourceGraphic"),Ql.setAttribute("radius","0"),zl.appendChild(Ql),et.appendChild(zl),Ml.setAttribute("stroke",Ol[$l].mode==="s"?"#000000":"#ffffff")):(Ql=null,Jl=null),this.storedData[$l]={elem:Ml,x:Jl,expan:Ql,lastPath:"",lastOperator:"",filterId:Yl,lastRadius:0},Ol[$l].mode==="i"){Ul=Fl.length;var Xl=createNS("g");for(Bl=0;Bl<Ul;Bl+=1)Xl.appendChild(Fl[Bl]);var Zl=createNS("mask");Zl.setAttribute("mask-type","alpha"),Zl.setAttribute("id",Gl+"_"+Ll),Zl.appendChild(Ml),et.appendChild(Zl),Xl.setAttribute("mask","url("+getLocationHref()+"#"+Gl+"_"+Ll+")"),Fl.length=0,Fl.push(Xl)}else Fl.push(Ml);Ol[$l].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[$l]={elem:Ml,lastPath:"",op:PropertyFactory.getProp(this.element,Ol[$l].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Ol[$l],3),invRect:Wl},this.viewData[$l].prop.k||this.drawPath(Ol[$l],this.viewData[$l].prop.v,this.viewData[$l])}for(this.maskElement=createNS(Kl),Nl=Fl.length,$l=0;$l<Nl;$l+=1)this.maskElement.appendChild(Fl[$l]);Ll>0&&(this.maskElement.setAttribute("id",Gl),this.element.maskedElement.setAttribute(Hl,"url("+getLocationHref()+"#"+Gl+")"),et.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(s){return this.viewData[s].prop},MaskElement.prototype.renderFrame=function(s){var i=this.element.finalTransform.mat,o,et=this.masksProperties.length;for(o=0;o<et;o+=1)if((this.viewData[o].prop._mdf||s)&&this.drawPath(this.masksProperties[o],this.viewData[o].prop.v,this.viewData[o]),(this.viewData[o].op._mdf||s)&&this.viewData[o].elem.setAttribute("fill-opacity",this.viewData[o].op.v),this.masksProperties[o].mode!=="n"&&(this.viewData[o].invRect&&(this.element.finalTransform.mProp._mdf||s)&&this.viewData[o].invRect.setAttribute("transform",i.getInverseMatrix().to2dCSS()),this.storedData[o].x&&(this.storedData[o].x._mdf||s))){var $l=this.storedData[o].expan;this.storedData[o].x.v<0?(this.storedData[o].lastOperator!=="erode"&&(this.storedData[o].lastOperator="erode",this.storedData[o].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[o].filterId+")")),$l.setAttribute("radius",-this.storedData[o].x.v)):(this.storedData[o].lastOperator!=="dilate"&&(this.storedData[o].lastOperator="dilate",this.storedData[o].elem.setAttribute("filter",null)),this.storedData[o].elem.setAttribute("stroke-width",this.storedData[o].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var s="M0,0 ";return s+=" h"+this.globalData.compSize.w,s+=" v"+this.globalData.compSize.h,s+=" h-"+this.globalData.compSize.w,s+=" v-"+this.globalData.compSize.h+" ",s},MaskElement.prototype.drawPath=function(s,i,o){var et=" M"+i.v[0][0]+","+i.v[0][1],$l,Nl;for(Nl=i._length,$l=1;$l<Nl;$l+=1)et+=" C"+i.o[$l-1][0]+","+i.o[$l-1][1]+" "+i.i[$l][0]+","+i.i[$l][1]+" "+i.v[$l][0]+","+i.v[$l][1];if(i.c&&Nl>1&&(et+=" C"+i.o[$l-1][0]+","+i.o[$l-1][1]+" "+i.i[0][0]+","+i.i[0][1]+" "+i.v[0][0]+","+i.v[0][1]),o.lastPath!==et){var Ml="";o.elem&&(i.c&&(Ml=s.inv?this.solidPath+et:et),o.elem.setAttribute("d",Ml)),o.lastPath=et}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var s={};s.createFilter=i,s.createAlphaToLuminanceFilter=o;function i(et,$l){var Nl=createNS("filter");return Nl.setAttribute("id",et),$l!==!0&&(Nl.setAttribute("filterUnits","objectBoundingBox"),Nl.setAttribute("x","0%"),Nl.setAttribute("y","0%"),Nl.setAttribute("width","100%"),Nl.setAttribute("height","100%")),Nl}function o(){var et=createNS("feColorMatrix");return et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),et}return s}(),featureSupport=function(){var s={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(s.maskType=!1),s}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(s){var i,o="SourceGraphic",et=s.data.ef?s.data.ef.length:0,$l=createElementID(),Nl=filtersFactory.createFilter($l,!0),Ml=0;this.filters=[];var Ol;for(i=0;i<et;i+=1){Ol=null;var Ll=s.data.ef[i].ty;if(registeredEffects[Ll]){var Fl=registeredEffects[Ll].effect;Ol=new Fl(Nl,s.effectsManager.effectElements[i],s,idPrefix+Ml,o),o=idPrefix+Ml,registeredEffects[Ll].countsAsEffect&&(Ml+=1)}Ol&&this.filters.push(Ol)}Ml&&(s.globalData.defs.appendChild(Nl),s.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+$l+")")),this.filters.length&&s.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(s){var i,o=this.filters.length;for(i=0;i<o;i+=1)this.filters[i].renderFrame(s)};function registerEffect(s,i,o){registeredEffects[s]={effect:i,countsAsEffect:o}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var i=null,o,et,$l;if(this.data.td){if(this.data.td==3||this.data.td==1){var Nl=createNS("mask");Nl.setAttribute("id",this.layerId),Nl.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),Nl.appendChild(this.layerElement),i=Nl,this.globalData.defs.appendChild(Nl),!featureSupport.maskType&&this.data.td==1&&(Nl.setAttribute("mask-type","luminance"),o=createElementID(),et=filtersFactory.createFilter(o),this.globalData.defs.appendChild(et),et.appendChild(filtersFactory.createAlphaToLuminanceFilter()),$l=createNS("g"),$l.appendChild(this.layerElement),i=$l,Nl.appendChild($l),$l.setAttribute("filter","url("+getLocationHref()+"#"+o+")"))}else if(this.data.td==2){var Ml=createNS("mask");Ml.setAttribute("id",this.layerId),Ml.setAttribute("mask-type","alpha");var Ol=createNS("g");Ml.appendChild(Ol),o=createElementID(),et=filtersFactory.createFilter(o);var Ll=createNS("feComponentTransfer");Ll.setAttribute("in","SourceGraphic"),et.appendChild(Ll);var Fl=createNS("feFuncA");Fl.setAttribute("type","table"),Fl.setAttribute("tableValues","1.0 0.0"),Ll.appendChild(Fl),this.globalData.defs.appendChild(et);var Bl=createNS("rect");Bl.setAttribute("width",this.comp.data.w),Bl.setAttribute("height",this.comp.data.h),Bl.setAttribute("x","0"),Bl.setAttribute("y","0"),Bl.setAttribute("fill","#ffffff"),Bl.setAttribute("opacity","0"),Ol.setAttribute("filter","url("+getLocationHref()+"#"+o+")"),Ol.appendChild(Bl),Ol.appendChild(this.layerElement),i=Ol,featureSupport.maskType||(Ml.setAttribute("mask-type","luminance"),et.appendChild(filtersFactory.createAlphaToLuminanceFilter()),$l=createNS("g"),Ol.appendChild(Bl),$l.appendChild(this.layerElement),i=$l,Ol.appendChild($l)),this.globalData.defs.appendChild(Ml)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),i=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var Ul=createNS("clipPath"),Gl=createNS("path");Gl.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var Wl=createElementID();if(Ul.setAttribute("id",Wl),Ul.appendChild(Gl),this.globalData.defs.appendChild(Ul),this.checkMasks()){var zl=createNS("g");zl.setAttribute("clip-path","url("+getLocationHref()+"#"+Wl+")"),zl.appendChild(this.layerElement),this.transformedElement=zl,i?i.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Wl+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(i){!this.matteElement||this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+i+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(i){this.hierarchy=i},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var s={initElement:function(o,et,$l){this.initFrame(),this.initBaseData(o,et,$l),this.initTransform(o,et,$l),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var o=this.baseElement||this.layerElement;o.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var o=this.baseElement||this.layerElement;o.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(o){this._mdf=!1,this.prepareRenderableFrame(o),this.prepareProperties(o,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(s)],RenderableDOMElement)})();function IImageElement(s,i,o){this.assetData=i.getAssetData(s.refId),this.initElement(s,i,o),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var s=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",s),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(s,i){this.elem=s,this.pos=i}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(i){var o,et=this.shapeModifiers.length;for(o=0;o<et;o+=1)this.shapeModifiers[o].addShape(i)},isShapeInAnimatedModifiers:function(i){for(var o=0,et=this.shapeModifiers.length;o<et;)if(this.shapeModifiers[o].isAnimatedWithShape(i))return!0;return!1},renderModifiers:function(){if(!!this.shapeModifiers.length){var i,o=this.shapes.length;for(i=0;i<o;i+=1)this.shapes[i].sh.reset();o=this.shapeModifiers.length;var et;for(i=o-1;i>=0&&(et=this.shapeModifiers[i].processShapes(this._isFirstFrame),!et);i-=1);}},searchProcessedElement:function(i){for(var o=this.processedElements,et=0,$l=o.length;et<$l;){if(o[et].elem===i)return o[et].pos;et+=1}return 0},addProcessedElement:function(i,o){for(var et=this.processedElements,$l=et.length;$l;)if($l-=1,et[$l].elem===i){et[$l].pos=o;return}et.push(new ProcessedElement(i,o))},prepareFrame:function(i){this.prepareRenderableFrame(i),this.prepareProperties(i,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(s,i,o){this.caches=[],this.styles=[],this.transformers=s,this.lStr="",this.sh=o,this.lvl=i,this._isAnimated=!!o.k;for(var et=0,$l=s.length;et<$l;){if(s[et].mProps.dynamicProperties.length){this._isAnimated=!0;break}et+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(s,i){this.data=s,this.type=s.ty,this.d="",this.lvl=i,this._mdf=!1,this.closed=s.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(s,i,o,et){this.elem=s,this.frameId=-1,this.dataProps=createSizedArray(i.length),this.renderer=o,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",i.length?i.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(et);var $l,Nl=i.length||0,Ml;for($l=0;$l<Nl;$l+=1)Ml=PropertyFactory.getProp(s,i[$l].v,0,0,this),this.k=Ml.k||this.k,this.dataProps[$l]={n:i[$l].n,p:Ml};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(s){if(!(this.elem.globalData.frameId===this.frameId&&!s)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||s,this._mdf)){var i=0,o=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),i=0;i<o;i+=1)this.dataProps[i].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[i].p.v:this.dashArray[i]=this.dataProps[i].p.v:this.dashoffset[0]=this.dataProps[i].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(s,i,o){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(s,i.o,0,.01,this),this.w=PropertyFactory.getProp(s,i.w,0,null,this),this.d=new DashProperty(s,i.d||{},"svg",this),this.c=PropertyFactory.getProp(s,i.c,1,255,this),this.style=o,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(s,i,o){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(s,i.o,0,.01,this),this.c=PropertyFactory.getProp(s,i.c,1,255,this),this.style=o}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(s,i,o){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.style=o}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(s,i,o){this.data=i,this.c=createTypedArray("uint8c",i.p*4);var et=i.k.k[0].s?i.k.k[0].s.length-i.p*4:i.k.k.length-i.p*4;this.o=createTypedArray("float32",et),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=et,this.initDynamicPropertyContainer(o),this.prop=PropertyFactory.getProp(s,i.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(s,i){for(var o=0,et=this.o.length/2,$l;o<et;){if($l=Math.abs(s[o*4]-s[i*4+o*2]),$l>.01)return!1;o+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var s=0,i=this.data.k.k.length;s<i;){if(!this.comparePoints(this.data.k.k[s].s,this.data.p))return!1;s+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(s){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||s){var i,o=this.data.p*4,et,$l;for(i=0;i<o;i+=1)et=i%4===0?100:255,$l=Math.round(this.prop.v[i]*et),this.c[i]!==$l&&(this.c[i]=$l,this._cmdf=!s);if(this.o.length)for(o=this.prop.v.length,i=this.data.p*4;i<o;i+=1)et=i%2===0?100:1,$l=i%2===0?Math.round(this.prop.v[i]*100):this.prop.v[i],this.o[i-this.data.p*4]!==$l&&(this.o[i-this.data.p*4]=$l,this._omdf=!s);this._mdf=!s}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(s,i,o){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.initGradientData(s,i,o)}SVGGradientFillStyleData.prototype.initGradientData=function(s,i,o){this.o=PropertyFactory.getProp(s,i.o,0,.01,this),this.s=PropertyFactory.getProp(s,i.s,1,null,this),this.e=PropertyFactory.getProp(s,i.e,1,null,this),this.h=PropertyFactory.getProp(s,i.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(s,i.a||{k:0},0,degToRads,this),this.g=new GradientProperty(s,i.g,this),this.style=o,this.stops=[],this.setGradientData(o.pElem,i),this.setGradientOpacity(i,o),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(s,i){var o=createElementID(),et=createNS(i.t===1?"linearGradient":"radialGradient");et.setAttribute("id",o),et.setAttribute("spreadMethod","pad"),et.setAttribute("gradientUnits","userSpaceOnUse");var $l=[],Nl,Ml,Ol;for(Ol=i.g.p*4,Ml=0;Ml<Ol;Ml+=4)Nl=createNS("stop"),et.appendChild(Nl),$l.push(Nl);s.setAttribute(i.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+o+")"),this.gf=et,this.cst=$l},SVGGradientFillStyleData.prototype.setGradientOpacity=function(s,i){if(this.g._hasOpacity&&!this.g._collapsable){var o,et,$l,Nl=createNS("mask"),Ml=createNS("path");Nl.appendChild(Ml);var Ol=createElementID(),Ll=createElementID();Nl.setAttribute("id",Ll);var Fl=createNS(s.t===1?"linearGradient":"radialGradient");Fl.setAttribute("id",Ol),Fl.setAttribute("spreadMethod","pad"),Fl.setAttribute("gradientUnits","userSpaceOnUse"),$l=s.g.k.k[0].s?s.g.k.k[0].s.length:s.g.k.k.length;var Bl=this.stops;for(et=s.g.p*4;et<$l;et+=2)o=createNS("stop"),o.setAttribute("stop-color","rgb(255,255,255)"),Fl.appendChild(o),Bl.push(o);Ml.setAttribute(s.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Ol+")"),s.ty==="gs"&&(Ml.setAttribute("stroke-linecap",lineCapEnum[s.lc||2]),Ml.setAttribute("stroke-linejoin",lineJoinEnum[s.lj||2]),s.lj===1&&Ml.setAttribute("stroke-miterlimit",s.ml)),this.of=Fl,this.ms=Nl,this.ost=Bl,this.maskId=Ll,i.msElem=Ml}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(s,i,o){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(s,i.w,0,null,this),this.d=new DashProperty(s,i.d||{},"svg",this),this.initGradientData(s,i,o),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(s,i,o){this.transform={mProps:s,op:i,container:o},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(i,o,et,$l){if(o===0)return"";var Nl=i.o,Ml=i.i,Ol=i.v,Ll,Fl=" M"+$l.applyToPointStringified(Ol[0][0],Ol[0][1]);for(Ll=1;Ll<o;Ll+=1)Fl+=" C"+$l.applyToPointStringified(Nl[Ll-1][0],Nl[Ll-1][1])+" "+$l.applyToPointStringified(Ml[Ll][0],Ml[Ll][1])+" "+$l.applyToPointStringified(Ol[Ll][0],Ol[Ll][1]);return et&&o&&(Fl+=" C"+$l.applyToPointStringified(Nl[Ll-1][0],Nl[Ll-1][1])+" "+$l.applyToPointStringified(Ml[0][0],Ml[0][1])+" "+$l.applyToPointStringified(Ol[0][0],Ol[0][1]),Fl+="z"),Fl},SVGElementsRenderer=function(){var s=new Matrix,i=new Matrix,o={createRenderFunction:et};function et(Ul){switch(Ul.ty){case"fl":return Ol;case"gf":return Fl;case"gs":return Ll;case"st":return Bl;case"sh":case"el":case"rc":case"sr":return Ml;case"tr":return $l;case"no":return Nl;default:return null}}function $l(Ul,Gl,Wl){(Wl||Gl.transform.op._mdf)&&Gl.transform.container.setAttribute("opacity",Gl.transform.op.v),(Wl||Gl.transform.mProps._mdf)&&Gl.transform.container.setAttribute("transform",Gl.transform.mProps.v.to2dCSS())}function Nl(){}function Ml(Ul,Gl,Wl){var zl,Ql,Jl,Kl,Hl,Yl,Xl=Gl.styles.length,Zl=Gl.lvl,_d,_f,e0,s0,u0;for(Yl=0;Yl<Xl;Yl+=1){if(Kl=Gl.sh._mdf||Wl,Gl.styles[Yl].lvl<Zl){for(_f=i.reset(),s0=Zl-Gl.styles[Yl].lvl,u0=Gl.transformers.length-1;!Kl&&s0>0;)Kl=Gl.transformers[u0].mProps._mdf||Kl,s0-=1,u0-=1;if(Kl)for(s0=Zl-Gl.styles[Yl].lvl,u0=Gl.transformers.length-1;s0>0;)e0=Gl.transformers[u0].mProps.v.props,_f.transform(e0[0],e0[1],e0[2],e0[3],e0[4],e0[5],e0[6],e0[7],e0[8],e0[9],e0[10],e0[11],e0[12],e0[13],e0[14],e0[15]),s0-=1,u0-=1}else _f=s;if(_d=Gl.sh.paths,Ql=_d._length,Kl){for(Jl="",zl=0;zl<Ql;zl+=1)Hl=_d.shapes[zl],Hl&&Hl._length&&(Jl+=buildShapeString(Hl,Hl._length,Hl.c,_f));Gl.caches[Yl]=Jl}else Jl=Gl.caches[Yl];Gl.styles[Yl].d+=Ul.hd===!0?"":Jl,Gl.styles[Yl]._mdf=Kl||Gl.styles[Yl]._mdf}}function Ol(Ul,Gl,Wl){var zl=Gl.style;(Gl.c._mdf||Wl)&&zl.pElem.setAttribute("fill","rgb("+bmFloor(Gl.c.v[0])+","+bmFloor(Gl.c.v[1])+","+bmFloor(Gl.c.v[2])+")"),(Gl.o._mdf||Wl)&&zl.pElem.setAttribute("fill-opacity",Gl.o.v)}function Ll(Ul,Gl,Wl){Fl(Ul,Gl,Wl),Bl(Ul,Gl,Wl)}function Fl(Ul,Gl,Wl){var zl=Gl.gf,Ql=Gl.g._hasOpacity,Jl=Gl.s.v,Kl=Gl.e.v;if(Gl.o._mdf||Wl){var Hl=Ul.ty==="gf"?"fill-opacity":"stroke-opacity";Gl.style.pElem.setAttribute(Hl,Gl.o.v)}if(Gl.s._mdf||Wl){var Yl=Ul.t===1?"x1":"cx",Xl=Yl==="x1"?"y1":"cy";zl.setAttribute(Yl,Jl[0]),zl.setAttribute(Xl,Jl[1]),Ql&&!Gl.g._collapsable&&(Gl.of.setAttribute(Yl,Jl[0]),Gl.of.setAttribute(Xl,Jl[1]))}var Zl,_d,_f,e0;if(Gl.g._cmdf||Wl){Zl=Gl.cst;var s0=Gl.g.c;for(_f=Zl.length,_d=0;_d<_f;_d+=1)e0=Zl[_d],e0.setAttribute("offset",s0[_d*4]+"%"),e0.setAttribute("stop-color","rgb("+s0[_d*4+1]+","+s0[_d*4+2]+","+s0[_d*4+3]+")")}if(Ql&&(Gl.g._omdf||Wl)){var u0=Gl.g.o;for(Gl.g._collapsable?Zl=Gl.cst:Zl=Gl.ost,_f=Zl.length,_d=0;_d<_f;_d+=1)e0=Zl[_d],Gl.g._collapsable||e0.setAttribute("offset",u0[_d*2]+"%"),e0.setAttribute("stop-opacity",u0[_d*2+1])}if(Ul.t===1)(Gl.e._mdf||Wl)&&(zl.setAttribute("x2",Kl[0]),zl.setAttribute("y2",Kl[1]),Ql&&!Gl.g._collapsable&&(Gl.of.setAttribute("x2",Kl[0]),Gl.of.setAttribute("y2",Kl[1])));else{var g0;if((Gl.s._mdf||Gl.e._mdf||Wl)&&(g0=Math.sqrt(Math.pow(Jl[0]-Kl[0],2)+Math.pow(Jl[1]-Kl[1],2)),zl.setAttribute("r",g0),Ql&&!Gl.g._collapsable&&Gl.of.setAttribute("r",g0)),Gl.e._mdf||Gl.h._mdf||Gl.a._mdf||Wl){g0||(g0=Math.sqrt(Math.pow(Jl[0]-Kl[0],2)+Math.pow(Jl[1]-Kl[1],2)));var f0=Math.atan2(Kl[1]-Jl[1],Kl[0]-Jl[0]),_0=Gl.h.v;_0>=1?_0=.99:_0<=-1&&(_0=-.99);var S0=g0*_0,p0=Math.cos(f0+Gl.a.v)*S0+Jl[0],o0=Math.sin(f0+Gl.a.v)*S0+Jl[1];zl.setAttribute("fx",p0),zl.setAttribute("fy",o0),Ql&&!Gl.g._collapsable&&(Gl.of.setAttribute("fx",p0),Gl.of.setAttribute("fy",o0))}}}function Bl(Ul,Gl,Wl){var zl=Gl.style,Ql=Gl.d;Ql&&(Ql._mdf||Wl)&&Ql.dashStr&&(zl.pElem.setAttribute("stroke-dasharray",Ql.dashStr),zl.pElem.setAttribute("stroke-dashoffset",Ql.dashoffset[0])),Gl.c&&(Gl.c._mdf||Wl)&&zl.pElem.setAttribute("stroke","rgb("+bmFloor(Gl.c.v[0])+","+bmFloor(Gl.c.v[1])+","+bmFloor(Gl.c.v[2])+")"),(Gl.o._mdf||Wl)&&zl.pElem.setAttribute("stroke-opacity",Gl.o.v),(Gl.w._mdf||Wl)&&(zl.pElem.setAttribute("stroke-width",Gl.w.v),zl.msElem&&zl.msElem.setAttribute("stroke-width",Gl.w.v))}return o}();function SVGShapeElement(s,i,o){this.shapes=[],this.shapesData=s.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(s,i,o),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var s,i=this.shapes.length,o,et,$l=this.stylesList.length,Nl,Ml=[],Ol=!1;for(et=0;et<$l;et+=1){for(Nl=this.stylesList[et],Ol=!1,Ml.length=0,s=0;s<i;s+=1)o=this.shapes[s],o.styles.indexOf(Nl)!==-1&&(Ml.push(o),Ol=o._isAnimated||Ol);Ml.length>1&&Ol&&this.setShapesAsAnimated(Ml)}},SVGShapeElement.prototype.setShapesAsAnimated=function(s){var i,o=s.length;for(i=0;i<o;i+=1)s[i].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(s,i){var o,et=new SVGStyleData(s,i),$l=et.pElem;if(s.ty==="st")o=new SVGStrokeStyleData(this,s,et);else if(s.ty==="fl")o=new SVGFillStyleData(this,s,et);else if(s.ty==="gf"||s.ty==="gs"){var Nl=s.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;o=new Nl(this,s,et),this.globalData.defs.appendChild(o.gf),o.maskId&&(this.globalData.defs.appendChild(o.ms),this.globalData.defs.appendChild(o.of),$l.setAttribute("mask","url("+getLocationHref()+"#"+o.maskId+")"))}else s.ty==="no"&&(o=new SVGNoStyleData(this,s,et));return(s.ty==="st"||s.ty==="gs")&&($l.setAttribute("stroke-linecap",lineCapEnum[s.lc||2]),$l.setAttribute("stroke-linejoin",lineJoinEnum[s.lj||2]),$l.setAttribute("fill-opacity","0"),s.lj===1&&$l.setAttribute("stroke-miterlimit",s.ml)),s.r===2&&$l.setAttribute("fill-rule","evenodd"),s.ln&&$l.setAttribute("id",s.ln),s.cl&&$l.setAttribute("class",s.cl),s.bm&&($l.style["mix-blend-mode"]=getBlendMode(s.bm)),this.stylesList.push(et),this.addToAnimatedContents(s,o),o},SVGShapeElement.prototype.createGroupElement=function(s){var i=new ShapeGroupData;return s.ln&&i.gr.setAttribute("id",s.ln),s.cl&&i.gr.setAttribute("class",s.cl),s.bm&&(i.gr.style["mix-blend-mode"]=getBlendMode(s.bm)),i},SVGShapeElement.prototype.createTransformElement=function(s,i){var o=TransformPropertyFactory.getTransformProperty(this,s,this),et=new SVGTransformData(o,o.o,i);return this.addToAnimatedContents(s,et),et},SVGShapeElement.prototype.createShapeElement=function(s,i,o){var et=4;s.ty==="rc"?et=5:s.ty==="el"?et=6:s.ty==="sr"&&(et=7);var $l=ShapePropertyFactory.getShapeProp(this,s,et,this),Nl=new SVGShapeData(i,o,$l);return this.shapes.push(Nl),this.addShapeToModifiers(Nl),this.addToAnimatedContents(s,Nl),Nl},SVGShapeElement.prototype.addToAnimatedContents=function(s,i){for(var o=0,et=this.animatedContents.length;o<et;){if(this.animatedContents[o].element===i)return;o+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(s),element:i,data:s})},SVGShapeElement.prototype.setElementStyles=function(s){var i=s.styles,o,et=this.stylesList.length;for(o=0;o<et;o+=1)this.stylesList[o].closed||i.push(this.stylesList[o])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var s,i=this.itemsData.length;for(s=0;s<i;s+=1)this.prevViewData[s]=this.itemsData[s];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),i=this.dynamicProperties.length,s=0;s<i;s+=1)this.dynamicProperties[s].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(s,i,o,et,$l,Nl,Ml){var Ol=[].concat(Nl),Ll,Fl=s.length-1,Bl,Ul,Gl=[],Wl=[],zl,Ql,Jl;for(Ll=Fl;Ll>=0;Ll-=1){if(Jl=this.searchProcessedElement(s[Ll]),Jl?i[Ll]=o[Jl-1]:s[Ll]._render=Ml,s[Ll].ty==="fl"||s[Ll].ty==="st"||s[Ll].ty==="gf"||s[Ll].ty==="gs"||s[Ll].ty==="no")Jl?i[Ll].style.closed=!1:i[Ll]=this.createStyleElement(s[Ll],$l),s[Ll]._render&&i[Ll].style.pElem.parentNode!==et&&et.appendChild(i[Ll].style.pElem),Gl.push(i[Ll].style);else if(s[Ll].ty==="gr"){if(!Jl)i[Ll]=this.createGroupElement(s[Ll]);else for(Ul=i[Ll].it.length,Bl=0;Bl<Ul;Bl+=1)i[Ll].prevViewData[Bl]=i[Ll].it[Bl];this.searchShapes(s[Ll].it,i[Ll].it,i[Ll].prevViewData,i[Ll].gr,$l+1,Ol,Ml),s[Ll]._render&&i[Ll].gr.parentNode!==et&&et.appendChild(i[Ll].gr)}else s[Ll].ty==="tr"?(Jl||(i[Ll]=this.createTransformElement(s[Ll],et)),zl=i[Ll].transform,Ol.push(zl)):s[Ll].ty==="sh"||s[Ll].ty==="rc"||s[Ll].ty==="el"||s[Ll].ty==="sr"?(Jl||(i[Ll]=this.createShapeElement(s[Ll],Ol,$l)),this.setElementStyles(i[Ll])):s[Ll].ty==="tm"||s[Ll].ty==="rd"||s[Ll].ty==="ms"||s[Ll].ty==="pb"?(Jl?(Ql=i[Ll],Ql.closed=!1):(Ql=ShapeModifiers.getModifier(s[Ll].ty),Ql.init(this,s[Ll]),i[Ll]=Ql,this.shapeModifiers.push(Ql)),Wl.push(Ql)):s[Ll].ty==="rp"&&(Jl?(Ql=i[Ll],Ql.closed=!0):(Ql=ShapeModifiers.getModifier(s[Ll].ty),i[Ll]=Ql,Ql.init(this,s,Ll,i),this.shapeModifiers.push(Ql),Ml=!1),Wl.push(Ql));this.addProcessedElement(s[Ll],Ll+1)}for(Fl=Gl.length,Ll=0;Ll<Fl;Ll+=1)Gl[Ll].closed=!0;for(Fl=Wl.length,Ll=0;Ll<Fl;Ll+=1)Wl[Ll].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var s,i=this.stylesList.length;for(s=0;s<i;s+=1)this.stylesList[s].reset();for(this.renderShape(),s=0;s<i;s+=1)(this.stylesList[s]._mdf||this._isFirstFrame)&&(this.stylesList[s].msElem&&(this.stylesList[s].msElem.setAttribute("d",this.stylesList[s].d),this.stylesList[s].d="M0 0"+this.stylesList[s].d),this.stylesList[s].pElem.setAttribute("d",this.stylesList[s].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var s,i=this.animatedContents.length,o;for(s=0;s<i;s+=1)o=this.animatedContents[s],(this._isFirstFrame||o.element._isAnimated)&&o.data!==!0&&o.fn(o.data,o.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(s,i,o,et,$l,Nl){this.o=s,this.sw=i,this.sc=o,this.fc=et,this.m=$l,this.p=Nl,this._mdf={o:!0,sw:!!i,sc:!!o,fc:!!et,m:!0,p:!0}}LetterProps.prototype.update=function(s,i,o,et,$l,Nl){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var Ml=!1;return this.o!==s&&(this.o=s,this._mdf.o=!0,Ml=!0),this.sw!==i&&(this.sw=i,this._mdf.sw=!0,Ml=!0),this.sc!==o&&(this.sc=o,this._mdf.sc=!0,Ml=!0),this.fc!==et&&(this.fc=et,this._mdf.fc=!0,Ml=!0),this.m!==$l&&(this.m=$l,this._mdf.m=!0,Ml=!0),Nl.length&&(this.p[0]!==Nl[0]||this.p[1]!==Nl[1]||this.p[4]!==Nl[4]||this.p[5]!==Nl[5]||this.p[12]!==Nl[12]||this.p[13]!==Nl[13])&&(this.p=Nl,this._mdf.p=!0,Ml=!0),Ml};function TextProperty(s,i){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=i,this.elem=s,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(s,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o]);return s},TextProperty.prototype.setCurrentData=function(s){s.__complete||this.completeTextData(s),this.currentData=s,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(s){this.effectsSequence.push(s),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(s){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!s)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var i=this.currentData,o=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var et,$l=this.effectsSequence.length,Nl=s||this.data.d.k[this.keysIndex].s;for(et=0;et<$l;et+=1)o!==this.keysIndex?Nl=this.effectsSequence[et](Nl,Nl.t):Nl=this.effectsSequence[et](this.currentData,Nl.t);i!==Nl&&this.setCurrentData(Nl),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var s=this.data.d.k,i=this.elem.comp.renderedFrame,o=0,et=s.length;o<=et-1&&!(o===et-1||s[o+1].t>i);)o+=1;return this.keysIndex!==o&&(this.keysIndex=o),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(s){for(var i=[],o=0,et=s.length,$l,Nl,Ml=!1;o<et;)$l=s.charCodeAt(o),FontManager.isCombinedCharacter($l)?i[i.length-1]+=s.charAt(o):$l>=55296&&$l<=56319?(Nl=s.charCodeAt(o+1),Nl>=56320&&Nl<=57343?(Ml||FontManager.isModifier($l,Nl)?(i[i.length-1]+=s.substr(o,2),Ml=!1):i.push(s.substr(o,2)),o+=1):i.push(s.charAt(o))):$l>56319?(Nl=s.charCodeAt(o+1),FontManager.isZeroWidthJoiner($l,Nl)?(Ml=!0,i[i.length-1]+=s.substr(o,2),o+=1):i.push(s.charAt(o))):FontManager.isZeroWidthJoiner($l)?(i[i.length-1]+=s.charAt(o),Ml=!0):i.push(s.charAt(o)),o+=1;return i},TextProperty.prototype.completeTextData=function(s){s.__complete=!0;var i=this.elem.globalData.fontManager,o=this.data,et=[],$l,Nl,Ml,Ol=0,Ll,Fl=o.m.g,Bl=0,Ul=0,Gl=0,Wl=[],zl=0,Ql=0,Jl,Kl,Hl=i.getFontByName(s.f),Yl,Xl=0,Zl=getFontProperties(Hl);s.fWeight=Zl.weight,s.fStyle=Zl.style,s.finalSize=s.s,s.finalText=this.buildFinalText(s.t),Nl=s.finalText.length,s.finalLineHeight=s.lh;var _d=s.tr/1e3*s.finalSize,_f;if(s.sz)for(var e0=!0,s0=s.sz[0],u0=s.sz[1],g0,f0;e0;){f0=this.buildFinalText(s.t),g0=0,zl=0,Nl=f0.length,_d=s.tr/1e3*s.finalSize;var _0=-1;for($l=0;$l<Nl;$l+=1)_f=f0[$l].charCodeAt(0),Ml=!1,f0[$l]===" "?_0=$l:(_f===13||_f===3)&&(zl=0,Ml=!0,g0+=s.finalLineHeight||s.finalSize*1.2),i.chars?(Yl=i.getCharData(f0[$l],Hl.fStyle,Hl.fFamily),Xl=Ml?0:Yl.w*s.finalSize/100):Xl=i.measureText(f0[$l],s.f,s.finalSize),zl+Xl>s0&&f0[$l]!==" "?(_0===-1?Nl+=1:$l=_0,g0+=s.finalLineHeight||s.finalSize*1.2,f0.splice($l,_0===$l?1:0,"\r"),_0=-1,zl=0):(zl+=Xl,zl+=_d);g0+=Hl.ascent*s.finalSize/100,this.canResize&&s.finalSize>this.minimumFontSize&&u0<g0?(s.finalSize-=1,s.finalLineHeight=s.finalSize*s.lh/s.s):(s.finalText=f0,Nl=s.finalText.length,e0=!1)}zl=-_d,Xl=0;var S0=0,p0;for($l=0;$l<Nl;$l+=1)if(Ml=!1,p0=s.finalText[$l],_f=p0.charCodeAt(0),_f===13||_f===3?(S0=0,Wl.push(zl),Ql=zl>Ql?zl:Ql,zl=-2*_d,Ll="",Ml=!0,Gl+=1):Ll=p0,i.chars?(Yl=i.getCharData(p0,Hl.fStyle,i.getFontByName(s.f).fFamily),Xl=Ml?0:Yl.w*s.finalSize/100):Xl=i.measureText(Ll,s.f,s.finalSize),p0===" "?S0+=Xl+_d:(zl+=Xl+_d+S0,S0=0),et.push({l:Xl,an:Xl,add:Bl,n:Ml,anIndexes:[],val:Ll,line:Gl,animatorJustifyOffset:0}),Fl==2){if(Bl+=Xl,Ll===""||Ll===" "||$l===Nl-1){for((Ll===""||Ll===" ")&&(Bl-=Xl);Ul<=$l;)et[Ul].an=Bl,et[Ul].ind=Ol,et[Ul].extra=Xl,Ul+=1;Ol+=1,Bl=0}}else if(Fl==3){if(Bl+=Xl,Ll===""||$l===Nl-1){for(Ll===""&&(Bl-=Xl);Ul<=$l;)et[Ul].an=Bl,et[Ul].ind=Ol,et[Ul].extra=Xl,Ul+=1;Bl=0,Ol+=1}}else et[Ol].ind=Ol,et[Ol].extra=0,Ol+=1;if(s.l=et,Ql=zl>Ql?zl:Ql,Wl.push(zl),s.sz)s.boxWidth=s.sz[0],s.justifyOffset=0;else switch(s.boxWidth=Ql,s.j){case 1:s.justifyOffset=-s.boxWidth;break;case 2:s.justifyOffset=-s.boxWidth/2;break;default:s.justifyOffset=0}s.lineWidths=Wl;var o0=o.a,n0,t0;Kl=o0.length;var r0,d0,h0=[];for(Jl=0;Jl<Kl;Jl+=1){for(n0=o0[Jl],n0.a.sc&&(s.strokeColorAnim=!0),n0.a.sw&&(s.strokeWidthAnim=!0),(n0.a.fc||n0.a.fh||n0.a.fs||n0.a.fb)&&(s.fillColorAnim=!0),d0=0,r0=n0.s.b,$l=0;$l<Nl;$l+=1)t0=et[$l],t0.anIndexes[Jl]=d0,(r0==1&&t0.val!==""||r0==2&&t0.val!==""&&t0.val!==" "||r0==3&&(t0.n||t0.val==" "||$l==Nl-1)||r0==4&&(t0.n||$l==Nl-1))&&(n0.s.rn===1&&h0.push(d0),d0+=1);o.a[Jl].s.totalChars=d0;var i0=-1,c0;if(n0.s.rn===1)for($l=0;$l<Nl;$l+=1)t0=et[$l],i0!=t0.anIndexes[Jl]&&(i0=t0.anIndexes[Jl],c0=h0.splice(Math.floor(Math.random()*h0.length),1)[0]),t0.anIndexes[Jl]=c0}s.yOffset=s.finalLineHeight||s.finalSize*1.2,s.ls=s.ls||0,s.ascent=Hl.ascent*s.finalSize/100},TextProperty.prototype.updateDocumentData=function(s,i){i=i===void 0?this.keysIndex:i;var o=this.copyData({},this.data.d.k[i].s);o=this.copyData(o,s),this.data.d.k[i].s=o,this.recalculate(i),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(s){var i=this.data.d.k[s].s;i.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(i)},TextProperty.prototype.canResizeFont=function(s){this.canResize=s,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(s){this.minimumFontSize=Math.floor(s)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var s=Math.max,i=Math.min,o=Math.floor;function et(Nl,Ml){this._currentTextLength=-1,this.k=!1,this.data=Ml,this.elem=Nl,this.comp=Nl.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(Nl),this.s=PropertyFactory.getProp(Nl,Ml.s||{k:0},0,0,this),"e"in Ml?this.e=PropertyFactory.getProp(Nl,Ml.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(Nl,Ml.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(Nl,Ml.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(Nl,Ml.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(Nl,Ml.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(Nl,Ml.a,0,.01,this),this.dynamicProperties.length||this.getValue()}et.prototype={getMult:function(Ml){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var Ol=0,Ll=0,Fl=1,Bl=1;this.ne.v>0?Ol=this.ne.v/100:Ll=-this.ne.v/100,this.xe.v>0?Fl=1-this.xe.v/100:Bl=1+this.xe.v/100;var Ul=BezierFactory.getBezierEasing(Ol,Ll,Fl,Bl).get,Gl=0,Wl=this.finalS,zl=this.finalE,Ql=this.data.sh;if(Ql===2)zl===Wl?Gl=Ml>=zl?1:0:Gl=s(0,i(.5/(zl-Wl)+(Ml-Wl)/(zl-Wl),1)),Gl=Ul(Gl);else if(Ql===3)zl===Wl?Gl=Ml>=zl?0:1:Gl=1-s(0,i(.5/(zl-Wl)+(Ml-Wl)/(zl-Wl),1)),Gl=Ul(Gl);else if(Ql===4)zl===Wl?Gl=0:(Gl=s(0,i(.5/(zl-Wl)+(Ml-Wl)/(zl-Wl),1)),Gl<.5?Gl*=2:Gl=1-2*(Gl-.5)),Gl=Ul(Gl);else if(Ql===5){if(zl===Wl)Gl=0;else{var Jl=zl-Wl;Ml=i(s(0,Ml+.5-Wl),zl-Wl);var Kl=-Jl/2+Ml,Hl=Jl/2;Gl=Math.sqrt(1-Kl*Kl/(Hl*Hl))}Gl=Ul(Gl)}else Ql===6?(zl===Wl?Gl=0:(Ml=i(s(0,Ml+.5-Wl),zl-Wl),Gl=(1+Math.cos(Math.PI+Math.PI*2*Ml/(zl-Wl)))/2),Gl=Ul(Gl)):(Ml>=o(Wl)&&(Ml-Wl<0?Gl=s(0,i(i(zl,1)-(Wl-Ml),1)):Gl=s(0,i(zl-Ml,1))),Gl=Ul(Gl));if(this.sm.v!==100){var Yl=this.sm.v*.01;Yl===0&&(Yl=1e-8);var Xl=.5-Yl*.5;Gl<Xl?Gl=0:(Gl=(Gl-Xl)/Yl,Gl>1&&(Gl=1))}return Gl*this.a.v},getValue:function(Ml){this.iterateDynamicProperties(),this._mdf=Ml||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,Ml&&this.data.r===2&&(this.e.v=this._currentTextLength);var Ol=this.data.r===2?1:100/this.data.totalChars,Ll=this.o.v/Ol,Fl=this.s.v/Ol+Ll,Bl=this.e.v/Ol+Ll;if(Fl>Bl){var Ul=Fl;Fl=Bl,Bl=Ul}this.finalS=Fl,this.finalE=Bl}},extendPrototype([DynamicPropertyContainer],et);function $l(Nl,Ml,Ol){return new et(Nl,Ml)}return{getTextSelectorProp:$l}}();function TextAnimatorDataProperty(s,i,o){var et={propType:!1},$l=PropertyFactory.getProp,Nl=i.a;this.a={r:Nl.r?$l(s,Nl.r,0,degToRads,o):et,rx:Nl.rx?$l(s,Nl.rx,0,degToRads,o):et,ry:Nl.ry?$l(s,Nl.ry,0,degToRads,o):et,sk:Nl.sk?$l(s,Nl.sk,0,degToRads,o):et,sa:Nl.sa?$l(s,Nl.sa,0,degToRads,o):et,s:Nl.s?$l(s,Nl.s,1,.01,o):et,a:Nl.a?$l(s,Nl.a,1,0,o):et,o:Nl.o?$l(s,Nl.o,0,.01,o):et,p:Nl.p?$l(s,Nl.p,1,0,o):et,sw:Nl.sw?$l(s,Nl.sw,0,0,o):et,sc:Nl.sc?$l(s,Nl.sc,1,0,o):et,fc:Nl.fc?$l(s,Nl.fc,1,0,o):et,fh:Nl.fh?$l(s,Nl.fh,0,0,o):et,fs:Nl.fs?$l(s,Nl.fs,0,.01,o):et,fb:Nl.fb?$l(s,Nl.fb,0,.01,o):et,t:Nl.t?$l(s,Nl.t,0,0,o):et},this.s=TextSelectorProp.getTextSelectorProp(s,i.s,o),this.s.t=i.s.t}function TextAnimatorProperty(s,i,o){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=s,this._renderType=i,this._elem=o,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(o)}TextAnimatorProperty.prototype.searchProperties=function(){var s,i=this._textData.a.length,o,et=PropertyFactory.getProp;for(s=0;s<i;s+=1)o=this._textData.a[s],this._animatorsData[s]=new TextAnimatorDataProperty(this._elem,o,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:et(this._elem,this._textData.p.a,0,0,this),f:et(this._elem,this._textData.p.f,0,0,this),l:et(this._elem,this._textData.p.l,0,0,this),r:et(this._elem,this._textData.p.r,0,0,this),p:et(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=et(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(s,i){if(this.lettersChangedFlag=i,!(!this._mdf&&!this._isFirstFrame&&!i&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var o=this._moreOptions.alignment.v,et=this._animatorsData,$l=this._textData,Nl=this.mHelper,Ml=this._renderType,Ol=this.renderedLetters.length,Ll,Fl,Bl,Ul,Gl=s.l,Wl,zl,Ql,Jl,Kl,Hl,Yl,Xl,Zl,_d,_f,e0,s0,u0,g0;if(this._hasMaskedPath){if(g0=this._pathData.m,!this._pathData.n||this._pathData._mdf){var f0=g0.v;this._pathData.r.v&&(f0=f0.reverse()),Wl={tLength:0,segments:[]},Ul=f0._length-1;var _0;for(e0=0,Bl=0;Bl<Ul;Bl+=1)_0=bez.buildBezierData(f0.v[Bl],f0.v[Bl+1],[f0.o[Bl][0]-f0.v[Bl][0],f0.o[Bl][1]-f0.v[Bl][1]],[f0.i[Bl+1][0]-f0.v[Bl+1][0],f0.i[Bl+1][1]-f0.v[Bl+1][1]]),Wl.tLength+=_0.segmentLength,Wl.segments.push(_0),e0+=_0.segmentLength;Bl=Ul,g0.v.c&&(_0=bez.buildBezierData(f0.v[Bl],f0.v[0],[f0.o[Bl][0]-f0.v[Bl][0],f0.o[Bl][1]-f0.v[Bl][1]],[f0.i[0][0]-f0.v[0][0],f0.i[0][1]-f0.v[0][1]]),Wl.tLength+=_0.segmentLength,Wl.segments.push(_0),e0+=_0.segmentLength),this._pathData.pi=Wl}if(Wl=this._pathData.pi,zl=this._pathData.f.v,Yl=0,Hl=1,Jl=0,Kl=!0,_d=Wl.segments,zl<0&&g0.v.c)for(Wl.tLength<Math.abs(zl)&&(zl=-Math.abs(zl)%Wl.tLength),Yl=_d.length-1,Zl=_d[Yl].points,Hl=Zl.length-1;zl<0;)zl+=Zl[Hl].partialLength,Hl-=1,Hl<0&&(Yl-=1,Zl=_d[Yl].points,Hl=Zl.length-1);Zl=_d[Yl].points,Xl=Zl[Hl-1],Ql=Zl[Hl],_f=Ql.partialLength}Ul=Gl.length,Ll=0,Fl=0;var S0=s.finalSize*1.2*.714,p0=!0,o0,n0,t0,r0,d0;r0=et.length;var h0,i0=-1,c0,a0,v0,l0=zl,b0=Yl,E0=Hl,C0=-1,$0,I0,x0,w0,M0,D0,V0,N0,j0="",K0=this.defaultPropsArray,G0;if(s.j===2||s.j===1){var W0=0,Y0=0,H0=s.j===2?-.5:-1,P0=0,U0=!0;for(Bl=0;Bl<Ul;Bl+=1)if(Gl[Bl].n){for(W0&&(W0+=Y0);P0<Bl;)Gl[P0].animatorJustifyOffset=W0,P0+=1;W0=0,U0=!0}else{for(t0=0;t0<r0;t0+=1)o0=et[t0].a,o0.t.propType&&(U0&&s.j===2&&(Y0+=o0.t.v*H0),n0=et[t0].s,h0=n0.getMult(Gl[Bl].anIndexes[t0],$l.a[t0].s.totalChars),h0.length?W0+=o0.t.v*h0[0]*H0:W0+=o0.t.v*h0*H0);U0=!1}for(W0&&(W0+=Y0);P0<Bl;)Gl[P0].animatorJustifyOffset=W0,P0+=1}for(Bl=0;Bl<Ul;Bl+=1){if(Nl.reset(),$0=1,Gl[Bl].n)Ll=0,Fl+=s.yOffset,Fl+=p0?1:0,zl=l0,p0=!1,this._hasMaskedPath&&(Yl=b0,Hl=E0,Zl=_d[Yl].points,Xl=Zl[Hl-1],Ql=Zl[Hl],_f=Ql.partialLength,Jl=0),j0="",N0="",D0="",G0="",K0=this.defaultPropsArray;else{if(this._hasMaskedPath){if(C0!==Gl[Bl].line){switch(s.j){case 1:zl+=e0-s.lineWidths[Gl[Bl].line];break;case 2:zl+=(e0-s.lineWidths[Gl[Bl].line])/2;break}C0=Gl[Bl].line}i0!==Gl[Bl].ind&&(Gl[i0]&&(zl+=Gl[i0].extra),zl+=Gl[Bl].an/2,i0=Gl[Bl].ind),zl+=o[0]*Gl[Bl].an*.005;var Q0=0;for(t0=0;t0<r0;t0+=1)o0=et[t0].a,o0.p.propType&&(n0=et[t0].s,h0=n0.getMult(Gl[Bl].anIndexes[t0],$l.a[t0].s.totalChars),h0.length?Q0+=o0.p.v[0]*h0[0]:Q0+=o0.p.v[0]*h0),o0.a.propType&&(n0=et[t0].s,h0=n0.getMult(Gl[Bl].anIndexes[t0],$l.a[t0].s.totalChars),h0.length?Q0+=o0.a.v[0]*h0[0]:Q0+=o0.a.v[0]*h0);for(Kl=!0,this._pathData.a.v&&(zl=Gl[0].an*.5+(e0-this._pathData.f.v-Gl[0].an*.5-Gl[Gl.length-1].an*.5)*i0/(Ul-1),zl+=this._pathData.f.v);Kl;)Jl+_f>=zl+Q0||!Zl?(s0=(zl+Q0-Jl)/Ql.partialLength,a0=Xl.point[0]+(Ql.point[0]-Xl.point[0])*s0,v0=Xl.point[1]+(Ql.point[1]-Xl.point[1])*s0,Nl.translate(-o[0]*Gl[Bl].an*.005,-(o[1]*S0)*.01),Kl=!1):Zl&&(Jl+=Ql.partialLength,Hl+=1,Hl>=Zl.length&&(Hl=0,Yl+=1,_d[Yl]?Zl=_d[Yl].points:g0.v.c?(Hl=0,Yl=0,Zl=_d[Yl].points):(Jl-=Ql.partialLength,Zl=null)),Zl&&(Xl=Ql,Ql=Zl[Hl],_f=Ql.partialLength));c0=Gl[Bl].an/2-Gl[Bl].add,Nl.translate(-c0,0,0)}else c0=Gl[Bl].an/2-Gl[Bl].add,Nl.translate(-c0,0,0),Nl.translate(-o[0]*Gl[Bl].an*.005,-o[1]*S0*.01,0);for(t0=0;t0<r0;t0+=1)o0=et[t0].a,o0.t.propType&&(n0=et[t0].s,h0=n0.getMult(Gl[Bl].anIndexes[t0],$l.a[t0].s.totalChars),(Ll!==0||s.j!==0)&&(this._hasMaskedPath?h0.length?zl+=o0.t.v*h0[0]:zl+=o0.t.v*h0:h0.length?Ll+=o0.t.v*h0[0]:Ll+=o0.t.v*h0));for(s.strokeWidthAnim&&(x0=s.sw||0),s.strokeColorAnim&&(s.sc?I0=[s.sc[0],s.sc[1],s.sc[2]]:I0=[0,0,0]),s.fillColorAnim&&s.fc&&(w0=[s.fc[0],s.fc[1],s.fc[2]]),t0=0;t0<r0;t0+=1)o0=et[t0].a,o0.a.propType&&(n0=et[t0].s,h0=n0.getMult(Gl[Bl].anIndexes[t0],$l.a[t0].s.totalChars),h0.length?Nl.translate(-o0.a.v[0]*h0[0],-o0.a.v[1]*h0[1],o0.a.v[2]*h0[2]):Nl.translate(-o0.a.v[0]*h0,-o0.a.v[1]*h0,o0.a.v[2]*h0));for(t0=0;t0<r0;t0+=1)o0=et[t0].a,o0.s.propType&&(n0=et[t0].s,h0=n0.getMult(Gl[Bl].anIndexes[t0],$l.a[t0].s.totalChars),h0.length?Nl.scale(1+(o0.s.v[0]-1)*h0[0],1+(o0.s.v[1]-1)*h0[1],1):Nl.scale(1+(o0.s.v[0]-1)*h0,1+(o0.s.v[1]-1)*h0,1));for(t0=0;t0<r0;t0+=1){if(o0=et[t0].a,n0=et[t0].s,h0=n0.getMult(Gl[Bl].anIndexes[t0],$l.a[t0].s.totalChars),o0.sk.propType&&(h0.length?Nl.skewFromAxis(-o0.sk.v*h0[0],o0.sa.v*h0[1]):Nl.skewFromAxis(-o0.sk.v*h0,o0.sa.v*h0)),o0.r.propType&&(h0.length?Nl.rotateZ(-o0.r.v*h0[2]):Nl.rotateZ(-o0.r.v*h0)),o0.ry.propType&&(h0.length?Nl.rotateY(o0.ry.v*h0[1]):Nl.rotateY(o0.ry.v*h0)),o0.rx.propType&&(h0.length?Nl.rotateX(o0.rx.v*h0[0]):Nl.rotateX(o0.rx.v*h0)),o0.o.propType&&(h0.length?$0+=(o0.o.v*h0[0]-$0)*h0[0]:$0+=(o0.o.v*h0-$0)*h0),s.strokeWidthAnim&&o0.sw.propType&&(h0.length?x0+=o0.sw.v*h0[0]:x0+=o0.sw.v*h0),s.strokeColorAnim&&o0.sc.propType)for(M0=0;M0<3;M0+=1)h0.length?I0[M0]+=(o0.sc.v[M0]-I0[M0])*h0[0]:I0[M0]+=(o0.sc.v[M0]-I0[M0])*h0;if(s.fillColorAnim&&s.fc){if(o0.fc.propType)for(M0=0;M0<3;M0+=1)h0.length?w0[M0]+=(o0.fc.v[M0]-w0[M0])*h0[0]:w0[M0]+=(o0.fc.v[M0]-w0[M0])*h0;o0.fh.propType&&(h0.length?w0=addHueToRGB(w0,o0.fh.v*h0[0]):w0=addHueToRGB(w0,o0.fh.v*h0)),o0.fs.propType&&(h0.length?w0=addSaturationToRGB(w0,o0.fs.v*h0[0]):w0=addSaturationToRGB(w0,o0.fs.v*h0)),o0.fb.propType&&(h0.length?w0=addBrightnessToRGB(w0,o0.fb.v*h0[0]):w0=addBrightnessToRGB(w0,o0.fb.v*h0))}}for(t0=0;t0<r0;t0+=1)o0=et[t0].a,o0.p.propType&&(n0=et[t0].s,h0=n0.getMult(Gl[Bl].anIndexes[t0],$l.a[t0].s.totalChars),this._hasMaskedPath?h0.length?Nl.translate(0,o0.p.v[1]*h0[0],-o0.p.v[2]*h0[1]):Nl.translate(0,o0.p.v[1]*h0,-o0.p.v[2]*h0):h0.length?Nl.translate(o0.p.v[0]*h0[0],o0.p.v[1]*h0[1],-o0.p.v[2]*h0[2]):Nl.translate(o0.p.v[0]*h0,o0.p.v[1]*h0,-o0.p.v[2]*h0));if(s.strokeWidthAnim&&(D0=x0<0?0:x0),s.strokeColorAnim&&(V0="rgb("+Math.round(I0[0]*255)+","+Math.round(I0[1]*255)+","+Math.round(I0[2]*255)+")"),s.fillColorAnim&&s.fc&&(N0="rgb("+Math.round(w0[0]*255)+","+Math.round(w0[1]*255)+","+Math.round(w0[2]*255)+")"),this._hasMaskedPath){if(Nl.translate(0,-s.ls),Nl.translate(0,o[1]*S0*.01+Fl,0),this._pathData.p.v){u0=(Ql.point[1]-Xl.point[1])/(Ql.point[0]-Xl.point[0]);var Z0=Math.atan(u0)*180/Math.PI;Ql.point[0]<Xl.point[0]&&(Z0+=180),Nl.rotate(-Z0*Math.PI/180)}Nl.translate(a0,v0,0),zl-=o[0]*Gl[Bl].an*.005,Gl[Bl+1]&&i0!==Gl[Bl+1].ind&&(zl+=Gl[Bl].an/2,zl+=s.tr*.001*s.finalSize)}else{switch(Nl.translate(Ll,Fl,0),s.ps&&Nl.translate(s.ps[0],s.ps[1]+s.ascent,0),s.j){case 1:Nl.translate(Gl[Bl].animatorJustifyOffset+s.justifyOffset+(s.boxWidth-s.lineWidths[Gl[Bl].line]),0,0);break;case 2:Nl.translate(Gl[Bl].animatorJustifyOffset+s.justifyOffset+(s.boxWidth-s.lineWidths[Gl[Bl].line])/2,0,0);break}Nl.translate(0,-s.ls),Nl.translate(c0,0,0),Nl.translate(o[0]*Gl[Bl].an*.005,o[1]*S0*.01,0),Ll+=Gl[Bl].l+s.tr*.001*s.finalSize}Ml==="html"?j0=Nl.toCSS():Ml==="svg"?j0=Nl.to2dCSS():K0=[Nl.props[0],Nl.props[1],Nl.props[2],Nl.props[3],Nl.props[4],Nl.props[5],Nl.props[6],Nl.props[7],Nl.props[8],Nl.props[9],Nl.props[10],Nl.props[11],Nl.props[12],Nl.props[13],Nl.props[14],Nl.props[15]],G0=$0}Ol<=Bl?(d0=new LetterProps(G0,D0,V0,N0,j0,K0),this.renderedLetters.push(d0),Ol+=1,this.lettersChangedFlag=!0):(d0=this.renderedLetters[Bl],this.lettersChangedFlag=d0.update(G0,D0,V0,N0,j0,K0)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(s,i,o){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(s,i,o),this.textProperty=new TextProperty(this,s.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(s.t,this.renderType,this),this.initTransform(s,i,o),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(s){this._mdf=!1,this.prepareRenderableFrame(s),this.prepareProperties(s,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(s,i){var o,et=i.length,$l,Nl="";for(o=0;o<et;o+=1)i[o].ty==="sh"&&($l=i[o].ks.k,Nl+=buildShapeString($l,$l.i.length,!0,s));return Nl},ITextElement.prototype.updateDocumentData=function(s,i){this.textProperty.updateDocumentData(s,i)},ITextElement.prototype.canResizeFont=function(s){this.textProperty.canResizeFont(s)},ITextElement.prototype.setMinimumFontSize=function(s){this.textProperty.setMinimumFontSize(s)},ITextElement.prototype.applyTextPropertiesToMatrix=function(s,i,o,et,$l){switch(s.ps&&i.translate(s.ps[0],s.ps[1]+s.ascent,0),i.translate(0,-s.ls,0),s.j){case 1:i.translate(s.justifyOffset+(s.boxWidth-s.lineWidths[o]),0,0);break;case 2:i.translate(s.justifyOffset+(s.boxWidth-s.lineWidths[o])/2,0,0);break}i.translate(et,$l,0)},ITextElement.prototype.buildColor=function(s){return"rgb("+Math.round(s[0]*255)+","+Math.round(s[1]*255)+","+Math.round(s[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(s,i,o){this.textSpans=[],this.renderType="svg",this.initElement(s,i,o)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(s){for(var i=0,o=s.length,et=[],$l="";i<o;)s[i]===String.fromCharCode(13)||s[i]===String.fromCharCode(3)?(et.push($l),$l=""):$l+=s[i],i+=1;return et.push($l),et},SVGTextLottieElement.prototype.buildShapeData=function(s,i){if(s.shapes&&s.shapes.length){var o=s.shapes[0];if(o.it){var et=o.it[o.it.length-1];et.s&&(et.s.k[0]=i,et.s.k[1]=i)}}return s},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var s,i,o=this.textProperty.currentData;this.renderedLetters=createSizedArray(o?o.l.length:0),o.fc?this.layerElement.setAttribute("fill",this.buildColor(o.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),o.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(o.sc)),this.layerElement.setAttribute("stroke-width",o.sw)),this.layerElement.setAttribute("font-size",o.finalSize);var et=this.globalData.fontManager.getFontByName(o.f);if(et.fClass)this.layerElement.setAttribute("class",et.fClass);else{this.layerElement.setAttribute("font-family",et.fFamily);var $l=o.fWeight,Nl=o.fStyle;this.layerElement.setAttribute("font-style",Nl),this.layerElement.setAttribute("font-weight",$l)}this.layerElement.setAttribute("aria-label",o.t);var Ml=o.l||[],Ol=!!this.globalData.fontManager.chars;i=Ml.length;var Ll,Fl=this.mHelper,Bl="",Ul=this.data.singleShape,Gl=0,Wl=0,zl=!0,Ql=o.tr*.001*o.finalSize;if(Ul&&!Ol&&!o.sz){var Jl=this.textContainer,Kl="start";switch(o.j){case 1:Kl="end";break;case 2:Kl="middle";break;default:Kl="start";break}Jl.setAttribute("text-anchor",Kl),Jl.setAttribute("letter-spacing",Ql);var Hl=this.buildTextContents(o.finalText);for(i=Hl.length,Wl=o.ps?o.ps[1]+o.ascent:0,s=0;s<i;s+=1)Ll=this.textSpans[s].span||createNS("tspan"),Ll.textContent=Hl[s],Ll.setAttribute("x",0),Ll.setAttribute("y",Wl),Ll.style.display="inherit",Jl.appendChild(Ll),this.textSpans[s]||(this.textSpans[s]={span:null,glyph:null}),this.textSpans[s].span=Ll,Wl+=o.finalLineHeight;this.layerElement.appendChild(Jl)}else{var Yl=this.textSpans.length,Xl;for(s=0;s<i;s+=1){if(this.textSpans[s]||(this.textSpans[s]={span:null,childSpan:null,glyph:null}),!Ol||!Ul||s===0){if(Ll=Yl>s?this.textSpans[s].span:createNS(Ol?"g":"text"),Yl<=s){if(Ll.setAttribute("stroke-linecap","butt"),Ll.setAttribute("stroke-linejoin","round"),Ll.setAttribute("stroke-miterlimit","4"),this.textSpans[s].span=Ll,Ol){var Zl=createNS("g");Ll.appendChild(Zl),this.textSpans[s].childSpan=Zl}this.textSpans[s].span=Ll,this.layerElement.appendChild(Ll)}Ll.style.display="inherit"}if(Fl.reset(),Ul&&(Ml[s].n&&(Gl=-Ql,Wl+=o.yOffset,Wl+=zl?1:0,zl=!1),this.applyTextPropertiesToMatrix(o,Fl,Ml[s].line,Gl,Wl),Gl+=Ml[s].l||0,Gl+=Ql),Ol){Xl=this.globalData.fontManager.getCharData(o.finalText[s],et.fStyle,this.globalData.fontManager.getFontByName(o.f).fFamily);var _d;if(Xl.t===1)_d=new SVGCompElement(Xl.data,this.globalData,this);else{var _f=emptyShapeData;Xl.data&&Xl.data.shapes&&(_f=this.buildShapeData(Xl.data,o.finalSize)),_d=new SVGShapeElement(_f,this.globalData,this)}if(this.textSpans[s].glyph){var e0=this.textSpans[s].glyph;this.textSpans[s].childSpan.removeChild(e0.layerElement),e0.destroy()}this.textSpans[s].glyph=_d,_d._debug=!0,_d.prepareFrame(0),_d.renderFrame(),this.textSpans[s].childSpan.appendChild(_d.layerElement),Xl.t===1&&this.textSpans[s].childSpan.setAttribute("transform","scale("+o.finalSize/100+","+o.finalSize/100+")")}else Ul&&Ll.setAttribute("transform","translate("+Fl.props[12]+","+Fl.props[13]+")"),Ll.textContent=Ml[s].val,Ll.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Ul&&Ll&&Ll.setAttribute("d",Bl)}for(;s<this.textSpans.length;)this.textSpans[s].span.style.display="none",s+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var s=this.layerElement.getBBox();this.bbox={top:s.y,left:s.x,width:s.width,height:s.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var s,i=this.textSpans.length,o;for(this.renderedFrame=this.comp.renderedFrame,s=0;s<i;s+=1)o=this.textSpans[s].glyph,o&&(o.prepareFrame(this.comp.renderedFrame-this.data.st),o._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var s,i,o=this.textAnimator.renderedLetters,et=this.textProperty.currentData.l;i=et.length;var $l,Nl,Ml;for(s=0;s<i;s+=1)et[s].n||($l=o[s],Nl=this.textSpans[s].span,Ml=this.textSpans[s].glyph,Ml&&Ml.renderFrame(),$l._mdf.m&&Nl.setAttribute("transform",$l.m),$l._mdf.o&&Nl.setAttribute("opacity",$l.o),$l._mdf.sw&&Nl.setAttribute("stroke-width",$l.sw),$l._mdf.sc&&Nl.setAttribute("stroke",$l.sc),$l._mdf.fc&&Nl.setAttribute("fill",$l.fc))}};function ISolidElement(s,i,o){this.initElement(s,i,o)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var s=createNS("rect");s.setAttribute("width",this.data.sw),s.setAttribute("height",this.data.sh),s.setAttribute("fill",this.data.sc),this.layerElement.appendChild(s)};function NullElement(s,i,o){this.initFrame(),this.initBaseData(s,i,o),this.initFrame(),this.initTransform(s,i,o),this.initHierarchy()}NullElement.prototype.prepareFrame=function(s){this.prepareProperties(s,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(s){return new NullElement(s,this.globalData,this)},SVGRendererBase.prototype.createShape=function(s){return new SVGShapeElement(s,this.globalData,this)},SVGRendererBase.prototype.createText=function(s){return new SVGTextLottieElement(s,this.globalData,this)},SVGRendererBase.prototype.createImage=function(s){return new IImageElement(s,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(s){return new ISolidElement(s,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(s){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+s.w+" "+s.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",s.w),this.svgElement.setAttribute("height",s.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var i=this.globalData.defs;this.setupGlobalData(s,i),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=s;var o=createNS("clipPath"),et=createNS("rect");et.setAttribute("width",s.w),et.setAttribute("height",s.h),et.setAttribute("x",0),et.setAttribute("y",0);var $l=createElementID();o.setAttribute("id",$l),o.appendChild(et),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+$l+")"),i.appendChild(o),this.layers=s.layers,this.elements=createSizedArray(s.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var s,i=this.layers?this.layers.length:0;for(s=0;s<i;s+=1)this.elements[s]&&this.elements[s].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(s){var i=this.elements;if(!(i[s]||this.layers[s].ty===99)){i[s]=!0;var o=this.createItem(this.layers[s]);i[s]=o,getExpressionsPlugin()&&(this.layers[s].ty===0&&this.globalData.projectInterface.registerComposition(o),o.initExpressions()),this.appendElementInPos(o,s),this.layers[s].tt&&(!this.elements[s-1]||this.elements[s-1]===!0?(this.buildItem(s-1),this.addPendingElement(o)):o.setMatte(i[s-1].layerId))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var s=this.pendingElements.pop();if(s.checkParenting(),s.data.tt)for(var i=0,o=this.elements.length;i<o;){if(this.elements[i]===s){s.setMatte(this.elements[i-1].layerId);break}i+=1}}},SVGRendererBase.prototype.renderFrame=function(s){if(!(this.renderedFrame===s||this.destroyed)){s===null?s=this.renderedFrame:this.renderedFrame=s,this.globalData.frameNum=s,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=s,this.globalData._mdf=!1;var i,o=this.layers.length;for(this.completeLayers||this.checkLayers(s),i=o-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(s-this.layers[i].st);if(this.globalData._mdf)for(i=0;i<o;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(s,i){var o=s.getBaseElement();if(!!o){for(var et=0,$l;et<i;)this.elements[et]&&this.elements[et]!==!0&&this.elements[et].getBaseElement()&&($l=this.elements[et].getBaseElement()),et+=1;$l?this.layerElement.insertBefore(o,$l):this.layerElement.appendChild(o)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(s,i,o){this.initFrame(),this.initBaseData(s,i,o),this.initTransform(s,i,o),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!i.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(s){if(this._mdf=!1,this.prepareRenderableFrame(s),this.prepareProperties(s,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=s/this.data.sr;else{var i=this.tm.v;i===this.data.op&&(i=this.data.op-1),this.renderedFrame=i}var o,et=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),o=et-1;o>=0;o-=1)(this.completeLayers||this.elements[o])&&(this.elements[o].prepareFrame(this.renderedFrame-this.layers[o].st),this.elements[o]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var s,i=this.layers.length;for(s=0;s<i;s+=1)(this.completeLayers||this.elements[s])&&this.elements[s].renderFrame()},ICompElement.prototype.setElements=function(s){this.elements=s},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var s,i=this.layers.length;for(s=0;s<i;s+=1)this.elements[s]&&this.elements[s].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(s,i,o){this.layers=s.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(s,i,o),this.tm=s.tm?PropertyFactory.getProp(this,s.tm,0,i.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(s){return new SVGCompElement(s,this.globalData,this)};function SVGRenderer(s,i){this.animationItem=s,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var o="";if(i&&i.title){var et=createNS("title"),$l=createElementID();et.setAttribute("id",$l),et.textContent=i.title,this.svgElement.appendChild(et),o+=$l}if(i&&i.description){var Nl=createNS("desc"),Ml=createElementID();Nl.setAttribute("id",Ml),Nl.textContent=i.description,this.svgElement.appendChild(Nl),o+=" "+Ml}o&&this.svgElement.setAttribute("aria-labelledby",o);var Ol=createNS("defs");this.svgElement.appendChild(Ol);var Ll=createNS("g");this.svgElement.appendChild(Ll),this.layerElement=Ll,this.renderConfig={preserveAspectRatio:i&&i.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:i&&i.contentVisibility||"visible",progressiveLoad:i&&i.progressiveLoad||!1,hideOnTransparent:!(i&&i.hideOnTransparent===!1),viewBoxOnly:i&&i.viewBoxOnly||!1,viewBoxSize:i&&i.viewBoxSize||!1,className:i&&i.className||"",id:i&&i.id||"",focusable:i&&i.focusable,filterSize:{width:i&&i.filterSize&&i.filterSize.width||"100%",height:i&&i.filterSize&&i.filterSize.height||"100%",x:i&&i.filterSize&&i.filterSize.x||"0%",y:i&&i.filterSize&&i.filterSize.y||"0%"},width:i&&i.width,height:i&&i.height},this.globalData={_mdf:!1,frameNum:-1,defs:Ol,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(s){return new SVGCompElement(s,this.globalData,this)};function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var s,i=15;for(this.savedOp=createTypedArray("float32",i),s=0;s<i;s+=1)this.saved[s]=createTypedArray("float32",16);this._length=i}CVContextData.prototype.duplicate=function(){var s=this._length*2,i=this.savedOp;this.savedOp=createTypedArray("float32",s),this.savedOp.set(i);var o=0;for(o=this._length;o<s;o+=1)this.saved[o]=createTypedArray("float32",16);this._length=s},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(i){var o,et=i.length,$l="_";for(o=0;o<et;o+=1)$l+=i[o].transform.key+"_";var Nl=this.sequences[$l];return Nl||(Nl={transforms:[].concat(i),finalTransform:new Matrix,_mdf:!1},this.sequences[$l]=Nl,this.sequenceList.push(Nl)),Nl},processSequence:function(i,o){for(var et=0,$l=i.transforms.length,Nl=o;et<$l&&!o;){if(i.transforms[et].transform.mProps._mdf){Nl=!0;break}et+=1}if(Nl){var Ml;for(i.finalTransform.reset(),et=$l-1;et>=0;et-=1)Ml=i.transforms[et].transform.mProps.v.props,i.finalTransform.transform(Ml[0],Ml[1],Ml[2],Ml[3],Ml[4],Ml[5],Ml[6],Ml[7],Ml[8],Ml[9],Ml[10],Ml[11],Ml[12],Ml[13],Ml[14],Ml[15])}i._mdf=Nl},processSequences:function(i){var o,et=this.sequenceList.length;for(o=0;o<et;o+=1)this.processSequence(this.sequenceList[o],i)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};function CVEffects(){}CVEffects.prototype.renderFrame=function(){};function CVMaskElement(s,i){this.data=s,this.element=i,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var o,et=this.masksProperties.length,$l=!1;for(o=0;o<et;o+=1)this.masksProperties[o].mode!=="n"&&($l=!0),this.viewData[o]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[o],3);this.hasMasks=$l,$l&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(!!this.hasMasks){var s=this.element.finalTransform.mat,i=this.element.canvasContext,o,et=this.masksProperties.length,$l,Nl,Ml;for(i.beginPath(),o=0;o<et;o+=1)if(this.masksProperties[o].mode!=="n"){this.masksProperties[o].inv&&(i.moveTo(0,0),i.lineTo(this.element.globalData.compSize.w,0),i.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),i.lineTo(0,this.element.globalData.compSize.h),i.lineTo(0,0)),Ml=this.viewData[o].v,$l=s.applyToPointArray(Ml.v[0][0],Ml.v[0][1],0),i.moveTo($l[0],$l[1]);var Ol,Ll=Ml._length;for(Ol=1;Ol<Ll;Ol+=1)Nl=s.applyToTriplePoints(Ml.o[Ol-1],Ml.i[Ol],Ml.v[Ol]),i.bezierCurveTo(Nl[0],Nl[1],Nl[2],Nl[3],Nl[4],Nl[5]);Nl=s.applyToTriplePoints(Ml.o[Ol-1],Ml.i[0],Ml.v[0]),i.bezierCurveTo(Nl[0],Nl[1],Nl[2],Nl[3],Nl[4],Nl[5])}this.element.globalData.renderer.save(!0),i.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var i=this.globalData;if(i.blendMode!==this.data.bm){i.blendMode=this.data.bm;var o=getBlendMode(this.data.bm);i.canvasContext.globalCompositeOperation=o}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!(this.hidden||this.data.hd)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var i=this.data.ty===0;this.globalData.renderer.save(i),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(i),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(s,i,o,et){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var $l=4;i.ty==="rc"?$l=5:i.ty==="el"?$l=6:i.ty==="sr"&&($l=7),this.sh=ShapePropertyFactory.getShapeProp(s,i,$l,s);var Nl,Ml=o.length,Ol;for(Nl=0;Nl<Ml;Nl+=1)o[Nl].closed||(Ol={transforms:et.addTransformSequence(o[Nl].transforms),trNodes:[]},this.styledShapes.push(Ol),o[Nl].elements.push(Ol))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(s,i,o){this.shapes=[],this.shapesData=s.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(s,i,o)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(s,i){var o={data:s,type:s.ty,preTransforms:this.transformsManager.addTransformSequence(i),transforms:[],elements:[],closed:s.hd===!0},et={};if(s.ty==="fl"||s.ty==="st"?(et.c=PropertyFactory.getProp(this,s.c,1,255,this),et.c.k||(o.co="rgb("+bmFloor(et.c.v[0])+","+bmFloor(et.c.v[1])+","+bmFloor(et.c.v[2])+")")):(s.ty==="gf"||s.ty==="gs")&&(et.s=PropertyFactory.getProp(this,s.s,1,null,this),et.e=PropertyFactory.getProp(this,s.e,1,null,this),et.h=PropertyFactory.getProp(this,s.h||{k:0},0,.01,this),et.a=PropertyFactory.getProp(this,s.a||{k:0},0,degToRads,this),et.g=new GradientProperty(this,s.g,this)),et.o=PropertyFactory.getProp(this,s.o,0,.01,this),s.ty==="st"||s.ty==="gs"){if(o.lc=lineCapEnum[s.lc||2],o.lj=lineJoinEnum[s.lj||2],s.lj==1&&(o.ml=s.ml),et.w=PropertyFactory.getProp(this,s.w,0,null,this),et.w.k||(o.wi=et.w.v),s.d){var $l=new DashProperty(this,s.d,"canvas",this);et.d=$l,et.d.k||(o.da=et.d.dashArray,o.do=et.d.dashoffset[0])}}else o.r=s.r===2?"evenodd":"nonzero";return this.stylesList.push(o),et.style=o,et},CVShapeElement.prototype.createGroupElement=function(){var s={it:[],prevViewData:[]};return s},CVShapeElement.prototype.createTransformElement=function(s){var i={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,s.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,s,this)}};return i},CVShapeElement.prototype.createShapeElement=function(s){var i=new CVShapeData(this,s,this.stylesList,this.transformsManager);return this.shapes.push(i),this.addShapeToModifiers(i),i},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var s,i=this.itemsData.length;for(s=0;s<i;s+=1)this.prevViewData[s]=this.itemsData[s];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),i=this.dynamicProperties.length,s=0;s<i;s+=1)this.dynamicProperties[s].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(s){var i,o=this.stylesList.length;for(i=0;i<o;i+=1)this.stylesList[i].closed||this.stylesList[i].transforms.push(s)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var s,i=this.stylesList.length;for(s=0;s<i;s+=1)this.stylesList[s].closed||this.stylesList[s].transforms.pop()},CVShapeElement.prototype.closeStyles=function(s){var i,o=s.length;for(i=0;i<o;i+=1)s[i].closed=!0},CVShapeElement.prototype.searchShapes=function(s,i,o,et,$l){var Nl,Ml=s.length-1,Ol,Ll,Fl=[],Bl=[],Ul,Gl,Wl,zl=[].concat($l);for(Nl=Ml;Nl>=0;Nl-=1){if(Ul=this.searchProcessedElement(s[Nl]),Ul?i[Nl]=o[Ul-1]:s[Nl]._shouldRender=et,s[Nl].ty==="fl"||s[Nl].ty==="st"||s[Nl].ty==="gf"||s[Nl].ty==="gs")Ul?i[Nl].style.closed=!1:i[Nl]=this.createStyleElement(s[Nl],zl),Fl.push(i[Nl].style);else if(s[Nl].ty==="gr"){if(!Ul)i[Nl]=this.createGroupElement(s[Nl]);else for(Ll=i[Nl].it.length,Ol=0;Ol<Ll;Ol+=1)i[Nl].prevViewData[Ol]=i[Nl].it[Ol];this.searchShapes(s[Nl].it,i[Nl].it,i[Nl].prevViewData,et,zl)}else s[Nl].ty==="tr"?(Ul||(Wl=this.createTransformElement(s[Nl]),i[Nl]=Wl),zl.push(i[Nl]),this.addTransformToStyleList(i[Nl])):s[Nl].ty==="sh"||s[Nl].ty==="rc"||s[Nl].ty==="el"||s[Nl].ty==="sr"?Ul||(i[Nl]=this.createShapeElement(s[Nl])):s[Nl].ty==="tm"||s[Nl].ty==="rd"||s[Nl].ty==="pb"?(Ul?(Gl=i[Nl],Gl.closed=!1):(Gl=ShapeModifiers.getModifier(s[Nl].ty),Gl.init(this,s[Nl]),i[Nl]=Gl,this.shapeModifiers.push(Gl)),Bl.push(Gl)):s[Nl].ty==="rp"&&(Ul?(Gl=i[Nl],Gl.closed=!0):(Gl=ShapeModifiers.getModifier(s[Nl].ty),i[Nl]=Gl,Gl.init(this,s,Nl,i),this.shapeModifiers.push(Gl),et=!1),Bl.push(Gl));this.addProcessedElement(s[Nl],Nl+1)}for(this.removeTransformFromStyleList(),this.closeStyles(Fl),Ml=Bl.length,Nl=0;Nl<Ml;Nl+=1)Bl[Nl].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(s,i){(s._opMdf||i.op._mdf||this._isFirstFrame)&&(i.opacity=s.opacity,i.opacity*=i.op.v,i._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var s,i=this.stylesList.length,o,et,$l,Nl,Ml,Ol,Ll=this.globalData.renderer,Fl=this.globalData.canvasContext,Bl,Ul;for(s=0;s<i;s+=1)if(Ul=this.stylesList[s],Bl=Ul.type,!((Bl==="st"||Bl==="gs")&&Ul.wi===0||!Ul.data._shouldRender||Ul.coOp===0||this.globalData.currentGlobalAlpha===0)){for(Ll.save(),Ml=Ul.elements,Bl==="st"||Bl==="gs"?(Fl.strokeStyle=Bl==="st"?Ul.co:Ul.grd,Fl.lineWidth=Ul.wi,Fl.lineCap=Ul.lc,Fl.lineJoin=Ul.lj,Fl.miterLimit=Ul.ml||0):Fl.fillStyle=Bl==="fl"?Ul.co:Ul.grd,Ll.ctxOpacity(Ul.coOp),Bl!=="st"&&Bl!=="gs"&&Fl.beginPath(),Ll.ctxTransform(Ul.preTransforms.finalTransform.props),et=Ml.length,o=0;o<et;o+=1){for((Bl==="st"||Bl==="gs")&&(Fl.beginPath(),Ul.da&&(Fl.setLineDash(Ul.da),Fl.lineDashOffset=Ul.do)),Ol=Ml[o].trNodes,Nl=Ol.length,$l=0;$l<Nl;$l+=1)Ol[$l].t==="m"?Fl.moveTo(Ol[$l].p[0],Ol[$l].p[1]):Ol[$l].t==="c"?Fl.bezierCurveTo(Ol[$l].pts[0],Ol[$l].pts[1],Ol[$l].pts[2],Ol[$l].pts[3],Ol[$l].pts[4],Ol[$l].pts[5]):Fl.closePath();(Bl==="st"||Bl==="gs")&&(Fl.stroke(),Ul.da&&Fl.setLineDash(this.dashResetter))}Bl!=="st"&&Bl!=="gs"&&Fl.fill(Ul.r),Ll.restore()}},CVShapeElement.prototype.renderShape=function(s,i,o,et){var $l,Nl=i.length-1,Ml;for(Ml=s,$l=Nl;$l>=0;$l-=1)i[$l].ty==="tr"?(Ml=o[$l].transform,this.renderShapeTransform(s,Ml)):i[$l].ty==="sh"||i[$l].ty==="el"||i[$l].ty==="rc"||i[$l].ty==="sr"?this.renderPath(i[$l],o[$l]):i[$l].ty==="fl"?this.renderFill(i[$l],o[$l],Ml):i[$l].ty==="st"?this.renderStroke(i[$l],o[$l],Ml):i[$l].ty==="gf"||i[$l].ty==="gs"?this.renderGradientFill(i[$l],o[$l],Ml):i[$l].ty==="gr"?this.renderShape(Ml,i[$l].it,o[$l].it):i[$l].ty;et&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(s,i){if(this._isFirstFrame||i._mdf||s.transforms._mdf){var o=s.trNodes,et=i.paths,$l,Nl,Ml,Ol=et._length;o.length=0;var Ll=s.transforms.finalTransform;for(Ml=0;Ml<Ol;Ml+=1){var Fl=et.shapes[Ml];if(Fl&&Fl.v){for(Nl=Fl._length,$l=1;$l<Nl;$l+=1)$l===1&&o.push({t:"m",p:Ll.applyToPointArray(Fl.v[0][0],Fl.v[0][1],0)}),o.push({t:"c",pts:Ll.applyToTriplePoints(Fl.o[$l-1],Fl.i[$l],Fl.v[$l])});Nl===1&&o.push({t:"m",p:Ll.applyToPointArray(Fl.v[0][0],Fl.v[0][1],0)}),Fl.c&&Nl&&(o.push({t:"c",pts:Ll.applyToTriplePoints(Fl.o[$l-1],Fl.i[0],Fl.v[0])}),o.push({t:"z"}))}}s.trNodes=o}},CVShapeElement.prototype.renderPath=function(s,i){if(s.hd!==!0&&s._shouldRender){var o,et=i.styledShapes.length;for(o=0;o<et;o+=1)this.renderStyledShape(i.styledShapes[o],i.sh)}},CVShapeElement.prototype.renderFill=function(s,i,o){var et=i.style;(i.c._mdf||this._isFirstFrame)&&(et.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")"),(i.o._mdf||o._opMdf||this._isFirstFrame)&&(et.coOp=i.o.v*o.opacity)},CVShapeElement.prototype.renderGradientFill=function(s,i,o){var et=i.style,$l;if(!et.grd||i.g._mdf||i.s._mdf||i.e._mdf||s.t!==1&&(i.h._mdf||i.a._mdf)){var Nl=this.globalData.canvasContext,Ml=i.s.v,Ol=i.e.v;if(s.t===1)$l=Nl.createLinearGradient(Ml[0],Ml[1],Ol[0],Ol[1]);else{var Ll=Math.sqrt(Math.pow(Ml[0]-Ol[0],2)+Math.pow(Ml[1]-Ol[1],2)),Fl=Math.atan2(Ol[1]-Ml[1],Ol[0]-Ml[0]),Bl=i.h.v;Bl>=1?Bl=.99:Bl<=-1&&(Bl=-.99);var Ul=Ll*Bl,Gl=Math.cos(Fl+i.a.v)*Ul+Ml[0],Wl=Math.sin(Fl+i.a.v)*Ul+Ml[1];$l=Nl.createRadialGradient(Gl,Wl,0,Ml[0],Ml[1],Ll)}var zl,Ql=s.g.p,Jl=i.g.c,Kl=1;for(zl=0;zl<Ql;zl+=1)i.g._hasOpacity&&i.g._collapsable&&(Kl=i.g.o[zl*2+1]),$l.addColorStop(Jl[zl*4]/100,"rgba("+Jl[zl*4+1]+","+Jl[zl*4+2]+","+Jl[zl*4+3]+","+Kl+")");et.grd=$l}et.coOp=i.o.v*o.opacity},CVShapeElement.prototype.renderStroke=function(s,i,o){var et=i.style,$l=i.d;$l&&($l._mdf||this._isFirstFrame)&&(et.da=$l.dashArray,et.do=$l.dashoffset[0]),(i.c._mdf||this._isFirstFrame)&&(et.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")"),(i.o._mdf||o._opMdf||this._isFirstFrame)&&(et.coOp=i.o.v*o.opacity),(i.w._mdf||this._isFirstFrame)&&(et.wi=i.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(s,i,o){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(s,i,o)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var s=this.textProperty.currentData;this.renderedLetters=createSizedArray(s.l?s.l.length:0);var i=!1;s.fc?(i=!0,this.values.fill=this.buildColor(s.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=i;var o=!1;s.sc&&(o=!0,this.values.stroke=this.buildColor(s.sc),this.values.sWidth=s.sw);var et=this.globalData.fontManager.getFontByName(s.f),$l,Nl,Ml=s.l,Ol=this.mHelper;this.stroke=o,this.values.fValue=s.finalSize+"px "+this.globalData.fontManager.getFontByName(s.f).fFamily,Nl=s.finalText.length;var Ll,Fl,Bl,Ul,Gl,Wl,zl,Ql,Jl,Kl,Hl=this.data.singleShape,Yl=s.tr*.001*s.finalSize,Xl=0,Zl=0,_d=!0,_f=0;for($l=0;$l<Nl;$l+=1){Ll=this.globalData.fontManager.getCharData(s.finalText[$l],et.fStyle,this.globalData.fontManager.getFontByName(s.f).fFamily),Fl=Ll&&Ll.data||{},Ol.reset(),Hl&&Ml[$l].n&&(Xl=-Yl,Zl+=s.yOffset,Zl+=_d?1:0,_d=!1),Gl=Fl.shapes?Fl.shapes[0].it:[],zl=Gl.length,Ol.scale(s.finalSize/100,s.finalSize/100),Hl&&this.applyTextPropertiesToMatrix(s,Ol,Ml[$l].line,Xl,Zl),Jl=createSizedArray(zl-1);var e0=0;for(Wl=0;Wl<zl;Wl+=1)if(Gl[Wl].ty==="sh"){for(Ul=Gl[Wl].ks.k.i.length,Ql=Gl[Wl].ks.k,Kl=[],Bl=1;Bl<Ul;Bl+=1)Bl===1&&Kl.push(Ol.applyToX(Ql.v[0][0],Ql.v[0][1],0),Ol.applyToY(Ql.v[0][0],Ql.v[0][1],0)),Kl.push(Ol.applyToX(Ql.o[Bl-1][0],Ql.o[Bl-1][1],0),Ol.applyToY(Ql.o[Bl-1][0],Ql.o[Bl-1][1],0),Ol.applyToX(Ql.i[Bl][0],Ql.i[Bl][1],0),Ol.applyToY(Ql.i[Bl][0],Ql.i[Bl][1],0),Ol.applyToX(Ql.v[Bl][0],Ql.v[Bl][1],0),Ol.applyToY(Ql.v[Bl][0],Ql.v[Bl][1],0));Kl.push(Ol.applyToX(Ql.o[Bl-1][0],Ql.o[Bl-1][1],0),Ol.applyToY(Ql.o[Bl-1][0],Ql.o[Bl-1][1],0),Ol.applyToX(Ql.i[0][0],Ql.i[0][1],0),Ol.applyToY(Ql.i[0][0],Ql.i[0][1],0),Ol.applyToX(Ql.v[0][0],Ql.v[0][1],0),Ol.applyToY(Ql.v[0][0],Ql.v[0][1],0)),Jl[e0]=Kl,e0+=1}Hl&&(Xl+=Ml[$l].l,Xl+=Yl),this.textSpans[_f]?this.textSpans[_f].elem=Jl:this.textSpans[_f]={elem:Jl},_f+=1}},CVTextElement.prototype.renderInnerContent=function(){var s=this.canvasContext;s.font=this.values.fValue,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var i,o,et,$l,Nl,Ml,Ol=this.textAnimator.renderedLetters,Ll=this.textProperty.currentData.l;o=Ll.length;var Fl,Bl=null,Ul=null,Gl=null,Wl,zl;for(i=0;i<o;i+=1)if(!Ll[i].n){if(Fl=Ol[i],Fl&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(Fl.p),this.globalData.renderer.ctxOpacity(Fl.o)),this.fill){for(Fl&&Fl.fc?Bl!==Fl.fc&&(Bl=Fl.fc,s.fillStyle=Fl.fc):Bl!==this.values.fill&&(Bl=this.values.fill,s.fillStyle=this.values.fill),Wl=this.textSpans[i].elem,$l=Wl.length,this.globalData.canvasContext.beginPath(),et=0;et<$l;et+=1)for(zl=Wl[et],Ml=zl.length,this.globalData.canvasContext.moveTo(zl[0],zl[1]),Nl=2;Nl<Ml;Nl+=6)this.globalData.canvasContext.bezierCurveTo(zl[Nl],zl[Nl+1],zl[Nl+2],zl[Nl+3],zl[Nl+4],zl[Nl+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(Fl&&Fl.sw?Gl!==Fl.sw&&(Gl=Fl.sw,s.lineWidth=Fl.sw):Gl!==this.values.sWidth&&(Gl=this.values.sWidth,s.lineWidth=this.values.sWidth),Fl&&Fl.sc?Ul!==Fl.sc&&(Ul=Fl.sc,s.strokeStyle=Fl.sc):Ul!==this.values.stroke&&(Ul=this.values.stroke,s.strokeStyle=this.values.stroke),Wl=this.textSpans[i].elem,$l=Wl.length,this.globalData.canvasContext.beginPath(),et=0;et<$l;et+=1)for(zl=Wl[et],Ml=zl.length,this.globalData.canvasContext.moveTo(zl[0],zl[1]),Nl=2;Nl<Ml;Nl+=6)this.globalData.canvasContext.bezierCurveTo(zl[Nl],zl[Nl+1],zl[Nl+2],zl[Nl+3],zl[Nl+4],zl[Nl+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}Fl&&this.globalData.renderer.restore()}};function CVImageElement(s,i,o){this.assetData=i.getAssetData(s.refId),this.img=i.imageLoader.getAsset(this.assetData),this.initElement(s,i,o)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var s=createTag("canvas");s.width=this.assetData.w,s.height=this.assetData.h;var i=s.getContext("2d"),o=this.img.width,et=this.img.height,$l=o/et,Nl=this.assetData.w/this.assetData.h,Ml,Ol,Ll=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;$l>Nl&&Ll==="xMidYMid slice"||$l<Nl&&Ll!=="xMidYMid slice"?(Ol=et,Ml=Ol*Nl):(Ml=o,Ol=Ml/Nl),i.drawImage(this.img,(o-Ml)/2,(et-Ol)/2,Ml,Ol,0,0,this.assetData.w,this.assetData.h),this.img=s}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(s,i,o){this.initElement(s,i,o)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var s=this.canvasContext;s.fillStyle=this.data.sc,s.fillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(s,i){this.animationItem=s,this.renderConfig={clearCanvas:i&&i.clearCanvas!==void 0?i.clearCanvas:!0,context:i&&i.context||null,progressiveLoad:i&&i.progressiveLoad||!1,preserveAspectRatio:i&&i.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:i&&i.contentVisibility||"visible",className:i&&i.className||"",id:i&&i.id||""},this.renderConfig.dpr=i&&i.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=i&&i.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(s){return new CVShapeElement(s,this.globalData,this)},CanvasRendererBase.prototype.createText=function(s){return new CVTextElement(s,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(s){return new CVImageElement(s,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(s){return new CVSolidElement(s,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(s){if(!(s[0]===1&&s[1]===0&&s[4]===0&&s[5]===1&&s[12]===0&&s[13]===0)){if(!this.renderConfig.clearCanvas){this.canvasContext.transform(s[0],s[1],s[4],s[5],s[12],s[13]);return}this.transformMat.cloneFromProps(s);var i=this.contextData.cTr.props;this.transformMat.transform(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9],i[10],i[11],i[12],i[13],i[14],i[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var o=this.contextData.cTr.props;this.canvasContext.setTransform(o[0],o[1],o[4],o[5],o[12],o[13])}},CanvasRendererBase.prototype.ctxOpacity=function(s){if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=s<0?0:s,this.globalData.currentGlobalAlpha=this.contextData.cO;return}this.contextData.cO*=s<0?0:s,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(s){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return}s&&this.canvasContext.save();var i=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var o,et=this.contextData.saved[this.contextData.cArrPos];for(o=0;o<16;o+=1)et[o]=i[o];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRendererBase.prototype.restore=function(s){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}s&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var i=this.contextData.saved[this.contextData.cArrPos],o,et=this.contextData.cTr.props;for(o=0;o<16;o+=1)et[o]=i[o];this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),i=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=i,this.globalData.currentGlobalAlpha!==i&&(this.canvasContext.globalAlpha=i,this.globalData.currentGlobalAlpha=i)},CanvasRendererBase.prototype.configAnimation=function(s){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var i=this.animationItem.container.style;i.width="100%",i.height="100%";var o="0px 0px 0px";i.transformOrigin=o,i.mozTransformOrigin=o,i.webkitTransformOrigin=o,i["-webkit-transform"]=o,i.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=s,this.layers=s.layers,this.transformCanvas={w:s.w,h:s.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(s,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(s.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){this.reset();var s,i;this.animationItem.wrapper&&this.animationItem.container?(s=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",s*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",i*this.renderConfig.dpr)):(s=this.canvasContext.canvas.width*this.renderConfig.dpr,i=this.canvasContext.canvas.height*this.renderConfig.dpr);var o,et;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var $l=this.renderConfig.preserveAspectRatio.split(" "),Nl=$l[1]||"meet",Ml=$l[0]||"xMidYMid",Ol=Ml.substr(0,4),Ll=Ml.substr(4);o=s/i,et=this.transformCanvas.w/this.transformCanvas.h,et>o&&Nl==="meet"||et<o&&Nl==="slice"?(this.transformCanvas.sx=s/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=i/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.h/this.renderConfig.dpr)),Ol==="xMid"&&(et<o&&Nl==="meet"||et>o&&Nl==="slice")?this.transformCanvas.tx=(s-this.transformCanvas.w*(i/this.transformCanvas.h))/2*this.renderConfig.dpr:Ol==="xMax"&&(et<o&&Nl==="meet"||et>o&&Nl==="slice")?this.transformCanvas.tx=(s-this.transformCanvas.w*(i/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,Ll==="YMid"&&(et>o&&Nl==="meet"||et<o&&Nl==="slice")?this.transformCanvas.ty=(i-this.transformCanvas.h*(s/this.transformCanvas.w))/2*this.renderConfig.dpr:Ll==="YMax"&&(et>o&&Nl==="meet"||et<o&&Nl==="slice")?this.transformCanvas.ty=(i-this.transformCanvas.h*(s/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=s/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var s,i=this.layers?this.layers.length:0;for(s=i-1;s>=0;s-=1)this.elements[s]&&this.elements[s].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(s,i){if(!(this.renderedFrame===s&&this.renderConfig.clearCanvas===!0&&!i||this.destroyed||s===-1)){this.renderedFrame=s,this.globalData.frameNum=s-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||i,this.globalData.projectInterface.currentFrame=s;var o,et=this.layers.length;for(this.completeLayers||this.checkLayers(s),o=0;o<et;o+=1)(this.completeLayers||this.elements[o])&&this.elements[o].prepareFrame(s-this.layers[o].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),o=et-1;o>=0;o-=1)(this.completeLayers||this.elements[o])&&this.elements[o].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(s){var i=this.elements;if(!(i[s]||this.layers[s].ty===99)){var o=this.createItem(this.layers[s],this,this.globalData);i[s]=o,o.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var s=this.pendingElements.pop();s.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CVCompElement(s,i,o){this.completeLayers=!1,this.layers=s.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(s,i,o),this.tm=s.tm?PropertyFactory.getProp(this,s.tm,0,i.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var s=this.canvasContext;s.beginPath(),s.moveTo(0,0),s.lineTo(this.data.w,0),s.lineTo(this.data.w,this.data.h),s.lineTo(0,this.data.h),s.lineTo(0,0),s.clip();var i,o=this.layers.length;for(i=o-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame()},CVCompElement.prototype.destroy=function(){var s,i=this.layers.length;for(s=i-1;s>=0;s-=1)this.elements[s]&&this.elements[s].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(s){return new CVCompElement(s,this.globalData,this)};function CanvasRenderer(s,i){this.animationItem=s,this.renderConfig={clearCanvas:i&&i.clearCanvas!==void 0?i.clearCanvas:!0,context:i&&i.context||null,progressiveLoad:i&&i.progressiveLoad||!1,preserveAspectRatio:i&&i.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:i&&i.contentVisibility||"visible",className:i&&i.className||"",id:i&&i.id||""},this.renderConfig.dpr=i&&i.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=i&&i.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(s){return new CVCompElement(s,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var i=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var o=this.finalTransform.mat.toCSS();i.transform=o,i.webkitTransform=o}this.finalTransform._opMdf&&(i.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(s,i,o){this.initElement(s,i,o)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var s;this.data.hasMask?(s=createNS("rect"),s.setAttribute("width",this.data.sw),s.setAttribute("height",this.data.sh),s.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(s=createTag("div"),s.style.width=this.data.sw+"px",s.style.height=this.data.sh+"px",s.style.backgroundColor=this.data.sc),this.layerElement.appendChild(s)};function HShapeElement(s,i,o){this.shapes=[],this.shapesData=s.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(s,i,o),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var s;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),s=this.svgElement;else{s=createNS("svg");var i=this.comp.data?this.comp.data:this.globalData.compSize;s.setAttribute("width",i.w),s.setAttribute("height",i.h),s.appendChild(this.shapesContainer),this.layerElement.appendChild(s)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=s},HShapeElement.prototype.getTransformedPoint=function(s,i){var o,et=s.length;for(o=0;o<et;o+=1)i=s[o].mProps.v.applyToPointArray(i[0],i[1],0);return i},HShapeElement.prototype.calculateShapeBoundingBox=function(s,i){var o=s.sh.v,et=s.transformers,$l,Nl=o._length,Ml,Ol,Ll,Fl;if(!(Nl<=1)){for($l=0;$l<Nl-1;$l+=1)Ml=this.getTransformedPoint(et,o.v[$l]),Ol=this.getTransformedPoint(et,o.o[$l]),Ll=this.getTransformedPoint(et,o.i[$l+1]),Fl=this.getTransformedPoint(et,o.v[$l+1]),this.checkBounds(Ml,Ol,Ll,Fl,i);o.c&&(Ml=this.getTransformedPoint(et,o.v[$l]),Ol=this.getTransformedPoint(et,o.o[$l]),Ll=this.getTransformedPoint(et,o.i[0]),Fl=this.getTransformedPoint(et,o.v[0]),this.checkBounds(Ml,Ol,Ll,Fl,i))}},HShapeElement.prototype.checkBounds=function(s,i,o,et,$l){this.getBoundsOfCurve(s,i,o,et);var Nl=this.shapeBoundingBox;$l.x=bmMin(Nl.left,$l.x),$l.xMax=bmMax(Nl.right,$l.xMax),$l.y=bmMin(Nl.top,$l.y),$l.yMax=bmMax(Nl.bottom,$l.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(s,i,o,et){for(var $l=[[s[0],et[0]],[s[1],et[1]]],Nl,Ml,Ol,Ll,Fl,Bl,Ul,Gl=0;Gl<2;++Gl)Ml=6*s[Gl]-12*i[Gl]+6*o[Gl],Nl=-3*s[Gl]+9*i[Gl]-9*o[Gl]+3*et[Gl],Ol=3*i[Gl]-3*s[Gl],Ml|=0,Nl|=0,Ol|=0,Nl===0&&Ml===0||(Nl===0?(Ll=-Ol/Ml,Ll>0&&Ll<1&&$l[Gl].push(this.calculateF(Ll,s,i,o,et,Gl))):(Fl=Ml*Ml-4*Ol*Nl,Fl>=0&&(Bl=(-Ml+bmSqrt(Fl))/(2*Nl),Bl>0&&Bl<1&&$l[Gl].push(this.calculateF(Bl,s,i,o,et,Gl)),Ul=(-Ml-bmSqrt(Fl))/(2*Nl),Ul>0&&Ul<1&&$l[Gl].push(this.calculateF(Ul,s,i,o,et,Gl)))));this.shapeBoundingBox.left=bmMin.apply(null,$l[0]),this.shapeBoundingBox.top=bmMin.apply(null,$l[1]),this.shapeBoundingBox.right=bmMax.apply(null,$l[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,$l[1])},HShapeElement.prototype.calculateF=function(s,i,o,et,$l,Nl){return bmPow(1-s,3)*i[Nl]+3*bmPow(1-s,2)*s*o[Nl]+3*(1-s)*bmPow(s,2)*et[Nl]+bmPow(s,3)*$l[Nl]},HShapeElement.prototype.calculateBoundingBox=function(s,i){var o,et=s.length;for(o=0;o<et;o+=1)s[o]&&s[o].sh?this.calculateShapeBoundingBox(s[o],i):s[o]&&s[o].it?this.calculateBoundingBox(s[o].it,i):s[o]&&s[o].style&&s[o].w&&this.expandStrokeBoundingBox(s[o].w,i)},HShapeElement.prototype.expandStrokeBoundingBox=function(s,i){var o=0;if(s.keyframes){for(var et=0;et<s.keyframes.length;et+=1){var $l=s.keyframes[et].s;$l>o&&(o=$l)}o*=s.mult}else o=s.v*s.mult;i.x-=o,i.xMax+=o,i.y-=o,i.yMax+=o},HShapeElement.prototype.currentBoxContains=function(s){return this.currentBBox.x<=s.x&&this.currentBBox.y<=s.y&&this.currentBBox.width+this.currentBBox.x>=s.x+s.width&&this.currentBBox.height+this.currentBBox.y>=s.y+s.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var s=this.tempBoundingBox,i=999999;if(s.x=i,s.xMax=-i,s.y=i,s.yMax=-i,this.calculateBoundingBox(this.itemsData,s),s.width=s.xMax<s.x?0:s.xMax-s.x,s.height=s.yMax<s.y?0:s.yMax-s.y,this.currentBoxContains(s))return;var o=!1;if(this.currentBBox.w!==s.width&&(this.currentBBox.w=s.width,this.shapeCont.setAttribute("width",s.width),o=!0),this.currentBBox.h!==s.height&&(this.currentBBox.h=s.height,this.shapeCont.setAttribute("height",s.height),o=!0),o||this.currentBBox.x!==s.x||this.currentBBox.y!==s.y){this.currentBBox.w=s.width,this.currentBBox.h=s.height,this.currentBBox.x=s.x,this.currentBBox.y=s.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var et=this.shapeCont.style,$l="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";et.transform=$l,et.webkitTransform=$l}}};function HTextElement(s,i,o){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(s,i,o)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var s=createNS("g");this.maskedElement.appendChild(s),this.innerElem=s}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var s=this.textProperty.currentData;this.renderedLetters=createSizedArray(s.l?s.l.length:0);var i=this.innerElem.style,o=s.fc?this.buildColor(s.fc):"rgba(0,0,0,0)";i.fill=o,i.color=o,s.sc&&(i.stroke=this.buildColor(s.sc),i.strokeWidth=s.sw+"px");var et=this.globalData.fontManager.getFontByName(s.f);if(!this.globalData.fontManager.chars)if(i.fontSize=s.finalSize+"px",i.lineHeight=s.finalSize+"px",et.fClass)this.innerElem.className=et.fClass;else{i.fontFamily=et.fFamily;var $l=s.fWeight,Nl=s.fStyle;i.fontStyle=Nl,i.fontWeight=$l}var Ml,Ol,Ll=s.l;Ol=Ll.length;var Fl,Bl,Ul,Gl=this.mHelper,Wl,zl="",Ql=0;for(Ml=0;Ml<Ol;Ml+=1){if(this.globalData.fontManager.chars?(this.textPaths[Ql]?Fl=this.textPaths[Ql]:(Fl=createNS("path"),Fl.setAttribute("stroke-linecap",lineCapEnum[1]),Fl.setAttribute("stroke-linejoin",lineJoinEnum[2]),Fl.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Ql]?(Bl=this.textSpans[Ql],Ul=Bl.children[0]):(Bl=createTag("div"),Bl.style.lineHeight=0,Ul=createNS("svg"),Ul.appendChild(Fl),styleDiv(Bl)))):this.isMasked?Fl=this.textPaths[Ql]?this.textPaths[Ql]:createNS("text"):this.textSpans[Ql]?(Bl=this.textSpans[Ql],Fl=this.textPaths[Ql]):(Bl=createTag("span"),styleDiv(Bl),Fl=createTag("span"),styleDiv(Fl),Bl.appendChild(Fl)),this.globalData.fontManager.chars){var Jl=this.globalData.fontManager.getCharData(s.finalText[Ml],et.fStyle,this.globalData.fontManager.getFontByName(s.f).fFamily),Kl;if(Jl?Kl=Jl.data:Kl=null,Gl.reset(),Kl&&Kl.shapes&&Kl.shapes.length&&(Wl=Kl.shapes[0].it,Gl.scale(s.finalSize/100,s.finalSize/100),zl=this.createPathShape(Gl,Wl),Fl.setAttribute("d",zl)),this.isMasked)this.innerElem.appendChild(Fl);else{if(this.innerElem.appendChild(Bl),Kl&&Kl.shapes){document.body.appendChild(Ul);var Hl=Ul.getBBox();Ul.setAttribute("width",Hl.width+2),Ul.setAttribute("height",Hl.height+2),Ul.setAttribute("viewBox",Hl.x-1+" "+(Hl.y-1)+" "+(Hl.width+2)+" "+(Hl.height+2));var Yl=Ul.style,Xl="translate("+(Hl.x-1)+"px,"+(Hl.y-1)+"px)";Yl.transform=Xl,Yl.webkitTransform=Xl,Ll[Ml].yOffset=Hl.y-1}else Ul.setAttribute("width",1),Ul.setAttribute("height",1);Bl.appendChild(Ul)}}else if(Fl.textContent=Ll[Ml].val,Fl.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Fl);else{this.innerElem.appendChild(Bl);var Zl=Fl.style,_d="translate3d(0,"+-s.finalSize/1.2+"px,0)";Zl.transform=_d,Zl.webkitTransform=_d}this.isMasked?this.textSpans[Ql]=Fl:this.textSpans[Ql]=Bl,this.textSpans[Ql].style.display="block",this.textPaths[Ql]=Fl,Ql+=1}for(;Ql<this.textSpans.length;)this.textSpans[Ql].style.display="none",Ql+=1},HTextElement.prototype.renderInnerContent=function(){var s;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),s=this.svgElement.style;var i="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";s.transform=i,s.webkitTransform=i}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var o,et,$l=0,Nl=this.textAnimator.renderedLetters,Ml=this.textProperty.currentData.l;et=Ml.length;var Ol,Ll,Fl;for(o=0;o<et;o+=1)Ml[o].n?$l+=1:(Ll=this.textSpans[o],Fl=this.textPaths[o],Ol=Nl[$l],$l+=1,Ol._mdf.m&&(this.isMasked?Ll.setAttribute("transform",Ol.m):(Ll.style.webkitTransform=Ol.m,Ll.style.transform=Ol.m)),Ll.style.opacity=Ol.o,Ol.sw&&Ol._mdf.sw&&Fl.setAttribute("stroke-width",Ol.sw),Ol.sc&&Ol._mdf.sc&&Fl.setAttribute("stroke",Ol.sc),Ol.fc&&Ol._mdf.fc&&(Fl.setAttribute("fill",Ol.fc),Fl.style.color=Ol.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var Bl=this.innerElem.getBBox();this.currentBBox.w!==Bl.width&&(this.currentBBox.w=Bl.width,this.svgElement.setAttribute("width",Bl.width)),this.currentBBox.h!==Bl.height&&(this.currentBBox.h=Bl.height,this.svgElement.setAttribute("height",Bl.height));var Ul=1;if(this.currentBBox.w!==Bl.width+Ul*2||this.currentBBox.h!==Bl.height+Ul*2||this.currentBBox.x!==Bl.x-Ul||this.currentBBox.y!==Bl.y-Ul){this.currentBBox.w=Bl.width+Ul*2,this.currentBBox.h=Bl.height+Ul*2,this.currentBBox.x=Bl.x-Ul,this.currentBBox.y=Bl.y-Ul,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),s=this.svgElement.style;var Gl="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=Gl,s.webkitTransform=Gl}}}};function HCameraElement(s,i,o){this.initFrame(),this.initBaseData(s,i,o),this.initHierarchy();var et=PropertyFactory.getProp;if(this.pe=et(this,s.pe,0,0,this),s.ks.p.s?(this.px=et(this,s.ks.p.x,1,0,this),this.py=et(this,s.ks.p.y,1,0,this),this.pz=et(this,s.ks.p.z,1,0,this)):this.p=et(this,s.ks.p,1,0,this),s.ks.a&&(this.a=et(this,s.ks.a,1,0,this)),s.ks.or.k.length&&s.ks.or.k[0].to){var $l,Nl=s.ks.or.k.length;for($l=0;$l<Nl;$l+=1)s.ks.or.k[$l].to=null,s.ks.or.k[$l].ti=null}this.or=et(this,s.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=et(this,s.ks.rx,0,degToRads,this),this.ry=et(this,s.ks.ry,0,degToRads,this),this.rz=et(this,s.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var s,i=this.comp.threeDElements.length,o,et,$l;for(s=0;s<i;s+=1)if(o=this.comp.threeDElements[s],o.type==="3d"){et=o.perspectiveElem.style,$l=o.container.style;var Nl=this.pe.v+"px",Ml="0px 0px 0px",Ol="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";et.perspective=Nl,et.webkitPerspective=Nl,$l.transformOrigin=Ml,$l.mozTransformOrigin=Ml,$l.webkitTransformOrigin=Ml,et.transform=Ol,et.webkitTransform=Ol}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var s=this._isFirstFrame,i,o;if(this.hierarchy)for(o=this.hierarchy.length,i=0;i<o;i+=1)s=this.hierarchy[i].finalTransform.mProp._mdf||s;if(s||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(o=this.hierarchy.length-1,i=o;i>=0;i-=1){var et=this.hierarchy[i].finalTransform.mProp;this.mat.translate(-et.p.v[0],-et.p.v[1],et.p.v[2]),this.mat.rotateX(-et.or.v[0]).rotateY(-et.or.v[1]).rotateZ(et.or.v[2]),this.mat.rotateX(-et.rx.v).rotateY(-et.ry.v).rotateZ(et.rz.v),this.mat.scale(1/et.s.v[0],1/et.s.v[1],1/et.s.v[2]),this.mat.translate(et.a.v[0],et.a.v[1],et.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var $l;this.p?$l=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:$l=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var Nl=Math.sqrt(Math.pow($l[0],2)+Math.pow($l[1],2)+Math.pow($l[2],2)),Ml=[$l[0]/Nl,$l[1]/Nl,$l[2]/Nl],Ol=Math.sqrt(Ml[2]*Ml[2]+Ml[0]*Ml[0]),Ll=Math.atan2(Ml[1],Ol),Fl=Math.atan2(Ml[0],-Ml[2]);this.mat.rotateY(Fl).rotateX(-Ll)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var Bl=!this._prevMat.equals(this.mat);if((Bl||this.pe._mdf)&&this.comp.threeDElements){o=this.comp.threeDElements.length;var Ul,Gl,Wl;for(i=0;i<o;i+=1)if(Ul=this.comp.threeDElements[i],Ul.type==="3d"){if(Bl){var zl=this.mat.toCSS();Wl=Ul.container.style,Wl.transform=zl,Wl.webkitTransform=zl}this.pe._mdf&&(Gl=Ul.perspectiveElem.style,Gl.perspective=this.pe.v+"px",Gl.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(s){this.prepareProperties(s,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(s,i,o){this.assetData=i.getAssetData(s.refId),this.initElement(s,i,o)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var s=this.globalData.getAssetsPath(this.assetData),i=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",s),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(i),i.crossOrigin="anonymous",i.src=s,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(s,i){this.animationItem=s,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:i&&i.className||"",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(i&&i.hideOnTransparent===!1),filterSize:{width:i&&i.filterSize&&i.filterSize.width||"400%",height:i&&i.filterSize&&i.filterSize.height||"400%",x:i&&i.filterSize&&i.filterSize.x||"-100%",y:i&&i.filterSize&&i.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var s=this.pendingElements.pop();s.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(s,i){var o=s.getBaseElement();if(!!o){var et=this.layers[i];if(!et.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(o,i);else{for(var $l=0,Nl,Ml,Ol;$l<i;)this.elements[$l]&&this.elements[$l]!==!0&&this.elements[$l].getBaseElement&&(Ml=this.elements[$l],Ol=this.layers[$l].ddd?this.getThreeDContainerByPos($l):Ml.getBaseElement(),Nl=Ol||Nl),$l+=1;Nl?(!et.ddd||!this.supports3d)&&this.layerElement.insertBefore(o,Nl):(!et.ddd||!this.supports3d)&&this.layerElement.appendChild(o)}else this.addTo3dContainer(o,i)}},HybridRendererBase.prototype.createShape=function(s){return this.supports3d?new HShapeElement(s,this.globalData,this):new SVGShapeElement(s,this.globalData,this)},HybridRendererBase.prototype.createText=function(s){return this.supports3d?new HTextElement(s,this.globalData,this):new SVGTextLottieElement(s,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(s){return this.camera=new HCameraElement(s,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(s){return this.supports3d?new HImageElement(s,this.globalData,this):new IImageElement(s,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(s){return this.supports3d?new HSolidElement(s,this.globalData,this):new ISolidElement(s,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(s){for(var i=0,o=this.threeDElements.length;i<o;){if(this.threeDElements[i].startPos<=s&&this.threeDElements[i].endPos>=s)return this.threeDElements[i].perspectiveElem;i+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(s,i){var o=createTag("div"),et,$l;styleDiv(o);var Nl=createTag("div");if(styleDiv(Nl),i==="3d"){et=o.style,et.width=this.globalData.compSize.w+"px",et.height=this.globalData.compSize.h+"px";var Ml="50% 50%";et.webkitTransformOrigin=Ml,et.mozTransformOrigin=Ml,et.transformOrigin=Ml,$l=Nl.style;var Ol="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";$l.transform=Ol,$l.webkitTransform=Ol}o.appendChild(Nl);var Ll={container:Nl,perspectiveElem:o,startPos:s,endPos:s,type:i};return this.threeDElements.push(Ll),Ll},HybridRendererBase.prototype.build3dContainers=function(){var s,i=this.layers.length,o,et="";for(s=0;s<i;s+=1)this.layers[s].ddd&&this.layers[s].ty!==3?(et!=="3d"&&(et="3d",o=this.createThreeDContainer(s,"3d")),o.endPos=Math.max(o.endPos,s)):(et!=="2d"&&(et="2d",o=this.createThreeDContainer(s,"2d")),o.endPos=Math.max(o.endPos,s));for(i=this.threeDElements.length,s=i-1;s>=0;s-=1)this.resizerElem.appendChild(this.threeDElements[s].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(s,i){for(var o=0,et=this.threeDElements.length;o<et;){if(i<=this.threeDElements[o].endPos){for(var $l=this.threeDElements[o].startPos,Nl;$l<i;)this.elements[$l]&&this.elements[$l].getBaseElement&&(Nl=this.elements[$l].getBaseElement()),$l+=1;Nl?this.threeDElements[o].container.insertBefore(s,Nl):this.threeDElements[o].container.appendChild(s);break}o+=1}},HybridRendererBase.prototype.configAnimation=function(s){var i=createTag("div"),o=this.animationItem.wrapper,et=i.style;et.width=s.w+"px",et.height=s.h+"px",this.resizerElem=i,styleDiv(i),et.transformStyle="flat",et.mozTransformStyle="flat",et.webkitTransformStyle="flat",this.renderConfig.className&&i.setAttribute("class",this.renderConfig.className),o.appendChild(i),et.overflow="hidden";var $l=createNS("svg");$l.setAttribute("width","1"),$l.setAttribute("height","1"),styleDiv($l),this.resizerElem.appendChild($l);var Nl=createNS("defs");$l.appendChild(Nl),this.data=s,this.setupGlobalData(s,$l),this.globalData.defs=Nl,this.layers=s.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var s,i=this.layers?this.layers.length:0;for(s=0;s<i;s+=1)this.elements[s].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var s=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,o=s/i,et=this.globalData.compSize.w/this.globalData.compSize.h,$l,Nl,Ml,Ol;et>o?($l=s/this.globalData.compSize.w,Nl=s/this.globalData.compSize.w,Ml=0,Ol=(i-this.globalData.compSize.h*(s/this.globalData.compSize.w))/2):($l=i/this.globalData.compSize.h,Nl=i/this.globalData.compSize.h,Ml=(s-this.globalData.compSize.w*(i/this.globalData.compSize.h))/2,Ol=0);var Ll=this.resizerElem.style;Ll.webkitTransform="matrix3d("+$l+",0,0,0,0,"+Nl+",0,0,0,0,1,0,"+Ml+","+Ol+",0,1)",Ll.transform=Ll.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var s=this.globalData.compSize.w,i=this.globalData.compSize.h,o,et=this.threeDElements.length;for(o=0;o<et;o+=1){var $l=this.threeDElements[o].perspectiveElem.style;$l.webkitPerspective=Math.sqrt(Math.pow(s,2)+Math.pow(i,2))+"px",$l.perspective=$l.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(s){var i,o=s.length,et=createTag("div");for(i=0;i<o;i+=1)if(s[i].xt){var $l=this.createComp(s[i],et,this.globalData.comp,null);$l.initExpressions(),this.globalData.projectInterface.registerComposition($l)}};function HCompElement(s,i,o){this.layers=s.layers,this.supports3d=!s.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(s,i,o),this.tm=s.tm?PropertyFactory.getProp(this,s.tm,0,i.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(s,i){for(var o=0,et;o<i;)this.elements[o]&&this.elements[o].getBaseElement&&(et=this.elements[o].getBaseElement()),o+=1;et?this.layerElement.insertBefore(s,et):this.layerElement.appendChild(s)},HCompElement.prototype.createComp=function(s){return this.supports3d?new HCompElement(s,this.globalData,this):new SVGCompElement(s,this.globalData,this)};function HybridRenderer(s,i){this.animationItem=s,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:i&&i.className||"",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(i&&i.hideOnTransparent===!1),filterSize:{width:i&&i.filterSize&&i.filterSize.width||"400%",height:i&&i.filterSize&&i.filterSize.height||"400%",x:i&&i.filterSize&&i.filterSize.x||"-100%",y:i&&i.filterSize&&i.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(s){return this.supports3d?new HCompElement(s,this.globalData,this):new SVGCompElement(s,this.globalData,this)};var Expressions=function(){var s={};s.initExpressions=i;function i(o){var et=0,$l=[];function Nl(){et+=1}function Ml(){et-=1,et===0&&Ll()}function Ol(Fl){$l.indexOf(Fl)===-1&&$l.push(Fl)}function Ll(){var Fl,Bl=$l.length;for(Fl=0;Fl<Bl;Fl+=1)$l[Fl].release();$l.length=0}o.renderer.compInterface=CompExpressionInterface(o.renderer),o.renderer.globalData.projectInterface.registerComposition(o.renderer),o.renderer.globalData.pushExpression=Nl,o.renderer.globalData.popExpression=Ml,o.renderer.globalData.registerExpressionProperty=Ol}return s}();function _typeof$1(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(o){return typeof o}:_typeof$1=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$1(s)}function seedRandom(s,i){var o=this,et=256,$l=6,Nl=52,Ml="random",Ol=i.pow(et,$l),Ll=i.pow(2,Nl),Fl=Ll*2,Bl=et-1,Ul;function Gl(Yl,Xl,Zl){var _d=[];Xl=Xl===!0?{entropy:!0}:Xl||{};var _f=Jl(Ql(Xl.entropy?[Yl,Hl(s)]:Yl===null?Kl():Yl,3),_d),e0=new Wl(_d),s0=function(){for(var g0=e0.g($l),f0=Ol,_0=0;g0<Ll;)g0=(g0+_0)*et,f0*=et,_0=e0.g(1);for(;g0>=Fl;)g0/=2,f0/=2,_0>>>=1;return(g0+_0)/f0};return s0.int32=function(){return e0.g(4)|0},s0.quick=function(){return e0.g(4)/4294967296},s0.double=s0,Jl(Hl(e0.S),s),(Xl.pass||Zl||function(u0,g0,f0,_0){return _0&&(_0.S&&zl(_0,e0),u0.state=function(){return zl(e0,{})}),f0?(i[Ml]=u0,g0):u0})(s0,_f,"global"in Xl?Xl.global:this==i,Xl.state)}i["seed"+Ml]=Gl;function Wl(Yl){var Xl,Zl=Yl.length,_d=this,_f=0,e0=_d.i=_d.j=0,s0=_d.S=[];for(Zl||(Yl=[Zl++]);_f<et;)s0[_f]=_f++;for(_f=0;_f<et;_f++)s0[_f]=s0[e0=Bl&e0+Yl[_f%Zl]+(Xl=s0[_f])],s0[e0]=Xl;_d.g=function(u0){for(var g0,f0=0,_0=_d.i,S0=_d.j,p0=_d.S;u0--;)g0=p0[_0=Bl&_0+1],f0=f0*et+p0[Bl&(p0[_0]=p0[S0=Bl&S0+g0])+(p0[S0]=g0)];return _d.i=_0,_d.j=S0,f0}}function zl(Yl,Xl){return Xl.i=Yl.i,Xl.j=Yl.j,Xl.S=Yl.S.slice(),Xl}function Ql(Yl,Xl){var Zl=[],_d=_typeof$1(Yl),_f;if(Xl&&_d=="object")for(_f in Yl)try{Zl.push(Ql(Yl[_f],Xl-1))}catch{}return Zl.length?Zl:_d=="string"?Yl:Yl+"\0"}function Jl(Yl,Xl){for(var Zl=Yl+"",_d,_f=0;_f<Zl.length;)Xl[Bl&_f]=Bl&(_d^=Xl[Bl&_f]*19)+Zl.charCodeAt(_f++);return Hl(Xl)}function Kl(){try{var Yl=new Uint8Array(et);return(o.crypto||o.msCrypto).getRandomValues(Yl),Hl(Yl)}catch{var Xl=o.navigator,Zl=Xl&&Xl.plugins;return[+new Date,o,Zl,o.screen,Hl(s)]}}function Hl(Yl){return String.fromCharCode.apply(0,Yl)}Jl(i.random(),s)}function initialize$2(s){seedRandom([],s)}var propTypes={SHAPE:"shape"};function _typeof(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(o){return typeof o}:_typeof=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(s)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;initialize$2(BMMath);function $bm_isInstanceOfArray(s){return s.constructor===Array||s.constructor===Float32Array}function isNumerable(s,i){return s==="number"||s==="boolean"||s==="string"||i instanceof Number}function $bm_neg(s){var i=_typeof(s);if(i==="number"||i==="boolean"||s instanceof Number)return-s;if($bm_isInstanceOfArray(s)){var o,et=s.length,$l=[];for(o=0;o<et;o+=1)$l[o]=-s[o];return $l}return s.propType?s.v:-s}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(s,i){var o=_typeof(s),et=_typeof(i);if(o==="string"||et==="string"||isNumerable(o,s)&&isNumerable(et,i))return s+i;if($bm_isInstanceOfArray(s)&&isNumerable(et,i))return s=s.slice(0),s[0]+=i,s;if(isNumerable(o,s)&&$bm_isInstanceOfArray(i))return i=i.slice(0),i[0]=s+i[0],i;if($bm_isInstanceOfArray(s)&&$bm_isInstanceOfArray(i)){for(var $l=0,Nl=s.length,Ml=i.length,Ol=[];$l<Nl||$l<Ml;)(typeof s[$l]=="number"||s[$l]instanceof Number)&&(typeof i[$l]=="number"||i[$l]instanceof Number)?Ol[$l]=s[$l]+i[$l]:Ol[$l]=i[$l]===void 0?s[$l]:s[$l]||i[$l],$l+=1;return Ol}return 0}var add=sum;function sub(s,i){var o=_typeof(s),et=_typeof(i);if(isNumerable(o,s)&&isNumerable(et,i))return o==="string"&&(s=parseInt(s,10)),et==="string"&&(i=parseInt(i,10)),s-i;if($bm_isInstanceOfArray(s)&&isNumerable(et,i))return s=s.slice(0),s[0]-=i,s;if(isNumerable(o,s)&&$bm_isInstanceOfArray(i))return i=i.slice(0),i[0]=s-i[0],i;if($bm_isInstanceOfArray(s)&&$bm_isInstanceOfArray(i)){for(var $l=0,Nl=s.length,Ml=i.length,Ol=[];$l<Nl||$l<Ml;)(typeof s[$l]=="number"||s[$l]instanceof Number)&&(typeof i[$l]=="number"||i[$l]instanceof Number)?Ol[$l]=s[$l]-i[$l]:Ol[$l]=i[$l]===void 0?s[$l]:s[$l]||i[$l],$l+=1;return Ol}return 0}function mul(s,i){var o=_typeof(s),et=_typeof(i),$l;if(isNumerable(o,s)&&isNumerable(et,i))return s*i;var Nl,Ml;if($bm_isInstanceOfArray(s)&&isNumerable(et,i)){for(Ml=s.length,$l=createTypedArray("float32",Ml),Nl=0;Nl<Ml;Nl+=1)$l[Nl]=s[Nl]*i;return $l}if(isNumerable(o,s)&&$bm_isInstanceOfArray(i)){for(Ml=i.length,$l=createTypedArray("float32",Ml),Nl=0;Nl<Ml;Nl+=1)$l[Nl]=s*i[Nl];return $l}return 0}function div(s,i){var o=_typeof(s),et=_typeof(i),$l;if(isNumerable(o,s)&&isNumerable(et,i))return s/i;var Nl,Ml;if($bm_isInstanceOfArray(s)&&isNumerable(et,i)){for(Ml=s.length,$l=createTypedArray("float32",Ml),Nl=0;Nl<Ml;Nl+=1)$l[Nl]=s[Nl]/i;return $l}if(isNumerable(o,s)&&$bm_isInstanceOfArray(i)){for(Ml=i.length,$l=createTypedArray("float32",Ml),Nl=0;Nl<Ml;Nl+=1)$l[Nl]=s/i[Nl];return $l}return 0}function mod(s,i){return typeof s=="string"&&(s=parseInt(s,10)),typeof i=="string"&&(i=parseInt(i,10)),s%i}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(s,i,o){if(i>o){var et=o;o=i,i=et}return Math.min(Math.max(s,i),o)}function radiansToDegrees(s){return s/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(s){return s*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(s,i){if(typeof s=="number"||s instanceof Number)return i=i||0,Math.abs(s-i);i||(i=helperLengthArray);var o,et=Math.min(s.length,i.length),$l=0;for(o=0;o<et;o+=1)$l+=Math.pow(i[o]-s[o],2);return Math.sqrt($l)}function normalize(s){return div(s,length(s))}function rgbToHsl(s){var i=s[0],o=s[1],et=s[2],$l=Math.max(i,o,et),Nl=Math.min(i,o,et),Ml,Ol,Ll=($l+Nl)/2;if($l===Nl)Ml=0,Ol=0;else{var Fl=$l-Nl;switch(Ol=Ll>.5?Fl/(2-$l-Nl):Fl/($l+Nl),$l){case i:Ml=(o-et)/Fl+(o<et?6:0);break;case o:Ml=(et-i)/Fl+2;break;case et:Ml=(i-o)/Fl+4;break}Ml/=6}return[Ml,Ol,Ll,s[3]]}function hue2rgb(s,i,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?s+(i-s)*6*o:o<1/2?i:o<2/3?s+(i-s)*(2/3-o)*6:s}function hslToRgb(s){var i=s[0],o=s[1],et=s[2],$l,Nl,Ml;if(o===0)$l=et,Ml=et,Nl=et;else{var Ol=et<.5?et*(1+o):et+o-et*o,Ll=2*et-Ol;$l=hue2rgb(Ll,Ol,i+1/3),Nl=hue2rgb(Ll,Ol,i),Ml=hue2rgb(Ll,Ol,i-1/3)}return[$l,Nl,Ml,s[3]]}function linear(s,i,o,et,$l){if((et===void 0||$l===void 0)&&(et=i,$l=o,i=0,o=1),o<i){var Nl=o;o=i,i=Nl}if(s<=i)return et;if(s>=o)return $l;var Ml=o===i?0:(s-i)/(o-i);if(!et.length)return et+($l-et)*Ml;var Ol,Ll=et.length,Fl=createTypedArray("float32",Ll);for(Ol=0;Ol<Ll;Ol+=1)Fl[Ol]=et[Ol]+($l[Ol]-et[Ol])*Ml;return Fl}function random(s,i){if(i===void 0&&(s===void 0?(s=0,i=1):(i=s,s=void 0)),i.length){var o,et=i.length;s||(s=createTypedArray("float32",et));var $l=createTypedArray("float32",et),Nl=BMMath.random();for(o=0;o<et;o+=1)$l[o]=s[o]+Nl*(i[o]-s[o]);return $l}s===void 0&&(s=0);var Ml=BMMath.random();return s+Ml*(i-s)}function createPath(s,i,o,et){var $l,Nl=s.length,Ml=shapePool.newElement();Ml.setPathData(!!et,Nl);var Ol=[0,0],Ll,Fl;for($l=0;$l<Nl;$l+=1)Ll=i&&i[$l]?i[$l]:Ol,Fl=o&&o[$l]?o[$l]:Ol,Ml.setTripleAt(s[$l][0],s[$l][1],Fl[0]+s[$l][0],Fl[1]+s[$l][1],Ll[0]+s[$l][0],Ll[1]+s[$l][1],$l,!0);return Ml}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function s(i,o){var et,$l,Nl=this.pv.length?this.pv.length:1,Ml=createTypedArray("float32",Nl);i=5;var Ol=Math.floor(time*i);for(et=0,$l=0;et<Ol;){for($l=0;$l<Nl;$l+=1)Ml[$l]+=-o+o*2*BMMath.random();et+=1}var Ll=time*i,Fl=Ll-Math.floor(Ll),Bl=createTypedArray("float32",Nl);if(Nl>1){for($l=0;$l<Nl;$l+=1)Bl[$l]=this.pv[$l]+Ml[$l]+(-o+o*2*BMMath.random())*Fl;return Bl}return this.pv+Ml[0]+(-o+o*2*BMMath.random())*Fl}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(s,i){return loopIn(s,i,!0)}function loopOutDuration(s,i){return loopOut(s,i,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(s,i){var o=[i[0]-s[0],i[1]-s[1],i[2]-s[2]],et=Math.atan2(o[0],Math.sqrt(o[1]*o[1]+o[2]*o[2]))/degToRads,$l=-Math.atan2(o[1],o[2])/degToRads;return[$l,et,0]}function easeOut(s,i,o,et,$l){return applyEase(easeOutBez,s,i,o,et,$l)}function easeIn(s,i,o,et,$l){return applyEase(easeInBez,s,i,o,et,$l)}function ease(s,i,o,et,$l){return applyEase(easeInOutBez,s,i,o,et,$l)}function applyEase(s,i,o,et,$l,Nl){$l===void 0?($l=o,Nl=et):i=(i-o)/(et-o),i>1?i=1:i<0&&(i=0);var Ml=s(i);if($bm_isInstanceOfArray($l)){var Ol,Ll=$l.length,Fl=createTypedArray("float32",Ll);for(Ol=0;Ol<Ll;Ol+=1)Fl[Ol]=(Nl[Ol]-$l[Ol])*Ml+$l[Ol];return Fl}return(Nl-$l)*Ml+$l}function nearestKey(s){var i,o=data.k.length,et,$l;if(!data.k.length||typeof data.k[0]=="number")et=0,$l=0;else if(et=-1,s*=elem.comp.globalData.frameRate,s<data.k[0].t)et=1,$l=data.k[0].t;else{for(i=0;i<o-1;i+=1)if(s===data.k[i].t){et=i+1,$l=data.k[i].t;break}else if(s>data.k[i].t&&s<data.k[i+1].t){s-data.k[i].t>data.k[i+1].t-s?(et=i+2,$l=data.k[i+1].t):(et=i+1,$l=data.k[i].t);break}et===-1&&(et=i+1,$l=data.k[i].t)}var Nl={};return Nl.index=et,Nl.time=$l/elem.comp.globalData.frameRate,Nl}function key(s){var i,o,et;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+s);s-=1,i={time:data.k[s].t/elem.comp.globalData.frameRate,value:[]};var $l=Object.prototype.hasOwnProperty.call(data.k[s],"s")?data.k[s].s:data.k[s-1].e;for(et=$l.length,o=0;o<et;o+=1)i[o]=$l[o],i.value[o]=$l[o];return i}function framesToTime(s,i){return i||(i=elem.comp.globalData.frameRate),s/i}function timeToFrames(s,i){return!s&&s!==0&&(s=time),i||(i=elem.comp.globalData.frameRate),s*i}function seedRandom(s){BMMath.seedrandom(randSeed+s)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(s,i){return typeof value=="string"?i===void 0?value.substring(s):value.substring(s,i):""}function substr(s,i){return typeof value=="string"?i===void 0?value.substr(s):value.substr(s,i):""}function posterizeTime(s){time=s===0?0:Math.floor(time*s)/s,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(s){return value=s,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers=function(){function s(Ml,Ol,Ll){Ol.x&&(Ll.k=!0,Ll.x=!0,Ll.initiateExpression=ExpressionManager.initiateExpression,Ll.effectsSequence.push(Ll.initiateExpression(Ml,Ol,Ll).bind(Ll)))}function i(Ml){return Ml*=this.elem.globalData.frameRate,Ml-=this.offsetTime,Ml!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<Ml?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(Ml,this._cachingAtTime),this._cachingAtTime.lastFrame=Ml),this._cachingAtTime.value}function o(Ml){var Ol=-.01,Ll=this.getValueAtTime(Ml),Fl=this.getValueAtTime(Ml+Ol),Bl=0;if(Ll.length){var Ul;for(Ul=0;Ul<Ll.length;Ul+=1)Bl+=Math.pow(Fl[Ul]-Ll[Ul],2);Bl=Math.sqrt(Bl)*100}else Bl=0;return Bl}function et(Ml){if(this.vel!==void 0)return this.vel;var Ol=-.001,Ll=this.getValueAtTime(Ml),Fl=this.getValueAtTime(Ml+Ol),Bl;if(Ll.length){Bl=createTypedArray("float32",Ll.length);var Ul;for(Ul=0;Ul<Ll.length;Ul+=1)Bl[Ul]=(Fl[Ul]-Ll[Ul])/Ol}else Bl=(Fl-Ll)/Ol;return Bl}function $l(){return this.pv}function Nl(Ml){this.propertyGroup=Ml}return{searchExpressions:s,getSpeedAtTime:o,getVelocityAtTime:et,getValueAtTime:i,getStaticValueAtTime:$l,setGroupProperty:Nl}}();function addPropertyDecorator(){function s(Gl,Wl,zl){if(!this.k||!this.keyframes)return this.pv;Gl=Gl?Gl.toLowerCase():"";var Ql=this.comp.renderedFrame,Jl=this.keyframes,Kl=Jl[Jl.length-1].t;if(Ql<=Kl)return this.pv;var Hl,Yl;zl?(Wl?Hl=Math.abs(Kl-this.elem.comp.globalData.frameRate*Wl):Hl=Math.max(0,Kl-this.elem.data.ip),Yl=Kl-Hl):((!Wl||Wl>Jl.length-1)&&(Wl=Jl.length-1),Yl=Jl[Jl.length-1-Wl].t,Hl=Kl-Yl);var Xl,Zl,_d;if(Gl==="pingpong"){var _f=Math.floor((Ql-Yl)/Hl);if(_f%2!==0)return this.getValueAtTime((Hl-(Ql-Yl)%Hl+Yl)/this.comp.globalData.frameRate,0)}else if(Gl==="offset"){var e0=this.getValueAtTime(Yl/this.comp.globalData.frameRate,0),s0=this.getValueAtTime(Kl/this.comp.globalData.frameRate,0),u0=this.getValueAtTime(((Ql-Yl)%Hl+Yl)/this.comp.globalData.frameRate,0),g0=Math.floor((Ql-Yl)/Hl);if(this.pv.length){for(_d=new Array(e0.length),Zl=_d.length,Xl=0;Xl<Zl;Xl+=1)_d[Xl]=(s0[Xl]-e0[Xl])*g0+u0[Xl];return _d}return(s0-e0)*g0+u0}else if(Gl==="continue"){var f0=this.getValueAtTime(Kl/this.comp.globalData.frameRate,0),_0=this.getValueAtTime((Kl-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(_d=new Array(f0.length),Zl=_d.length,Xl=0;Xl<Zl;Xl+=1)_d[Xl]=f0[Xl]+(f0[Xl]-_0[Xl])*((Ql-Kl)/this.comp.globalData.frameRate)/5e-4;return _d}return f0+(f0-_0)*((Ql-Kl)/.001)}return this.getValueAtTime(((Ql-Yl)%Hl+Yl)/this.comp.globalData.frameRate,0)}function i(Gl,Wl,zl){if(!this.k)return this.pv;Gl=Gl?Gl.toLowerCase():"";var Ql=this.comp.renderedFrame,Jl=this.keyframes,Kl=Jl[0].t;if(Ql>=Kl)return this.pv;var Hl,Yl;zl?(Wl?Hl=Math.abs(this.elem.comp.globalData.frameRate*Wl):Hl=Math.max(0,this.elem.data.op-Kl),Yl=Kl+Hl):((!Wl||Wl>Jl.length-1)&&(Wl=Jl.length-1),Yl=Jl[Wl].t,Hl=Yl-Kl);var Xl,Zl,_d;if(Gl==="pingpong"){var _f=Math.floor((Kl-Ql)/Hl);if(_f%2===0)return this.getValueAtTime(((Kl-Ql)%Hl+Kl)/this.comp.globalData.frameRate,0)}else if(Gl==="offset"){var e0=this.getValueAtTime(Kl/this.comp.globalData.frameRate,0),s0=this.getValueAtTime(Yl/this.comp.globalData.frameRate,0),u0=this.getValueAtTime((Hl-(Kl-Ql)%Hl+Kl)/this.comp.globalData.frameRate,0),g0=Math.floor((Kl-Ql)/Hl)+1;if(this.pv.length){for(_d=new Array(e0.length),Zl=_d.length,Xl=0;Xl<Zl;Xl+=1)_d[Xl]=u0[Xl]-(s0[Xl]-e0[Xl])*g0;return _d}return u0-(s0-e0)*g0}else if(Gl==="continue"){var f0=this.getValueAtTime(Kl/this.comp.globalData.frameRate,0),_0=this.getValueAtTime((Kl+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(_d=new Array(f0.length),Zl=_d.length,Xl=0;Xl<Zl;Xl+=1)_d[Xl]=f0[Xl]+(f0[Xl]-_0[Xl])*(Kl-Ql)/.001;return _d}return f0+(f0-_0)*(Kl-Ql)/.001}return this.getValueAtTime((Hl-((Kl-Ql)%Hl+Kl))/this.comp.globalData.frameRate,0)}function o(Gl,Wl){if(!this.k)return this.pv;if(Gl=(Gl||.4)*.5,Wl=Math.floor(Wl||5),Wl<=1)return this.pv;var zl=this.comp.renderedFrame/this.comp.globalData.frameRate,Ql=zl-Gl,Jl=zl+Gl,Kl=Wl>1?(Jl-Ql)/(Wl-1):1,Hl=0,Yl=0,Xl;this.pv.length?Xl=createTypedArray("float32",this.pv.length):Xl=0;for(var Zl;Hl<Wl;){if(Zl=this.getValueAtTime(Ql+Hl*Kl),this.pv.length)for(Yl=0;Yl<this.pv.length;Yl+=1)Xl[Yl]+=Zl[Yl];else Xl+=Zl;Hl+=1}if(this.pv.length)for(Yl=0;Yl<this.pv.length;Yl+=1)Xl[Yl]/=Wl;else Xl/=Wl;return Xl}function et(Gl){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var Wl=this._transformCachingAtTime.v;if(Wl.cloneFromProps(this.pre.props),this.appliedTransformations<1){var zl=this.a.getValueAtTime(Gl);Wl.translate(-zl[0]*this.a.mult,-zl[1]*this.a.mult,zl[2]*this.a.mult)}if(this.appliedTransformations<2){var Ql=this.s.getValueAtTime(Gl);Wl.scale(Ql[0]*this.s.mult,Ql[1]*this.s.mult,Ql[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Jl=this.sk.getValueAtTime(Gl),Kl=this.sa.getValueAtTime(Gl);Wl.skewFromAxis(-Jl*this.sk.mult,Kl*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Hl=this.r.getValueAtTime(Gl);Wl.rotate(-Hl*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var Yl=this.rz.getValueAtTime(Gl),Xl=this.ry.getValueAtTime(Gl),Zl=this.rx.getValueAtTime(Gl),_d=this.or.getValueAtTime(Gl);Wl.rotateZ(-Yl*this.rz.mult).rotateY(Xl*this.ry.mult).rotateX(Zl*this.rx.mult).rotateZ(-_d[2]*this.or.mult).rotateY(_d[1]*this.or.mult).rotateX(_d[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var _f=this.px.getValueAtTime(Gl),e0=this.py.getValueAtTime(Gl);if(this.data.p.z){var s0=this.pz.getValueAtTime(Gl);Wl.translate(_f*this.px.mult,e0*this.py.mult,-s0*this.pz.mult)}else Wl.translate(_f*this.px.mult,e0*this.py.mult,0)}else{var u0=this.p.getValueAtTime(Gl);Wl.translate(u0[0]*this.p.mult,u0[1]*this.p.mult,-u0[2]*this.p.mult)}return Wl}function $l(){return this.v.clone(new Matrix)}var Nl=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Gl,Wl,zl){var Ql=Nl(Gl,Wl,zl);return Ql.dynamicProperties.length?Ql.getValueAtTime=et.bind(Ql):Ql.getValueAtTime=$l.bind(Ql),Ql.setGroupProperty=expressionHelpers.setGroupProperty,Ql};var Ml=PropertyFactory.getProp;PropertyFactory.getProp=function(Gl,Wl,zl,Ql,Jl){var Kl=Ml(Gl,Wl,zl,Ql,Jl);Kl.kf?Kl.getValueAtTime=expressionHelpers.getValueAtTime.bind(Kl):Kl.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Kl),Kl.setGroupProperty=expressionHelpers.setGroupProperty,Kl.loopOut=s,Kl.loopIn=i,Kl.smooth=o,Kl.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Kl),Kl.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Kl),Kl.numKeys=Wl.a===1?Wl.k.length:0,Kl.propertyIndex=Wl.ix;var Hl=0;return zl!==0&&(Hl=createTypedArray("float32",Wl.a===1?Wl.k[0].s.length:Wl.k.length)),Kl._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Hl},expressionHelpers.searchExpressions(Gl,Wl,Kl),Kl.k&&Jl.addDynamicProperty(Kl),Kl};function Ol(Gl){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Gl*=this.elem.globalData.frameRate,Gl-=this.offsetTime,Gl!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Gl?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Gl,this.interpolateShape(Gl,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var Ll=ShapePropertyFactory.getConstructorFunction(),Fl=ShapePropertyFactory.getKeyframedConstructorFunction();function Bl(){}Bl.prototype={vertices:function(Wl,zl){this.k&&this.getValue();var Ql=this.v;zl!==void 0&&(Ql=this.getValueAtTime(zl,0));var Jl,Kl=Ql._length,Hl=Ql[Wl],Yl=Ql.v,Xl=createSizedArray(Kl);for(Jl=0;Jl<Kl;Jl+=1)Wl==="i"||Wl==="o"?Xl[Jl]=[Hl[Jl][0]-Yl[Jl][0],Hl[Jl][1]-Yl[Jl][1]]:Xl[Jl]=[Hl[Jl][0],Hl[Jl][1]];return Xl},points:function(Wl){return this.vertices("v",Wl)},inTangents:function(Wl){return this.vertices("i",Wl)},outTangents:function(Wl){return this.vertices("o",Wl)},isClosed:function(){return this.v.c},pointOnPath:function(Wl,zl){var Ql=this.v;zl!==void 0&&(Ql=this.getValueAtTime(zl,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Ql));for(var Jl=this._segmentsLength,Kl=Jl.lengths,Hl=Jl.totalLength*Wl,Yl=0,Xl=Kl.length,Zl=0,_d;Yl<Xl;){if(Zl+Kl[Yl].addedLength>Hl){var _f=Yl,e0=Ql.c&&Yl===Xl-1?0:Yl+1,s0=(Hl-Zl)/Kl[Yl].addedLength;_d=bez.getPointInSegment(Ql.v[_f],Ql.v[e0],Ql.o[_f],Ql.i[e0],s0,Kl[Yl]);break}else Zl+=Kl[Yl].addedLength;Yl+=1}return _d||(_d=Ql.c?[Ql.v[0][0],Ql.v[0][1]]:[Ql.v[Ql._length-1][0],Ql.v[Ql._length-1][1]]),_d},vectorOnPath:function(Wl,zl,Ql){Wl==1?Wl=this.v.c:Wl==0&&(Wl=.999);var Jl=this.pointOnPath(Wl,zl),Kl=this.pointOnPath(Wl+.001,zl),Hl=Kl[0]-Jl[0],Yl=Kl[1]-Jl[1],Xl=Math.sqrt(Math.pow(Hl,2)+Math.pow(Yl,2));if(Xl===0)return[0,0];var Zl=Ql==="tangent"?[Hl/Xl,Yl/Xl]:[-Yl/Xl,Hl/Xl];return Zl},tangentOnPath:function(Wl,zl){return this.vectorOnPath(Wl,zl,"tangent")},normalOnPath:function(Wl,zl){return this.vectorOnPath(Wl,zl,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([Bl],Ll),extendPrototype([Bl],Fl),Fl.prototype.getValueAtTime=Ol,Fl.prototype.initiateExpression=ExpressionManager.initiateExpression;var Ul=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Gl,Wl,zl,Ql,Jl){var Kl=Ul(Gl,Wl,zl,Ql,Jl);return Kl.propertyIndex=Wl.ix,Kl.lock=!1,zl===3?expressionHelpers.searchExpressions(Gl,Wl.pt,Kl):zl===4&&expressionHelpers.searchExpressions(Gl,Wl.ks,Kl),Kl.k&&Gl.addDynamicProperty(Kl),Kl}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function s(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(i,o){var et=this.calculateExpression(o);if(i.t!==et){var $l={};return this.copyData($l,i),$l.t=et.toString(),$l.__complete=!1,$l}return i},TextProperty.prototype.searchProperty=function(){var i=this.searchKeyframes(),o=this.searchExpressions();return this.kf=i||o,this.kf},TextProperty.prototype.searchExpressions=s}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function s(i,o){var et=createNS("feMerge");et.setAttribute("result",i);var $l,Nl;for(Nl=0;Nl<o.length;Nl+=1)$l=createNS("feMergeNode"),$l.setAttribute("in",o[Nl]),et.appendChild($l),et.appendChild($l);return et}};function SVGTintFilter(s,i,o,et,$l){this.filterManager=i;var Nl=createNS("feColorMatrix");Nl.setAttribute("type","matrix"),Nl.setAttribute("color-interpolation-filters","linearRGB"),Nl.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),Nl.setAttribute("result",et+"_tint_1"),s.appendChild(Nl),Nl=createNS("feColorMatrix"),Nl.setAttribute("type","matrix"),Nl.setAttribute("color-interpolation-filters","sRGB"),Nl.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Nl.setAttribute("result",et+"_tint_2"),s.appendChild(Nl),this.matrixFilter=Nl;var Ml=this.createMergeNode(et,[$l,et+"_tint_1",et+"_tint_2"]);s.appendChild(Ml)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(s){if(s||this.filterManager._mdf){var i=this.filterManager.effectElements[0].p.v,o=this.filterManager.effectElements[1].p.v,et=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",o[0]-i[0]+" 0 0 0 "+i[0]+" "+(o[1]-i[1])+" 0 0 0 "+i[1]+" "+(o[2]-i[2])+" 0 0 0 "+i[2]+" 0 0 0 "+et+" 0")}};function SVGFillFilter(s,i,o,et){this.filterManager=i;var $l=createNS("feColorMatrix");$l.setAttribute("type","matrix"),$l.setAttribute("color-interpolation-filters","sRGB"),$l.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),$l.setAttribute("result",et),s.appendChild($l),this.matrixFilter=$l}SVGFillFilter.prototype.renderFrame=function(s){if(s||this.filterManager._mdf){var i=this.filterManager.effectElements[2].p.v,o=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+i[0]+" 0 0 0 0 "+i[1]+" 0 0 0 0 "+i[2]+" 0 0 0 "+o+" 0")}};function SVGStrokeEffect(s,i,o){this.initialized=!1,this.filterManager=i,this.elem=o,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var s=this.elem.layerElement.children||this.elem.layerElement.childNodes,i,o,et,$l;for(this.filterManager.effectElements[1].p.v===1?($l=this.elem.maskManager.masksProperties.length,et=0):(et=this.filterManager.effectElements[0].p.v-1,$l=et+1),o=createNS("g"),o.setAttribute("fill","none"),o.setAttribute("stroke-linecap","round"),o.setAttribute("stroke-dashoffset",1),et;et<$l;et+=1)i=createNS("path"),o.appendChild(i),this.paths.push({p:i,m:et});if(this.filterManager.effectElements[10].p.v===3){var Nl=createNS("mask"),Ml=createElementID();Nl.setAttribute("id",Ml),Nl.setAttribute("mask-type","alpha"),Nl.appendChild(o),this.elem.globalData.defs.appendChild(Nl);var Ol=createNS("g");for(Ol.setAttribute("mask","url("+getLocationHref()+"#"+Ml+")");s[0];)Ol.appendChild(s[0]);this.elem.layerElement.appendChild(Ol),this.masker=Nl,o.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(s=this.elem.layerElement.children||this.elem.layerElement.childNodes;s.length;)this.elem.layerElement.removeChild(s[0]);this.elem.layerElement.appendChild(o),this.elem.layerElement.removeAttribute("mask"),o.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=o},SVGStrokeEffect.prototype.renderFrame=function(s){this.initialized||this.initialize();var i,o=this.paths.length,et,$l;for(i=0;i<o;i+=1)if(this.paths[i].m!==-1&&(et=this.elem.maskManager.viewData[this.paths[i].m],$l=this.paths[i].p,(s||this.filterManager._mdf||et.prop._mdf)&&$l.setAttribute("d",et.lastPath),s||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||et.prop._mdf)){var Nl;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var Ml=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Ol=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Ll=$l.getTotalLength();Nl="0 0 0 "+Ll*Ml+" ";var Fl=Ll*(Ol-Ml),Bl=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,Ul=Math.floor(Fl/Bl),Gl;for(Gl=0;Gl<Ul;Gl+=1)Nl+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";Nl+="0 "+Ll*10+" 0 0"}else Nl="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;$l.setAttribute("stroke-dasharray",Nl)}if((s||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(s||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(s||this.filterManager.effectElements[3].p._mdf)){var Wl=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(Wl[0]*255)+","+bmFloor(Wl[1]*255)+","+bmFloor(Wl[2]*255)+")")}};function SVGTritoneFilter(s,i,o,et){this.filterManager=i;var $l=createNS("feColorMatrix");$l.setAttribute("type","matrix"),$l.setAttribute("color-interpolation-filters","linearRGB"),$l.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),s.appendChild($l);var Nl=createNS("feComponentTransfer");Nl.setAttribute("color-interpolation-filters","sRGB"),Nl.setAttribute("result",et),this.matrixFilter=Nl;var Ml=createNS("feFuncR");Ml.setAttribute("type","table"),Nl.appendChild(Ml),this.feFuncR=Ml;var Ol=createNS("feFuncG");Ol.setAttribute("type","table"),Nl.appendChild(Ol),this.feFuncG=Ol;var Ll=createNS("feFuncB");Ll.setAttribute("type","table"),Nl.appendChild(Ll),this.feFuncB=Ll,s.appendChild(Nl)}SVGTritoneFilter.prototype.renderFrame=function(s){if(s||this.filterManager._mdf){var i=this.filterManager.effectElements[0].p.v,o=this.filterManager.effectElements[1].p.v,et=this.filterManager.effectElements[2].p.v,$l=et[0]+" "+o[0]+" "+i[0],Nl=et[1]+" "+o[1]+" "+i[1],Ml=et[2]+" "+o[2]+" "+i[2];this.feFuncR.setAttribute("tableValues",$l),this.feFuncG.setAttribute("tableValues",Nl),this.feFuncB.setAttribute("tableValues",Ml)}};function SVGProLevelsFilter(s,i,o,et){this.filterManager=i;var $l=this.filterManager.effectElements,Nl=createNS("feComponentTransfer");($l[10].p.k||$l[10].p.v!==0||$l[11].p.k||$l[11].p.v!==1||$l[12].p.k||$l[12].p.v!==1||$l[13].p.k||$l[13].p.v!==0||$l[14].p.k||$l[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",Nl)),($l[17].p.k||$l[17].p.v!==0||$l[18].p.k||$l[18].p.v!==1||$l[19].p.k||$l[19].p.v!==1||$l[20].p.k||$l[20].p.v!==0||$l[21].p.k||$l[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",Nl)),($l[24].p.k||$l[24].p.v!==0||$l[25].p.k||$l[25].p.v!==1||$l[26].p.k||$l[26].p.v!==1||$l[27].p.k||$l[27].p.v!==0||$l[28].p.k||$l[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",Nl)),($l[31].p.k||$l[31].p.v!==0||$l[32].p.k||$l[32].p.v!==1||$l[33].p.k||$l[33].p.v!==1||$l[34].p.k||$l[34].p.v!==0||$l[35].p.k||$l[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",Nl)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(Nl.setAttribute("color-interpolation-filters","sRGB"),s.appendChild(Nl)),($l[3].p.k||$l[3].p.v!==0||$l[4].p.k||$l[4].p.v!==1||$l[5].p.k||$l[5].p.v!==1||$l[6].p.k||$l[6].p.v!==0||$l[7].p.k||$l[7].p.v!==1)&&(Nl=createNS("feComponentTransfer"),Nl.setAttribute("color-interpolation-filters","sRGB"),Nl.setAttribute("result",et),s.appendChild(Nl),this.feFuncRComposed=this.createFeFunc("feFuncR",Nl),this.feFuncGComposed=this.createFeFunc("feFuncG",Nl),this.feFuncBComposed=this.createFeFunc("feFuncB",Nl))}SVGProLevelsFilter.prototype.createFeFunc=function(s,i){var o=createNS(s);return o.setAttribute("type","table"),i.appendChild(o),o},SVGProLevelsFilter.prototype.getTableValue=function(s,i,o,et,$l){for(var Nl=0,Ml=256,Ol,Ll=Math.min(s,i),Fl=Math.max(s,i),Bl=Array.call(null,{length:Ml}),Ul,Gl=0,Wl=$l-et,zl=i-s;Nl<=256;)Ol=Nl/256,Ol<=Ll?Ul=zl<0?$l:et:Ol>=Fl?Ul=zl<0?et:$l:Ul=et+Wl*Math.pow((Ol-s)/zl,1/o),Bl[Gl]=Ul,Gl+=1,Nl+=256/(Ml-1);return Bl.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(s){if(s||this.filterManager._mdf){var i,o=this.filterManager.effectElements;this.feFuncRComposed&&(s||o[3].p._mdf||o[4].p._mdf||o[5].p._mdf||o[6].p._mdf||o[7].p._mdf)&&(i=this.getTableValue(o[3].p.v,o[4].p.v,o[5].p.v,o[6].p.v,o[7].p.v),this.feFuncRComposed.setAttribute("tableValues",i),this.feFuncGComposed.setAttribute("tableValues",i),this.feFuncBComposed.setAttribute("tableValues",i)),this.feFuncR&&(s||o[10].p._mdf||o[11].p._mdf||o[12].p._mdf||o[13].p._mdf||o[14].p._mdf)&&(i=this.getTableValue(o[10].p.v,o[11].p.v,o[12].p.v,o[13].p.v,o[14].p.v),this.feFuncR.setAttribute("tableValues",i)),this.feFuncG&&(s||o[17].p._mdf||o[18].p._mdf||o[19].p._mdf||o[20].p._mdf||o[21].p._mdf)&&(i=this.getTableValue(o[17].p.v,o[18].p.v,o[19].p.v,o[20].p.v,o[21].p.v),this.feFuncG.setAttribute("tableValues",i)),this.feFuncB&&(s||o[24].p._mdf||o[25].p._mdf||o[26].p._mdf||o[27].p._mdf||o[28].p._mdf)&&(i=this.getTableValue(o[24].p.v,o[25].p.v,o[26].p.v,o[27].p.v,o[28].p.v),this.feFuncB.setAttribute("tableValues",i)),this.feFuncA&&(s||o[31].p._mdf||o[32].p._mdf||o[33].p._mdf||o[34].p._mdf||o[35].p._mdf)&&(i=this.getTableValue(o[31].p.v,o[32].p.v,o[33].p.v,o[34].p.v,o[35].p.v),this.feFuncA.setAttribute("tableValues",i))}};function SVGDropShadowEffect(s,i,o,et,$l){var Nl=i.container.globalData.renderConfig.filterSize,Ml=i.data.fs||Nl;s.setAttribute("x",Ml.x||Nl.x),s.setAttribute("y",Ml.y||Nl.y),s.setAttribute("width",Ml.width||Nl.width),s.setAttribute("height",Ml.height||Nl.height),this.filterManager=i;var Ol=createNS("feGaussianBlur");Ol.setAttribute("in","SourceAlpha"),Ol.setAttribute("result",et+"_drop_shadow_1"),Ol.setAttribute("stdDeviation","0"),this.feGaussianBlur=Ol,s.appendChild(Ol);var Ll=createNS("feOffset");Ll.setAttribute("dx","25"),Ll.setAttribute("dy","0"),Ll.setAttribute("in",et+"_drop_shadow_1"),Ll.setAttribute("result",et+"_drop_shadow_2"),this.feOffset=Ll,s.appendChild(Ll);var Fl=createNS("feFlood");Fl.setAttribute("flood-color","#00ff00"),Fl.setAttribute("flood-opacity","1"),Fl.setAttribute("result",et+"_drop_shadow_3"),this.feFlood=Fl,s.appendChild(Fl);var Bl=createNS("feComposite");Bl.setAttribute("in",et+"_drop_shadow_3"),Bl.setAttribute("in2",et+"_drop_shadow_2"),Bl.setAttribute("operator","in"),Bl.setAttribute("result",et+"_drop_shadow_4"),s.appendChild(Bl);var Ul=this.createMergeNode(et,[et+"_drop_shadow_4",$l]);s.appendChild(Ul)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(s){if(s||this.filterManager._mdf){if((s||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),s||this.filterManager.effectElements[0].p._mdf){var i=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(i[0]*255),Math.round(i[1]*255),Math.round(i[2]*255)))}if((s||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),s||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var o=this.filterManager.effectElements[3].p.v,et=(this.filterManager.effectElements[2].p.v-90)*degToRads,$l=o*Math.cos(et),Nl=o*Math.sin(et);this.feOffset.setAttribute("dx",$l),this.feOffset.setAttribute("dy",Nl)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(s,i,o){this.initialized=!1,this.filterManager=i,this.filterElem=s,this.elem=o,o.matteElement=createNS("g"),o.matteElement.appendChild(o.layerElement),o.matteElement.appendChild(o.transformedElement),o.baseElement=o.matteElement}SVGMatte3Effect.prototype.findSymbol=function(s){for(var i=0,o=_svgMatteSymbols.length;i<o;){if(_svgMatteSymbols[i]===s)return _svgMatteSymbols[i];i+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(s,i){var o=s.layerElement.parentNode;if(!!o){for(var et=o.children,$l=0,Nl=et.length;$l<Nl&&et[$l]!==s.layerElement;)$l+=1;var Ml;$l<=Nl-2&&(Ml=et[$l+1]);var Ol=createNS("use");Ol.setAttribute("href","#"+i),Ml?o.insertBefore(Ol,Ml):o.appendChild(Ol)}},SVGMatte3Effect.prototype.setElementAsMask=function(s,i){if(!this.findSymbol(i)){var o=createElementID(),et=createNS("mask");et.setAttribute("id",i.layerId),et.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(i);var $l=s.globalData.defs;$l.appendChild(et);var Nl=createNS("symbol");Nl.setAttribute("id",o),this.replaceInParent(i,o),Nl.appendChild(i.layerElement),$l.appendChild(Nl);var Ml=createNS("use");Ml.setAttribute("href","#"+o),et.appendChild(Ml),i.data.hd=!1,i.show()}s.setMatte(i.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var s=this.filterManager.effectElements[0].p.v,i=this.elem.comp.elements,o=0,et=i.length;o<et;)i[o]&&i[o].data.ind===s&&this.setElementAsMask(this.elem,i[o]),o+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(s,i,o,et){s.setAttribute("x","-100%"),s.setAttribute("y","-100%"),s.setAttribute("width","300%"),s.setAttribute("height","300%"),this.filterManager=i;var $l=createNS("feGaussianBlur");$l.setAttribute("result",et),s.appendChild($l),this.feGaussianBlur=$l}return SVGGaussianBlurEffect.prototype.renderFrame=function(s){if(s||this.filterManager._mdf){var i=.3,o=this.filterManager.effectElements[0].p.v*i,et=this.filterManager.effectElements[1].p.v,$l=et==3?0:o,Nl=et==2?0:o;this.feGaussianBlur.setAttribute("stdDeviation",$l+" "+Nl);var Ml=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",Ml)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie})})(lottie$1,lottie$1.exports);var lottie=lottie$1.exports;const v$2="5.5.7",meta={g:"LottieFiles AE 0.1.20",a:"",k:"",d:"",tc:""},fr$2=60,ip$1=0,op$1=364,w$2=512,h$1=512,nm="Google G Dots",ddd=0,assets$1=[{id:"comp_0",layers:[{ddd:0,ind:2,ty:4,nm:"Layer 1",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,38.248],[1.48,8.41],[0,0],[0,0],[0,0],[13.262,-8.78],[0,0],[16.936,0],[9.981,29.758],[0,0],[-5.268,15.618],[-32.808,0],[-12.984,-12.385],[0,0],[31.237,-.37],[21.348,-42.513],[-17.837,-35.533],[-47.549,0],[-20.84,19.223],[0,0]],o:[[0,-8.549],[0,0],[0,0],[0,0],[-2.819,15.618],[0,0],[-11.269,7.651],[-32.808,0],[0,0],[-5.268,-15.618],[9.935,-29.805],[17.929,-.278],[0,0],[-22.734,-21.348],[-47.549,0],[-17.837,35.533],[21.348,42.466],[33.917,0],[0,0],[23.784,-21.902]],v:[[123.273,2.893],[121.101,-22.661],[2.484,-22.661],[2.484,25.766],[70.41,25.766],[45.273,63.98],[45.273,64.011],[2.53,75.995],[-68.077,24.102],[-68.123,24.102],[-68.123,-24.047],[2.484,-75.985],[50.726,-57.132],[86.63,-93.037],[2.484,-125.752],[-109.896,-56.439],[-109.896,56.495],[2.484,125.761],[85.844,95.402],[85.819,95.382]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.917647063732,.262745112181,.207843139768,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3868,st:0,bm:0},{ddd:0,ind:3,ty:0,nm:"C G 2",tt:1,refId:"comp_1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[256,256,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,w:512,h:512,ip:0,op:3868,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"G dash",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.573,y:1},o:{x:.609,y:0},t:41,s:[256,256,0],to:[12.167,0,0],ti:[-12.167,0,0]},{t:66,s:[329,256,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.573,.573,.573],y:[1,1,1]},o:{x:[.609,.609,.609],y:[0,0,0]},t:41,s:[100,100,100]},{t:66,s:[33,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[58,-23.828],[58.75,23],[-58.75,23],[-58.75,-23.828]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.258823529412,.521568627451,.956862804936,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[60.75,1],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Rectangle 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:64,st:0,bm:0}]},{id:"comp_1",layers:[{ddd:0,ind:1,ty:4,nm:"G Matte R",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256.558,256.05,0],ix:2},a:{a:0,k:[.558,.05,0],ix:1},s:{a:0,k:[103,103,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.069,-49.401],[66.91,0],[0,54.999],[-54.862,-.827]],o:[[-.08,57.41],[-54.868,0],[0,-50.468],[66.994,1.01]],v:[[98.75,-.344],[.34,100.991],[-97.634,-.652],[.443,-100.88]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.180392161012,.192156866193,.572549045086,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:55,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.573],y:[1]},o:{x:[.609],y:[0]},t:0,s:[49]},{t:61,s:[81]}],ix:1},e:{a:0,k:79.77,ix:2},o:{a:0,k:30,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:3868,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"G logo R",tt:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-32.808,0],[-12.984,-12.385],[0,0],[31.237,-.37],[21.348,-42.513],[0,0]],o:[[17.929,-.278],[0,0],[-22.734,-21.348],[-47.549,0],[0,0],[9.935,-29.805]],v:[[2.484,-75.985],[50.726,-57.132],[86.63,-93.037],[2.484,-125.752],[-109.896,-56.439],[-68.123,-24.047]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.917647118662,.262745098039,.207843152214,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-5.268,15.618],[0,0],[0,0],[-17.837,-35.533]],o:[[-5.268,-15.618],[0,0],[0,0],[-17.837,35.533],[0,0]],v:[[-68.123,24.102],[-68.123,-24.047],[-68.123,-56.439],[-109.896,-56.439],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.917647118662,.262745098039,.207843152214,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-47.549,0],[-20.84,19.223],[0,0],[16.959,0],[9.981,29.758],[0,0],[0,0]],o:[[33.917,0],[0,0],[-11.275,7.67],[-32.808,0],[0,0],[0,0],[21.348,42.466]],v:[[2.484,125.761],[85.844,95.402],[45.319,63.981],[2.53,75.995],[-68.077,24.102],[-109.896,24.102],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.917647118662,.262745098039,.207843152214,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,38.26],[1.48,8.41],[0,0],[0,0],[0,0],[13.262,-8.78],[0,0],[0,0]],o:[[0,-8.549],[0,0],[0,0],[0,0],[-2.819,15.618],[0,0],[0,0],[23.797,-21.902]],v:[[123.273,2.893],[121.101,-22.661],[2.484,-22.661],[2.484,25.766],[70.41,25.766],[45.273,63.981],[45.273,95.402],[85.798,95.402]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.917647118662,.262745098039,.207843152214,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3868,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"G Matte Y",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256.558,256.05,0],ix:2},a:{a:0,k:[.558,.05,0],ix:1},s:{a:0,k:[103,103,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.069,-49.401],[21.843,-18.291],[28.188,0],[15.115,35.338],[0,14.469],[-5.622,12.573],[-40.128,-.605]],o:[[-.046,33.224],[-15.901,13.315],[-40.433,0],[-5.396,-12.615],[0,-13.554],[15.313,-34.242],[66.994,1.01]],v:[[98.75,-.344],[66.318,79.88],[.34,100.991],[-89.255,40.323],[-97.634,-.652],[-88.895,-40.341],[.443,-100.88]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.180392161012,.192156866193,.572549045086,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:55,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:0,k:86.5,ix:1},e:{a:1,k:[{i:{x:[.573],y:[1]},o:{x:[.609],y:[0]},t:22,s:[35]},{t:83,s:[79]}],ix:2},o:{a:0,k:30,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:3868,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"G logo Y",tt:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-32.808,0],[-12.984,-12.385],[0,0],[31.237,-.37],[21.348,-42.513],[0,0]],o:[[17.929,-.278],[0,0],[-22.734,-21.348],[-47.549,0],[0,0],[9.935,-29.805]],v:[[2.484,-75.985],[50.726,-57.132],[86.63,-93.037],[2.484,-125.752],[-109.896,-56.439],[-68.123,-24.047]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.984313785329,.737254901961,.01568627451,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-5.268,15.618],[0,0],[0,0],[-17.837,-35.533]],o:[[-5.268,-15.618],[0,0],[0,0],[-17.837,35.533],[0,0]],v:[[-68.123,24.102],[-68.123,-24.047],[-68.123,-56.439],[-109.896,-56.439],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.984313785329,.737254901961,.01568627451,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-47.549,0],[-20.84,19.223],[0,0],[16.959,0],[9.981,29.758],[0,0],[0,0]],o:[[33.917,0],[0,0],[-11.275,7.67],[-32.808,0],[0,0],[0,0],[21.348,42.466]],v:[[2.484,125.761],[85.844,95.402],[45.319,63.981],[2.53,75.995],[-68.077,24.102],[-109.896,24.102],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.984313785329,.737254901961,.01568627451,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,38.26],[1.48,8.41],[0,0],[0,0],[0,0],[13.262,-8.78],[0,0],[0,0]],o:[[0,-8.549],[0,0],[0,0],[0,0],[-2.819,15.618],[0,0],[0,0],[23.797,-21.902]],v:[[123.273,2.893],[121.101,-22.661],[2.484,-22.661],[2.484,25.766],[70.41,25.766],[45.273,63.981],[45.273,95.402],[85.798,95.402]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.984313785329,.737254901961,.01568627451,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3868,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"G Matte G",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256.558,256.05,0],ix:2},a:{a:0,k:[.558,.05,0],ix:1},s:{a:0,k:[103,103,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.08,57.41],[66.994,1.01],[0,-50.468],[-54.868,0]],o:[[.069,-49.401],[-54.862,-.827],[0,54.999],[66.91,0]],v:[[98.75,-.344],[.443,-100.88],[-97.634,-.652],[.34,100.991]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.180392161012,.192156866193,.572549045086,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:55,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:1,k:[{i:{x:[.573],y:[1]},o:{x:[.609],y:[0]},t:41,s:[76]},{t:102,s:[1]}],ix:2},o:{a:0,k:30,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:3868,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"G logo G",tt:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-32.808,0],[-12.984,-12.385],[0,0],[31.237,-.37],[21.348,-42.513],[0,0]],o:[[17.929,-.278],[0,0],[-22.734,-21.348],[-47.549,0],[0,0],[9.935,-29.805]],v:[[2.484,-75.985],[50.726,-57.132],[86.63,-93.037],[2.484,-125.752],[-109.896,-56.439],[-68.123,-24.047]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.203921583587,.658823529412,.325490196078,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-5.268,15.618],[0,0],[0,0],[-17.837,-35.533]],o:[[-5.268,-15.618],[0,0],[0,0],[-17.837,35.533],[0,0]],v:[[-68.123,24.102],[-68.123,-24.047],[-68.123,-56.439],[-109.896,-56.439],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.203921583587,.658823529412,.325490196078,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-47.549,0],[-20.84,19.223],[0,0],[16.959,0],[9.981,29.758],[0,0],[0,0]],o:[[33.917,0],[0,0],[-11.275,7.67],[-32.808,0],[0,0],[0,0],[21.348,42.466]],v:[[2.484,125.761],[85.844,95.402],[45.319,63.981],[2.53,75.995],[-68.077,24.102],[-109.896,24.102],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.203921583587,.658823529412,.325490196078,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,38.26],[1.48,8.41],[0,0],[0,0],[0,0],[13.262,-8.78],[0,0],[0,0]],o:[[0,-8.549],[0,0],[0,0],[0,0],[-2.819,15.618],[0,0],[0,0],[23.797,-21.902]],v:[[123.273,2.893],[121.101,-22.661],[2.484,-22.661],[2.484,25.766],[70.41,25.766],[45.273,63.981],[45.273,95.402],[85.798,95.402]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.203921583587,.658823529412,.325490196078,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3868,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"G Matte B 3",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256.558,256.05,0],ix:2},a:{a:0,k:[.558,.05,0],ix:1},s:{a:0,k:[103,103,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.08,57.41],[66.994,1.01],[0,-50.468],[-54.868,0]],o:[[.069,-49.401],[-54.862,-.827],[0,54.999],[66.91,0]],v:[[98.75,-.344],[.443,-100.88],[-97.634,-.652],[.34,100.991]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.180392161012,.192156866193,.572549045086,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:55,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.573],y:[1]},o:{x:[.609],y:[0]},t:61,s:[100]},{t:110,s:[1]}],ix:1},e:{a:0,k:0,ix:2},o:{a:0,k:20,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:3868,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"G logo B3",tt:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-32.808,0],[-12.984,-12.385],[0,0],[31.237,-.37],[21.348,-42.513],[0,0]],o:[[17.929,-.278],[0,0],[-22.734,-21.348],[-47.549,0],[0,0],[9.935,-29.805]],v:[[2.484,-75.985],[50.726,-57.132],[86.63,-93.037],[2.484,-125.752],[-109.896,-56.439],[-68.123,-24.047]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.258823529412,.521568627451,.956862804936,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-5.268,15.618],[0,0],[0,0],[-17.837,-35.533]],o:[[-5.268,-15.618],[0,0],[0,0],[-17.837,35.533],[0,0]],v:[[-68.123,24.102],[-68.123,-24.047],[-68.123,-56.439],[-109.896,-56.439],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.258823529412,.521568627451,.956862804936,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-47.549,0],[-20.84,19.223],[0,0],[16.959,0],[9.981,29.758],[0,0],[0,0]],o:[[33.917,0],[0,0],[-11.275,7.67],[-32.808,0],[0,0],[0,0],[21.348,42.466]],v:[[2.484,125.761],[85.844,95.402],[45.319,63.981],[2.53,75.995],[-68.077,24.102],[-109.896,24.102],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.258823529412,.521568627451,.956862804936,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,38.26],[1.48,8.41],[0,0],[0,0],[0,0],[13.262,-8.78],[0,0],[0,0]],o:[[0,-8.549],[0,0],[0,0],[0,0],[-2.819,15.618],[0,0],[0,0],[23.797,-21.902]],v:[[123.273,2.893],[121.101,-22.661],[2.484,-22.661],[2.484,25.766],[70.41,25.766],[45.273,63.981],[45.273,95.402],[85.798,95.402]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.258823529412,.521568627451,.956862804936,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3868,st:0,bm:0}]},{id:"comp_2",layers:[{ddd:0,ind:3,ty:4,nm:"G dash",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.98],y:[1]},o:{x:[.021],y:[.488]},t:41,s:[193.298]},{t:79,s:[256]}],ix:3},y:{a:0,k:255.924,ix:4}},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.573,.573,.573],y:[1,1,1]},o:{x:[.609,.609,.609],y:[0,0,0]},t:41,s:[0,100,100]},{t:59,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.43,-13.961],[0,0],[0,0],[0,0]],o:[[0,0],[.43,13.961],[0,0],[0,0],[0,0]],v:[[60.25,-23.813],[62.07,1.539],[61,23.219],[-58.75,23],[-58.75,-23.891]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.258823529412,.521568627451,.956862804936,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[60.75,1],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Rectangle 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:34,op:250,st:11,bm:0},{ddd:0,ind:7,ty:4,nm:"Layer 1",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,38.248],[1.48,8.41],[0,0],[0,0],[0,0],[13.262,-8.78],[0,0],[16.936,0],[9.981,29.758],[0,0],[-5.268,15.618],[-32.808,0],[-12.984,-12.385],[0,0],[31.237,-.37],[21.348,-42.513],[-17.837,-35.533],[-47.549,0],[-20.84,19.223],[0,0]],o:[[0,-8.549],[0,0],[0,0],[0,0],[-2.819,15.618],[0,0],[-11.269,7.651],[-32.808,0],[0,0],[-5.268,-15.618],[9.935,-29.805],[17.929,-.278],[0,0],[-22.734,-21.348],[-47.549,0],[-17.837,35.533],[21.348,42.466],[33.917,0],[0,0],[23.784,-21.902]],v:[[123.273,2.893],[121.101,-22.661],[2.484,-22.661],[2.484,25.766],[70.41,25.766],[45.273,63.98],[45.273,64.011],[2.53,75.995],[-68.077,24.102],[-68.123,24.102],[-68.123,-24.047],[2.484,-75.985],[50.726,-57.132],[86.63,-93.037],[2.484,-125.752],[-109.896,-56.439],[-109.896,56.495],[2.484,125.761],[85.844,95.402],[85.819,95.382]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.917647063732,.262745112181,.207843139768,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3868,st:0,bm:0},{ddd:0,ind:8,ty:0,nm:"C G",tt:1,refId:"comp_3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[256,256,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,w:512,h:512,ip:0,op:3868,st:0,bm:0}]},{id:"comp_3",layers:[{ddd:0,ind:1,ty:4,nm:"G Matte B 3",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256.558,256.05,0],ix:2},a:{a:0,k:[.558,.05,0],ix:1},s:{a:0,k:[103,103,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.08,57.41],[66.994,1.01],[0,-50.468],[-54.868,0]],o:[[.069,-49.401],[-54.862,-.827],[0,54.999],[66.91,0]],v:[[98.75,-.344],[.443,-100.88],[-97.634,-.652],[.34,100.991]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.180392161012,.192156866193,.572549045086,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:55,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:0,k:100,ix:1},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.396],y:[0]},t:41.461,s:[100]},{t:94.078125,s:[78.5]}],ix:2},o:{a:0,k:20,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:4038,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"G logo B3",tt:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-32.808,0],[-12.984,-12.385],[0,0],[31.237,-.37],[21.348,-42.513],[0,0]],o:[[17.929,-.278],[0,0],[-22.734,-21.348],[-47.549,0],[0,0],[9.935,-29.805]],v:[[2.484,-75.985],[50.726,-57.132],[86.63,-93.037],[2.484,-125.752],[-109.896,-56.439],[-68.123,-24.047]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.258823529412,.521568627451,.956862804936,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-5.268,15.618],[0,0],[0,0],[-17.837,-35.533]],o:[[-5.268,-15.618],[0,0],[0,0],[-17.837,35.533],[0,0]],v:[[-68.123,24.102],[-68.123,-24.047],[-68.123,-56.439],[-109.896,-56.439],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.258823529412,.521568627451,.956862804936,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-47.549,0],[-20.84,19.223],[0,0],[16.959,0],[9.981,29.758],[0,0],[0,0]],o:[[33.917,0],[0,0],[-11.275,7.67],[-32.808,0],[0,0],[0,0],[21.348,42.466]],v:[[2.484,125.761],[85.844,95.402],[45.319,63.981],[2.53,75.995],[-68.077,24.102],[-109.896,24.102],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.258823529412,.521568627451,.956862804936,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,38.26],[1.48,8.41],[0,0],[0,0],[0,0],[13.262,-8.78],[0,0],[0,0]],o:[[0,-8.549],[0,0],[0,0],[0,0],[-2.819,15.618],[0,0],[0,0],[23.797,-21.902]],v:[[123.273,2.893],[121.101,-22.661],[2.484,-22.661],[2.484,25.766],[70.41,25.766],[45.273,63.981],[45.273,95.402],[85.798,95.402]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.258823529412,.521568627451,.956862804936,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3868,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"G Matte G",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256.558,256.05,0],ix:2},a:{a:0,k:[.558,.05,0],ix:1},s:{a:0,k:[103,103,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.08,57.41],[66.994,1.01],[0,-50.468],[-54.868,0]],o:[[.069,-49.401],[-54.862,-.827],[0,54.999],[66.91,0]],v:[[98.75,-.344],[.443,-100.88],[-97.634,-.652],[.34,100.991]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.180392161012,.192156866193,.572549045086,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:55,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.274],y:[0]},t:26.846,s:[100]},{t:97,s:[48.4]}],ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:30,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:4038,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"G logo G",tt:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-32.808,0],[-12.984,-12.385],[0,0],[31.237,-.37],[21.348,-42.513],[0,0]],o:[[17.929,-.278],[0,0],[-22.734,-21.348],[-47.549,0],[0,0],[9.935,-29.805]],v:[[2.484,-75.985],[50.726,-57.132],[86.63,-93.037],[2.484,-125.752],[-109.896,-56.439],[-68.123,-24.047]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.203921583587,.658823529412,.325490196078,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-5.268,15.618],[0,0],[0,0],[-17.837,-35.533]],o:[[-5.268,-15.618],[0,0],[0,0],[-17.837,35.533],[0,0]],v:[[-68.123,24.102],[-68.123,-24.047],[-68.123,-56.439],[-109.896,-56.439],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.203921583587,.658823529412,.325490196078,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-47.549,0],[-20.84,19.223],[0,0],[16.959,0],[9.981,29.758],[0,0],[0,0]],o:[[33.917,0],[0,0],[-11.275,7.67],[-32.808,0],[0,0],[0,0],[21.348,42.466]],v:[[2.484,125.761],[85.844,95.402],[45.319,63.981],[2.53,75.995],[-68.077,24.102],[-109.896,24.102],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.203921583587,.658823529412,.325490196078,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,38.26],[1.48,8.41],[0,0],[0,0],[0,0],[13.262,-8.78],[0,0],[0,0]],o:[[0,-8.549],[0,0],[0,0],[0,0],[-2.819,15.618],[0,0],[0,0],[23.797,-21.902]],v:[[123.273,2.893],[121.101,-22.661],[2.484,-22.661],[2.484,25.766],[70.41,25.766],[45.273,63.981],[45.273,95.402],[85.798,95.402]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.203921583587,.658823529412,.325490196078,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3868,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"G Matte Y",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256.558,256.05,0],ix:2},a:{a:0,k:[.558,.05,0],ix:1},s:{a:0,k:[103,103,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.069,-49.401],[21.843,-18.291],[28.188,0],[15.115,35.338],[0,14.469],[-5.622,12.573],[-40.128,-.605]],o:[[-.046,33.224],[-15.901,13.315],[-40.433,0],[-5.396,-12.615],[0,-13.554],[15.313,-34.242],[66.994,1.01]],v:[[98.75,-.344],[66.318,79.88],[.34,100.991],[-89.255,40.323],[-97.634,-.652],[-88.895,-40.341],[.443,-100.88]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.180392161012,.192156866193,.572549045086,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:55,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.274],y:[0]},t:23.924,s:[0]},{t:94.078125,s:[62.6]}],ix:1},e:{a:0,k:0,ix:2},o:{a:0,k:-19,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:4038,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"G logo Y",tt:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-32.808,0],[-12.984,-12.385],[0,0],[31.237,-.37],[21.348,-42.513],[0,0]],o:[[17.929,-.278],[0,0],[-22.734,-21.348],[-47.549,0],[0,0],[9.935,-29.805]],v:[[2.484,-75.985],[50.726,-57.132],[86.63,-93.037],[2.484,-125.752],[-109.896,-56.439],[-68.123,-24.047]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.984313785329,.737254901961,.01568627451,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-5.268,15.618],[0,0],[0,0],[-17.837,-35.533]],o:[[-5.268,-15.618],[0,0],[0,0],[-17.837,35.533],[0,0]],v:[[-68.123,24.102],[-68.123,-24.047],[-68.123,-56.439],[-109.896,-56.439],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.984313785329,.737254901961,.01568627451,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-47.549,0],[-20.84,19.223],[0,0],[16.959,0],[9.981,29.758],[0,0],[0,0]],o:[[33.917,0],[0,0],[-11.275,7.67],[-32.808,0],[0,0],[0,0],[21.348,42.466]],v:[[2.484,125.761],[85.844,95.402],[45.319,63.981],[2.53,75.995],[-68.077,24.102],[-109.896,24.102],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.984313785329,.737254901961,.01568627451,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,38.26],[1.48,8.41],[0,0],[0,0],[0,0],[13.262,-8.78],[0,0],[0,0]],o:[[0,-8.549],[0,0],[0,0],[0,0],[-2.819,15.618],[0,0],[0,0],[23.797,-21.902]],v:[[123.273,2.893],[121.101,-22.661],[2.484,-22.661],[2.484,25.766],[70.41,25.766],[45.273,63.981],[45.273,95.402],[85.798,95.402]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.984313785329,.737254901961,.01568627451,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3868,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"G Matte R",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256.558,256.05,0],ix:2},a:{a:0,k:[.558,.05,0],ix:1},s:{a:0,k:[103,103,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.08,57.41],[66.994,1.01],[0,-50.468],[-54.868,0]],o:[[.069,-49.401],[-54.862,-.827],[0,54.999],[66.91,0]],v:[[98.75,-.344],[.443,-100.88],[-97.634,-.652],[.34,100.991]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.180392161012,.192156866193,.572549045086,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:55,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.735],y:[1]},o:{x:[.588],y:[0]},t:2,s:[100]},{t:72.154296875,s:[0]}],ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:30,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:4038,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"G logo R",tt:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-32.808,0],[-12.984,-12.385],[0,0],[31.237,-.37],[21.348,-42.513],[0,0]],o:[[17.929,-.278],[0,0],[-22.734,-21.348],[-47.549,0],[0,0],[9.935,-29.805]],v:[[2.484,-75.985],[50.726,-57.132],[86.63,-93.037],[2.484,-125.752],[-109.896,-56.439],[-68.123,-24.047]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.917647118662,.262745098039,.207843152214,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-5.268,15.618],[0,0],[0,0],[-17.837,-35.533]],o:[[-5.268,-15.618],[0,0],[0,0],[-17.837,35.533],[0,0]],v:[[-68.123,24.102],[-68.123,-24.047],[-68.123,-56.439],[-109.896,-56.439],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.917647118662,.262745098039,.207843152214,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-47.549,0],[-20.84,19.223],[0,0],[16.959,0],[9.981,29.758],[0,0],[0,0]],o:[[33.917,0],[0,0],[-11.275,7.67],[-32.808,0],[0,0],[0,0],[21.348,42.466]],v:[[2.484,125.761],[85.844,95.402],[45.319,63.981],[2.53,75.995],[-68.077,24.102],[-109.896,24.102],[-109.896,56.495]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.917647118662,.262745098039,.207843152214,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,38.26],[1.48,8.41],[0,0],[0,0],[0,0],[13.262,-8.78],[0,0],[0,0]],o:[[0,-8.549],[0,0],[0,0],[0,0],[-2.819,15.618],[0,0],[0,0],[23.797,-21.902]],v:[[123.273,2.893],[121.101,-22.661],[2.484,-22.661],[2.484,25.766],[70.41,25.766],[45.273,63.981],[45.273,95.402],[85.798,95.402]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.917647118662,.262745098039,.207843152214,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3868,st:0,bm:0}]}],layers$1=[{ddd:0,ind:6,ty:0,nm:"G 2",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[256,256,0],ix:1},s:{a:0,k:[72,72,100],ix:6}},ao:0,w:512,h:512,ip:249,op:4117,st:249,bm:0},{ddd:0,ind:7,ty:0,nm:"G 1",refId:"comp_2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2},a:{a:0,k:[256,256,0],ix:1},s:{a:0,k:[72,72,100],ix:6}},ao:0,w:512,h:512,ip:132,op:249,st:132,bm:0},{ddd:0,ind:8,ty:4,nm:"Blue 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.833],y:[1]},o:{x:[.261],y:[1.457]},t:141,s:[150.552]},{i:{x:[.108],y:[1]},o:{x:[.182],y:[0]},t:160,s:[110.52]},{t:223,s:[326.552]}],ix:3},y:{a:1,k:[{i:{x:[.27],y:[1.388]},o:{x:[.68],y:[-.388]},t:160,s:[256]},{t:184,s:[256.75]}],ix:4}},a:{a:0,k:[-105.448,0,0],ix:1},s:{a:1,k:[{i:{x:[1,1,.999],y:[1,1,1]},o:{x:[.713,.713,1],y:[0,0,0]},t:160,s:[100,100,100]},{t:184,s:[90,90,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-9.838,0],[0,-9.838],[9.838,0],[0,9.838]],o:[[9.838,0],[0,9.838],[-9.838,0],[0,-9.838]],v:[[-105.448,-17.825],[-87.624,0],[-105.448,17.825],[-123.273,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.258823543787,.521568655968,.956862747669,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:99,op:249,st:160,bm:0},{ddd:0,ind:10,ty:4,nm:"Red 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.502,y:0},o:{x:.26,y:0},t:100.277,s:[220.851,256,0],to:[-6,-33.613,0],ti:[-27.871,11.346,0]},{i:{x:.865,y:1},o:{x:.709,y:1},t:128.496,s:[249,191.5,0],to:[59.5,-22.5,0],ti:[7.75,-42,0]},{t:163,s:[325,268.5,0]}],ix:2},a:{a:0,k:[-35.149,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-9.838,0],[0,-9.838],[9.838,0],[0,9.838]],o:[[9.838,0],[0,9.838],[-9.838,0],[0,-9.838]],v:[[-35.149,-17.825],[-17.325,0],[-35.149,17.825],[-52.974,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.917647063732,.262745112181,.207843139768,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:99,op:161,st:99,bm:0},{ddd:0,ind:11,ty:4,nm:"Yellow 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.644,y:.341},o:{x:.3,y:0},t:100.725,s:[291.15,256,0],to:[9,14.387,0],ti:[32.779,1.604,0]},{i:{x:.667,y:1},o:{x:.373,y:.352},t:121.232,s:[254.221,299.396,0],to:[-32.097,-5.538,0],ti:[-9.368,30.009,0]},{i:{x:.776,y:1},o:{x:.333,y:0},t:135.029,s:[218.504,227.666,0],to:[22.996,-73.666,0],ti:[12.5,-82.75,0]},{t:170,s:[325.5,266.5,0]}],ix:2},a:{a:0,k:[35.15,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-9.838,0],[0,-9.838],[9.838,0],[0,9.838]],o:[[9.838,0],[0,9.838],[-9.838,0],[0,-9.838]],v:[[35.15,-17.825],[52.974,0],[35.15,17.825],[17.325,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.984313726425,.737254917622,.019607843831,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:99,op:171,st:99,bm:0},{ddd:0,ind:12,ty:4,nm:"Green 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.638,y:.436},o:{x:.264,y:0},t:105,s:[361.449,256,0],to:[-6,16.387,0],ti:[56.779,19.604,0]},{i:{x:.685,y:.687},o:{x:.345,y:.309},t:134.006,s:[254.221,299.396,0],to:[-31.865,-6.749,0],ti:[-9.368,30.009,0]},{i:{x:.857,y:1},o:{x:.457,y:.548},t:146,s:[218.504,227.666,0],to:[22.996,-73.666,0],ti:[6.5,-81.25,0]},{t:175,s:[326.5,266.5,0]}],ix:2},a:{a:0,k:[105.449,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-9.838,0],[0,-9.838],[9.838,0],[0,9.838]],o:[[9.838,0],[0,9.838],[-9.838,0],[0,-9.838]],v:[[105.449,-17.825],[123.273,0],[105.449,17.825],[87.624,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.203921571374,.658823549747,.32549020648,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:99,op:177,st:99,bm:0},{ddd:0,ind:13,ty:4,nm:"Blue",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.907,y:0},t:0,s:[150.552,228.344,0],to:[0,0,0],ti:[0,7.744,0]},{t:35,s:[150.552,256,0]}],ix:2,x:`var $bm_rt;
var n, n, t, t, v, amp, freq, decay;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time) {
        n--;
    }
}
if (n == 0) {
    $bm_rt = t = 0;
} else {
    $bm_rt = t = $bm_sub(time, key(n).time);
}
if (n > 0 && t < 1) {
    v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));
    amp = 3.05;
    freq = 2;
    decay = 2;
    $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));
} else {
    $bm_rt = value;
}`},a:{a:0,k:[-105.448,0,0],ix:1},s:{a:1,k:[{i:{x:[.368,.368,.66],y:[1,1,1]},o:{x:[.268,.268,.333],y:[0,0,0]},t:8,s:[0,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.105,.105,.252],y:[0,0,0]},t:24,s:[100,100,100]},{t:85,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-9.838,0],[0,-9.838],[9.838,0],[0,9.838]],o:[[9.838,0],[0,9.838],[-9.838,0],[0,-9.838]],v:[[-105.448,-17.825],[-87.624,0],[-105.448,17.825],[-123.273,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.258823543787,.521568655968,.956862747669,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:100,st:0,bm:0},{ddd:0,ind:14,ty:4,nm:"Red",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.907,y:0},t:6,s:[220.851,228.344,0],to:[0,0,0],ti:[0,7.744,0]},{t:39,s:[220.851,256,0]}],ix:2,x:`var $bm_rt;
var n, n, t, t, v, amp, freq, decay;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time) {
        n--;
    }
}
if (n == 0) {
    $bm_rt = t = 0;
} else {
    $bm_rt = t = $bm_sub(time, key(n).time);
}
if (n > 0 && t < 1) {
    v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));
    amp = 3.05;
    freq = 2;
    decay = 2;
    $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));
} else {
    $bm_rt = value;
}`},a:{a:0,k:[-35.149,0,0],ix:1},s:{a:1,k:[{i:{x:[.368,.368,.66],y:[1,1,1]},o:{x:[.268,.268,.333],y:[0,0,0]},t:14,s:[0,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.105,.105,.252],y:[0,0,0]},t:27,s:[100,100,100]},{t:91,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-9.838,0],[0,-9.838],[9.838,0],[0,9.838]],o:[[9.838,0],[0,9.838],[-9.838,0],[0,-9.838]],v:[[-35.149,-17.825],[-17.325,0],[-35.149,17.825],[-52.974,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.917647063732,.262745112181,.207843139768,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:100,st:0,bm:0},{ddd:0,ind:15,ty:4,nm:"Yellow",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.907,y:0},t:9,s:[291.15,228.344,0],to:[0,0,0],ti:[0,7.744,0]},{t:42,s:[291.15,256,0]}],ix:2,x:`var $bm_rt;
var n, n, t, t, v, amp, freq, decay;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time) {
        n--;
    }
}
if (n == 0) {
    $bm_rt = t = 0;
} else {
    $bm_rt = t = $bm_sub(time, key(n).time);
}
if (n > 0 && t < 1) {
    v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));
    amp = 3.05;
    freq = 2;
    decay = 2;
    $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));
} else {
    $bm_rt = value;
}`},a:{a:0,k:[35.15,0,0],ix:1},s:{a:1,k:[{i:{x:[.368,.368,.66],y:[1,1,1]},o:{x:[.268,.268,.333],y:[0,0,0]},t:16,s:[0,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.105,.105,.252],y:[0,0,0]},t:31,s:[100,100,100]},{t:93,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-9.838,0],[0,-9.838],[9.838,0],[0,9.838]],o:[[9.838,0],[0,9.838],[-9.838,0],[0,-9.838]],v:[[35.15,-17.825],[52.974,0],[35.15,17.825],[17.325,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.984313726425,.737254917622,.019607843831,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:100,st:0,bm:0},{ddd:0,ind:16,ty:4,nm:"Green",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.907,y:0},t:13,s:[361.449,228.344,0],to:[0,0,0],ti:[0,7.744,0]},{t:49,s:[361.449,256,0]}],ix:2,x:`var $bm_rt;
var n, n, t, t, v, amp, freq, decay;
$bm_rt = n = 0;
if (numKeys > 0) {
    $bm_rt = n = nearestKey(time).index;
    if (key(n).time > time) {
        n--;
    }
}
if (n == 0) {
    $bm_rt = t = 0;
} else {
    $bm_rt = t = $bm_sub(time, key(n).time);
}
if (n > 0 && t < 1) {
    v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));
    amp = 3.05;
    freq = 2;
    decay = 2;
    $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));
} else {
    $bm_rt = value;
}`},a:{a:0,k:[105.449,0,0],ix:1},s:{a:1,k:[{i:{x:[.368,.368,.66],y:[1,1,1]},o:{x:[.268,.268,.333],y:[0,0,0]},t:19,s:[0,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.105,.105,.252],y:[0,0,0]},t:37,s:[100,100,100]},{t:96,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-9.838,0],[0,-9.838],[9.838,0],[0,9.838]],o:[[9.838,0],[0,9.838],[-9.838,0],[0,-9.838]],v:[[105.449,-17.825],[123.273,0],[105.449,17.825],[87.624,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.203921571374,.658823549747,.32549020648,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:100,st:0,bm:0}],markers=[];var googleAnimation={v:v$2,meta,fr:fr$2,ip:ip$1,op:op$1,w:w$2,h:h$1,nm,ddd,assets:assets$1,layers:layers$1,markers};const Loader="loader",LoaderState={load:!1},loaderState=Recoil_index_7({key:Loader,default:LoaderState}),GoogleSpinner=s=>{const i=Recoil_index_19(loaderState),{background:o}=s,et=react.exports.useRef(null);return react.exports.useEffect(()=>void lottie.loadAnimation({container:et.current,renderer:"svg",loop:!0,autoplay:!0,animationData:googleAnimation}),[i.load]),jsx(AnimatePresence,{children:i.load&&jsx(LoaderBackground,{background:o,initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:jsx(GoogleLoader,{ref:et,initial:{opacity:0},exit:{opacity:0},animate:{opacity:1}})})})},useTheme=()=>{const[s,i]=react.exports.useState(),o=()=>et(s==="light"?"dark":"light"),et=$l=>{window.localStorage.setItem("theme",$l),i($l)};return react.exports.useEffect(()=>{let Nl=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";const Ml=localStorage.getItem("theme");Ml&&(Nl=Ml,i(Nl))},[]),{theme:s,toggleTheme:o}};function _setPrototypeOf(s,i){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(et,$l){return et.__proto__=$l,et},_setPrototypeOf(s,i)}function _inheritsLoose(s,i){s.prototype=Object.create(i.prototype),s.prototype.constructor=s,_setPrototypeOf(s,i)}var changedArray=function s(i,o){return i===void 0&&(i=[]),o===void 0&&(o=[]),i.length!==o.length||i.some(function(et,$l){return!Object.is(et,o[$l])})},initialState={error:null},ErrorBoundary=function(s){_inheritsLoose(i,s);function i(){for(var et,$l=arguments.length,Nl=new Array($l),Ml=0;Ml<$l;Ml++)Nl[Ml]=arguments[Ml];return et=s.call.apply(s,[this].concat(Nl))||this,et.state=initialState,et.resetErrorBoundary=function(){for(var Ol,Ll=arguments.length,Fl=new Array(Ll),Bl=0;Bl<Ll;Bl++)Fl[Bl]=arguments[Bl];et.props.onReset==null||(Ol=et.props).onReset.apply(Ol,Fl),et.reset()},et}i.getDerivedStateFromError=function($l){return{error:$l}};var o=i.prototype;return o.reset=function(){this.setState(initialState)},o.componentDidCatch=function($l,Nl){var Ml,Ol;(Ml=(Ol=this.props).onError)==null||Ml.call(Ol,$l,Nl)},o.componentDidUpdate=function($l,Nl){var Ml=this.state.error,Ol=this.props.resetKeys;if(Ml!==null&&Nl.error!==null&&changedArray($l.resetKeys,Ol)){var Ll,Fl;(Ll=(Fl=this.props).onResetKeysChange)==null||Ll.call(Fl,$l.resetKeys,Ol),this.reset()}},o.render=function(){var $l=this.state.error,Nl=this.props,Ml=Nl.fallbackRender,Ol=Nl.FallbackComponent,Ll=Nl.fallback;if($l!==null){var Fl={error:$l,resetErrorBoundary:this.resetErrorBoundary};if(react.exports.isValidElement(Ll))return Ll;if(typeof Ml=="function")return Ml(Fl);if(Ol)return react.exports.createElement(Ol,Fl);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},i}(react.exports.Component);const scriptRel="modulepreload",seen={},base="/",__vitePreload=function s(i,o){return!o||o.length===0?i():Promise.all(o.map(et=>{if(et=`${base}${et}`,et in seen)return;seen[et]=!0;const $l=et.endsWith(".css"),Nl=$l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${et}"]${Nl}`))return;const Ml=document.createElement("link");if(Ml.rel=$l?"stylesheet":scriptRel,$l||(Ml.as="script",Ml.crossOrigin=""),Ml.href=et,document.head.appendChild(Ml),$l)return new Promise((Ol,Ll)=>{Ml.addEventListener("load",Ol),Ml.addEventListener("error",()=>Ll(new Error(`Unable to preload CSS for ${et}`)))})})).then(()=>i())},ScrollTop=()=>{const s=useLocation();return react.exports.useEffect(()=>{window.scrollTo(0,0)},[s]),null},Home=react.exports.lazy(()=>__vitePreload(()=>import("./index.d2f1ae59.js").then(function(s){return s.i}),["assets/index.d2f1ae59.js","assets/index.eda5d27b.js","assets/index.b33bc2a9.js"]).then(s=>({default:s.default}))),Recruit=react.exports.lazy(()=>__vitePreload(()=>import("./index.0b8f590f.js"),["assets/index.0b8f590f.js","assets/index.eda5d27b.js","assets/layouts.2f9219ab.js","assets/index.4617d794.js","assets/index.33acfd23.js"]).then(s=>({default:s.default}))),Introduce=react.exports.lazy(()=>__vitePreload(()=>import("./index.f1687a31.js"),["assets/index.f1687a31.js","assets/layouts.2f9219ab.js","assets/index.4617d794.js","assets/index.b33bc2a9.js","assets/index.eda5d27b.js"]).then(s=>({default:s.default}))),CodeOfConduct=react.exports.lazy(()=>__vitePreload(()=>import("./index.e1321f71.js"),["assets/index.e1321f71.js","assets/layouts.2f9219ab.js","assets/index.33acfd23.js"]).then(s=>({default:s.default}))),Faq=react.exports.lazy(()=>__vitePreload(()=>import("./index.a937fa3a.js"),["assets/index.a937fa3a.js","assets/layouts.2f9219ab.js","assets/index.4617d794.js","assets/index.eda5d27b.js"]).then(s=>({default:s.default}))),Pages=()=>jsxs(Fragment,{children:[jsx(ScrollTop,{}),jsxs(Routes,{children:[jsx(Route,{path:"/*",element:jsx(Home,{})}),jsx(Route,{path:"/introduce",element:jsx(Introduce,{})}),jsx(Route,{path:"/recruit/*",element:jsx(Recruit,{})}),jsx(Route,{path:"/conduct",element:jsx(CodeOfConduct,{})}),jsx(Route,{path:"/faq/*",element:jsx(Faq,{})})]})]}),SignInWrapper=styled.div`
  width: 100%;
  display: flex;
  flex-direction: row;
  background: ${({theme:s})=>s.colors.grey900};
`,SignInLeftSection=styled.div`
  width: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
`,SignInSolarSystemWrapper=styled.div`
  position: relative;
  top: -30%;
  left: -30%;
`,AuthBoxWrapper=styled.div`
  width: 50%;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  @media (max-width: ${s=>s.theme.windowSize.tablet}px) {
    width: 100%;
    display: flex;
    justify-content: center;
  }
`,AuthBoxInner=styled.div`
  padding: 40px 50px;
  background: white;
  border: 1px solid ${s=>s.theme.colors.grey300};
  border-radius: 10px;
  background: ${({theme:s})=>s.colors.white};
  box-shadow: 0 2px 12px rgba(25, 31, 40, 0.08);
`,GDSCLogoImage=styled.img`
  height: 20px;
  margin-right: 15px;
`,AuthElementWrapper=styled.div`
  width: 400px;
  display: flex;
  align-items: ${s=>s.align};
  margin-bottom: 15px;
  flex-direction: ${s=>s.direction};
`,AuthErrorText=styled.p`
  height: 20px;
  padding: 0 10px;
  margin-bottom: 10px;
  font-size: 1.4rem;
  color: ${s=>s.theme.colors.tossRed};
`,AuthButtonWrapper=styled.div`
  display: flex;
  justify-content: flex-end;
  margin-bottom: 15px;
`,AuthSignButton=styled.button`
  display: flex;
  align-items: center;
  border: 0 solid;
  border-radius: 50px;
  padding: 13px 40px;
  color: white;
  font-size: 1.6rem;
  font-weight: bold;
  background: ${s=>s.theme.colors.tossBlueActive};
  &:hover {
    cursor: pointer;
  }
`,AuthTitle=styled.h1`
  font-size: 3.2rem;
  font-weight: bold;
  color: ${s=>s.theme.colors.grey800};
`,AuthSubTitle=styled.h4`
  font-size: 1.6rem;
  word-break: keep-all;
  justify-content: flex-start;
  font-weight: normal;
  color: ${s=>s.theme.colors.grey600};
  margin-right: 10px;
  &:nth-child(n + 1):nth-child(-n + 2) {
    margin-bottom: 10px;
  }
`,AuthInput=styled.input`
  height: 50px;
  border: 1px solid;
  border-radius: 10px;
  border-color: ${s=>s.theme.colors.grey300};
  padding: 0 20px;
`;styled.a`
  font-size: 1.2rem;
  font-weight: 500;
  color: ${s=>s.theme.colors.tossBlue};
  margin-right: 10px;
  &:hover {
    cursor: pointer;
  }
`;const AuthLogoText=styled.div`
  font-size: 1.8rem;
  font-weight: ${s=>s.border};
  margin-right: 5px;
`,AuthOtherText=styled.text`
  font-size: 1.6rem;
  color: ${s=>s.theme.colors.grey400};
  margin: 0 10px;
`,AuthLine=styled.hr`
  display: block;
  height: 1px;
  border: 0;
  border-top: 1px solid ${s=>s.theme.colors.grey400};
  margin: 1em 0;
  padding: 0;
  width: 100%;
`,OAuthButton=styled.button`
  border: 1px solid ${s=>s.theme.colors.grey300};
  border-radius: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: white;
  height: 50px;
  width: 100%;
  &:hover {
    cursor: pointer;
  }
`,OAuthText=styled.div`
  font-size: 1.6rem;
  font-weight: ${s=>s.weight};
  color: ${s=>s.theme.colors.grey800};
`,OAuthImage=styled.img`
  height: 25px;
  margin-right: 7px;
`;var GoogleLogo="/assets/GoogleLogo.70a1c084.svg",GithubLogo="/assets/GithubLogo.11a20290.svg";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var __assign=Object.assign||function s(i){for(var o,et=1,$l=arguments.length;et<$l;et++){o=arguments[et];for(var Nl in o)Object.prototype.hasOwnProperty.call(o,Nl)&&(i[Nl]=o[Nl])}return i},browsers=[["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["edge",/Edge\/([0-9\._]+)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["safari",/Version\/([0-9\._]+).*Safari/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/]],os$1=["Windows Phone","Android","CentOS",{name:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],osVersions={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},mobileRegExp=new RegExp(["(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|","compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|","midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)","\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|","wap|windows ce|xda|xiino"].join(""),"i"),mobilePrefixRegExp=new RegExp(["1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|","ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|","avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|","cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|","ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|","g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|","hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|","i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|","kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])","|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|","mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|","n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|","op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|","po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|","raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|","se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|k\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|","so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|","tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|","veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|","w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-"].join(""),"i"),Detector=function(){function s(i,o,et){this.navigator=o,this.process=et,this.userAgent=i||(this.navigator?o.userAgent||o.vendor:"")}return s.prototype.detect=function(){if(this.process&&!this.userAgent){var i=this.process.version.slice(1).split(".").slice(0,3),o=Array.prototype.slice.call(i,1).join("")||"0";return{name:"node",version:i.join("."),versionNumber:parseFloat(i[0]+"."+o),mobile:!1,os:this.process.platform}}return this.userAgent||this.handleMissingError(),__assign({},this.checkBrowser(),this.checkMobile(),this.checkOs())},s.prototype.checkBrowser=function(){var i=this;return browsers.filter(function(o){return o[1].test(i.userAgent)}).map(function(o){var et=o[1].exec(i.userAgent),$l=et&&et[1].split(/[._]/).slice(0,3),Nl=Array.prototype.slice.call($l,1).join("")||"0";return $l&&$l.length<3&&Array.prototype.push.apply($l,$l.length===1?[0,0]:[0]),{name:String(o[0]),version:$l.join("."),versionNumber:Number($l[0]+"."+Nl)}}).shift()},s.prototype.checkMobile=function(){var i=this.userAgent.substr(0,4),o=mobileRegExp.test(this.userAgent)||mobilePrefixRegExp.test(i);return{mobile:o}},s.prototype.checkOs=function(){var i=this;return os$1.map(function(o){var et=o.name||o,$l=i.getOsPattern(o);return{name:et,pattern:$l,value:RegExp("\\b"+$l.replace(/([ -])(?!$)/g,"$1?")+"(?:x?[\\d._]+|[ \\w.]*)","i").exec(i.userAgent)}}).filter(function(o){return o.value}).map(function(o){var et=o.value[0]||"",$l;return o.pattern&&o.name&&/^Win/i.test(et)&&!/^Windows Phone /i.test(et)&&($l=osVersions[et.replace(/[^\d.]/g,"")])&&(et="Windows "+$l),o.pattern&&o.name&&(et=et.replace(RegExp(o.pattern,"i"),o.name)),et=et.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0].trim(),et=/^(?:webOS|i(?:OS|P))/.test(et)?et:et.charAt(0).toUpperCase()+et.slice(1),{os:et}}).shift()},s.prototype.getOsPattern=function(i){var o=i;return(typeof i=="string"?i:void 0)||o.pattern||o.name},s.prototype.handleMissingError=function(){throw new Error(`Please give user-agent.
> browser(navigator.userAgent or res.headers['user-agent']).`)},s}();function createCommonjsModule(s,i){return i={exports:{}},s(i,i.exports),i.exports}var _global=createCommonjsModule(function(s){var i=s.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=i)}),_core=createCommonjsModule(function(s){var i=s.exports={version:"2.5.7"};typeof __e=="number"&&(__e=i)});_core.version;var _isObject=function(s){return typeof s=="object"?s!==null:typeof s=="function"},_anObject=function(s){if(!_isObject(s))throw TypeError(s+" is not an object!");return s},_fails=function(s){try{return!!s()}catch{return!0}},_descriptors=!_fails(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),document$1=_global.document,is$1=_isObject(document$1)&&_isObject(document$1.createElement),_domCreate=function(s){return is$1?document$1.createElement(s):{}},_ie8DomDefine=!_descriptors&&!_fails(function(){return Object.defineProperty(_domCreate("div"),"a",{get:function(){return 7}}).a!=7}),_toPrimitive=function(s,i){if(!_isObject(s))return s;var o,et;if(i&&typeof(o=s.toString)=="function"&&!_isObject(et=o.call(s))||typeof(o=s.valueOf)=="function"&&!_isObject(et=o.call(s))||!i&&typeof(o=s.toString)=="function"&&!_isObject(et=o.call(s)))return et;throw TypeError("Can't convert object to primitive value")},dP=Object.defineProperty,f=_descriptors?Object.defineProperty:function s(i,o,et){if(_anObject(i),o=_toPrimitive(o,!0),_anObject(et),_ie8DomDefine)try{return dP(i,o,et)}catch{}if("get"in et||"set"in et)throw TypeError("Accessors not supported!");return"value"in et&&(i[o]=et.value),i},_objectDp={f},_propertyDesc=function(s,i){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:i}},_hide=_descriptors?function(s,i,o){return _objectDp.f(s,i,_propertyDesc(1,o))}:function(s,i,o){return s[i]=o,s},hasOwnProperty={}.hasOwnProperty,_has=function(s,i){return hasOwnProperty.call(s,i)},id$1=0,px=Math.random(),_uid=function(s){return"Symbol(".concat(s===void 0?"":s,")_",(++id$1+px).toString(36))},_redefine=createCommonjsModule(function(s){var i=_uid("src"),o="toString",et=Function[o],$l=(""+et).split(o);_core.inspectSource=function(Nl){return et.call(Nl)},(s.exports=function(Nl,Ml,Ol,Ll){var Fl=typeof Ol=="function";Fl&&(_has(Ol,"name")||_hide(Ol,"name",Ml)),Nl[Ml]!==Ol&&(Fl&&(_has(Ol,i)||_hide(Ol,i,Nl[Ml]?""+Nl[Ml]:$l.join(String(Ml)))),Nl===_global?Nl[Ml]=Ol:Ll?Nl[Ml]?Nl[Ml]=Ol:_hide(Nl,Ml,Ol):(delete Nl[Ml],_hide(Nl,Ml,Ol)))})(Function.prototype,o,function(){return typeof this=="function"&&this[i]||et.call(this)})}),_aFunction=function(s){if(typeof s!="function")throw TypeError(s+" is not a function!");return s},_ctx=function(s,i,o){if(_aFunction(s),i===void 0)return s;switch(o){case 1:return function(et){return s.call(i,et)};case 2:return function(et,$l){return s.call(i,et,$l)};case 3:return function(et,$l,Nl){return s.call(i,et,$l,Nl)}}return function(){return s.apply(i,arguments)}},PROTOTYPE="prototype",$export=function(s,i,o){var et=s&$export.F,$l=s&$export.G,Nl=s&$export.S,Ml=s&$export.P,Ol=s&$export.B,Ll=$l?_global:Nl?_global[i]||(_global[i]={}):(_global[i]||{})[PROTOTYPE],Fl=$l?_core:_core[i]||(_core[i]={}),Bl=Fl[PROTOTYPE]||(Fl[PROTOTYPE]={}),Ul,Gl,Wl,zl;$l&&(o=i);for(Ul in o)Gl=!et&&Ll&&Ll[Ul]!==void 0,Wl=(Gl?Ll:o)[Ul],zl=Ol&&Gl?_ctx(Wl,_global):Ml&&typeof Wl=="function"?_ctx(Function.call,Wl):Wl,Ll&&_redefine(Ll,Ul,Wl,s&$export.U),Fl[Ul]!=Wl&&_hide(Fl,Ul,zl),Ml&&Bl[Ul]!=Wl&&(Bl[Ul]=Wl)};_global.core=_core;$export.F=1;$export.G=2;$export.S=4;$export.P=8;$export.B=16;$export.W=32;$export.U=64;$export.R=128;var _export=$export,toString$1={}.toString,_cof=function(s){return toString$1.call(s).slice(8,-1)},_iobject=Object("z").propertyIsEnumerable(0)?Object:function(s){return _cof(s)=="String"?s.split(""):Object(s)},_defined=function(s){if(s==null)throw TypeError("Can't call method on  "+s);return s},_toObject=function(s){return Object(_defined(s))},ceil=Math.ceil,floor=Math.floor,_toInteger=function(s){return isNaN(s=+s)?0:(s>0?floor:ceil)(s)},min=Math.min,_toLength=function(s){return s>0?min(_toInteger(s),9007199254740991):0},_isArray=Array.isArray||function s(i){return _cof(i)=="Array"},_shared=createCommonjsModule(function(s){var i="__core-js_shared__",o=_global[i]||(_global[i]={});(s.exports=function(et,$l){return o[et]||(o[et]=$l!==void 0?$l:{})})("versions",[]).push({version:_core.version,mode:"global",copyright:"\xA9 2018 Denis Pushkarev (zloirock.ru)"})}),_wks=createCommonjsModule(function(s){var i=_shared("wks"),o=_global.Symbol,et=typeof o=="function",$l=s.exports=function(Nl){return i[Nl]||(i[Nl]=et&&o[Nl]||(et?o:_uid)("Symbol."+Nl))};$l.store=i}),SPECIES=_wks("species"),_arraySpeciesConstructor=function(s){var i;return _isArray(s)&&(i=s.constructor,typeof i=="function"&&(i===Array||_isArray(i.prototype))&&(i=void 0),_isObject(i)&&(i=i[SPECIES],i===null&&(i=void 0))),i===void 0?Array:i},_arraySpeciesCreate=function(s,i){return new(_arraySpeciesConstructor(s))(i)},_arrayMethods=function(s,i){var o=s==1,et=s==2,$l=s==3,Nl=s==4,Ml=s==6,Ol=s==5||Ml,Ll=i||_arraySpeciesCreate;return function(Fl,Bl,Ul){for(var Gl=_toObject(Fl),Wl=_iobject(Gl),zl=_ctx(Bl,Ul,3),Ql=_toLength(Wl.length),Jl=0,Kl=o?Ll(Fl,Ql):et?Ll(Fl,0):void 0,Hl,Yl;Ql>Jl;Jl++)if((Ol||Jl in Wl)&&(Hl=Wl[Jl],Yl=zl(Hl,Jl,Gl),s)){if(o)Kl[Jl]=Yl;else if(Yl)switch(s){case 3:return!0;case 5:return Hl;case 6:return Jl;case 2:Kl.push(Hl)}else if(Nl)return!1}return Ml?-1:$l||Nl?Nl:Kl}},_strictMethod=function(s,i){return!!s&&_fails(function(){i?s.call(null,function(){},1):s.call(null)})},$filter=_arrayMethods(2);_export(_export.P+_export.F*!_strictMethod([].filter,!0),"Array",{filter:function s(i){return $filter(this,i,arguments[1])}});_core.Array.filter;var $map=_arrayMethods(1);_export(_export.P+_export.F*!_strictMethod([].map,!0),"Array",{map:function s(i){return $map(this,i,arguments[1])}});_core.Array.map;var _stringWs=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,space="["+_stringWs+"]",non="\u200B\x85",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(s,i,o){var et={},$l=_fails(function(){return!!_stringWs[s]()||non[s]()!=non}),Nl=et[s]=$l?i(trim$1):_stringWs[s];o&&(et[o]=Nl),_export(_export.P+_export.F*$l,"String",et)},trim$1=exporter.trim=function(s,i){return s=String(_defined(s)),i&1&&(s=s.replace(ltrim,"")),i&2&&(s=s.replace(rtrim,"")),s},_stringTrim=exporter;_stringTrim("trim",function(s){return function(){return s(this,3)}});_core.String.trim;var injectableNavigator=typeof window!="undefined"?window.navigator:void 0,injectableProcess=typeof process!="undefined"?process:void 0;function browserDetect(s){var i=new Detector(s,injectableNavigator,injectableProcess);return i.detect()}const Planet=({line:s})=>{const i=Math.round(Math.random()*20+10),o=Math.round(Math.random()*(70-20)+20),et=Math.round(Math.random()*(100-20)+20),$l=["#4285F4","#EA4335","#FBBC04","#34A853"],Nl=$l[Math.floor(Math.random()*$l.length)];return jsx(PlanetInner,{path:s,color:Nl,size:o,initial:{offsetDistance:`${et}%`},animate:{offsetDistance:`${100+et}%`},transition:{duration:10+i,ease:"linear",repeat:1/0}})},PlanetInner=styled(motion.div)`
  width: ${({size:s})=>s}px;
  height: ${({size:s})=>s}px;
  border-radius: 50%;
  position: absolute;
  background: ${({color:s})=>s};
  top: 0;
  left: 0;
  ${({path:s})=>s===1&&Ce$2`
      offset-path: path(
        'M250 499.5C387.795 499.5 499.5 387.795 499.5 250C499.5 112.205 387.795 0.5 250 0.5C112.205 0.5 0.5 112.205 0.5 250C0.5 387.795 112.205 499.5 250 499.5Z'
      );
    `}${({path:s})=>s===2&&Ce$2`
      offset-path: path(
        'M493 985.5C765 985.5 985.5 765 985.5 493C985.5 221 765 0.5 493 0.5C221 0.5 0.5 221 0.5 493C0.5 765 221 985.5 493 985.5Z'
      );
    `}${({path:s})=>s===3&&Ce$2`
      offset-path: path(
        'M621.5 1242.5C964.469 1242.5 1242.5 964.469 1242.5 621.5C1242.5 278.531 964.469 0.5 621.5 0.5C278.531 0.5 0.5 278.531 0.5 621.5C0.5 964.469 278.531 1242.5 621.5 1242.5Z'
      );
    `}
`;var Planet$1=react.exports.memo(Planet);const PlanetForSafari=({line:s})=>{const i=Math.round(Math.random()*20+10),o=Math.round(Math.random()*(60-20)+20),et=Math.round(Math.random()*360),$l=["#4285F4","#EA4335","#FBBC04","#34A853"],Nl=$l[Math.floor(Math.random()*$l.length)],Ml={1:"M250 499.5C387.795 499.5 499.5 387.795 499.5 250C499.5 112.205 387.795 0.5 250 0.5C112.205 0.5 0.5 112.205 0.5 250C0.5 387.795 112.205 499.5 250 499.5Z",2:"M493 985.5C765 985.5 985.5 765 985.5 493C 985.5 221 765 0.5 493 0.5C221 0.5 0.5 221 0.5 493C0.5 765 221 985.5 493 985.5Z",3:"M621.5 1242.5C964.469 1242.5 1242.5 964.469 1242.5 621.5C1242.5 278.531 964.469 0.5 621.5 0.5C278.531 0.5 0.5 278.531 0.5 621.5C0.5 964.469 278.531 1242.5 621.5 1242.5Z"};return jsx("circle",{r:o,fill:Nl,children:jsx("animateMotion",{dur:`${i}s`,repeatCount:"indefinite",path:Ml[s],from:`${et} ${et}`,to:`${et+360} ${et+360}`})})};var PlanetForSafari$1=react.exports.memo(PlanetForSafari);const LineContainer=styled.div``,Line1=()=>jsxs(LineContainer,{children:[jsx("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsx(motion.path,{opacity:"1",d:"M250 499.5C387.795 499.5 499.5 387.795 499.5 250C499.5 112.205 387.795 0.5 250 0.5C112.205 0.5 0.5 112.205 0.5 250C0.5 387.795 112.205 499.5 250 499.5Z",stroke:"#e7e7e7"})}),jsx(Planet$1,{line:1}),jsx(Planet$1,{line:1}),jsx(Planet$1,{line:1})]}),Line1ForSafari=()=>jsx(LineContainer,{children:jsxs("svg",{width:"700",height:"700",viewBox:"-100 -100 700 700",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsx(motion.path,{opacity:"1",d:"M250 499.5C387.795 499.5 499.5 387.795 499.5 250C499.5 112.205 387.795 0.5 250 0.5C112.205 0.5 0.5 112.205 0.5 250C0.5 387.795 112.205 499.5 250 499.5Z",stroke:"#e7e7e7"}),jsx(PlanetForSafari$1,{line:1}),jsx(PlanetForSafari$1,{line:1}),jsx(PlanetForSafari$1,{line:1})]})}),Line2=()=>jsxs(LineContainer,{children:[jsx("svg",{width:"986",height:"986",viewBox:"0 0 986 986",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsx(motion.path,{opacity:"1",d:"M493 985.5C765 985.5 985.5 765 985.5 493C985.5 221 765 0.5 493 0.5C221 0.5 0.5 221 0.5 493C0.5 765 221 985.5 493 985.5Z",stroke:"#e7e7e7"})}),jsx(Planet$1,{line:2}),jsx(Planet$1,{line:2}),jsx(Planet$1,{line:2})]}),Line2ForSafari=()=>jsx(LineContainer,{children:jsxs("svg",{width:"1186",height:"1186",viewBox:"-100 -100 1186 1186",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsx(motion.path,{opacity:"1",d:"M493 985.5C765 985.5 985.5 765 985.5 493C985.5 221 765 0.5 493 0.5C221 0.5 0.5 221 0.5 493C0.5 765 221 985.5 493 985.5Z",stroke:"#e7e7e7"}),jsx(PlanetForSafari$1,{line:2}),jsx(PlanetForSafari$1,{line:2}),jsx(PlanetForSafari$1,{line:2})]})}),Line3=()=>jsxs(LineContainer,{children:[jsx("svg",{width:"1243",height:"1243",viewBox:"0 0 1243 1243",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsx(motion.path,{opacity:"1",d:"M621.5 1242.5C964.469 1242.5 1242.5 964.469 1242.5 621.5C1242.5 278.531 964.469 0.5 621.5 0.5C278.531 0.5 0.5 278.531 0.5 621.5C0.5 964.469 278.531 1242.5 621.5 1242.5Z",stroke:"#e7e7e7"})}),jsx(Planet$1,{line:3}),jsx(Planet$1,{line:3}),jsx(Planet$1,{line:3})]}),Line3ForSafari=()=>jsx(LineContainer,{children:jsxs("svg",{width:"1443",height:"1443",viewBox:"-100 -100 1443 1443",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsx(motion.path,{opacity:"1",d:"M621.5 1242.5C964.469 1242.5 1242.5 964.469 1242.5 621.5C1242.5 278.531 964.469 0.5 621.5 0.5C278.531 0.5 0.5 278.531 0.5 621.5C0.5 964.469 278.531 1242.5 621.5 1242.5Z",stroke:"#e7e7e7"}),jsx(PlanetForSafari$1,{line:3}),jsx(PlanetForSafari$1,{line:3}),jsx(PlanetForSafari$1,{line:3})]})}),SolarSystemLineWrapper=styled.div`
  display: flex;
  flex-direction: column;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
`,SolarSystem=()=>{const i=browserDetect().name==="safari";return jsxs("div",{children:[jsx(SolarSystemLineWrapper,{children:i?jsx(Line1ForSafari,{}):jsx(Line1,{})}),jsx(SolarSystemLineWrapper,{children:i?jsx(Line2ForSafari,{}):jsx(Line2,{})}),jsx(SolarSystemLineWrapper,{children:i?jsx(Line3ForSafari,{}):jsx(Line3,{})})]})};var SolarSystem$1=react.exports.memo(SolarSystem);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const assert=function(s,i){if(!s)throw assertionError(i)},assertionError=function(s){return new Error("Firebase Database ("+CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(s){const i=[];let o=0;for(let et=0;et<s.length;et++){let $l=s.charCodeAt(et);$l<128?i[o++]=$l:$l<2048?(i[o++]=$l>>6|192,i[o++]=$l&63|128):($l&64512)===55296&&et+1<s.length&&(s.charCodeAt(et+1)&64512)===56320?($l=65536+(($l&1023)<<10)+(s.charCodeAt(++et)&1023),i[o++]=$l>>18|240,i[o++]=$l>>12&63|128,i[o++]=$l>>6&63|128,i[o++]=$l&63|128):(i[o++]=$l>>12|224,i[o++]=$l>>6&63|128,i[o++]=$l&63|128)}return i},byteArrayToString=function(s){const i=[];let o=0,et=0;for(;o<s.length;){const $l=s[o++];if($l<128)i[et++]=String.fromCharCode($l);else if($l>191&&$l<224){const Nl=s[o++];i[et++]=String.fromCharCode(($l&31)<<6|Nl&63)}else if($l>239&&$l<365){const Nl=s[o++],Ml=s[o++],Ol=s[o++],Ll=(($l&7)<<18|(Nl&63)<<12|(Ml&63)<<6|Ol&63)-65536;i[et++]=String.fromCharCode(55296+(Ll>>10)),i[et++]=String.fromCharCode(56320+(Ll&1023))}else{const Nl=s[o++],Ml=s[o++];i[et++]=String.fromCharCode(($l&15)<<12|(Nl&63)<<6|Ml&63)}}return i.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,i){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,et=[];for(let $l=0;$l<s.length;$l+=3){const Nl=s[$l],Ml=$l+1<s.length,Ol=Ml?s[$l+1]:0,Ll=$l+2<s.length,Fl=Ll?s[$l+2]:0,Bl=Nl>>2,Ul=(Nl&3)<<4|Ol>>4;let Gl=(Ol&15)<<2|Fl>>6,Wl=Fl&63;Ll||(Wl=64,Ml||(Gl=64)),et.push(o[Bl],o[Ul],o[Gl],o[Wl])}return et.join("")},encodeString(s,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(s):this.encodeByteArray(stringToByteArray$1(s),i)},decodeString(s,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(s):byteArrayToString(this.decodeStringToByteArray(s,i))},decodeStringToByteArray(s,i){this.init_();const o=i?this.charToByteMapWebSafe_:this.charToByteMap_,et=[];for(let $l=0;$l<s.length;){const Nl=o[s.charAt($l++)],Ol=$l<s.length?o[s.charAt($l)]:0;++$l;const Fl=$l<s.length?o[s.charAt($l)]:64;++$l;const Ul=$l<s.length?o[s.charAt($l)]:64;if(++$l,Nl==null||Ol==null||Fl==null||Ul==null)throw Error();const Gl=Nl<<2|Ol>>4;if(et.push(Gl),Fl!==64){const Wl=Ol<<4&240|Fl>>2;if(et.push(Wl),Ul!==64){const zl=Fl<<6&192|Ul;et.push(zl)}}}return et},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}},base64Encode=function(s){const i=stringToByteArray$1(s);return base64.encodeByteArray(i,!0)},base64urlEncodeWithoutPadding=function(s){return base64Encode(s).replace(/\./g,"")},base64Decode=function(s){try{return base64.decodeString(s,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function deepCopy(s){return deepExtend(void 0,s)}function deepExtend(s,i){if(!(i instanceof Object))return i;switch(i.constructor){case Date:const o=i;return new Date(o.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return i}for(const o in i)!i.hasOwnProperty(o)||!isValidKey$1(o)||(s[o]=deepExtend(s[o],i[o]));return s}function isValidKey$1(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,o)=>{this.resolve=i,this.reject=o})}wrapCallback(i){return(o,et)=>{o?this.reject(o):this.resolve(et),typeof i=="function"&&(this.promise.catch(()=>{}),i.length===1?i(o):i(o,et))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(s,i){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const o={alg:"none",type:"JWT"},et=i||"demo-project",$l=s.iat||0,Nl=s.sub||s.user_id;if(!Nl)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ml=Object.assign({iss:`https://securetoken.google.com/${et}`,aud:et,iat:$l,exp:$l+3600,auth_time:$l,sub:Nl,user_id:Nl,firebase:{sign_in_provider:"custom",identities:{}}},s),Ol="";return[base64urlEncodeWithoutPadding(JSON.stringify(o)),base64urlEncodeWithoutPadding(JSON.stringify(Ml)),Ol].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isBrowser(){return typeof self=="object"&&self.self===self}function isBrowserExtension(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isElectron(){return getUA().indexOf("Electron/")>=0}function isIE(){const s=getUA();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function isUWP(){return getUA().indexOf("MSAppHost/")>=0}function isNodeSdk(){return CONSTANTS.NODE_ADMIN===!0}function isSafari(){return!isNode()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){return typeof indexedDB=="object"}function validateIndexedDBOpenable(){return new Promise((s,i)=>{try{let o=!0;const et="validate-browser-context-for-indexeddb-analytics-module",$l=self.indexedDB.open(et);$l.onsuccess=()=>{$l.result.close(),o||self.indexedDB.deleteDatabase(et),s(!0)},$l.onupgradeneeded=()=>{o=!1},$l.onerror=()=>{var Nl;i(((Nl=$l.error)===null||Nl===void 0?void 0:Nl.message)||"")}}catch(o){i(o)}})}function areCookiesEnabled(){return!(typeof navigator=="undefined"||!navigator.cookieEnabled)}function getGlobal(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(i,o,et){super(o),this.code=i,this.customData=et,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(i,o,et){this.service=i,this.serviceName=o,this.errors=et}create(i,...o){const et=o[0]||{},$l=`${this.service}/${i}`,Nl=this.errors[i],Ml=Nl?replaceTemplate(Nl,et):"Error",Ol=`${this.serviceName}: ${Ml} (${$l}).`;return new FirebaseError($l,Ol,et)}}function replaceTemplate(s,i){return s.replace(PATTERN,(o,et)=>{const $l=i[et];return $l!=null?String($l):`<${et}?>`})}const PATTERN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonEval(s){return JSON.parse(s)}function stringify(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const decode$1=function(s){let i={},o={},et={},$l="";try{const Nl=s.split(".");i=jsonEval(base64Decode(Nl[0])||""),o=jsonEval(base64Decode(Nl[1])||""),$l=Nl[2],et=o.d||{},delete o.d}catch{}return{header:i,claims:o,data:et,signature:$l}},issuedAtTime=function(s){const i=decode$1(s).claims;return typeof i=="object"&&i.hasOwnProperty("iat")?i.iat:null},isValidFormat=function(s){const i=decode$1(s),o=i.claims;return!!o&&typeof o=="object"&&o.hasOwnProperty("iat")},isAdmin=function(s){const i=decode$1(s).claims;return typeof i=="object"&&i.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function contains(s,i){return Object.prototype.hasOwnProperty.call(s,i)}function safeGet(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]}function isEmpty(s){for(const i in s)if(Object.prototype.hasOwnProperty.call(s,i))return!1;return!0}function map(s,i,o){const et={};for(const $l in s)Object.prototype.hasOwnProperty.call(s,$l)&&(et[$l]=i.call(o,s[$l],$l,s));return et}function deepEqual(s,i){if(s===i)return!0;const o=Object.keys(s),et=Object.keys(i);for(const $l of o){if(!et.includes($l))return!1;const Nl=s[$l],Ml=i[$l];if(isObject$1(Nl)&&isObject$1(Ml)){if(!deepEqual(Nl,Ml))return!1}else if(Nl!==Ml)return!1}for(const $l of et)if(!o.includes($l))return!1;return!0}function isObject$1(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(s){const i=[];for(const[o,et]of Object.entries(s))Array.isArray(et)?et.forEach($l=>{i.push(encodeURIComponent(o)+"="+encodeURIComponent($l))}):i.push(encodeURIComponent(o)+"="+encodeURIComponent(et));return i.length?"&"+i.join("&"):""}function querystringDecode(s){const i={};return s.replace(/^\?/,"").split("&").forEach(et=>{if(et){const[$l,Nl]=et.split("=");i[decodeURIComponent($l)]=decodeURIComponent(Nl)}}),i}function extractQuerystring(s){const i=s.indexOf("?");if(!i)return"";const o=s.indexOf("#",i);return s.substring(i,o>0?o:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sha1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(i,o){o||(o=0);const et=this.W_;if(typeof i=="string")for(let Ul=0;Ul<16;Ul++)et[Ul]=i.charCodeAt(o)<<24|i.charCodeAt(o+1)<<16|i.charCodeAt(o+2)<<8|i.charCodeAt(o+3),o+=4;else for(let Ul=0;Ul<16;Ul++)et[Ul]=i[o]<<24|i[o+1]<<16|i[o+2]<<8|i[o+3],o+=4;for(let Ul=16;Ul<80;Ul++){const Gl=et[Ul-3]^et[Ul-8]^et[Ul-14]^et[Ul-16];et[Ul]=(Gl<<1|Gl>>>31)&4294967295}let $l=this.chain_[0],Nl=this.chain_[1],Ml=this.chain_[2],Ol=this.chain_[3],Ll=this.chain_[4],Fl,Bl;for(let Ul=0;Ul<80;Ul++){Ul<40?Ul<20?(Fl=Ol^Nl&(Ml^Ol),Bl=1518500249):(Fl=Nl^Ml^Ol,Bl=1859775393):Ul<60?(Fl=Nl&Ml|Ol&(Nl|Ml),Bl=2400959708):(Fl=Nl^Ml^Ol,Bl=3395469782);const Gl=($l<<5|$l>>>27)+Fl+Ll+Bl+et[Ul]&4294967295;Ll=Ol,Ol=Ml,Ml=(Nl<<30|Nl>>>2)&4294967295,Nl=$l,$l=Gl}this.chain_[0]=this.chain_[0]+$l&4294967295,this.chain_[1]=this.chain_[1]+Nl&4294967295,this.chain_[2]=this.chain_[2]+Ml&4294967295,this.chain_[3]=this.chain_[3]+Ol&4294967295,this.chain_[4]=this.chain_[4]+Ll&4294967295}update(i,o){if(i==null)return;o===void 0&&(o=i.length);const et=o-this.blockSize;let $l=0;const Nl=this.buf_;let Ml=this.inbuf_;for(;$l<o;){if(Ml===0)for(;$l<=et;)this.compress_(i,$l),$l+=this.blockSize;if(typeof i=="string"){for(;$l<o;)if(Nl[Ml]=i.charCodeAt($l),++Ml,++$l,Ml===this.blockSize){this.compress_(Nl),Ml=0;break}}else for(;$l<o;)if(Nl[Ml]=i[$l],++Ml,++$l,Ml===this.blockSize){this.compress_(Nl),Ml=0;break}}this.inbuf_=Ml,this.total_+=o}digest(){const i=[];let o=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let $l=this.blockSize-1;$l>=56;$l--)this.buf_[$l]=o&255,o/=256;this.compress_(this.buf_);let et=0;for(let $l=0;$l<5;$l++)for(let Nl=24;Nl>=0;Nl-=8)i[et]=this.chain_[$l]>>Nl&255,++et;return i}}function createSubscribe(s,i){const o=new ObserverProxy(s,i);return o.subscribe.bind(o)}class ObserverProxy{constructor(i,o){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=o,this.task.then(()=>{i(this)}).catch(et=>{this.error(et)})}next(i){this.forEachObserver(o=>{o.next(i)})}error(i){this.forEachObserver(o=>{o.error(i)}),this.close(i)}complete(){this.forEachObserver(i=>{i.complete()}),this.close()}subscribe(i,o,et){let $l;if(i===void 0&&o===void 0&&et===void 0)throw new Error("Missing Observer.");implementsAnyMethods$1(i,["next","error","complete"])?$l=i:$l={next:i,error:o,complete:et},$l.next===void 0&&($l.next=noop),$l.error===void 0&&($l.error=noop),$l.complete===void 0&&($l.complete=noop);const Nl=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$l.error(this.finalError):$l.complete()}catch{}}),this.observers.push($l),Nl}unsubscribeOne(i){this.observers===void 0||this.observers[i]===void 0||(delete this.observers[i],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(i){if(!this.finalized)for(let o=0;o<this.observers.length;o++)this.sendOne(o,i)}sendOne(i,o){this.task.then(()=>{if(this.observers!==void 0&&this.observers[i]!==void 0)try{o(this.observers[i])}catch(et){typeof console!="undefined"&&console.error&&console.error(et)}})}close(i){this.finalized||(this.finalized=!0,i!==void 0&&(this.finalError=i),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods$1(s,i){if(typeof s!="object"||s===null)return!1;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}function noop(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const validateArgCount=function(s,i,o,et){let $l;if(et<i?$l="at least "+i:et>o&&($l=o===0?"none":"no more than "+o),$l){const Nl=s+" failed: Was called with "+et+(et===1?" argument.":" arguments.")+" Expects "+$l+".";throw new Error(Nl)}};function errorPrefix(s,i){return`${s} failed: ${i} argument `}function validateCallback(s,i,o,et){if(!(et&&!o)&&typeof o!="function")throw new Error(errorPrefix(s,i)+"must be a valid function.")}function validateContextObject(s,i,o,et){if(!(et&&!o)&&(typeof o!="object"||o===null))throw new Error(errorPrefix(s,i)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray=function(s){const i=[];let o=0;for(let et=0;et<s.length;et++){let $l=s.charCodeAt(et);if($l>=55296&&$l<=56319){const Nl=$l-55296;et++,assert(et<s.length,"Surrogate pair missing trail surrogate.");const Ml=s.charCodeAt(et)-56320;$l=65536+(Nl<<10)+Ml}$l<128?i[o++]=$l:$l<2048?(i[o++]=$l>>6|192,i[o++]=$l&63|128):$l<65536?(i[o++]=$l>>12|224,i[o++]=$l>>6&63|128,i[o++]=$l&63|128):(i[o++]=$l>>18|240,i[o++]=$l>>12&63|128,i[o++]=$l>>6&63|128,i[o++]=$l&63|128)}return i},stringLength=function(s){let i=0;for(let o=0;o<s.length;o++){const et=s.charCodeAt(o);et<128?i++:et<2048?i+=2:et>=55296&&et<=56319?(i+=4,o++):i+=3}return i};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const i=Math.random()*16|0;return(s==="x"?i:i&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=4*60*60*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis(s,i=DEFAULT_INTERVAL_MILLIS,o=DEFAULT_BACKOFF_FACTOR){const et=i*Math.pow(o,s),$l=Math.round(RANDOM_FACTOR*et*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,et+$l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(s){return s&&s._delegate?s._delegate:s}class Component{constructor(i,o,et){this.name=i,this.instanceFactory=o,this.type=et,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$2="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(i,o){this.name=i,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){const o=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(o)){const et=new Deferred;if(this.instancesDeferred.set(o,et),this.isInitialized(o)||this.shouldAutoInitialize())try{const $l=this.getOrInitializeService({instanceIdentifier:o});$l&&et.resolve($l)}catch{}}return this.instancesDeferred.get(o).promise}getImmediate(i){var o;const et=this.normalizeInstanceIdentifier(i==null?void 0:i.identifier),$l=(o=i==null?void 0:i.optional)!==null&&o!==void 0?o:!1;if(this.isInitialized(et)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:et})}catch(Nl){if($l)return null;throw Nl}else{if($l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,!!this.shouldAutoInitialize()){if(isComponentEager(i))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$2})}catch{}for(const[o,et]of this.instancesDeferred.entries()){const $l=this.normalizeInstanceIdentifier(o);try{const Nl=this.getOrInitializeService({instanceIdentifier:$l});et.resolve(Nl)}catch{}}}}clearInstance(i=DEFAULT_ENTRY_NAME$2){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}async delete(){const i=Array.from(this.instances.values());await Promise.all([...i.filter(o=>"INTERNAL"in o).map(o=>o.INTERNAL.delete()),...i.filter(o=>"_delete"in o).map(o=>o._delete())])}isComponentSet(){return this.component!=null}isInitialized(i=DEFAULT_ENTRY_NAME$2){return this.instances.has(i)}getOptions(i=DEFAULT_ENTRY_NAME$2){return this.instancesOptions.get(i)||{}}initialize(i={}){const{options:o={}}=i,et=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(et))throw Error(`${this.name}(${et}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $l=this.getOrInitializeService({instanceIdentifier:et,options:o});for(const[Nl,Ml]of this.instancesDeferred.entries()){const Ol=this.normalizeInstanceIdentifier(Nl);et===Ol&&Ml.resolve($l)}return $l}onInit(i,o){var et;const $l=this.normalizeInstanceIdentifier(o),Nl=(et=this.onInitCallbacks.get($l))!==null&&et!==void 0?et:new Set;Nl.add(i),this.onInitCallbacks.set($l,Nl);const Ml=this.instances.get($l);return Ml&&i(Ml,$l),()=>{Nl.delete(i)}}invokeOnInitCallbacks(i,o){const et=this.onInitCallbacks.get(o);if(!!et)for(const $l of et)try{$l(i,o)}catch{}}getOrInitializeService({instanceIdentifier:i,options:o={}}){let et=this.instances.get(i);if(!et&&this.component&&(et=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(i),options:o}),this.instances.set(i,et),this.instancesOptions.set(i,o),this.invokeOnInitCallbacks(et,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,et)}catch{}return et||null}normalizeInstanceIdentifier(i=DEFAULT_ENTRY_NAME$2){return this.component?this.component.multipleInstances?i:DEFAULT_ENTRY_NAME$2:i}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(s){return s===DEFAULT_ENTRY_NAME$2?void 0:s}function isComponentEager(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(i){this.name=i,this.providers=new Map}addComponent(i){const o=this.getProvider(i.name);if(o.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);o.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);const o=new Provider(i,this);return this.providers.set(i,o),o}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instances=[];var LogLevel;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(s,i,...o)=>{if(i<s.logLevel)return;const et=new Date().toISOString(),$l=ConsoleMethod[i];if($l)console[$l](`[${et}]  ${s.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`)};class Logger{constructor(i){this.name=i,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null,instances.push(this)}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in LogLevel))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel=typeof i=="string"?levelStringToEnum[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if(typeof i!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...i),this._logHandler(this,LogLevel.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...i),this._logHandler(this,LogLevel.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...i),this._logHandler(this,LogLevel.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...i),this._logHandler(this,LogLevel.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...i),this._logHandler(this,LogLevel.ERROR,...i)}}function setLogLevel$3(s){instances.forEach(i=>{i.setLogLevel(s)})}function setUserLogHandler(s,i){for(const o of instances){let et=null;i&&i.level&&(et=levelStringToEnum[i.level]),s===null?o.userLogHandler=null:o.userLogHandler=($l,Nl,...Ml)=>{const Ol=Ml.map(Ll=>{if(Ll==null)return null;if(typeof Ll=="string")return Ll;if(typeof Ll=="number"||typeof Ll=="boolean")return Ll.toString();if(Ll instanceof Error)return Ll.message;try{return JSON.stringify(Ll)}catch{return null}}).filter(Ll=>Ll).join(" ");Nl>=(et!=null?et:$l.logLevel)&&s({level:LogLevel[Nl].toLowerCase(),message:Ol,args:Ml,type:$l.name})}}}const instanceOfAny=(s,i)=>i.some(o=>s instanceof o);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(s){const i=new Promise((o,et)=>{const $l=()=>{s.removeEventListener("success",Nl),s.removeEventListener("error",Ml)},Nl=()=>{o(wrap(s.result)),$l()},Ml=()=>{et(s.error),$l()};s.addEventListener("success",Nl),s.addEventListener("error",Ml)});return i.then(o=>{o instanceof IDBCursor&&cursorRequestMap.set(o,s)}).catch(()=>{}),reverseTransformCache.set(i,s),i}function cacheDonePromiseForTransaction(s){if(transactionDoneMap.has(s))return;const i=new Promise((o,et)=>{const $l=()=>{s.removeEventListener("complete",Nl),s.removeEventListener("error",Ml),s.removeEventListener("abort",Ml)},Nl=()=>{o(),$l()},Ml=()=>{et(s.error||new DOMException("AbortError","AbortError")),$l()};s.addEventListener("complete",Nl),s.addEventListener("error",Ml),s.addEventListener("abort",Ml)});transactionDoneMap.set(s,i)}let idbProxyTraps={get(s,i,o){if(s instanceof IDBTransaction){if(i==="done")return transactionDoneMap.get(s);if(i==="objectStoreNames")return s.objectStoreNames||transactionStoreNamesMap.get(s);if(i==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return wrap(s[i])},set(s,i,o){return s[i]=o,!0},has(s,i){return s instanceof IDBTransaction&&(i==="done"||i==="store")?!0:i in s}};function replaceTraps(s){idbProxyTraps=s(idbProxyTraps)}function wrapFunction(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(i,...o){const et=s.call(unwrap$1(this),i,...o);return transactionStoreNamesMap.set(et,i.sort?i.sort():[i]),wrap(et)}:getCursorAdvanceMethods().includes(s)?function(...i){return s.apply(unwrap$1(this),i),wrap(cursorRequestMap.get(this))}:function(...i){return wrap(s.apply(unwrap$1(this),i))}}function transformCachableValue(s){return typeof s=="function"?wrapFunction(s):(s instanceof IDBTransaction&&cacheDonePromiseForTransaction(s),instanceOfAny(s,getIdbProxyableTypes())?new Proxy(s,idbProxyTraps):s)}function wrap(s){if(s instanceof IDBRequest)return promisifyRequest(s);if(transformCache.has(s))return transformCache.get(s);const i=transformCachableValue(s);return i!==s&&(transformCache.set(s,i),reverseTransformCache.set(i,s)),i}const unwrap$1=s=>reverseTransformCache.get(s);function openDB(s,i,{blocked:o,upgrade:et,blocking:$l,terminated:Nl}={}){const Ml=indexedDB.open(s,i),Ol=wrap(Ml);return et&&Ml.addEventListener("upgradeneeded",Ll=>{et(wrap(Ml.result),Ll.oldVersion,Ll.newVersion,wrap(Ml.transaction))}),o&&Ml.addEventListener("blocked",()=>o()),Ol.then(Ll=>{Nl&&Ll.addEventListener("close",()=>Nl()),$l&&Ll.addEventListener("versionchange",()=>$l())}).catch(()=>{}),Ol}function deleteDB(s,{blocked:i}={}){const o=indexedDB.deleteDatabase(s);return i&&o.addEventListener("blocked",()=>i()),wrap(o).then(()=>{})}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(s,i){if(!(s instanceof IDBDatabase&&!(i in s)&&typeof i=="string"))return;if(cachedMethods.get(i))return cachedMethods.get(i);const o=i.replace(/FromIndex$/,""),et=i!==o,$l=writeMethods.includes(o);if(!(o in(et?IDBIndex:IDBObjectStore).prototype)||!($l||readMethods.includes(o)))return;const Nl=async function(Ml,...Ol){const Ll=this.transaction(Ml,$l?"readwrite":"readonly");let Fl=Ll.store;return et&&(Fl=Fl.index(Ol.shift())),(await Promise.all([Fl[o](...Ol),$l&&Ll.done]))[0]};return cachedMethods.set(i,Nl),Nl}replaceTraps(s=>({...s,get:(i,o,et)=>getMethod(i,o)||s.get(i,o,et),has:(i,o)=>!!getMethod(i,o)||s.has(i,o)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(isVersionServiceProvider(o)){const et=o.getImmediate();return`${et.library}/${et.version}`}else return null}).filter(o=>o).join(" ")}}function isVersionServiceProvider(s){const i=s.getComponent();return(i==null?void 0:i.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.7.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$5=new Logger("@firebase/app"),name$n$1="@firebase/app-compat",name$m$1="@firebase/analytics-compat",name$l$1="@firebase/analytics",name$k$1="@firebase/app-check-compat",name$j$1="@firebase/app-check",name$i$1="@firebase/auth",name$h$1="@firebase/auth-compat",name$g$1="@firebase/database",name$f$1="@firebase/database-compat",name$e$1="@firebase/functions",name$d$1="@firebase/functions-compat",name$c$1="@firebase/installations",name$b$1="@firebase/installations-compat",name$a$1="@firebase/messaging",name$9$1="@firebase/messaging-compat",name$8$1="@firebase/performance",name$7$1="@firebase/performance-compat",name$6$1="@firebase/remote-config",name$5$1="@firebase/remote-config-compat",name$4$1="@firebase/storage",name$3$1="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$o="9.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n$1]:"fire-core-compat",[name$l$1]:"fire-analytics",[name$m$1]:"fire-analytics-compat",[name$j$1]:"fire-app-check",[name$k$1]:"fire-app-check-compat",[name$i$1]:"fire-auth",[name$h$1]:"fire-auth-compat",[name$g$1]:"fire-rtdb",[name$f$1]:"fire-rtdb-compat",[name$e$1]:"fire-fn",[name$d$1]:"fire-fn-compat",[name$c$1]:"fire-iid",[name$b$1]:"fire-iid-compat",[name$a$1]:"fire-fcm",[name$9$1]:"fire-fcm-compat",[name$8$1]:"fire-perf",[name$7$1]:"fire-perf-compat",[name$6$1]:"fire-rc",[name$5$1]:"fire-rc-compat",[name$4$1]:"fire-gcs",[name$3$1]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(s,i){try{s.container.addComponent(i)}catch(o){logger$5.debug(`Component ${i.name} failed to register with FirebaseApp ${s.name}`,o)}}function _addOrOverwriteComponent(s,i){s.container.addOrOverwriteComponent(i)}function _registerComponent(s){const i=s.name;if(_components.has(i))return logger$5.debug(`There were multiple attempts to register component ${i}.`),!1;_components.set(i,s);for(const o of _apps.values())_addComponent(o,s);return!0}function _getProvider(s,i){const o=s.container.getProvider("heartbeat").getImmediate({optional:!0});return o&&o.triggerHeartbeat(),s.container.getProvider(i)}function _removeServiceInstance(s,i,o=DEFAULT_ENTRY_NAME$1){_getProvider(s,i).clearInstance(o)}function _clearComponents(){_components.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$4={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ERROR_FACTORY$9=new ErrorFactory("app","Firebase",ERRORS$4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl$1{constructor(i,o,et){this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},o),this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$9.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION$2=version$o;function initializeApp(s,i={}){typeof i!="object"&&(i={name:i});const o=Object.assign({name:DEFAULT_ENTRY_NAME$1,automaticDataCollectionEnabled:!1},i),et=o.name;if(typeof et!="string"||!et)throw ERROR_FACTORY$9.create("bad-app-name",{appName:String(et)});const $l=_apps.get(et);if($l){if(deepEqual(s,$l.options)&&deepEqual(o,$l.config))return $l;throw ERROR_FACTORY$9.create("duplicate-app",{appName:et})}const Nl=new ComponentContainer(et);for(const Ol of _components.values())Nl.addComponent(Ol);const Ml=new FirebaseAppImpl$1(s,o,Nl);return _apps.set(et,Ml),Ml}function getApp(s=DEFAULT_ENTRY_NAME$1){const i=_apps.get(s);if(!i)throw ERROR_FACTORY$9.create("no-app",{appName:s});return i}function getApps(){return Array.from(_apps.values())}async function deleteApp(s){const i=s.name;_apps.has(i)&&(_apps.delete(i),await Promise.all(s.container.getProviders().map(o=>o.delete())),s.isDeleted=!0)}function registerVersion(s,i,o){var et;let $l=(et=PLATFORM_LOG_STRING[s])!==null&&et!==void 0?et:s;o&&($l+=`-${o}`);const Nl=$l.match(/\s|\//),Ml=i.match(/\s|\//);if(Nl||Ml){const Ol=[`Unable to register library "${$l}" with version "${i}":`];Nl&&Ol.push(`library name "${$l}" contains illegal characters (whitespace or "/")`),Nl&&Ml&&Ol.push("and"),Ml&&Ol.push(`version name "${i}" contains illegal characters (whitespace or "/")`),logger$5.warn(Ol.join(" "));return}_registerComponent(new Component(`${$l}-version`,()=>({library:$l,version:i}),"VERSION"))}function onLog(s,i){if(s!==null&&typeof s!="function")throw ERROR_FACTORY$9.create("invalid-log-argument");setUserLogHandler(s,i)}function setLogLevel$2(s){setLogLevel$3(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$3="firebase-heartbeat-database",DB_VERSION$3=1,STORE_NAME$1="firebase-heartbeat-store";let dbPromise$4=null;function getDbPromise$3(){return dbPromise$4||(dbPromise$4=openDB(DB_NAME$3,DB_VERSION$3,{upgrade:(s,i)=>{switch(i){case 0:s.createObjectStore(STORE_NAME$1)}}}).catch(s=>{throw ERROR_FACTORY$9.create("storage-open",{originalErrorMessage:s.message})})),dbPromise$4}async function readHeartbeatsFromIndexedDB(s){var i;try{return(await getDbPromise$3()).transaction(STORE_NAME$1).objectStore(STORE_NAME$1).get(computeKey$1(s))}catch(o){throw ERROR_FACTORY$9.create("storage-get",{originalErrorMessage:(i=o)===null||i===void 0?void 0:i.message})}}async function writeHeartbeatsToIndexedDB(s,i){var o;try{const $l=(await getDbPromise$3()).transaction(STORE_NAME$1,"readwrite");return await $l.objectStore(STORE_NAME$1).put(i,computeKey$1(s)),$l.done}catch(et){throw ERROR_FACTORY$9.create("storage-set",{originalErrorMessage:(o=et)===null||o===void 0?void 0:o.message})}}function computeKey$1(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(i){this.container=i,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(o),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}async triggerHeartbeat(){const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),et=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===et||this._heartbeatsCache.heartbeats.some($l=>$l.date===et)))return this._heartbeatsCache.heartbeats.push({date:et,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter($l=>{const Nl=new Date($l.date).valueOf();return Date.now()-Nl<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const i=getUTCDateString(),{heartbeatsToSend:o,unsentEntries:et}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),$l=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=i,et.length>0?(this._heartbeatsCache.heartbeats=et,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),$l}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(s,i=MAX_HEADER_BYTES){const o=[];let et=s.slice();for(const $l of s){const Nl=o.find(Ml=>Ml.agent===$l.agent);if(Nl){if(Nl.dates.push($l.date),countBytes(o)>i){Nl.dates.pop();break}}else if(o.push({agent:$l.agent,dates:[$l.date]}),countBytes(o)>i){o.pop();break}et=et.slice(1)}return{heartbeatsToSend:o,unsentEntries:et}}class HeartbeatStorageImpl{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(i){var o;if(await this._canUseIndexedDBPromise){const $l=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(o=i.lastSentHeartbeatDate)!==null&&o!==void 0?o:$l.lastSentHeartbeatDate,heartbeats:i.heartbeats})}else return}async add(i){var o;if(await this._canUseIndexedDBPromise){const $l=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(o=i.lastSentHeartbeatDate)!==null&&o!==void 0?o:$l.lastSentHeartbeatDate,heartbeats:[...$l.heartbeats,...i.heartbeats]})}else return}}function countBytes(s){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents$1(s){_registerComponent(new Component("platform-logger",i=>new PlatformLoggerServiceImpl(i),"PRIVATE")),_registerComponent(new Component("heartbeat",i=>new HeartbeatServiceImpl(i),"PRIVATE")),registerVersion(name$o,version$1$1,s),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents$1("");var modularAPIs=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:SDK_VERSION$2,_DEFAULT_ENTRY_NAME:DEFAULT_ENTRY_NAME$1,_addComponent,_addOrOverwriteComponent,_apps,_clearComponents,_components,_getProvider,_registerComponent,_removeServiceInstance,deleteApp,getApp,getApps,initializeApp,onLog,registerVersion,setLogLevel:setLogLevel$2,FirebaseError},Symbol.toStringTag,{value:"Module"}));const ProviderId={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ActionCodeOperation={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _debugErrorMap(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function _prodErrorMap(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const debugErrorMap=_debugErrorMap,prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient$2=new Logger("@firebase/auth");function _logError(s,...i){logClient$2.logLevel<=LogLevel.ERROR&&logClient$2.error(`Auth (${SDK_VERSION$2}): ${s}`,...i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(s,...i){throw createErrorInternal(s,...i)}function _createError(s,...i){return createErrorInternal(s,...i)}function _errorWithCustomMessage(s,i,o){const et=Object.assign(Object.assign({},prodErrorMap()),{[i]:o});return new ErrorFactory("auth","Firebase",et).create(i,{appName:s.name})}function _assertInstanceOf(s,i,o){const et=o;if(!(i instanceof et))throw et.name!==i.constructor.name&&_fail(s,"argument-error"),_errorWithCustomMessage(s,"argument-error",`Type of ${i.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(s,...i){if(typeof s!="string"){const o=i[0],et=[...i.slice(1)];return et[0]&&(et[0].appName=s.name),s._errorFactory.create(o,...et)}return _DEFAULT_AUTH_ERROR_FACTORY.create(s,...i)}function _assert$4(s,i,...o){if(!s)throw createErrorInternal(i,...o)}function debugFail(s){const i="INTERNAL ASSERTION FAILED: "+s;throw _logError(i),new Error(i)}function debugAssert(s,i){s||debugFail(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(s){debugAssert(s instanceof Function,"Expected a class definition");let i=instanceCache.get(s);return i?(debugAssert(i instanceof s,"Instance stored in cache mismatched with class"),i):(i=new s,instanceCache.set(s,i),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(s,i){const o=_getProvider(s,"auth");if(o.isInitialized()){const $l=o.getImmediate(),Nl=o.getOptions();if(deepEqual(Nl,i!=null?i:{}))return $l;_fail($l,"already-initialized")}return o.initialize({options:i})}function _initializeAuthInstance(s,i){const o=(i==null?void 0:i.persistence)||[],et=(Array.isArray(o)?o:[o]).map(_getInstance);i!=null&&i.errorMap&&s._updateErrorMap(i.errorMap),s._initializeWithPersistence(et,i==null?void 0:i.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var s;return typeof self!="undefined"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function _isHttpOrHttps$1(){return _getCurrentScheme$1()==="http:"||_getCurrentScheme$1()==="https:"}function _getCurrentScheme$1(){var s;return typeof self!="undefined"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps$1()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator=="undefined")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(i,o){this.shortDelay=i,this.longDelay=o,debugAssert(o>i,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(s,i){debugAssert(s.emulator,"Emulator should always be set here");const{url:o}=s.emulator;return i?`${o}${i.startsWith("/")?i.slice(1):i}`:o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(i,o,et){this.fetchImpl=i,o&&(this.headersImpl=o),et&&(this.responseImpl=et)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(s,i){return s.tenantId&&!i.tenantId?Object.assign(Object.assign({},i),{tenantId:s.tenantId}):i}async function _performApiRequest(s,i,o,et,$l={}){return _performFetchWithErrorHandling(s,$l,async()=>{let Nl={},Ml={};et&&(i==="GET"?Ml=et:Nl={body:JSON.stringify(et)});const Ol=querystring(Object.assign({key:s.config.apiKey},Ml)).slice(1),Ll=await s._getAdditionalHeaders();return Ll["Content-Type"]="application/json",s.languageCode&&(Ll["X-Firebase-Locale"]=s.languageCode),FetchProvider.fetch()(_getFinalTarget(s,s.config.apiHost,o,Ol),Object.assign({method:i,headers:Ll,referrerPolicy:"no-referrer"},Nl))})}async function _performFetchWithErrorHandling(s,i,o){s._canInitEmulator=!1;const et=Object.assign(Object.assign({},SERVER_ERROR_MAP),i);try{const $l=new NetworkTimeout(s),Nl=await Promise.race([o(),$l.promise]);$l.clearNetworkTimeout();const Ml=await Nl.json();if("needConfirmation"in Ml)throw _makeTaggedError(s,"account-exists-with-different-credential",Ml);if(Nl.ok&&!("errorMessage"in Ml))return Ml;{const Ol=Nl.ok?Ml.errorMessage:Ml.error.message,[Ll,Fl]=Ol.split(" : ");if(Ll==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(s,"credential-already-in-use",Ml);if(Ll==="EMAIL_EXISTS")throw _makeTaggedError(s,"email-already-in-use",Ml);if(Ll==="USER_DISABLED")throw _makeTaggedError(s,"user-disabled",Ml);const Bl=et[Ll]||Ll.toLowerCase().replace(/[_\s]+/g,"-");if(Fl)throw _errorWithCustomMessage(s,Bl,Fl);_fail(s,Bl)}}catch($l){if($l instanceof FirebaseError)throw $l;_fail(s,"network-request-failed")}}async function _performSignInRequest(s,i,o,et,$l={}){const Nl=await _performApiRequest(s,i,o,et,$l);return"mfaPendingCredential"in Nl&&_fail(s,"multi-factor-auth-required",{_serverResponse:Nl}),Nl}function _getFinalTarget(s,i,o,et){const $l=`${i}${o}?${et}`;return s.config.emulator?_emulatorUrl(s.config,$l):`${s.config.apiScheme}://${$l}`}class NetworkTimeout{constructor(i){this.auth=i,this.timer=null,this.promise=new Promise((o,et)=>{this.timer=setTimeout(()=>et(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(s,i,o){const et={appName:s.name};o.email&&(et.email=o.email),o.phoneNumber&&(et.phoneNumber=o.phoneNumber);const $l=_createError(s,i,et);return $l.customData._tokenResponse=o,$l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(s,i){return _performApiRequest(s,"POST","/v1/accounts:delete",i)}async function deleteLinkedAccounts(s,i){return _performApiRequest(s,"POST","/v1/accounts:update",i)}async function getAccountInfo(s,i){return _performApiRequest(s,"POST","/v1/accounts:lookup",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(s){if(!!s)try{const i=new Date(Number(s));if(!isNaN(i.getTime()))return i.toUTCString()}catch{}}async function getIdTokenResult(s,i=!1){const o=getModularInstance(s),et=await o.getIdToken(i),$l=_parseToken(et);_assert$4($l&&$l.exp&&$l.auth_time&&$l.iat,o.auth,"internal-error");const Nl=typeof $l.firebase=="object"?$l.firebase:void 0,Ml=Nl==null?void 0:Nl.sign_in_provider;return{claims:$l,token:et,authTime:utcTimestampToDateString(secondsStringToMilliseconds($l.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds($l.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds($l.exp)),signInProvider:Ml||null,signInSecondFactor:(Nl==null?void 0:Nl.sign_in_second_factor)||null}}function secondsStringToMilliseconds(s){return Number(s)*1e3}function _parseToken(s){var i;const[o,et,$l]=s.split(".");if(o===void 0||et===void 0||$l===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const Nl=base64Decode(et);return Nl?JSON.parse(Nl):(_logError("Failed to decode base64 JWT payload"),null)}catch(Nl){return _logError("Caught error parsing JWT payload as JSON",(i=Nl)===null||i===void 0?void 0:i.toString()),null}}function _tokenExpiresIn(s){const i=_parseToken(s);return _assert$4(i,"internal-error"),_assert$4(typeof i.exp!="undefined","internal-error"),_assert$4(typeof i.iat!="undefined","internal-error"),Number(i.exp)-Number(i.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(s,i,o=!1){if(o)return i;try{return await i}catch(et){throw et instanceof FirebaseError&&isUserInvalidated(et)&&s.auth.currentUser===s&&await s.auth.signOut(),et}}function isUserInvalidated({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(i){this.user=i,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(i){var o;if(i){const et=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),et}else{this.errorBackoff=3e4;const $l=((o=this.user.stsTokenManager.expirationTime)!==null&&o!==void 0?o:0)-Date.now()-3e5;return Math.max(0,$l)}}schedule(i=!1){if(!this.isRunning)return;const o=this.getInterval(i);this.timerId=setTimeout(async()=>{await this.iteration()},o)}async iteration(){var i;try{await this.user.getIdToken(!0)}catch(o){((i=o)===null||i===void 0?void 0:i.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(i,o){this.createdAt=i,this.lastLoginAt=o,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(i){this.createdAt=i.createdAt,this.lastLoginAt=i.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(s){var i;const o=s.auth,et=await s.getIdToken(),$l=await _logoutIfInvalidated(s,getAccountInfo(o,{idToken:et}));_assert$4($l==null?void 0:$l.users.length,o,"internal-error");const Nl=$l.users[0];s._notifyReloadListener(Nl);const Ml=!((i=Nl.providerUserInfo)===null||i===void 0)&&i.length?extractProviderData(Nl.providerUserInfo):[],Ol=mergeProviderData(s.providerData,Ml),Ll=s.isAnonymous,Fl=!(s.email&&Nl.passwordHash)&&!(Ol!=null&&Ol.length),Bl=Ll?Fl:!1,Ul={uid:Nl.localId,displayName:Nl.displayName||null,photoURL:Nl.photoUrl||null,email:Nl.email||null,emailVerified:Nl.emailVerified||!1,phoneNumber:Nl.phoneNumber||null,tenantId:Nl.tenantId||null,providerData:Ol,metadata:new UserMetadata(Nl.createdAt,Nl.lastLoginAt),isAnonymous:Bl};Object.assign(s,Ul)}async function reload(s){const i=getModularInstance(s);await _reloadWithoutSaving(i),await i.auth._persistUserIfCurrent(i),i.auth._notifyListenersIfCurrent(i)}function mergeProviderData(s,i){return[...s.filter(et=>!i.some($l=>$l.providerId===et.providerId)),...i]}function extractProviderData(s){return s.map(i=>{var{providerId:o}=i,et=__rest(i,["providerId"]);return{providerId:o,uid:et.rawId||"",displayName:et.displayName||null,email:et.email||null,phoneNumber:et.phoneNumber||null,photoURL:et.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(s,i){const o=await _performFetchWithErrorHandling(s,{},async()=>{const et=querystring({grant_type:"refresh_token",refresh_token:i}).slice(1),{tokenApiHost:$l,apiKey:Nl}=s.config,Ml=_getFinalTarget(s,$l,"/v1/token",`key=${Nl}`),Ol=await s._getAdditionalHeaders();return Ol["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(Ml,{method:"POST",headers:Ol,body:et})});return{accessToken:o.access_token,expiresIn:o.expires_in,refreshToken:o.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(i){_assert$4(i.idToken,"internal-error"),_assert$4(typeof i.idToken!="undefined","internal-error"),_assert$4(typeof i.refreshToken!="undefined","internal-error");const o="expiresIn"in i&&typeof i.expiresIn!="undefined"?Number(i.expiresIn):_tokenExpiresIn(i.idToken);this.updateTokensAndExpiration(i.idToken,i.refreshToken,o)}async getToken(i,o=!1){return _assert$4(!this.accessToken||this.refreshToken,i,"user-token-expired"),!o&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(i,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(i,o){const{accessToken:et,refreshToken:$l,expiresIn:Nl}=await requestStsToken(i,o);this.updateTokensAndExpiration(et,$l,Number(Nl))}updateTokensAndExpiration(i,o,et){this.refreshToken=o||null,this.accessToken=i||null,this.expirationTime=Date.now()+et*1e3}static fromJSON(i,o){const{refreshToken:et,accessToken:$l,expirationTime:Nl}=o,Ml=new StsTokenManager;return et&&(_assert$4(typeof et=="string","internal-error",{appName:i}),Ml.refreshToken=et),$l&&(_assert$4(typeof $l=="string","internal-error",{appName:i}),Ml.accessToken=$l),Nl&&(_assert$4(typeof Nl=="number","internal-error",{appName:i}),Ml.expirationTime=Nl),Ml}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(i){this.accessToken=i.accessToken,this.refreshToken=i.refreshToken,this.expirationTime=i.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(s,i){_assert$4(typeof s=="string"||typeof s=="undefined","internal-error",{appName:i})}class UserImpl{constructor(i){var{uid:o,auth:et,stsTokenManager:$l}=i,Nl=__rest(i,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=o,this.auth=et,this.stsTokenManager=$l,this.accessToken=$l.accessToken,this.displayName=Nl.displayName||null,this.email=Nl.email||null,this.emailVerified=Nl.emailVerified||!1,this.phoneNumber=Nl.phoneNumber||null,this.photoURL=Nl.photoURL||null,this.isAnonymous=Nl.isAnonymous||!1,this.tenantId=Nl.tenantId||null,this.providerData=Nl.providerData?[...Nl.providerData]:[],this.metadata=new UserMetadata(Nl.createdAt||void 0,Nl.lastLoginAt||void 0)}async getIdToken(i){const o=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,i));return _assert$4(o,this.auth,"internal-error"),this.accessToken!==o&&(this.accessToken=o,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),o}getIdTokenResult(i){return getIdTokenResult(this,i)}reload(){return reload(this)}_assign(i){this!==i&&(_assert$4(this.uid===i.uid,this.auth,"internal-error"),this.displayName=i.displayName,this.photoURL=i.photoURL,this.email=i.email,this.emailVerified=i.emailVerified,this.phoneNumber=i.phoneNumber,this.isAnonymous=i.isAnonymous,this.tenantId=i.tenantId,this.providerData=i.providerData.map(o=>Object.assign({},o)),this.metadata._copy(i.metadata),this.stsTokenManager._assign(i.stsTokenManager))}_clone(i){return new UserImpl(Object.assign(Object.assign({},this),{auth:i,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(i){_assert$4(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=i,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(i){this.reloadListener?this.reloadListener(i):this.reloadUserInfo=i}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(i,o=!1){let et=!1;i.idToken&&i.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(i),et=!0),o&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),et&&this.auth._notifyListenersIfCurrent(this)}async delete(){const i=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:i})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(i=>Object.assign({},i)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(i,o){var et,$l,Nl,Ml,Ol,Ll,Fl,Bl;const Ul=(et=o.displayName)!==null&&et!==void 0?et:void 0,Gl=($l=o.email)!==null&&$l!==void 0?$l:void 0,Wl=(Nl=o.phoneNumber)!==null&&Nl!==void 0?Nl:void 0,zl=(Ml=o.photoURL)!==null&&Ml!==void 0?Ml:void 0,Ql=(Ol=o.tenantId)!==null&&Ol!==void 0?Ol:void 0,Jl=(Ll=o._redirectEventId)!==null&&Ll!==void 0?Ll:void 0,Kl=(Fl=o.createdAt)!==null&&Fl!==void 0?Fl:void 0,Hl=(Bl=o.lastLoginAt)!==null&&Bl!==void 0?Bl:void 0,{uid:Yl,emailVerified:Xl,isAnonymous:Zl,providerData:_d,stsTokenManager:_f}=o;_assert$4(Yl&&_f,i,"internal-error");const e0=StsTokenManager.fromJSON(this.name,_f);_assert$4(typeof Yl=="string",i,"internal-error"),assertStringOrUndefined(Ul,i.name),assertStringOrUndefined(Gl,i.name),_assert$4(typeof Xl=="boolean",i,"internal-error"),_assert$4(typeof Zl=="boolean",i,"internal-error"),assertStringOrUndefined(Wl,i.name),assertStringOrUndefined(zl,i.name),assertStringOrUndefined(Ql,i.name),assertStringOrUndefined(Jl,i.name),assertStringOrUndefined(Kl,i.name),assertStringOrUndefined(Hl,i.name);const s0=new UserImpl({uid:Yl,auth:i,email:Gl,emailVerified:Xl,displayName:Ul,isAnonymous:Zl,photoURL:zl,phoneNumber:Wl,tenantId:Ql,stsTokenManager:e0,createdAt:Kl,lastLoginAt:Hl});return _d&&Array.isArray(_d)&&(s0.providerData=_d.map(u0=>Object.assign({},u0))),Jl&&(s0._redirectEventId=Jl),s0}static async _fromIdTokenResponse(i,o,et=!1){const $l=new StsTokenManager;$l.updateFromServerResponse(o);const Nl=new UserImpl({uid:o.localId,auth:i,stsTokenManager:$l,isAnonymous:et});return await _reloadWithoutSaving(Nl),Nl}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(i,o){this.storage[i]=o}async _get(i){const o=this.storage[i];return o===void 0?null:o}async _remove(i){delete this.storage[i]}_addListener(i,o){}_removeListener(i,o){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(s,i,o){return`firebase:${s}:${i}:${o}`}class PersistenceUserManager{constructor(i,o,et){this.persistence=i,this.auth=o,this.userKey=et;const{config:$l,name:Nl}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,$l.apiKey,Nl),this.fullPersistenceKey=_persistenceKeyName("persistence",$l.apiKey,Nl),this.boundEventHandler=o._onStorageEvent.bind(o),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(i){return this.persistence._set(this.fullUserKey,i.toJSON())}async getCurrentUser(){const i=await this.persistence._get(this.fullUserKey);return i?UserImpl._fromJSON(this.auth,i):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(i){if(this.persistence===i)return;const o=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=i,o)return this.setCurrentUser(o)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(i,o,et="authUser"){if(!o.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),i,et);const $l=(await Promise.all(o.map(async Fl=>{if(await Fl._isAvailable())return Fl}))).filter(Fl=>Fl);let Nl=$l[0]||_getInstance(inMemoryPersistence);const Ml=_persistenceKeyName(et,i.config.apiKey,i.name);let Ol=null;for(const Fl of o)try{const Bl=await Fl._get(Ml);if(Bl){const Ul=UserImpl._fromJSON(i,Bl);Fl!==Nl&&(Ol=Ul),Nl=Fl;break}}catch{}const Ll=$l.filter(Fl=>Fl._shouldAllowMigration);return!Nl._shouldAllowMigration||!Ll.length?new PersistenceUserManager(Nl,i,et):(Nl=Ll[0],Ol&&await Nl._set(Ml,Ol.toJSON()),await Promise.all(o.map(async Fl=>{if(Fl!==Nl)try{await Fl._remove(Ml)}catch{}})),new PersistenceUserManager(Nl,i,et))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(s){const i=s.toLowerCase();if(i.includes("opera/")||i.includes("opr/")||i.includes("opios/"))return"Opera";if(_isIEMobile(i))return"IEMobile";if(i.includes("msie")||i.includes("trident/"))return"IE";if(i.includes("edge/"))return"Edge";if(_isFirefox(i))return"Firefox";if(i.includes("silk/"))return"Silk";if(_isBlackBerry(i))return"Blackberry";if(_isWebOS(i))return"Webos";if(_isSafari(i))return"Safari";if((i.includes("chrome/")||_isChromeIOS(i))&&!i.includes("edge/"))return"Chrome";if(_isAndroid(i))return"Android";{const o=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,et=s.match(o);if((et==null?void 0:et.length)===2)return et[1]}return"Other"}function _isFirefox(s=getUA()){return/firefox\//i.test(s)}function _isSafari(s=getUA()){const i=s.toLowerCase();return i.includes("safari/")&&!i.includes("chrome/")&&!i.includes("crios/")&&!i.includes("android")}function _isChromeIOS(s=getUA()){return/crios\//i.test(s)}function _isIEMobile(s=getUA()){return/iemobile/i.test(s)}function _isAndroid(s=getUA()){return/android/i.test(s)}function _isBlackBerry(s=getUA()){return/blackberry/i.test(s)}function _isWebOS(s=getUA()){return/webos/i.test(s)}function _isIOS(s=getUA()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function _isIOS7Or8(s=getUA()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(s)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(s)}function _isIOSStandalone(s=getUA()){var i;return _isIOS(s)&&!!(!((i=window.navigator)===null||i===void 0)&&i.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(s=getUA()){return _isIOS(s)||_isAndroid(s)||_isWebOS(s)||_isBlackBerry(s)||/windows phone/i.test(s)||_isIEMobile(s)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(s,i=[]){let o;switch(s){case"Browser":o=_getBrowserName(getUA());break;case"Worker":o=`${_getBrowserName(getUA())}-${s}`;break;default:o=s}const et=i.length?i.join(","):"FirebaseCore-web";return`${o}/JsCore/${SDK_VERSION$2}/${et}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(i){this.auth=i,this.queue=[]}pushCallback(i,o){const et=Nl=>new Promise((Ml,Ol)=>{try{const Ll=i(Nl);Ml(Ll)}catch(Ll){Ol(Ll)}});et.onAbort=o,this.queue.push(et);const $l=this.queue.length-1;return()=>{this.queue[$l]=()=>Promise.resolve()}}async runMiddleware(i){var o;if(this.auth.currentUser===i)return;const et=[];try{for(const $l of this.queue)await $l(i),$l.onAbort&&et.push($l.onAbort)}catch($l){et.reverse();for(const Nl of et)try{Nl()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(o=$l)===null||o===void 0?void 0:o.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(i,o,et){this.app=i,this.heartbeatServiceProvider=o,this.config=et,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=i.name,this.clientVersion=et.sdkClientVersion}_initializeWithPersistence(i,o){return o&&(this._popupRedirectResolver=_getInstance(o)),this._initializationPromise=this.queue(async()=>{var et,$l;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,i),!this._deleted)){if(!((et=this._popupRedirectResolver)===null||et===void 0)&&et._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(o),this.lastNotifiedUid=(($l=this.currentUser)===null||$l===void 0?void 0:$l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const i=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!i)){if(this.currentUser&&i&&this.currentUser.uid===i.uid){this._currentUser._assign(i),await this.currentUser.getIdToken();return}await this._updateCurrentUser(i,!0)}}async initializeCurrentUser(i){var o;const et=await this.assertedPersistence.getCurrentUser();let $l=et,Nl=!1;if(i&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const Ml=(o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId,Ol=$l==null?void 0:$l._redirectEventId,Ll=await this.tryRedirectSignIn(i);(!Ml||Ml===Ol)&&(Ll==null?void 0:Ll.user)&&($l=Ll.user,Nl=!0)}if(!$l)return this.directlySetCurrentUser(null);if(!$l._redirectEventId){if(Nl)try{await this.beforeStateQueue.runMiddleware($l)}catch(Ml){$l=et,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Ml))}return $l?this.reloadAndSetCurrentUserOrClear($l):this.directlySetCurrentUser(null)}return _assert$4(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===$l._redirectEventId?this.directlySetCurrentUser($l):this.reloadAndSetCurrentUserOrClear($l)}async tryRedirectSignIn(i){let o=null;try{o=await this._popupRedirectResolver._completeRedirectFn(this,i,!0)}catch{await this._setRedirectUser(null)}return o}async reloadAndSetCurrentUserOrClear(i){var o;try{await _reloadWithoutSaving(i)}catch(et){if(((o=et)===null||o===void 0?void 0:o.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(i)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(i){const o=i?getModularInstance(i):null;return o&&_assert$4(o.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(o&&o._clone(this))}async _updateCurrentUser(i,o=!1){if(!this._deleted)return i&&_assert$4(this.tenantId===i.tenantId,this,"tenant-id-mismatch"),o||await this.beforeStateQueue.runMiddleware(i),this.queue(async()=>{await this.directlySetCurrentUser(i),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(i){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(i))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(i){this._errorFactory=new ErrorFactory("auth","Firebase",i())}onAuthStateChanged(i,o,et){return this.registerStateListener(this.authStateSubscription,i,o,et)}beforeAuthStateChanged(i,o){return this.beforeStateQueue.pushCallback(i,o)}onIdTokenChanged(i,o,et){return this.registerStateListener(this.idTokenSubscription,i,o,et)}toJSON(){var i;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(i=this._currentUser)===null||i===void 0?void 0:i.toJSON()}}async _setRedirectUser(i,o){const et=await this.getOrInitRedirectPersistenceManager(o);return i===null?et.removeCurrentUser():et.setCurrentUser(i)}async getOrInitRedirectPersistenceManager(i){if(!this.redirectPersistenceManager){const o=i&&_getInstance(i)||this._popupRedirectResolver;_assert$4(o,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(o._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(i){var o,et;return this._isInitialized&&await this.queue(async()=>{}),((o=this._currentUser)===null||o===void 0?void 0:o._redirectEventId)===i?this._currentUser:((et=this.redirectUser)===null||et===void 0?void 0:et._redirectEventId)===i?this.redirectUser:null}async _persistUserIfCurrent(i){if(i===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(i))}_notifyListenersIfCurrent(i){i===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i,o;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const et=(o=(i=this.currentUser)===null||i===void 0?void 0:i.uid)!==null&&o!==void 0?o:null;this.lastNotifiedUid!==et&&(this.lastNotifiedUid=et,this.authStateSubscription.next(this.currentUser))}registerStateListener(i,o,et,$l){if(this._deleted)return()=>{};const Nl=typeof o=="function"?o:o.next.bind(o),Ml=this._isInitialized?Promise.resolve():this._initializationPromise;return _assert$4(Ml,this,"internal-error"),Ml.then(()=>Nl(this.currentUser)),typeof o=="function"?i.addObserver(o,et,$l):i.addObserver(o)}async directlySetCurrentUser(i){this.currentUser&&this.currentUser!==i&&(this._currentUser._stopProactiveRefresh(),i&&this.isProactiveRefreshEnabled&&i._startProactiveRefresh()),this.currentUser=i,i?await this.assertedPersistence.setCurrentUser(i):await this.assertedPersistence.removeCurrentUser()}queue(i){return this.operations=this.operations.then(i,i),this.operations}get assertedPersistence(){return _assert$4(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(i){!i||this.frameworks.includes(i)||(this.frameworks.push(i),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const o={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(o["X-Firebase-gmpid"]=this.app.options.appId);const et=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||i===void 0?void 0:i.getHeartbeatsHeader());return et&&(o["X-Firebase-Client"]=et),o}}function _castAuth(s){return getModularInstance(s)}class Subscription{constructor(i){this.auth=i,this.observer=null,this.addObserver=createSubscribe(o=>this.observer=o)}get next(){return _assert$4(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function connectAuthEmulator(s,i,o){const et=_castAuth(s);_assert$4(et._canInitEmulator,et,"emulator-config-failed"),_assert$4(/^https?:\/\//.test(i),et,"invalid-emulator-scheme");const $l=!!(o!=null&&o.disableWarnings),Nl=extractProtocol(i),{host:Ml,port:Ol}=extractHostAndPort(i),Ll=Ol===null?"":`:${Ol}`;et.config.emulator={url:`${Nl}//${Ml}${Ll}/`},et.settings.appVerificationDisabledForTesting=!0,et.emulatorConfig=Object.freeze({host:Ml,port:Ol,protocol:Nl.replace(":",""),options:Object.freeze({disableWarnings:$l})}),$l||emitEmulatorWarning()}function extractProtocol(s){const i=s.indexOf(":");return i<0?"":s.substr(0,i+1)}function extractHostAndPort(s){const i=extractProtocol(s),o=/(\/\/)?([^?#/]+)/.exec(s.substr(i.length));if(!o)return{host:"",port:null};const et=o[2].split("@").pop()||"",$l=/^(\[[^\]]+\])(:|$)/.exec(et);if($l){const Nl=$l[1];return{host:Nl,port:parsePort(et.substr(Nl.length+1))}}else{const[Nl,Ml]=et.split(":");return{host:Nl,port:parsePort(Ml)}}}function parsePort(s){if(!s)return null;const i=Number(s);return isNaN(i)?null:i}function emitEmulatorWarning(){function s(){const i=document.createElement("p"),o=i.style;i.innerText="Running in emulator mode. Do not use with production credentials.",o.position="fixed",o.width="100%",o.backgroundColor="#ffffff",o.border=".1em solid #000000",o.color="#b50000",o.bottom="0px",o.left="0px",o.margin="0px",o.zIndex="10000",o.textAlign="center",i.classList.add("firebase-emulator-warning"),document.body.appendChild(i)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(i,o){this.providerId=i,this.signInMethod=o}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(i){return debugFail("not implemented")}_linkToIdToken(i,o){return debugFail("not implemented")}_getReauthenticationResolver(i){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function resetPassword(s,i){return _performApiRequest(s,"POST","/v1/accounts:resetPassword",_addTidIfNecessary(s,i))}async function updateEmailPassword(s,i){return _performApiRequest(s,"POST","/v1/accounts:update",i)}async function applyActionCode$1(s,i){return _performApiRequest(s,"POST","/v1/accounts:update",_addTidIfNecessary(s,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(s,i){return _performSignInRequest(s,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(s,i))}async function sendOobCode(s,i){return _performApiRequest(s,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(s,i))}async function sendEmailVerification$1(s,i){return sendOobCode(s,i)}async function sendPasswordResetEmail$1(s,i){return sendOobCode(s,i)}async function sendSignInLinkToEmail$1(s,i){return sendOobCode(s,i)}async function verifyAndChangeEmail(s,i){return sendOobCode(s,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(s,i){return _performSignInRequest(s,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(s,i))}async function signInWithEmailLinkForLinking(s,i){return _performSignInRequest(s,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(s,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(i,o,et,$l=null){super("password",et),this._email=i,this._password=o,this._tenantId=$l}static _fromEmailAndPassword(i,o){return new EmailAuthCredential(i,o,"password")}static _fromEmailAndCode(i,o,et=null){return new EmailAuthCredential(i,o,"emailLink",et)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(i){const o=typeof i=="string"?JSON.parse(i):i;if((o==null?void 0:o.email)&&(o==null?void 0:o.password)){if(o.signInMethod==="password")return this._fromEmailAndPassword(o.email,o.password);if(o.signInMethod==="emailLink")return this._fromEmailAndCode(o.email,o.password,o.tenantId)}return null}async _getIdTokenResponse(i){switch(this.signInMethod){case"password":return signInWithPassword(i,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLink$1(i,{email:this._email,oobCode:this._password});default:_fail(i,"internal-error")}}async _linkToIdToken(i,o){switch(this.signInMethod){case"password":return updateEmailPassword(i,{idToken:o,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLinkForLinking(i,{idToken:o,email:this._email,oobCode:this._password});default:_fail(i,"internal-error")}}_getReauthenticationResolver(i){return this._getIdTokenResponse(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(s,i){return _performSignInRequest(s,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(s,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(i){const o=new OAuthCredential(i.providerId,i.signInMethod);return i.idToken||i.accessToken?(i.idToken&&(o.idToken=i.idToken),i.accessToken&&(o.accessToken=i.accessToken),i.nonce&&!i.pendingToken&&(o.nonce=i.nonce),i.pendingToken&&(o.pendingToken=i.pendingToken)):i.oauthToken&&i.oauthTokenSecret?(o.accessToken=i.oauthToken,o.secret=i.oauthTokenSecret):_fail("argument-error"),o}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(i){const o=typeof i=="string"?JSON.parse(i):i,{providerId:et,signInMethod:$l}=o,Nl=__rest(o,["providerId","signInMethod"]);if(!et||!$l)return null;const Ml=new OAuthCredential(et,$l);return Ml.idToken=Nl.idToken||void 0,Ml.accessToken=Nl.accessToken||void 0,Ml.secret=Nl.secret,Ml.nonce=Nl.nonce,Ml.pendingToken=Nl.pendingToken||null,Ml}_getIdTokenResponse(i){const o=this.buildRequest();return signInWithIdp(i,o)}_linkToIdToken(i,o){const et=this.buildRequest();return et.idToken=o,signInWithIdp(i,et)}_getReauthenticationResolver(i){const o=this.buildRequest();return o.autoCreate=!1,signInWithIdp(i,o)}buildRequest(){const i={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)i.pendingToken=this.pendingToken;else{const o={};this.idToken&&(o.id_token=this.idToken),this.accessToken&&(o.access_token=this.accessToken),this.secret&&(o.oauth_token_secret=this.secret),o.providerId=this.providerId,this.nonce&&!this.pendingToken&&(o.nonce=this.nonce),i.postBody=querystring(o)}return i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sendPhoneVerificationCode(s,i){return _performApiRequest(s,"POST","/v1/accounts:sendVerificationCode",_addTidIfNecessary(s,i))}async function signInWithPhoneNumber$1(s,i){return _performSignInRequest(s,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(s,i))}async function linkWithPhoneNumber$1(s,i){const o=await _performSignInRequest(s,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(s,i));if(o.temporaryProof)throw _makeTaggedError(s,"account-exists-with-different-credential",o);return o}const VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_={USER_NOT_FOUND:"user-not-found"};async function verifyPhoneNumberForExisting(s,i){const o=Object.assign(Object.assign({},i),{operation:"REAUTH"});return _performSignInRequest(s,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(s,o),VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PhoneAuthCredential extends AuthCredential{constructor(i){super("phone","phone"),this.params=i}static _fromVerification(i,o){return new PhoneAuthCredential({verificationId:i,verificationCode:o})}static _fromTokenResponse(i,o){return new PhoneAuthCredential({phoneNumber:i,temporaryProof:o})}_getIdTokenResponse(i){return signInWithPhoneNumber$1(i,this._makeVerificationRequest())}_linkToIdToken(i,o){return linkWithPhoneNumber$1(i,Object.assign({idToken:o},this._makeVerificationRequest()))}_getReauthenticationResolver(i){return verifyPhoneNumberForExisting(i,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:i,phoneNumber:o,verificationId:et,verificationCode:$l}=this.params;return i&&o?{temporaryProof:i,phoneNumber:o}:{sessionInfo:et,code:$l}}toJSON(){const i={providerId:this.providerId};return this.params.phoneNumber&&(i.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(i.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(i.verificationCode=this.params.verificationCode),this.params.verificationId&&(i.verificationId=this.params.verificationId),i}static fromJSON(i){typeof i=="string"&&(i=JSON.parse(i));const{verificationId:o,verificationCode:et,phoneNumber:$l,temporaryProof:Nl}=i;return!et&&!o&&!$l&&!Nl?null:new PhoneAuthCredential({verificationId:o,verificationCode:et,phoneNumber:$l,temporaryProof:Nl})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(s){const i=querystringDecode(extractQuerystring(s)).link,o=i?querystringDecode(extractQuerystring(i)).deep_link_id:null,et=querystringDecode(extractQuerystring(s)).deep_link_id;return(et?querystringDecode(extractQuerystring(et)).link:null)||et||o||i||s}class ActionCodeURL{constructor(i){var o,et,$l,Nl,Ml,Ol;const Ll=querystringDecode(extractQuerystring(i)),Fl=(o=Ll.apiKey)!==null&&o!==void 0?o:null,Bl=(et=Ll.oobCode)!==null&&et!==void 0?et:null,Ul=parseMode(($l=Ll.mode)!==null&&$l!==void 0?$l:null);_assert$4(Fl&&Bl&&Ul,"argument-error"),this.apiKey=Fl,this.operation=Ul,this.code=Bl,this.continueUrl=(Nl=Ll.continueUrl)!==null&&Nl!==void 0?Nl:null,this.languageCode=(Ml=Ll.languageCode)!==null&&Ml!==void 0?Ml:null,this.tenantId=(Ol=Ll.tenantId)!==null&&Ol!==void 0?Ol:null}static parseLink(i){const o=parseDeepLink(i);try{return new ActionCodeURL(o)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(i,o){return EmailAuthCredential._fromEmailAndPassword(i,o)}static credentialWithLink(i,o){const et=ActionCodeURL.parseLink(o);return _assert$4(et,"argument-error"),EmailAuthCredential._fromEmailAndCode(i,et.code,et.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(i){this.providerId=i,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(i){this.defaultLanguageCode=i}setCustomParameters(i){return this.customParameters=i,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(i){return this.scopes.includes(i)||this.scopes.push(i),this}getScopes(){return[...this.scopes]}}class OAuthProvider extends BaseOAuthProvider{static credentialFromJSON(i){const o=typeof i=="string"?JSON.parse(i):i;return _assert$4("providerId"in o&&"signInMethod"in o,"argument-error"),OAuthCredential._fromParams(o)}credential(i){return this._credential(Object.assign(Object.assign({},i),{nonce:i.rawNonce}))}_credential(i){return _assert$4(i.idToken||i.accessToken,"argument-error"),OAuthCredential._fromParams(Object.assign(Object.assign({},i),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(i){return OAuthProvider.oauthCredentialFromTaggedObject(i)}static credentialFromError(i){return OAuthProvider.oauthCredentialFromTaggedObject(i.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{oauthIdToken:o,oauthAccessToken:et,oauthTokenSecret:$l,pendingToken:Nl,nonce:Ml,providerId:Ol}=i;if(!et&&!$l&&!o&&!Nl||!Ol)return null;try{return new OAuthProvider(Ol)._credential({idToken:o,accessToken:et,nonce:Ml,pendingToken:Nl})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(i){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:i})}static credentialFromResult(i){return FacebookAuthProvider.credentialFromTaggedObject(i)}static credentialFromError(i){return FacebookAuthProvider.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i||!("oauthAccessToken"in i)||!i.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(i.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(i,o){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:i,accessToken:o})}static credentialFromResult(i){return GoogleAuthProvider.credentialFromTaggedObject(i)}static credentialFromError(i){return GoogleAuthProvider.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{oauthIdToken:o,oauthAccessToken:et}=i;if(!o&&!et)return null;try{return GoogleAuthProvider.credential(o,et)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(i){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:i})}static credentialFromResult(i){return GithubAuthProvider.credentialFromTaggedObject(i)}static credentialFromError(i){return GithubAuthProvider.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i||!("oauthAccessToken"in i)||!i.oauthAccessToken)return null;try{return GithubAuthProvider.credential(i.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI="http://localhost";class SAMLAuthCredential extends AuthCredential{constructor(i,o){super(i,i),this.pendingToken=o}_getIdTokenResponse(i){const o=this.buildRequest();return signInWithIdp(i,o)}_linkToIdToken(i,o){const et=this.buildRequest();return et.idToken=o,signInWithIdp(i,et)}_getReauthenticationResolver(i){const o=this.buildRequest();return o.autoCreate=!1,signInWithIdp(i,o)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(i){const o=typeof i=="string"?JSON.parse(i):i,{providerId:et,signInMethod:$l,pendingToken:Nl}=o;return!et||!$l||!Nl||et!==$l?null:new SAMLAuthCredential(et,Nl)}static _create(i,o){return new SAMLAuthCredential(i,o)}buildRequest(){return{requestUri:IDP_REQUEST_URI,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SAML_PROVIDER_PREFIX="saml.";class SAMLAuthProvider extends FederatedAuthProvider{constructor(i){_assert$4(i.startsWith(SAML_PROVIDER_PREFIX),"argument-error"),super(i)}static credentialFromResult(i){return SAMLAuthProvider.samlCredentialFromTaggedObject(i)}static credentialFromError(i){return SAMLAuthProvider.samlCredentialFromTaggedObject(i.customData||{})}static credentialFromJSON(i){const o=SAMLAuthCredential.fromJSON(i);return _assert$4(o,"argument-error"),o}static samlCredentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{pendingToken:o,providerId:et}=i;if(!o||!et)return null;try{return SAMLAuthCredential._create(et,o)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(i,o){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:i,oauthTokenSecret:o})}static credentialFromResult(i){return TwitterAuthProvider.credentialFromTaggedObject(i)}static credentialFromError(i){return TwitterAuthProvider.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{oauthAccessToken:o,oauthTokenSecret:et}=i;if(!o||!et)return null;try{return TwitterAuthProvider.credential(o,et)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(s,i){return _performSignInRequest(s,"POST","/v1/accounts:signUp",_addTidIfNecessary(s,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(i){this.user=i.user,this.providerId=i.providerId,this._tokenResponse=i._tokenResponse,this.operationType=i.operationType}static async _fromIdTokenResponse(i,o,et,$l=!1){const Nl=await UserImpl._fromIdTokenResponse(i,et,$l),Ml=providerIdForResponse(et);return new UserCredentialImpl({user:Nl,providerId:Ml,_tokenResponse:et,operationType:o})}static async _forOperation(i,o,et){await i._updateTokensIfNecessary(et,!0);const $l=providerIdForResponse(et);return new UserCredentialImpl({user:i,providerId:$l,_tokenResponse:et,operationType:o})}}function providerIdForResponse(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInAnonymously(s){var i;const o=_castAuth(s);if(await o._initializationPromise,!((i=o.currentUser)===null||i===void 0)&&i.isAnonymous)return new UserCredentialImpl({user:o.currentUser,providerId:null,operationType:"signIn"});const et=await signUp(o,{returnSecureToken:!0}),$l=await UserCredentialImpl._fromIdTokenResponse(o,"signIn",et,!0);return await o._updateCurrentUser($l.user),$l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(i,o,et,$l){var Nl;super(o.code,o.message),this.operationType=et,this.user=$l,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:i.name,tenantId:(Nl=i.tenantId)!==null&&Nl!==void 0?Nl:void 0,_serverResponse:o.customData._serverResponse,operationType:et}}static _fromErrorAndOperation(i,o,et,$l){return new MultiFactorError(i,o,et,$l)}}function _processCredentialSavingMfaContextIfNecessary(s,i,o,et){return(i==="reauthenticate"?o._getReauthenticationResolver(s):o._getIdTokenResponse(s)).catch(Nl=>{throw Nl.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(s,Nl,i,et):Nl})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function providerDataAsNames(s){return new Set(s.map(({providerId:i})=>i).filter(i=>!!i))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function unlink(s,i){const o=getModularInstance(s);await _assertLinkedStatus(!0,o,i);const{providerUserInfo:et}=await deleteLinkedAccounts(o.auth,{idToken:await o.getIdToken(),deleteProvider:[i]}),$l=providerDataAsNames(et||[]);return o.providerData=o.providerData.filter(Nl=>$l.has(Nl.providerId)),$l.has("phone")||(o.phoneNumber=null),await o.auth._persistUserIfCurrent(o),o}async function _link$1(s,i,o=!1){const et=await _logoutIfInvalidated(s,i._linkToIdToken(s.auth,await s.getIdToken()),o);return UserCredentialImpl._forOperation(s,"link",et)}async function _assertLinkedStatus(s,i,o){await _reloadWithoutSaving(i);const et=providerDataAsNames(i.providerData),$l=s===!1?"provider-already-linked":"no-such-provider";_assert$4(et.has(o)===s,i.auth,$l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(s,i,o=!1){var et;const{auth:$l}=s,Nl="reauthenticate";try{const Ml=await _logoutIfInvalidated(s,_processCredentialSavingMfaContextIfNecessary($l,Nl,i,s),o);_assert$4(Ml.idToken,$l,"internal-error");const Ol=_parseToken(Ml.idToken);_assert$4(Ol,$l,"internal-error");const{sub:Ll}=Ol;return _assert$4(s.uid===Ll,$l,"user-mismatch"),UserCredentialImpl._forOperation(s,Nl,Ml)}catch(Ml){throw((et=Ml)===null||et===void 0?void 0:et.code)==="auth/user-not-found"&&_fail($l,"user-mismatch"),Ml}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(s,i,o=!1){const et="signIn",$l=await _processCredentialSavingMfaContextIfNecessary(s,et,i),Nl=await UserCredentialImpl._fromIdTokenResponse(s,et,$l);return o||await s._updateCurrentUser(Nl.user),Nl}async function signInWithCredential(s,i){return _signInWithCredential(_castAuth(s),i)}async function linkWithCredential(s,i){const o=getModularInstance(s);return await _assertLinkedStatus(!1,o,i.providerId),_link$1(o,i)}async function reauthenticateWithCredential(s,i){return _reauthenticate(getModularInstance(s),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithCustomToken$1(s,i){return _performSignInRequest(s,"POST","/v1/accounts:signInWithCustomToken",_addTidIfNecessary(s,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithCustomToken(s,i){const o=_castAuth(s),et=await signInWithCustomToken$1(o,{token:i,returnSecureToken:!0}),$l=await UserCredentialImpl._fromIdTokenResponse(o,"signIn",et);return await o._updateCurrentUser($l.user),$l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorInfoImpl{constructor(i,o){this.factorId=i,this.uid=o.mfaEnrollmentId,this.enrollmentTime=new Date(o.enrolledAt).toUTCString(),this.displayName=o.displayName}static _fromServerResponse(i,o){return"phoneInfo"in o?PhoneMultiFactorInfoImpl._fromServerResponse(i,o):_fail(i,"internal-error")}}class PhoneMultiFactorInfoImpl extends MultiFactorInfoImpl{constructor(i){super("phone",i),this.phoneNumber=i.phoneInfo}static _fromServerResponse(i,o){return new PhoneMultiFactorInfoImpl(o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _setActionCodeSettingsOnRequest(s,i,o){var et;_assert$4(((et=o.url)===null||et===void 0?void 0:et.length)>0,s,"invalid-continue-uri"),_assert$4(typeof o.dynamicLinkDomain=="undefined"||o.dynamicLinkDomain.length>0,s,"invalid-dynamic-link-domain"),i.continueUrl=o.url,i.dynamicLinkDomain=o.dynamicLinkDomain,i.canHandleCodeInApp=o.handleCodeInApp,o.iOS&&(_assert$4(o.iOS.bundleId.length>0,s,"missing-ios-bundle-id"),i.iOSBundleId=o.iOS.bundleId),o.android&&(_assert$4(o.android.packageName.length>0,s,"missing-android-pkg-name"),i.androidInstallApp=o.android.installApp,i.androidMinimumVersionCode=o.android.minimumVersion,i.androidPackageName=o.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sendPasswordResetEmail(s,i,o){const et=getModularInstance(s),$l={requestType:"PASSWORD_RESET",email:i};o&&_setActionCodeSettingsOnRequest(et,$l,o),await sendPasswordResetEmail$1(et,$l)}async function confirmPasswordReset(s,i,o){await resetPassword(getModularInstance(s),{oobCode:i,newPassword:o})}async function applyActionCode(s,i){await applyActionCode$1(getModularInstance(s),{oobCode:i})}async function checkActionCode(s,i){const o=getModularInstance(s),et=await resetPassword(o,{oobCode:i}),$l=et.requestType;switch(_assert$4($l,o,"internal-error"),$l){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_assert$4(et.newEmail,o,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_assert$4(et.mfaInfo,o,"internal-error");default:_assert$4(et.email,o,"internal-error")}let Nl=null;return et.mfaInfo&&(Nl=MultiFactorInfoImpl._fromServerResponse(_castAuth(o),et.mfaInfo)),{data:{email:(et.requestType==="VERIFY_AND_CHANGE_EMAIL"?et.newEmail:et.email)||null,previousEmail:(et.requestType==="VERIFY_AND_CHANGE_EMAIL"?et.email:et.newEmail)||null,multiFactorInfo:Nl},operation:$l}}async function verifyPasswordResetCode(s,i){const{data:o}=await checkActionCode(getModularInstance(s),i);return o.email}async function createUserWithEmailAndPassword(s,i,o){const et=_castAuth(s),$l=await signUp(et,{returnSecureToken:!0,email:i,password:o}),Nl=await UserCredentialImpl._fromIdTokenResponse(et,"signIn",$l);return await et._updateCurrentUser(Nl.user),Nl}function signInWithEmailAndPassword(s,i,o){return signInWithCredential(getModularInstance(s),EmailAuthProvider.credential(i,o))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sendSignInLinkToEmail(s,i,o){const et=getModularInstance(s),$l={requestType:"EMAIL_SIGNIN",email:i};_assert$4(o.handleCodeInApp,et,"argument-error"),o&&_setActionCodeSettingsOnRequest(et,$l,o),await sendSignInLinkToEmail$1(et,$l)}function isSignInWithEmailLink(s,i){const o=ActionCodeURL.parseLink(i);return(o==null?void 0:o.operation)==="EMAIL_SIGNIN"}async function signInWithEmailLink(s,i,o){const et=getModularInstance(s),$l=EmailAuthProvider.credentialWithLink(i,o||_getCurrentUrl());return _assert$4($l._tenantId===(et.tenantId||null),et,"tenant-id-mismatch"),signInWithCredential(et,$l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createAuthUri(s,i){return _performApiRequest(s,"POST","/v1/accounts:createAuthUri",_addTidIfNecessary(s,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fetchSignInMethodsForEmail(s,i){const o=_isHttpOrHttps$1()?_getCurrentUrl():"http://localhost",et={identifier:i,continueUri:o},{signinMethods:$l}=await createAuthUri(getModularInstance(s),et);return $l||[]}async function sendEmailVerification(s,i){const o=getModularInstance(s),et=await s.getIdToken(),$l={requestType:"VERIFY_EMAIL",idToken:et};i&&_setActionCodeSettingsOnRequest(o.auth,$l,i);const{email:Nl}=await sendEmailVerification$1(o.auth,$l);Nl!==s.email&&await s.reload()}async function verifyBeforeUpdateEmail(s,i,o){const et=getModularInstance(s),$l=await s.getIdToken(),Nl={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:$l,newEmail:i};o&&_setActionCodeSettingsOnRequest(et.auth,Nl,o);const{email:Ml}=await verifyAndChangeEmail(et.auth,Nl);Ml!==s.email&&await s.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile$1(s,i){return _performApiRequest(s,"POST","/v1/accounts:update",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile(s,{displayName:i,photoURL:o}){if(i===void 0&&o===void 0)return;const et=getModularInstance(s),Nl={idToken:await et.getIdToken(),displayName:i,photoUrl:o,returnSecureToken:!0},Ml=await _logoutIfInvalidated(et,updateProfile$1(et.auth,Nl));et.displayName=Ml.displayName||null,et.photoURL=Ml.photoUrl||null;const Ol=et.providerData.find(({providerId:Ll})=>Ll==="password");Ol&&(Ol.displayName=et.displayName,Ol.photoURL=et.photoURL),await et._updateTokensIfNecessary(Ml)}function updateEmail(s,i){return updateEmailOrPassword(getModularInstance(s),i,null)}function updatePassword(s,i){return updateEmailOrPassword(getModularInstance(s),null,i)}async function updateEmailOrPassword(s,i,o){const{auth:et}=s,Nl={idToken:await s.getIdToken(),returnSecureToken:!0};i&&(Nl.email=i),o&&(Nl.password=o);const Ml=await _logoutIfInvalidated(s,updateEmailPassword(et,Nl));await s._updateTokensIfNecessary(Ml,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fromIdTokenResponse(s){var i,o;if(!s)return null;const{providerId:et}=s,$l=s.rawUserInfo?JSON.parse(s.rawUserInfo):{},Nl=s.isNewUser||s.kind==="identitytoolkit#SignupNewUserResponse";if(!et&&(s==null?void 0:s.idToken)){const Ml=(o=(i=_parseToken(s.idToken))===null||i===void 0?void 0:i.firebase)===null||o===void 0?void 0:o.sign_in_provider;if(Ml){const Ol=Ml!=="anonymous"&&Ml!=="custom"?Ml:null;return new GenericAdditionalUserInfo(Nl,Ol)}}if(!et)return null;switch(et){case"facebook.com":return new FacebookAdditionalUserInfo(Nl,$l);case"github.com":return new GithubAdditionalUserInfo(Nl,$l);case"google.com":return new GoogleAdditionalUserInfo(Nl,$l);case"twitter.com":return new TwitterAdditionalUserInfo(Nl,$l,s.screenName||null);case"custom":case"anonymous":return new GenericAdditionalUserInfo(Nl,null);default:return new GenericAdditionalUserInfo(Nl,et,$l)}}class GenericAdditionalUserInfo{constructor(i,o,et={}){this.isNewUser=i,this.providerId=o,this.profile=et}}class FederatedAdditionalUserInfoWithUsername extends GenericAdditionalUserInfo{constructor(i,o,et,$l){super(i,o,et),this.username=$l}}class FacebookAdditionalUserInfo extends GenericAdditionalUserInfo{constructor(i,o){super(i,"facebook.com",o)}}class GithubAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername{constructor(i,o){super(i,"github.com",o,typeof(o==null?void 0:o.login)=="string"?o==null?void 0:o.login:null)}}class GoogleAdditionalUserInfo extends GenericAdditionalUserInfo{constructor(i,o){super(i,"google.com",o)}}class TwitterAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername{constructor(i,o,et){super(i,"twitter.com",o,et)}}function getAdditionalUserInfo(s){const{user:i,_tokenResponse:o}=s;return i.isAnonymous&&!o?{providerId:null,isNewUser:!1,profile:null}:_fromIdTokenResponse(o)}function onAuthStateChanged(s,i,o,et){return getModularInstance(s).onAuthStateChanged(i,o,et)}function signOut(s){return getModularInstance(s).signOut()}class MultiFactorSessionImpl{constructor(i,o){this.type=i,this.credential=o}static _fromIdtoken(i){return new MultiFactorSessionImpl("enroll",i)}static _fromMfaPendingCredential(i){return new MultiFactorSessionImpl("signin",i)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(i){var o,et;if(i!=null&&i.multiFactorSession){if(!((o=i.multiFactorSession)===null||o===void 0)&&o.pendingCredential)return MultiFactorSessionImpl._fromMfaPendingCredential(i.multiFactorSession.pendingCredential);if(!((et=i.multiFactorSession)===null||et===void 0)&&et.idToken)return MultiFactorSessionImpl._fromIdtoken(i.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorResolverImpl{constructor(i,o,et){this.session=i,this.hints=o,this.signInResolver=et}static _fromError(i,o){const et=_castAuth(i),$l=o.customData._serverResponse,Nl=($l.mfaInfo||[]).map(Ol=>MultiFactorInfoImpl._fromServerResponse(et,Ol));_assert$4($l.mfaPendingCredential,et,"internal-error");const Ml=MultiFactorSessionImpl._fromMfaPendingCredential($l.mfaPendingCredential);return new MultiFactorResolverImpl(Ml,Nl,async Ol=>{const Ll=await Ol._process(et,Ml);delete $l.mfaInfo,delete $l.mfaPendingCredential;const Fl=Object.assign(Object.assign({},$l),{idToken:Ll.idToken,refreshToken:Ll.refreshToken});switch(o.operationType){case"signIn":const Bl=await UserCredentialImpl._fromIdTokenResponse(et,o.operationType,Fl);return await et._updateCurrentUser(Bl.user),Bl;case"reauthenticate":return _assert$4(o.user,et,"internal-error"),UserCredentialImpl._forOperation(o.user,o.operationType,Fl);default:_fail(et,"internal-error")}})}async resolveSignIn(i){const o=i;return this.signInResolver(o)}}function getMultiFactorResolver(s,i){var o;const et=getModularInstance(s),$l=i;return _assert$4(i.customData.operationType,et,"argument-error"),_assert$4((o=$l.customData._serverResponse)===null||o===void 0?void 0:o.mfaPendingCredential,et,"argument-error"),MultiFactorResolverImpl._fromError(et,$l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function startEnrollPhoneMfa(s,i){return _performApiRequest(s,"POST","/v2/accounts/mfaEnrollment:start",_addTidIfNecessary(s,i))}function finalizeEnrollPhoneMfa(s,i){return _performApiRequest(s,"POST","/v2/accounts/mfaEnrollment:finalize",_addTidIfNecessary(s,i))}function withdrawMfa(s,i){return _performApiRequest(s,"POST","/v2/accounts/mfaEnrollment:withdraw",_addTidIfNecessary(s,i))}class MultiFactorUserImpl{constructor(i){this.user=i,this.enrolledFactors=[],i._onReload(o=>{o.mfaInfo&&(this.enrolledFactors=o.mfaInfo.map(et=>MultiFactorInfoImpl._fromServerResponse(i.auth,et)))})}static _fromUser(i){return new MultiFactorUserImpl(i)}async getSession(){return MultiFactorSessionImpl._fromIdtoken(await this.user.getIdToken())}async enroll(i,o){const et=i,$l=await this.getSession(),Nl=await _logoutIfInvalidated(this.user,et._process(this.user.auth,$l,o));return await this.user._updateTokensIfNecessary(Nl),this.user.reload()}async unenroll(i){var o;const et=typeof i=="string"?i:i.uid,$l=await this.user.getIdToken(),Nl=await _logoutIfInvalidated(this.user,withdrawMfa(this.user.auth,{idToken:$l,mfaEnrollmentId:et}));this.enrolledFactors=this.enrolledFactors.filter(({uid:Ml})=>Ml!==et),await this.user._updateTokensIfNecessary(Nl);try{await this.user.reload()}catch(Ml){if(((o=Ml)===null||o===void 0?void 0:o.code)!=="auth/user-token-expired")throw Ml}}}const multiFactorUserCache=new WeakMap;function multiFactor(s){const i=getModularInstance(s);return multiFactorUserCache.has(i)||multiFactorUserCache.set(i,MultiFactorUserImpl._fromUser(i)),multiFactorUserCache.get(i)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(i,o){this.storageRetriever=i,this.type=o}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(i,o){return this.storage.setItem(i,JSON.stringify(o)),Promise.resolve()}_get(i){const o=this.storage.getItem(i);return Promise.resolve(o?JSON.parse(o):null)}_remove(i){return this.storage.removeItem(i),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const s=getUA();return _isSafari(s)||_isIOS(s)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(i,o)=>this.onStorageEvent(i,o),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(i){for(const o of Object.keys(this.listeners)){const et=this.storage.getItem(o),$l=this.localCache[o];et!==$l&&i(o,$l,et)}}onStorageEvent(i,o=!1){if(!i.key){this.forAllChangedKeys((Ml,Ol,Ll)=>{this.notifyListeners(Ml,Ll)});return}const et=i.key;if(o?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ml=this.storage.getItem(et);if(i.newValue!==Ml)i.newValue!==null?this.storage.setItem(et,i.newValue):this.storage.removeItem(et);else if(this.localCache[et]===i.newValue&&!o)return}const $l=()=>{const Ml=this.storage.getItem(et);!o&&this.localCache[et]===Ml||this.notifyListeners(et,Ml)},Nl=this.storage.getItem(et);_isIE10()&&Nl!==i.newValue&&i.newValue!==i.oldValue?setTimeout($l,IE10_LOCAL_STORAGE_SYNC_DELAY):$l()}notifyListeners(i,o){this.localCache[i]=o;const et=this.listeners[i];if(et)for(const $l of Array.from(et))$l(o&&JSON.parse(o))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((i,o,et)=>{this.onStorageEvent(new StorageEvent("storage",{key:i,oldValue:o,newValue:et}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(i,o){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[i]||(this.listeners[i]=new Set,this.localCache[i]=this.storage.getItem(i)),this.listeners[i].add(o)}_removeListener(i,o){this.listeners[i]&&(this.listeners[i].delete(o),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(i,o){await super._set(i,o),this.localCache[i]=JSON.stringify(o)}async _get(i){const o=await super._get(i);return this.localCache[i]=JSON.stringify(o),o}async _remove(i){await super._remove(i),delete this.localCache[i]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(i,o){}_removeListener(i,o){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(s){return Promise.all(s.map(async i=>{try{const o=await i;return{fulfilled:!0,value:o}}catch(o){return{fulfilled:!1,reason:o}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(i){this.eventTarget=i,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(i){const o=this.receivers.find($l=>$l.isListeningto(i));if(o)return o;const et=new Receiver(i);return this.receivers.push(et),et}isListeningto(i){return this.eventTarget===i}async handleEvent(i){const o=i,{eventId:et,eventType:$l,data:Nl}=o.data,Ml=this.handlersMap[$l];if(!(Ml!=null&&Ml.size))return;o.ports[0].postMessage({status:"ack",eventId:et,eventType:$l});const Ol=Array.from(Ml).map(async Fl=>Fl(o.origin,Nl)),Ll=await _allSettled(Ol);o.ports[0].postMessage({status:"done",eventId:et,eventType:$l,response:Ll})}_subscribe(i,o){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[i]||(this.handlersMap[i]=new Set),this.handlersMap[i].add(o)}_unsubscribe(i,o){this.handlersMap[i]&&o&&this.handlersMap[i].delete(o),(!o||this.handlersMap[i].size===0)&&delete this.handlersMap[i],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(s="",i=10){let o="";for(let et=0;et<i;et++)o+=Math.floor(Math.random()*10);return s+o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(i){this.target=i,this.handlers=new Set}removeMessageHandler(i){i.messageChannel&&(i.messageChannel.port1.removeEventListener("message",i.onMessage),i.messageChannel.port1.close()),this.handlers.delete(i)}async _send(i,o,et=50){const $l=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!$l)throw new Error("connection_unavailable");let Nl,Ml;return new Promise((Ol,Ll)=>{const Fl=_generateEventId("",20);$l.port1.start();const Bl=setTimeout(()=>{Ll(new Error("unsupported_event"))},et);Ml={messageChannel:$l,onMessage(Ul){const Gl=Ul;if(Gl.data.eventId===Fl)switch(Gl.data.status){case"ack":clearTimeout(Bl),Nl=setTimeout(()=>{Ll(new Error("timeout"))},3e3);break;case"done":clearTimeout(Nl),Ol(Gl.data.response);break;default:clearTimeout(Bl),clearTimeout(Nl),Ll(new Error("invalid_response"));break}}},this.handlers.add(Ml),$l.port1.addEventListener("message",Ml.onMessage),this.target.postMessage({eventType:i,eventId:Fl,data:o},[$l.port2])}).finally(()=>{Ml&&this.removeMessageHandler(Ml)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(s){_window().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker$1(){return typeof _window().WorkerGlobalScope!="undefined"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function _getWorkerGlobalScope(){return _isWorker$1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$2="firebaseLocalStorageDb",DB_VERSION$2=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(i){this.request=i}toPromise(){return new Promise((i,o)=>{this.request.addEventListener("success",()=>{i(this.request.result)}),this.request.addEventListener("error",()=>{o(this.request.error)})})}}function getObjectStore(s,i){return s.transaction([DB_OBJECTSTORE_NAME],i?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const s=indexedDB.deleteDatabase(DB_NAME$2);return new DBPromise(s).toPromise()}function _openDatabase(){const s=indexedDB.open(DB_NAME$2,DB_VERSION$2);return new Promise((i,o)=>{s.addEventListener("error",()=>{o(s.error)}),s.addEventListener("upgradeneeded",()=>{const et=s.result;try{et.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch($l){o($l)}}),s.addEventListener("success",async()=>{const et=s.result;et.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?i(et):(et.close(),await _deleteDatabase(),i(await _openDatabase()))})})}async function _putObject(s,i,o){const et=getObjectStore(s,!0).put({[DB_DATA_KEYPATH]:i,value:o});return new DBPromise(et).toPromise()}async function getObject(s,i){const o=getObjectStore(s,!1).get(i),et=await new DBPromise(o).toPromise();return et===void 0?null:et.value}function _deleteObject(s,i){const o=getObjectStore(s,!0).delete(i);return new DBPromise(o).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(i){let o=0;for(;;)try{const et=await this._openDb();return await i(et)}catch(et){if(o++>_TRANSACTION_RETRY_COUNT)throw et;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker$1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(i,o)=>({keyProcessed:(await this._poll()).includes(o.key)})),this.receiver._subscribe("ping",async(i,o)=>["keyChanged"])}async initializeSender(){var i,o;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const et=await this.sender._send("ping",{},800);!et||((i=et[0])===null||i===void 0?void 0:i.fulfilled)&&((o=et[0])===null||o===void 0?void 0:o.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(i){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:i},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const i=await _openDatabase();return await _putObject(i,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(i,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(i){this.pendingWrites++;try{await i()}finally{this.pendingWrites--}}async _set(i,o){return this._withPendingWrite(async()=>(await this._withRetries(et=>_putObject(et,i,o)),this.localCache[i]=o,this.notifyServiceWorker(i)))}async _get(i){const o=await this._withRetries(et=>getObject(et,i));return this.localCache[i]=o,o}async _remove(i){return this._withPendingWrite(async()=>(await this._withRetries(o=>_deleteObject(o,i)),delete this.localCache[i],this.notifyServiceWorker(i)))}async _poll(){const i=await this._withRetries($l=>{const Nl=getObjectStore($l,!1).getAll();return new DBPromise(Nl).toPromise()});if(!i)return[];if(this.pendingWrites!==0)return[];const o=[],et=new Set;for(const{fbase_key:$l,value:Nl}of i)et.add($l),JSON.stringify(this.localCache[$l])!==JSON.stringify(Nl)&&(this.notifyListeners($l,Nl),o.push($l));for(const $l of Object.keys(this.localCache))this.localCache[$l]&&!et.has($l)&&(this.notifyListeners($l,null),o.push($l));return o}notifyListeners(i,o){this.localCache[i]=o;const et=this.listeners[i];if(et)for(const $l of Array.from(et))$l(o)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(i,o){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[i]||(this.listeners[i]=new Set,this._get(i)),this.listeners[i].add(o)}_removeListener(i,o){this.listeners[i]&&(this.listeners[i].delete(o),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function startSignInPhoneMfa(s,i){return _performApiRequest(s,"POST","/v2/accounts/mfaSignIn:start",_addTidIfNecessary(s,i))}function finalizeSignInPhoneMfa(s,i){return _performApiRequest(s,"POST","/v2/accounts/mfaSignIn:finalize",_addTidIfNecessary(s,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getRecaptchaParams(s){return(await _performApiRequest(s,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getScriptParentElement(){var s,i;return(i=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&i!==void 0?i:document}function _loadJS(s){return new Promise((i,o)=>{const et=document.createElement("script");et.setAttribute("src",s),et.onload=i,et.onerror=$l=>{const Nl=_createError("internal-error");Nl.customData=$l,o(Nl)},et.type="text/javascript",et.charset="UTF-8",getScriptParentElement().appendChild(et)})}function _generateCallbackName(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _SOLVE_TIME_MS=500,_EXPIRATION_TIME_MS=6e4,_WIDGET_ID_START=1e12;class MockReCaptcha{constructor(i){this.auth=i,this.counter=_WIDGET_ID_START,this._widgets=new Map}render(i,o){const et=this.counter;return this._widgets.set(et,new MockWidget(i,this.auth.name,o||{})),this.counter++,et}reset(i){var o;const et=i||_WIDGET_ID_START;(o=this._widgets.get(et))===null||o===void 0||o.delete(),this._widgets.delete(et)}getResponse(i){var o;const et=i||_WIDGET_ID_START;return((o=this._widgets.get(et))===null||o===void 0?void 0:o.getResponse())||""}async execute(i){var o;const et=i||_WIDGET_ID_START;return(o=this._widgets.get(et))===null||o===void 0||o.execute(),""}}class MockWidget{constructor(i,o,et){this.params=et,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $l=typeof i=="string"?document.getElementById(i):i;_assert$4($l,"argument-error",{appName:o}),this.container=$l,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=generateRandomAlphaNumericString(50);const{callback:i,"expired-callback":o}=this.params;if(i)try{i(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,o)try{o()}catch{}this.isVisible&&this.execute()},_EXPIRATION_TIME_MS)},_SOLVE_TIME_MS))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function generateRandomAlphaNumericString(s){const i=[],o="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let et=0;et<s;et++)i.push(o.charAt(Math.floor(Math.random()*o.length)));return i.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _JSLOAD_CALLBACK=_generateCallbackName("rcb"),NETWORK_TIMEOUT_DELAY=new Delay(3e4,6e4),RECAPTCHA_BASE="https://www.google.com/recaptcha/api.js?";class ReCaptchaLoaderImpl{constructor(){var i;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((i=_window().grecaptcha)===null||i===void 0)&&i.render)}load(i,o=""){return _assert$4(isHostLanguageValid(o),i,"argument-error"),this.shouldResolveImmediately(o)?Promise.resolve(_window().grecaptcha):new Promise((et,$l)=>{const Nl=_window().setTimeout(()=>{$l(_createError(i,"network-request-failed"))},NETWORK_TIMEOUT_DELAY.get());_window()[_JSLOAD_CALLBACK]=()=>{_window().clearTimeout(Nl),delete _window()[_JSLOAD_CALLBACK];const Ol=_window().grecaptcha;if(!Ol){$l(_createError(i,"internal-error"));return}const Ll=Ol.render;Ol.render=(Fl,Bl)=>{const Ul=Ll(Fl,Bl);return this.counter++,Ul},this.hostLanguage=o,et(Ol)};const Ml=`${RECAPTCHA_BASE}?${querystring({onload:_JSLOAD_CALLBACK,render:"explicit",hl:o})}`;_loadJS(Ml).catch(()=>{clearTimeout(Nl),$l(_createError(i,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(i){var o;return!!(!((o=_window().grecaptcha)===null||o===void 0)&&o.render)&&(i===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function isHostLanguageValid(s){return s.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(s)}class MockReCaptchaLoaderImpl{async load(i){return new MockReCaptcha(i)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RECAPTCHA_VERIFIER_TYPE="recaptcha",DEFAULT_PARAMS={theme:"light",type:"image"};class RecaptchaVerifier$1{constructor(i,o=Object.assign({},DEFAULT_PARAMS),et){this.parameters=o,this.type=RECAPTCHA_VERIFIER_TYPE,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_castAuth(et),this.isInvisible=this.parameters.size==="invisible",_assert$4(typeof document!="undefined",this.auth,"operation-not-supported-in-this-environment");const $l=typeof i=="string"?document.getElementById(i):i;_assert$4($l,this.auth,"argument-error"),this.container=$l,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new MockReCaptchaLoaderImpl:new ReCaptchaLoaderImpl,this.validateStartingState()}async verify(){this.assertNotDestroyed();const i=await this.render(),o=this.getAssertedRecaptcha(),et=o.getResponse(i);return et||new Promise($l=>{const Nl=Ml=>{!Ml||(this.tokenChangeListeners.delete(Nl),$l(Ml))};this.tokenChangeListeners.add(Nl),this.isInvisible&&o.execute(i)})}render(){try{this.assertNotDestroyed()}catch(i){return Promise.reject(i)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(i=>{throw this.renderPromise=null,i}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(i=>{this.container.removeChild(i)})}validateStartingState(){_assert$4(!this.parameters.sitekey,this.auth,"argument-error"),_assert$4(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_assert$4(typeof document!="undefined",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(i){return o=>{if(this.tokenChangeListeners.forEach(et=>et(o)),typeof i=="function")i(o);else if(typeof i=="string"){const et=_window()[i];typeof et=="function"&&et(o)}}}assertNotDestroyed(){_assert$4(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let i=this.container;if(!this.isInvisible){const o=document.createElement("div");i.appendChild(o),i=o}this.widgetId=this.getAssertedRecaptcha().render(i,this.parameters)}return this.widgetId}async init(){_assert$4(_isHttpOrHttps$1()&&!_isWorker$1(),this.auth,"internal-error"),await domReady(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const i=await getRecaptchaParams(this.auth);_assert$4(i,this.auth,"internal-error"),this.parameters.sitekey=i}getAssertedRecaptcha(){return _assert$4(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function domReady(){let s=null;return new Promise(i=>{if(document.readyState==="complete"){i();return}s=()=>i(),window.addEventListener("load",s)}).catch(i=>{throw s&&window.removeEventListener("load",s),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ConfirmationResultImpl{constructor(i,o){this.verificationId=i,this.onConfirmation=o}confirm(i){const o=PhoneAuthCredential._fromVerification(this.verificationId,i);return this.onConfirmation(o)}}async function signInWithPhoneNumber(s,i,o){const et=_castAuth(s),$l=await _verifyPhoneNumber(et,i,getModularInstance(o));return new ConfirmationResultImpl($l,Nl=>signInWithCredential(et,Nl))}async function linkWithPhoneNumber(s,i,o){const et=getModularInstance(s);await _assertLinkedStatus(!1,et,"phone");const $l=await _verifyPhoneNumber(et.auth,i,getModularInstance(o));return new ConfirmationResultImpl($l,Nl=>linkWithCredential(et,Nl))}async function reauthenticateWithPhoneNumber(s,i,o){const et=getModularInstance(s),$l=await _verifyPhoneNumber(et.auth,i,getModularInstance(o));return new ConfirmationResultImpl($l,Nl=>reauthenticateWithCredential(et,Nl))}async function _verifyPhoneNumber(s,i,o){var et;const $l=await o.verify();try{_assert$4(typeof $l=="string",s,"argument-error"),_assert$4(o.type===RECAPTCHA_VERIFIER_TYPE,s,"argument-error");let Nl;if(typeof i=="string"?Nl={phoneNumber:i}:Nl=i,"session"in Nl){const Ml=Nl.session;if("phoneNumber"in Nl)return _assert$4(Ml.type==="enroll",s,"internal-error"),(await startEnrollPhoneMfa(s,{idToken:Ml.credential,phoneEnrollmentInfo:{phoneNumber:Nl.phoneNumber,recaptchaToken:$l}})).phoneSessionInfo.sessionInfo;{_assert$4(Ml.type==="signin",s,"internal-error");const Ol=((et=Nl.multiFactorHint)===null||et===void 0?void 0:et.uid)||Nl.multiFactorUid;return _assert$4(Ol,s,"missing-multi-factor-info"),(await startSignInPhoneMfa(s,{mfaPendingCredential:Ml.credential,mfaEnrollmentId:Ol,phoneSignInInfo:{recaptchaToken:$l}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:Ml}=await sendPhoneVerificationCode(s,{phoneNumber:Nl.phoneNumber,recaptchaToken:$l});return Ml}}finally{o._reset()}}async function updatePhoneNumber(s,i){await _link$1(getModularInstance(s),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PhoneAuthProvider$1{constructor(i){this.providerId=PhoneAuthProvider$1.PROVIDER_ID,this.auth=_castAuth(i)}verifyPhoneNumber(i,o){return _verifyPhoneNumber(this.auth,i,getModularInstance(o))}static credential(i,o){return PhoneAuthCredential._fromVerification(i,o)}static credentialFromResult(i){const o=i;return PhoneAuthProvider$1.credentialFromTaggedObject(o)}static credentialFromError(i){return PhoneAuthProvider$1.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{phoneNumber:o,temporaryProof:et}=i;return o&&et?PhoneAuthCredential._fromTokenResponse(o,et):null}}PhoneAuthProvider$1.PROVIDER_ID="phone";PhoneAuthProvider$1.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(s,i){return i?_getInstance(i):(_assert$4(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(i){super("custom","custom"),this.params=i}_getIdTokenResponse(i){return signInWithIdp(i,this._buildIdpRequest())}_linkToIdToken(i,o){return signInWithIdp(i,this._buildIdpRequest(o))}_getReauthenticationResolver(i){return signInWithIdp(i,this._buildIdpRequest())}_buildIdpRequest(i){const o={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return i&&(o.idToken=i),o}}function _signIn(s){return _signInWithCredential(s.auth,new IdpCredential(s),s.bypassAuthState)}function _reauth(s){const{auth:i,user:o}=s;return _assert$4(o,i,"internal-error"),_reauthenticate(o,new IdpCredential(s),s.bypassAuthState)}async function _link(s){const{auth:i,user:o}=s;return _assert$4(o,i,"internal-error"),_link$1(o,new IdpCredential(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(i,o,et,$l,Nl=!1){this.auth=i,this.resolver=et,this.user=$l,this.bypassAuthState=Nl,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(o)?o:[o]}execute(){return new Promise(async(i,o)=>{this.pendingPromise={resolve:i,reject:o};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(et){this.reject(et)}})}async onAuthEvent(i){const{urlResponse:o,sessionId:et,postBody:$l,tenantId:Nl,error:Ml,type:Ol}=i;if(Ml){this.reject(Ml);return}const Ll={auth:this.auth,requestUri:o,sessionId:et,tenantId:Nl||void 0,postBody:$l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(Ol)(Ll))}catch(Fl){this.reject(Fl)}}onError(i){this.reject(i)}getIdpTask(i){switch(i){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(i){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(i),this.unregisterAndCleanUp()}reject(i){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(i),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(s,i,o){const et=_castAuth(s);_assertInstanceOf(s,i,FederatedAuthProvider);const $l=_withDefaultResolver(et,o);return new PopupOperation(et,"signInViaPopup",i,$l).executeNotNull()}async function reauthenticateWithPopup(s,i,o){const et=getModularInstance(s);_assertInstanceOf(et.auth,i,FederatedAuthProvider);const $l=_withDefaultResolver(et.auth,o);return new PopupOperation(et.auth,"reauthViaPopup",i,$l,et).executeNotNull()}async function linkWithPopup(s,i,o){const et=getModularInstance(s);_assertInstanceOf(et.auth,i,FederatedAuthProvider);const $l=_withDefaultResolver(et.auth,o);return new PopupOperation(et.auth,"linkViaPopup",i,$l,et).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(i,o,et,$l,Nl){super(i,o,$l,Nl),this.provider=et,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const i=await this.execute();return _assert$4(i,this.auth,"internal-error"),i}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const i=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],i),this.authWindow.associatedEvent=i,this.resolver._originValidation(this.auth).catch(o=>{this.reject(o)}),this.resolver._isIframeWebStorageSupported(this.auth,o=>{o||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var i;return((i=this.authWindow)===null||i===void 0?void 0:i.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const i=()=>{var o,et;if(!((et=(o=this.authWindow)===null||o===void 0?void 0:o.window)===null||et===void 0)&&et.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(i,_POLL_WINDOW_CLOSE_TIMEOUT.get())};i()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(i,o,et=!1){super(i,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],o,void 0,et),this.eventId=null}async execute(){let i=redirectOutcomeMap.get(this.auth._key());if(!i){try{const et=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;i=()=>Promise.resolve(et)}catch(o){i=()=>Promise.reject(o)}redirectOutcomeMap.set(this.auth._key(),i)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),i()}async onAuthEvent(i){if(i.type==="signInViaRedirect")return super.onAuthEvent(i);if(i.type==="unknown"){this.resolve(null);return}if(i.eventId){const o=await this.auth._redirectUserForId(i.eventId);if(o)return this.user=o,super.onAuthEvent(i);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(s,i){const o=pendingRedirectKey(i),et=resolverPersistence(s);if(!await et._isAvailable())return!1;const $l=await et._get(o)==="true";return await et._remove(o),$l}async function _setPendingRedirectStatus(s,i){return resolverPersistence(s)._set(pendingRedirectKey(i),"true")}function _clearRedirectOutcomes(){redirectOutcomeMap.clear()}function _overrideRedirectResult(s,i){redirectOutcomeMap.set(s._key(),i)}function resolverPersistence(s){return _getInstance(s._redirectPersistence)}function pendingRedirectKey(s){return _persistenceKeyName(PENDING_REDIRECT_KEY,s.config.apiKey,s.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function signInWithRedirect(s,i,o){return _signInWithRedirect(s,i,o)}async function _signInWithRedirect(s,i,o){const et=_castAuth(s);_assertInstanceOf(s,i,FederatedAuthProvider);const $l=_withDefaultResolver(et,o);return await _setPendingRedirectStatus($l,et),$l._openRedirect(et,i,"signInViaRedirect")}function reauthenticateWithRedirect(s,i,o){return _reauthenticateWithRedirect(s,i,o)}async function _reauthenticateWithRedirect(s,i,o){const et=getModularInstance(s);_assertInstanceOf(et.auth,i,FederatedAuthProvider);const $l=_withDefaultResolver(et.auth,o);await _setPendingRedirectStatus($l,et.auth);const Nl=await prepareUserForRedirect(et);return $l._openRedirect(et.auth,i,"reauthViaRedirect",Nl)}function linkWithRedirect(s,i,o){return _linkWithRedirect(s,i,o)}async function _linkWithRedirect(s,i,o){const et=getModularInstance(s);_assertInstanceOf(et.auth,i,FederatedAuthProvider);const $l=_withDefaultResolver(et.auth,o);await _assertLinkedStatus(!1,et,i.providerId),await _setPendingRedirectStatus($l,et.auth);const Nl=await prepareUserForRedirect(et);return $l._openRedirect(et.auth,i,"linkViaRedirect",Nl)}async function getRedirectResult(s,i){return await _castAuth(s)._initializationPromise,_getRedirectResult(s,i,!1)}async function _getRedirectResult(s,i,o=!1){const et=_castAuth(s),$l=_withDefaultResolver(et,i),Ml=await new RedirectAction(et,$l,o).execute();return Ml&&!o&&(delete Ml.user._redirectEventId,await et._persistUserIfCurrent(Ml.user),await et._setRedirectUser(null,i)),Ml}async function prepareUserForRedirect(s){const i=_generateEventId(`${s.uid}:::`);return s._redirectEventId=i,await s.auth._setRedirectUser(s),await s.auth._persistUserIfCurrent(s),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(i){this.auth=i,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(i){this.consumers.add(i),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,i)&&(this.sendToConsumer(this.queuedRedirectEvent,i),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(i){this.consumers.delete(i)}onEvent(i){if(this.hasEventBeenHandled(i))return!1;let o=!1;return this.consumers.forEach(et=>{this.isEventForConsumer(i,et)&&(o=!0,this.sendToConsumer(i,et),this.saveEventToCache(i))}),this.hasHandledPotentialRedirect||!isRedirectEvent(i)||(this.hasHandledPotentialRedirect=!0,o||(this.queuedRedirectEvent=i,o=!0)),o}sendToConsumer(i,o){var et;if(i.error&&!isNullRedirectEvent(i)){const $l=((et=i.error.code)===null||et===void 0?void 0:et.split("auth/")[1])||"internal-error";o.onError(_createError(this.auth,$l))}else o.onAuthEvent(i)}isEventForConsumer(i,o){const et=o.eventId===null||!!i.eventId&&i.eventId===o.eventId;return o.filter.includes(i.type)&&et}hasEventBeenHandled(i){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(i))}saveEventToCache(i){this.cachedEventUids.add(eventUid(i)),this.lastProcessedEventTime=Date.now()}}function eventUid(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(i=>i).join("-")}function isNullRedirectEvent({type:s,error:i}){return s==="unknown"&&(i==null?void 0:i.code)==="auth/no-auth-event"}function isRedirectEvent(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(s,i={}){return _performApiRequest(s,"GET","/v1/projects",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin$1(s){if(s.config.emulator)return;const{authorizedDomains:i}=await _getProjectConfig(s);for(const o of i)try{if(matchDomain(o))return}catch{}_fail(s,"unauthorized-domain")}function matchDomain(s){const i=_getCurrentUrl(),{protocol:o,hostname:et}=new URL(i);if(s.startsWith("chrome-extension://")){const Ml=new URL(s);return Ml.hostname===""&&et===""?o==="chrome-extension:"&&s.replace("chrome-extension://","")===i.replace("chrome-extension://",""):o==="chrome-extension:"&&Ml.hostname===et}if(!HTTP_REGEX.test(o))return!1;if(IP_ADDRESS_REGEX.test(s))return et===s;const $l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$l+"|"+$l+")$","i").test(et)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const s=_window().___jsl;if(s!=null&&s.H){for(const i of Object.keys(s.H))if(s.H[i].r=s.H[i].r||[],s.H[i].L=s.H[i].L||[],s.H[i].r=[...s.H[i].L],s.CP)for(let o=0;o<s.CP.length;o++)s.CP[o]=null}}function loadGapi(s){return new Promise((i,o)=>{var et,$l,Nl;function Ml(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{i(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),o(_createError(s,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!(($l=(et=_window().gapi)===null||et===void 0?void 0:et.iframes)===null||$l===void 0)&&$l.Iframe)i(gapi.iframes.getContext());else if(!((Nl=_window().gapi)===null||Nl===void 0)&&Nl.load)Ml();else{const Ol=_generateCallbackName("iframefcb");return _window()[Ol]=()=>{gapi.load?Ml():o(_createError(s,"network-request-failed"))},_loadJS(`https://apis.google.com/js/api.js?onload=${Ol}`).catch(Ll=>o(Ll))}}).catch(i=>{throw cachedGApiLoader=null,i})}let cachedGApiLoader=null;function _loadGapi(s){return cachedGApiLoader=cachedGApiLoader||loadGapi(s),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(s){const i=s.config;_assert$4(i.authDomain,s,"auth-domain-config-required");const o=i.emulator?_emulatorUrl(i,EMULATED_IFRAME_PATH):`https://${s.config.authDomain}/${IFRAME_PATH}`,et={apiKey:i.apiKey,appName:s.name,v:SDK_VERSION$2},$l=EID_FROM_APIHOST.get(s.config.apiHost);$l&&(et.eid=$l);const Nl=s._getFrameworks();return Nl.length&&(et.fw=Nl.join(",")),`${o}?${querystring(et).slice(1)}`}async function _openIframe(s){const i=await _loadGapi(s),o=_window().gapi;return _assert$4(o,s,"internal-error"),i.open({where:document.body,url:getIframeUrl(s),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},et=>new Promise(async($l,Nl)=>{await et.restyle({setHideOnLeave:!1});const Ml=_createError(s,"network-request-failed"),Ol=_window().setTimeout(()=>{Nl(Ml)},PING_TIMEOUT.get());function Ll(){_window().clearTimeout(Ol),$l(et)}et.ping(Ll).then(Ll,()=>{Nl(Ml)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(i){this.window=i,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(s,i,o,et=DEFAULT_WIDTH,$l=DEFAULT_HEIGHT){const Nl=Math.max((window.screen.availHeight-$l)/2,0).toString(),Ml=Math.max((window.screen.availWidth-et)/2,0).toString();let Ol="";const Ll=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:et.toString(),height:$l.toString(),top:Nl,left:Ml}),Fl=getUA().toLowerCase();o&&(Ol=_isChromeIOS(Fl)?TARGET_BLANK:o),_isFirefox(Fl)&&(i=i||FIREFOX_EMPTY_URL,Ll.scrollbars="yes");const Bl=Object.entries(Ll).reduce((Gl,[Wl,zl])=>`${Gl}${Wl}=${zl},`,"");if(_isIOSStandalone(Fl)&&Ol!=="_self")return openAsNewWindowIOS(i||"",Ol),new AuthPopup(null);const Ul=window.open(i||"",Ol,Bl);_assert$4(Ul,s,"popup-blocked");try{Ul.focus()}catch{}return new AuthPopup(Ul)}function openAsNewWindowIOS(s,i){const o=document.createElement("a");o.href=s,o.target=i;const et=document.createEvent("MouseEvent");et.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),o.dispatchEvent(et)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler";function _getRedirectUrl(s,i,o,et,$l,Nl){_assert$4(s.config.authDomain,s,"auth-domain-config-required"),_assert$4(s.config.apiKey,s,"invalid-api-key");const Ml={apiKey:s.config.apiKey,appName:s.name,authType:o,redirectUrl:et,v:SDK_VERSION$2,eventId:$l};if(i instanceof FederatedAuthProvider){i.setDefaultLanguage(s.languageCode),Ml.providerId=i.providerId||"",isEmpty(i.getCustomParameters())||(Ml.customParameters=JSON.stringify(i.getCustomParameters()));for(const[Ll,Fl]of Object.entries(Nl||{}))Ml[Ll]=Fl}if(i instanceof BaseOAuthProvider){const Ll=i.getScopes().filter(Fl=>Fl!=="");Ll.length>0&&(Ml.scopes=Ll.join(","))}s.tenantId&&(Ml.tid=s.tenantId);const Ol=Ml;for(const Ll of Object.keys(Ol))Ol[Ll]===void 0&&delete Ol[Ll];return`${getHandlerBase(s)}?${querystring(Ol).slice(1)}`}function getHandlerBase({config:s}){return s.emulator?_emulatorUrl(s,EMULATOR_WIDGET_PATH):`https://${s.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(i,o,et,$l){var Nl;debugAssert((Nl=this.eventManagers[i._key()])===null||Nl===void 0?void 0:Nl.manager,"_initialize() not called before _openPopup()");const Ml=_getRedirectUrl(i,o,et,_getCurrentUrl(),$l);return _open(i,Ml,_generateEventId())}async _openRedirect(i,o,et,$l){return await this._originValidation(i),_setWindowLocation(_getRedirectUrl(i,o,et,_getCurrentUrl(),$l)),new Promise(()=>{})}_initialize(i){const o=i._key();if(this.eventManagers[o]){const{manager:$l,promise:Nl}=this.eventManagers[o];return $l?Promise.resolve($l):(debugAssert(Nl,"If manager is not set, promise should be"),Nl)}const et=this.initAndGetManager(i);return this.eventManagers[o]={promise:et},et.catch(()=>{delete this.eventManagers[o]}),et}async initAndGetManager(i){const o=await _openIframe(i),et=new AuthEventManager(i);return o.register("authEvent",$l=>(_assert$4($l==null?void 0:$l.authEvent,i,"invalid-auth-event"),{status:et.onEvent($l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[i._key()]={manager:et},this.iframes[i._key()]=o,et}_isIframeWebStorageSupported(i,o){this.iframes[i._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},$l=>{var Nl;const Ml=(Nl=$l==null?void 0:$l[0])===null||Nl===void 0?void 0:Nl[WEB_STORAGE_SUPPORT_KEY];Ml!==void 0&&o(!!Ml),_fail(i,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(i){const o=i._key();return this.originValidationPromises[o]||(this.originValidationPromises[o]=_validateOrigin$1(i)),this.originValidationPromises[o]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;class MultiFactorAssertionImpl{constructor(i){this.factorId=i}_process(i,o,et){switch(o.type){case"enroll":return this._finalizeEnroll(i,o.credential,et);case"signin":return this._finalizeSignIn(i,o.credential);default:return debugFail("unexpected MultiFactorSessionType")}}}class PhoneMultiFactorAssertionImpl extends MultiFactorAssertionImpl{constructor(i){super("phone"),this.credential=i}static _fromCredential(i){return new PhoneMultiFactorAssertionImpl(i)}_finalizeEnroll(i,o,et){return finalizeEnrollPhoneMfa(i,{idToken:o,displayName:et,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(i,o){return finalizeSignInPhoneMfa(i,{mfaPendingCredential:o,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class PhoneMultiFactorGenerator{constructor(){}static assertion(i){return PhoneMultiFactorAssertionImpl._fromCredential(i)}}PhoneMultiFactorGenerator.FACTOR_ID="phone";var name$n="@firebase/auth",version$n="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(i){this.auth=i,this.internalListeners=new Map}getUid(){var i;return this.assertAuthConfigured(),((i=this.auth.currentUser)===null||i===void 0?void 0:i.uid)||null}async getToken(i){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(i)}:null}addAuthTokenListener(i){if(this.assertAuthConfigured(),this.internalListeners.has(i))return;const o=this.auth.onIdTokenChanged(et=>{var $l;i((($l=et)===null||$l===void 0?void 0:$l.stsTokenManager.accessToken)||null)});this.internalListeners.set(i,o),this.updateProactiveRefresh()}removeAuthTokenListener(i){this.assertAuthConfigured();const o=this.internalListeners.get(i);!o||(this.internalListeners.delete(i),o(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert$4(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function registerAuth(s){_registerComponent(new Component("auth",(i,{options:o})=>{const et=i.getProvider("app").getImmediate(),$l=i.getProvider("heartbeat"),{apiKey:Nl,authDomain:Ml}=et.options;return((Ol,Ll)=>{_assert$4(Nl&&!Nl.includes(":"),"invalid-api-key",{appName:Ol.name}),_assert$4(!(Ml!=null&&Ml.includes(":")),"argument-error",{appName:Ol.name});const Fl={apiKey:Nl,authDomain:Ml,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(s)},Bl=new AuthImpl(Ol,Ll,Fl);return _initializeAuthInstance(Bl,o),Bl})(et,$l)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,o,et)=>{i.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",i=>{const o=_castAuth(i.getProvider("auth").getImmediate());return(et=>new AuthInterop(et))(o)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$n,version$n,getVersionForPlatform(s)),registerVersion(name$n,version$n,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getAuth(s=getApp()){const i=_getProvider(s,"auth");return i.isInitialized()?i.getImmediate():initializeAuth(s,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]})}registerAuth("Browser");var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},k$1,goog=goog||{},l=commonjsGlobal||self;function aa$1(){}function ba$1(s){var i=typeof s;return i=i!="object"?i:s?Array.isArray(s)?"array":i:"null",i=="array"||i=="object"&&typeof s.length=="number"}function p(s){var i=typeof s;return i=="object"&&s!=null||i=="function"}function da$1(s){return Object.prototype.hasOwnProperty.call(s,ea$1)&&s[ea$1]||(s[ea$1]=++fa$1)}var ea$1="closure_uid_"+(1e9*Math.random()>>>0),fa$1=0;function ha$1(s,i,o){return s.call.apply(s.bind,arguments)}function ia$1(s,i,o){if(!s)throw Error();if(2<arguments.length){var et=Array.prototype.slice.call(arguments,2);return function(){var $l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($l,et),s.apply(i,$l)}}return function(){return s.apply(i,arguments)}}function q$1(s,i,o){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?q$1=ha$1:q$1=ia$1,q$1.apply(null,arguments)}function ja$1(s,i){var o=Array.prototype.slice.call(arguments,1);return function(){var et=o.slice();return et.push.apply(et,arguments),s.apply(this,et)}}function t(s,i){function o(){}o.prototype=i.prototype,s.Z=i.prototype,s.prototype=new o,s.prototype.constructor=s,s.Vb=function(et,$l,Nl){for(var Ml=Array(arguments.length-2),Ol=2;Ol<arguments.length;Ol++)Ml[Ol-2]=arguments[Ol];return i.prototype[$l].apply(et,Ml)}}function v$1(){this.s=this.s,this.o=this.o}var ka$1=0;v$1.prototype.s=!1;v$1.prototype.na=function(){!this.s&&(this.s=!0,this.M(),ka$1!=0)&&da$1(this)};v$1.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ma$1=Array.prototype.indexOf?function(s,i){return Array.prototype.indexOf.call(s,i,void 0)}:function(s,i){if(typeof s=="string")return typeof i!="string"||i.length!=1?-1:s.indexOf(i,0);for(let o=0;o<s.length;o++)if(o in s&&s[o]===i)return o;return-1},na$1=Array.prototype.forEach?function(s,i,o){Array.prototype.forEach.call(s,i,o)}:function(s,i,o){const et=s.length,$l=typeof s=="string"?s.split(""):s;for(let Nl=0;Nl<et;Nl++)Nl in $l&&i.call(o,$l[Nl],Nl,s)};function oa$1(s){e:{var i=pa$1;const o=s.length,et=typeof s=="string"?s.split(""):s;for(let $l=0;$l<o;$l++)if($l in et&&i.call(void 0,et[$l],$l,s)){i=$l;break e}i=-1}return 0>i?null:typeof s=="string"?s.charAt(i):s[i]}function qa$1(s){return Array.prototype.concat.apply([],arguments)}function ra$1(s){const i=s.length;if(0<i){const o=Array(i);for(let et=0;et<i;et++)o[et]=s[et];return o}return[]}function sa$1(s){return/^[\s\xa0]*$/.test(s)}var ta$1=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function w$1(s,i){return s.indexOf(i)!=-1}function ua$1(s,i){return s<i?-1:s>i?1:0}var x$1;e:{var va$1=l.navigator;if(va$1){var wa$1=va$1.userAgent;if(wa$1){x$1=wa$1;break e}}x$1=""}function xa$1(s,i,o){for(const et in s)i.call(o,s[et],et,s)}function ya$1(s){const i={};for(const o in s)i[o]=s[o];return i}var za$1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Aa$1(s,i){let o,et;for(let $l=1;$l<arguments.length;$l++){et=arguments[$l];for(o in et)s[o]=et[o];for(let Nl=0;Nl<za$1.length;Nl++)o=za$1[Nl],Object.prototype.hasOwnProperty.call(et,o)&&(s[o]=et[o])}}function Ca$1(s){return Ca$1[" "](s),s}Ca$1[" "]=aa$1;function Fa$1(s){var i=Ga$1;return Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=s(9)}var Ha=w$1(x$1,"Opera"),y=w$1(x$1,"Trident")||w$1(x$1,"MSIE"),Ia$1=w$1(x$1,"Edge"),Ja$1=Ia$1||y,Ka$1=w$1(x$1,"Gecko")&&!(w$1(x$1.toLowerCase(),"webkit")&&!w$1(x$1,"Edge"))&&!(w$1(x$1,"Trident")||w$1(x$1,"MSIE"))&&!w$1(x$1,"Edge"),La$1=w$1(x$1.toLowerCase(),"webkit")&&!w$1(x$1,"Edge");function Ma$1(){var s=l.document;return s?s.documentMode:void 0}var Na$1;e:{var Oa$1="",Pa$1=function(){var s=x$1;if(Ka$1)return/rv:([^\);]+)(\)|;)/.exec(s);if(Ia$1)return/Edge\/([\d\.]+)/.exec(s);if(y)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(La$1)return/WebKit\/(\S+)/.exec(s);if(Ha)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(Pa$1&&(Oa$1=Pa$1?Pa$1[1]:""),y){var Qa$1=Ma$1();if(Qa$1!=null&&Qa$1>parseFloat(Oa$1)){Na$1=String(Qa$1);break e}}Na$1=Oa$1}var Ga$1={};function Ra$1(){return Fa$1(function(){let s=0;const i=ta$1(String(Na$1)).split("."),o=ta$1("9").split("."),et=Math.max(i.length,o.length);for(let Ml=0;s==0&&Ml<et;Ml++){var $l=i[Ml]||"",Nl=o[Ml]||"";do{if($l=/(\d*)(\D*)(.*)/.exec($l)||["","","",""],Nl=/(\d*)(\D*)(.*)/.exec(Nl)||["","","",""],$l[0].length==0&&Nl[0].length==0)break;s=ua$1($l[1].length==0?0:parseInt($l[1],10),Nl[1].length==0?0:parseInt(Nl[1],10))||ua$1($l[2].length==0,Nl[2].length==0)||ua$1($l[2],Nl[2]),$l=$l[3],Nl=Nl[3]}while(s==0)}return 0<=s})}var Sa$1;if(l.document&&y){var Ta$1=Ma$1();Sa$1=Ta$1||parseInt(Na$1,10)||void 0}else Sa$1=void 0;var Ua$1=Sa$1,Va$1=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var s=!1,i=Object.defineProperty({},"passive",{get:function(){s=!0}});try{l.addEventListener("test",aa$1,i),l.removeEventListener("test",aa$1,i)}catch{}return s}();function z$1(s,i){this.type=s,this.g=this.target=i,this.defaultPrevented=!1}z$1.prototype.h=function(){this.defaultPrevented=!0};function A(s,i){if(z$1.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var o=this.type=s.type,et=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=i,i=s.relatedTarget){if(Ka$1){e:{try{Ca$1(i.nodeName);var $l=!0;break e}catch{}$l=!1}$l||(i=null)}}else o=="mouseover"?i=s.fromElement:o=="mouseout"&&(i=s.toElement);this.relatedTarget=i,et?(this.clientX=et.clientX!==void 0?et.clientX:et.pageX,this.clientY=et.clientY!==void 0?et.clientY:et.pageY,this.screenX=et.screenX||0,this.screenY=et.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:Wa$1[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&A.Z.h.call(this)}}t(A,z$1);var Wa$1={2:"touch",3:"pen",4:"mouse"};A.prototype.h=function(){A.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var B$1="closure_listenable_"+(1e6*Math.random()|0),Xa$1=0;function Ya$1(s,i,o,et,$l){this.listener=s,this.proxy=null,this.src=i,this.type=o,this.capture=!!et,this.ia=$l,this.key=++Xa$1,this.ca=this.fa=!1}function Za$1(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function $a(s){this.src=s,this.g={},this.h=0}$a.prototype.add=function(s,i,o,et,$l){var Nl=s.toString();s=this.g[Nl],s||(s=this.g[Nl]=[],this.h++);var Ml=ab(s,i,et,$l);return-1<Ml?(i=s[Ml],o||(i.fa=!1)):(i=new Ya$1(i,this.src,Nl,!!et,$l),i.fa=o,s.push(i)),i};function bb(s,i){var o=i.type;if(o in s.g){var et=s.g[o],$l=ma$1(et,i),Nl;(Nl=0<=$l)&&Array.prototype.splice.call(et,$l,1),Nl&&(Za$1(i),s.g[o].length==0&&(delete s.g[o],s.h--))}}function ab(s,i,o,et){for(var $l=0;$l<s.length;++$l){var Nl=s[$l];if(!Nl.ca&&Nl.listener==i&&Nl.capture==!!o&&Nl.ia==et)return $l}return-1}var cb="closure_lm_"+(1e6*Math.random()|0),db$1={};function fb(s,i,o,et,$l){if(et&&et.once)return gb(s,i,o,et,$l);if(Array.isArray(i)){for(var Nl=0;Nl<i.length;Nl++)fb(s,i[Nl],o,et,$l);return null}return o=hb(o),s&&s[B$1]?s.N(i,o,p(et)?!!et.capture:!!et,$l):ib(s,i,o,!1,et,$l)}function ib(s,i,o,et,$l,Nl){if(!i)throw Error("Invalid event type");var Ml=p($l)?!!$l.capture:!!$l,Ol=jb(s);if(Ol||(s[cb]=Ol=new $a(s)),o=Ol.add(i,o,et,Ml,Nl),o.proxy)return o;if(et=kb(),o.proxy=et,et.src=s,et.listener=o,s.addEventListener)Va$1||($l=Ml),$l===void 0&&($l=!1),s.addEventListener(i.toString(),et,$l);else if(s.attachEvent)s.attachEvent(lb(i.toString()),et);else if(s.addListener&&s.removeListener)s.addListener(et);else throw Error("addEventListener and attachEvent are unavailable.");return o}function kb(){function s(o){return i.call(s.src,s.listener,o)}var i=mb;return s}function gb(s,i,o,et,$l){if(Array.isArray(i)){for(var Nl=0;Nl<i.length;Nl++)gb(s,i[Nl],o,et,$l);return null}return o=hb(o),s&&s[B$1]?s.O(i,o,p(et)?!!et.capture:!!et,$l):ib(s,i,o,!0,et,$l)}function nb(s,i,o,et,$l){if(Array.isArray(i))for(var Nl=0;Nl<i.length;Nl++)nb(s,i[Nl],o,et,$l);else et=p(et)?!!et.capture:!!et,o=hb(o),s&&s[B$1]?(s=s.i,i=String(i).toString(),i in s.g&&(Nl=s.g[i],o=ab(Nl,o,et,$l),-1<o&&(Za$1(Nl[o]),Array.prototype.splice.call(Nl,o,1),Nl.length==0&&(delete s.g[i],s.h--)))):s&&(s=jb(s))&&(i=s.g[i.toString()],s=-1,i&&(s=ab(i,o,et,$l)),(o=-1<s?i[s]:null)&&ob(o))}function ob(s){if(typeof s!="number"&&s&&!s.ca){var i=s.src;if(i&&i[B$1])bb(i.i,s);else{var o=s.type,et=s.proxy;i.removeEventListener?i.removeEventListener(o,et,s.capture):i.detachEvent?i.detachEvent(lb(o),et):i.addListener&&i.removeListener&&i.removeListener(et),(o=jb(i))?(bb(o,s),o.h==0&&(o.src=null,i[cb]=null)):Za$1(s)}}}function lb(s){return s in db$1?db$1[s]:db$1[s]="on"+s}function mb(s,i){if(s.ca)s=!0;else{i=new A(i,this);var o=s.listener,et=s.ia||s.src;s.fa&&ob(s),s=o.call(et,i)}return s}function jb(s){return s=s[cb],s instanceof $a?s:null}var pb="__closure_events_fn_"+(1e9*Math.random()>>>0);function hb(s){return typeof s=="function"?s:(s[pb]||(s[pb]=function(i){return s.handleEvent(i)}),s[pb])}function C$1(){v$1.call(this),this.i=new $a(this),this.P=this,this.I=null}t(C$1,v$1);C$1.prototype[B$1]=!0;C$1.prototype.removeEventListener=function(s,i,o,et){nb(this,s,i,o,et)};function D$1(s,i){var o,et=s.I;if(et)for(o=[];et;et=et.I)o.push(et);if(s=s.P,et=i.type||i,typeof i=="string")i=new z$1(i,s);else if(i instanceof z$1)i.target=i.target||s;else{var $l=i;i=new z$1(et,s),Aa$1(i,$l)}if($l=!0,o)for(var Nl=o.length-1;0<=Nl;Nl--){var Ml=i.g=o[Nl];$l=qb(Ml,et,!0,i)&&$l}if(Ml=i.g=s,$l=qb(Ml,et,!0,i)&&$l,$l=qb(Ml,et,!1,i)&&$l,o)for(Nl=0;Nl<o.length;Nl++)Ml=i.g=o[Nl],$l=qb(Ml,et,!1,i)&&$l}C$1.prototype.M=function(){if(C$1.Z.M.call(this),this.i){var s=this.i,i;for(i in s.g){for(var o=s.g[i],et=0;et<o.length;et++)Za$1(o[et]);delete s.g[i],s.h--}}this.I=null};C$1.prototype.N=function(s,i,o,et){return this.i.add(String(s),i,!1,o,et)};C$1.prototype.O=function(s,i,o,et){return this.i.add(String(s),i,!0,o,et)};function qb(s,i,o,et){if(i=s.i.g[String(i)],!i)return!0;i=i.concat();for(var $l=!0,Nl=0;Nl<i.length;++Nl){var Ml=i[Nl];if(Ml&&!Ml.ca&&Ml.capture==o){var Ol=Ml.listener,Ll=Ml.ia||Ml.src;Ml.fa&&bb(s.i,Ml),$l=Ol.call(Ll,et)!==!1&&$l}}return $l&&!et.defaultPrevented}var rb=l.JSON.stringify;function sb(){var s=tb;let i=null;return s.g&&(i=s.g,s.g=s.g.next,s.g||(s.h=null),i.next=null),i}class ub{constructor(){this.h=this.g=null}add(i,o){const et=vb.get();et.set(i,o),this.h?this.h.next=et:this.g=et,this.h=et}}var vb=new class{constructor(s,i){this.i=s,this.j=i,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new wb,s=>s.reset());class wb{constructor(){this.next=this.g=this.h=null}set(i,o){this.h=i,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function yb(s){l.setTimeout(()=>{throw s},0)}function zb(s,i){Ab||Bb(),Cb||(Ab(),Cb=!0),tb.add(s,i)}var Ab;function Bb(){var s=l.Promise.resolve(void 0);Ab=function(){s.then(Db)}}var Cb=!1,tb=new ub;function Db(){for(var s;s=sb();){try{s.h.call(s.g)}catch(o){yb(o)}var i=vb;i.j(s),100>i.h&&(i.h++,s.next=i.g,i.g=s)}Cb=!1}function Eb(s,i){C$1.call(this),this.h=s||1,this.g=i||l,this.j=q$1(this.kb,this),this.l=Date.now()}t(Eb,C$1);k$1=Eb.prototype;k$1.da=!1;k$1.S=null;k$1.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),D$1(this,"tick"),this.da&&(Fb(this),this.start()))}};k$1.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Fb(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}k$1.M=function(){Eb.Z.M.call(this),Fb(this),delete this.g};function Gb(s,i,o){if(typeof s=="function")o&&(s=q$1(s,o));else if(s&&typeof s.handleEvent=="function")s=q$1(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(i)?-1:l.setTimeout(s,i||0)}function Hb(s){s.g=Gb(()=>{s.g=null,s.i&&(s.i=!1,Hb(s))},s.j);const i=s.h;s.h=null,s.m.apply(null,i)}class Ib extends v$1{constructor(i,o){super(),this.m=i,this.j=o,this.h=null,this.i=!1,this.g=null}l(i){this.h=arguments,this.g?this.i=!0:Hb(this)}M(){super.M(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function E(s){v$1.call(this),this.h=s,this.g={}}t(E,v$1);var Jb=[];function Kb(s,i,o,et){Array.isArray(o)||(o&&(Jb[0]=o.toString()),o=Jb);for(var $l=0;$l<o.length;$l++){var Nl=fb(i,o[$l],et||s.handleEvent,!1,s.h||s);if(!Nl)break;s.g[Nl.key]=Nl}}function Lb(s){xa$1(s.g,function(i,o){this.g.hasOwnProperty(o)&&ob(i)},s),s.g={}}E.prototype.M=function(){E.Z.M.call(this),Lb(this)};E.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Mb(){this.g=!0}Mb.prototype.Aa=function(){this.g=!1};function Nb(s,i,o,et,$l,Nl){s.info(function(){if(s.g)if(Nl)for(var Ml="",Ol=Nl.split("&"),Ll=0;Ll<Ol.length;Ll++){var Fl=Ol[Ll].split("=");if(1<Fl.length){var Bl=Fl[0];Fl=Fl[1];var Ul=Bl.split("_");Ml=2<=Ul.length&&Ul[1]=="type"?Ml+(Bl+"="+Fl+"&"):Ml+(Bl+"=redacted&")}}else Ml=null;else Ml=Nl;return"XMLHTTP REQ ("+et+") [attempt "+$l+"]: "+i+`
`+o+`
`+Ml})}function Ob(s,i,o,et,$l,Nl,Ml){s.info(function(){return"XMLHTTP RESP ("+et+") [ attempt "+$l+"]: "+i+`
`+o+`
`+Nl+" "+Ml})}function F$1(s,i,o,et){s.info(function(){return"XMLHTTP TEXT ("+i+"): "+Pb(s,o)+(et?" "+et:"")})}function Qb(s,i){s.info(function(){return"TIMEOUT: "+i})}Mb.prototype.info=function(){};function Pb(s,i){if(!s.g)return i;if(!i)return null;try{var o=JSON.parse(i);if(o){for(s=0;s<o.length;s++)if(Array.isArray(o[s])){var et=o[s];if(!(2>et.length)){var $l=et[1];if(Array.isArray($l)&&!(1>$l.length)){var Nl=$l[0];if(Nl!="noop"&&Nl!="stop"&&Nl!="close")for(var Ml=1;Ml<$l.length;Ml++)$l[Ml]=""}}}}return rb(o)}catch{return i}}var H$1={},Rb=null;function Sb(){return Rb=Rb||new C$1}H$1.Ma="serverreachability";function Tb(s){z$1.call(this,H$1.Ma,s)}t(Tb,z$1);function I(s){const i=Sb();D$1(i,new Tb(i))}H$1.STAT_EVENT="statevent";function Ub(s,i){z$1.call(this,H$1.STAT_EVENT,s),this.stat=i}t(Ub,z$1);function J$1(s){const i=Sb();D$1(i,new Ub(i,s))}H$1.Na="timingevent";function Vb(s,i){z$1.call(this,H$1.Na,s),this.size=i}t(Vb,z$1);function K$1(s,i){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){s()},i)}var Wb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Xb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yb(){}Yb.prototype.h=null;function Zb(s){return s.h||(s.h=s.i())}function $b(){}var L$1={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ac$1(){z$1.call(this,"d")}t(ac$1,z$1);function bc$1(){z$1.call(this,"c")}t(bc$1,z$1);var cc$1;function dc$1(){}t(dc$1,Yb);dc$1.prototype.g=function(){return new XMLHttpRequest};dc$1.prototype.i=function(){return{}};cc$1=new dc$1;function M$1(s,i,o,et){this.l=s,this.j=i,this.m=o,this.X=et||1,this.V=new E(this),this.P=ec$1,s=Ja$1?125:void 0,this.W=new Eb(s),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fc$1}function fc$1(){this.i=null,this.g="",this.h=!1}var ec$1=45e3,gc$1={},hc$1={};k$1=M$1.prototype;k$1.setTimeout=function(s){this.P=s};function ic$1(s,i,o){s.K=1,s.v=jc$1(N$1(i)),s.s=o,s.U=!0,kc$1(s,null)}function kc$1(s,i){s.F=Date.now(),lc$1(s),s.A=N$1(s.v);var o=s.A,et=s.X;Array.isArray(et)||(et=[String(et)]),mc$1(o.h,"t",et),s.C=0,o=s.l.H,s.h=new fc$1,s.g=nc$1(s.l,o?i:null,!s.s),0<s.O&&(s.L=new Ib(q$1(s.Ia,s,s.g),s.O)),Kb(s.V,s.g,"readystatechange",s.gb),i=s.H?ya$1(s.H):{},s.s?(s.u||(s.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,i)):(s.u="GET",s.g.ea(s.A,s.u,null,i)),I(),Nb(s.j,s.u,s.A,s.m,s.X,s.s)}k$1.gb=function(s){s=s.target;const i=this.L;i&&O$1(s)==3?i.l():this.Ia(s)};k$1.Ia=function(s){try{if(s==this.g)e:{const Bl=O$1(this.g);var i=this.g.Da();const Ul=this.g.ba();if(!(3>Bl)&&(Bl!=3||Ja$1||this.g&&(this.h.h||this.g.ga()||oc$1(this.g)))){this.I||Bl!=4||i==7||(i==8||0>=Ul?I(3):I(2)),pc$1(this);var o=this.g.ba();this.N=o;t:if(qc$1(this)){var et=oc$1(this.g);s="";var $l=et.length,Nl=O$1(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){P(this),rc$1(this);var Ml="";break t}this.h.i=new l.TextDecoder}for(i=0;i<$l;i++)this.h.h=!0,s+=this.h.i.decode(et[i],{stream:Nl&&i==$l-1});et.splice(0,$l),this.h.g+=s,this.C=0,Ml=this.h.g}else Ml=this.g.ga();if(this.i=o==200,Ob(this.j,this.u,this.A,this.m,this.X,Bl,o),this.i){if(this.$&&!this.J){t:{if(this.g){var Ol,Ll=this.g;if((Ol=Ll.g?Ll.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sa$1(Ol)){var Fl=Ol;break t}}Fl=null}if(o=Fl)F$1(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sc$1(this,o);else{this.i=!1,this.o=3,J$1(12),P(this),rc$1(this);break e}}this.U?(tc$1(this,Bl,Ml),Ja$1&&this.i&&Bl==3&&(Kb(this.V,this.W,"tick",this.fb),this.W.start())):(F$1(this.j,this.m,Ml,null),sc$1(this,Ml)),Bl==4&&P(this),this.i&&!this.I&&(Bl==4?uc$1(this.l,this):(this.i=!1,lc$1(this)))}else o==400&&0<Ml.indexOf("Unknown SID")?(this.o=3,J$1(12)):(this.o=0,J$1(13)),P(this),rc$1(this)}}}catch{}finally{}};function qc$1(s){return s.g?s.u=="GET"&&s.K!=2&&s.l.Ba:!1}function tc$1(s,i,o){let et=!0,$l;for(;!s.I&&s.C<o.length;)if($l=vc$1(s,o),$l==hc$1){i==4&&(s.o=4,J$1(14),et=!1),F$1(s.j,s.m,null,"[Incomplete Response]");break}else if($l==gc$1){s.o=4,J$1(15),F$1(s.j,s.m,o,"[Invalid Chunk]"),et=!1;break}else F$1(s.j,s.m,$l,null),sc$1(s,$l);qc$1(s)&&$l!=hc$1&&$l!=gc$1&&(s.h.g="",s.C=0),i!=4||o.length!=0||s.h.h||(s.o=1,J$1(16),et=!1),s.i=s.i&&et,et?0<o.length&&!s.aa&&(s.aa=!0,i=s.l,i.g==s&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+o.length),wc$1(i),i.L=!0,J$1(11))):(F$1(s.j,s.m,o,"[Invalid Chunked Response]"),P(s),rc$1(s))}k$1.fb=function(){if(this.g){var s=O$1(this.g),i=this.g.ga();this.C<i.length&&(pc$1(this),tc$1(this,s,i),this.i&&s!=4&&lc$1(this))}};function vc$1(s,i){var o=s.C,et=i.indexOf(`
`,o);return et==-1?hc$1:(o=Number(i.substring(o,et)),isNaN(o)?gc$1:(et+=1,et+o>i.length?hc$1:(i=i.substr(et,o),s.C=et+o,i)))}k$1.cancel=function(){this.I=!0,P(this)};function lc$1(s){s.Y=Date.now()+s.P,xc$1(s,s.P)}function xc$1(s,i){if(s.B!=null)throw Error("WatchDog timer not null");s.B=K$1(q$1(s.eb,s),i)}function pc$1(s){s.B&&(l.clearTimeout(s.B),s.B=null)}k$1.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(Qb(this.j,this.A),this.K!=2&&(I(),J$1(17)),P(this),this.o=2,rc$1(this)):xc$1(this,this.Y-s)};function rc$1(s){s.l.G==0||s.I||uc$1(s.l,s)}function P(s){pc$1(s);var i=s.L;i&&typeof i.na=="function"&&i.na(),s.L=null,Fb(s.W),Lb(s.V),s.g&&(i=s.g,s.g=null,i.abort(),i.na())}function sc$1(s,i){try{var o=s.l;if(o.G!=0&&(o.g==s||yc$1(o.i,s))){if(o.I=s.N,!s.J&&yc$1(o.i,s)&&o.G==3){try{var et=o.Ca.g.parse(i)}catch{et=null}if(Array.isArray(et)&&et.length==3){var $l=et;if($l[0]==0){e:if(!o.u){if(o.g)if(o.g.F+3e3<s.F)zc$1(o),Ac$1(o);else break e;Bc$1(o),J$1(18)}}else o.ta=$l[1],0<o.ta-o.U&&37500>$l[2]&&o.N&&o.A==0&&!o.v&&(o.v=K$1(q$1(o.ab,o),6e3));if(1>=Cc$1(o.i)&&o.ka){try{o.ka()}catch{}o.ka=void 0}}else Q$1(o,11)}else if((s.J||o.g==s)&&zc$1(o),!sa$1(i))for($l=o.Ca.g.parse(i),i=0;i<$l.length;i++){let Fl=$l[i];if(o.U=Fl[0],Fl=Fl[1],o.G==2)if(Fl[0]=="c"){o.J=Fl[1],o.la=Fl[2];const Bl=Fl[3];Bl!=null&&(o.ma=Bl,o.h.info("VER="+o.ma));const Ul=Fl[4];Ul!=null&&(o.za=Ul,o.h.info("SVER="+o.za));const Gl=Fl[5];Gl!=null&&typeof Gl=="number"&&0<Gl&&(et=1.5*Gl,o.K=et,o.h.info("backChannelRequestTimeoutMs_="+et)),et=o;const Wl=s.g;if(Wl){const zl=Wl.g?Wl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zl){var Nl=et.i;!Nl.g&&(w$1(zl,"spdy")||w$1(zl,"quic")||w$1(zl,"h2"))&&(Nl.j=Nl.l,Nl.g=new Set,Nl.h&&(Dc$1(Nl,Nl.h),Nl.h=null))}if(et.D){const Ql=Wl.g?Wl.g.getResponseHeader("X-HTTP-Session-Id"):null;Ql&&(et.sa=Ql,R(et.F,et.D,Ql))}}o.G=3,o.j&&o.j.xa(),o.$&&(o.O=Date.now()-s.F,o.h.info("Handshake RTT: "+o.O+"ms")),et=o;var Ml=s;if(et.oa=Ec$1(et,et.H?et.la:null,et.W),Ml.J){Fc$1(et.i,Ml);var Ol=Ml,Ll=et.K;Ll&&Ol.setTimeout(Ll),Ol.B&&(pc$1(Ol),lc$1(Ol)),et.g=Ml}else Gc$1(et);0<o.l.length&&Hc$1(o)}else Fl[0]!="stop"&&Fl[0]!="close"||Q$1(o,7);else o.G==3&&(Fl[0]=="stop"||Fl[0]=="close"?Fl[0]=="stop"?Q$1(o,7):Ic$1(o):Fl[0]!="noop"&&o.j&&o.j.wa(Fl),o.A=0)}}I(4)}catch{}}function Jc$1(s){if(s.R&&typeof s.R=="function")return s.R();if(typeof s=="string")return s.split("");if(ba$1(s)){for(var i=[],o=s.length,et=0;et<o;et++)i.push(s[et]);return i}i=[],o=0;for(et in s)i[o++]=s[et];return i}function Kc$1(s,i){if(s.forEach&&typeof s.forEach=="function")s.forEach(i,void 0);else if(ba$1(s)||typeof s=="string")na$1(s,i,void 0);else{if(s.T&&typeof s.T=="function")var o=s.T();else if(s.R&&typeof s.R=="function")o=void 0;else if(ba$1(s)||typeof s=="string"){o=[];for(var et=s.length,$l=0;$l<et;$l++)o.push($l)}else for($l in o=[],et=0,s)o[et++]=$l;et=Jc$1(s),$l=et.length;for(var Nl=0;Nl<$l;Nl++)i.call(void 0,et[Nl],o&&o[Nl],s)}}function S(s,i){this.h={},this.g=[],this.i=0;var o=arguments.length;if(1<o){if(o%2)throw Error("Uneven number of arguments");for(var et=0;et<o;et+=2)this.set(arguments[et],arguments[et+1])}else if(s)if(s instanceof S)for(o=s.T(),et=0;et<o.length;et++)this.set(o[et],s.get(o[et]));else for(et in s)this.set(et,s[et])}k$1=S.prototype;k$1.R=function(){Lc$1(this);for(var s=[],i=0;i<this.g.length;i++)s.push(this.h[this.g[i]]);return s};k$1.T=function(){return Lc$1(this),this.g.concat()};function Lc$1(s){if(s.i!=s.g.length){for(var i=0,o=0;i<s.g.length;){var et=s.g[i];T(s.h,et)&&(s.g[o++]=et),i++}s.g.length=o}if(s.i!=s.g.length){var $l={};for(o=i=0;i<s.g.length;)et=s.g[i],T($l,et)||(s.g[o++]=et,$l[et]=1),i++;s.g.length=o}}k$1.get=function(s,i){return T(this.h,s)?this.h[s]:i};k$1.set=function(s,i){T(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=i};k$1.forEach=function(s,i){for(var o=this.T(),et=0;et<o.length;et++){var $l=o[et],Nl=this.get($l);s.call(i,Nl,$l,this)}};function T(s,i){return Object.prototype.hasOwnProperty.call(s,i)}var Mc$1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nc$1(s,i){if(s){s=s.split("&");for(var o=0;o<s.length;o++){var et=s[o].indexOf("="),$l=null;if(0<=et){var Nl=s[o].substring(0,et);$l=s[o].substring(et+1)}else Nl=s[o];i(Nl,$l?decodeURIComponent($l.replace(/\+/g," ")):"")}}}function U$1(s,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof U$1){this.g=i!==void 0?i:s.g,Oc$1(this,s.j),this.s=s.s,Pc$1(this,s.i),Qc$1(this,s.m),this.l=s.l,i=s.h;var o=new Rc$1;o.i=i.i,i.g&&(o.g=new S(i.g),o.h=i.h),Sc$1(this,o),this.o=s.o}else s&&(o=String(s).match(Mc$1))?(this.g=!!i,Oc$1(this,o[1]||"",!0),this.s=Tc$1(o[2]||""),Pc$1(this,o[3]||"",!0),Qc$1(this,o[4]),this.l=Tc$1(o[5]||"",!0),Sc$1(this,o[6]||"",!0),this.o=Tc$1(o[7]||"")):(this.g=!!i,this.h=new Rc$1(null,this.g))}U$1.prototype.toString=function(){var s=[],i=this.j;i&&s.push(Uc$1(i,Vc$1,!0),":");var o=this.i;return(o||i=="file")&&(s.push("//"),(i=this.s)&&s.push(Uc$1(i,Vc$1,!0),"@"),s.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o=this.m,o!=null&&s.push(":",String(o))),(o=this.l)&&(this.i&&o.charAt(0)!="/"&&s.push("/"),s.push(Uc$1(o,o.charAt(0)=="/"?Wc$1:Xc$1,!0))),(o=this.h.toString())&&s.push("?",o),(o=this.o)&&s.push("#",Uc$1(o,Yc$1)),s.join("")};function N$1(s){return new U$1(s)}function Oc$1(s,i,o){s.j=o?Tc$1(i,!0):i,s.j&&(s.j=s.j.replace(/:$/,""))}function Pc$1(s,i,o){s.i=o?Tc$1(i,!0):i}function Qc$1(s,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);s.m=i}else s.m=null}function Sc$1(s,i,o){i instanceof Rc$1?(s.h=i,Zc$1(s.h,s.g)):(o||(i=Uc$1(i,$c$1)),s.h=new Rc$1(i,s.g))}function R(s,i,o){s.h.set(i,o)}function jc$1(s){return R(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function ad(s){return s instanceof U$1?N$1(s):new U$1(s,void 0)}function bd(s,i,o,et){var $l=new U$1(null,void 0);return s&&Oc$1($l,s),i&&Pc$1($l,i),o&&Qc$1($l,o),et&&($l.l=et),$l}function Tc$1(s,i){return s?i?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Uc$1(s,i,o){return typeof s=="string"?(s=encodeURI(s).replace(i,cd),o&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function cd(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Vc$1=/[#\/\?@]/g,Xc$1=/[#\?:]/g,Wc$1=/[#\?]/g,$c$1=/[#\?@]/g,Yc$1=/#/g;function Rc$1(s,i){this.h=this.g=null,this.i=s||null,this.j=!!i}function V(s){s.g||(s.g=new S,s.h=0,s.i&&Nc$1(s.i,function(i,o){s.add(decodeURIComponent(i.replace(/\+/g," ")),o)}))}k$1=Rc$1.prototype;k$1.add=function(s,i){V(this),this.i=null,s=W$1(this,s);var o=this.g.get(s);return o||this.g.set(s,o=[]),o.push(i),this.h+=1,this};function dd(s,i){V(s),i=W$1(s,i),T(s.g.h,i)&&(s.i=null,s.h-=s.g.get(i).length,s=s.g,T(s.h,i)&&(delete s.h[i],s.i--,s.g.length>2*s.i&&Lc$1(s)))}function ed(s,i){return V(s),i=W$1(s,i),T(s.g.h,i)}k$1.forEach=function(s,i){V(this),this.g.forEach(function(o,et){na$1(o,function($l){s.call(i,$l,et,this)},this)},this)};k$1.T=function(){V(this);for(var s=this.g.R(),i=this.g.T(),o=[],et=0;et<i.length;et++)for(var $l=s[et],Nl=0;Nl<$l.length;Nl++)o.push(i[et]);return o};k$1.R=function(s){V(this);var i=[];if(typeof s=="string")ed(this,s)&&(i=qa$1(i,this.g.get(W$1(this,s))));else{s=this.g.R();for(var o=0;o<s.length;o++)i=qa$1(i,s[o])}return i};k$1.set=function(s,i){return V(this),this.i=null,s=W$1(this,s),ed(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[i]),this.h+=1,this};k$1.get=function(s,i){return s?(s=this.R(s),0<s.length?String(s[0]):i):i};function mc$1(s,i,o){dd(s,i),0<o.length&&(s.i=null,s.g.set(W$1(s,i),ra$1(o)),s.h+=o.length)}k$1.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],i=this.g.T(),o=0;o<i.length;o++){var et=i[o],$l=encodeURIComponent(String(et));et=this.R(et);for(var Nl=0;Nl<et.length;Nl++){var Ml=$l;et[Nl]!==""&&(Ml+="="+encodeURIComponent(String(et[Nl]))),s.push(Ml)}}return this.i=s.join("&")};function W$1(s,i){return i=String(i),s.j&&(i=i.toLowerCase()),i}function Zc$1(s,i){i&&!s.j&&(V(s),s.i=null,s.g.forEach(function(o,et){var $l=et.toLowerCase();et!=$l&&(dd(this,et),mc$1(this,$l,o))},s)),s.j=i}var fd=class{constructor(s,i){this.h=s,this.g=i}};function gd(s){this.l=s||hd,l.PerformanceNavigationTiming?(s=l.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(l.g&&l.g.Ea&&l.g.Ea()&&l.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hd=10;function id(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function Cc$1(s){return s.h?1:s.g?s.g.size:0}function yc$1(s,i){return s.h?s.h==i:s.g?s.g.has(i):!1}function Dc$1(s,i){s.g?s.g.add(i):s.h=i}function Fc$1(s,i){s.h&&s.h==i?s.h=null:s.g&&s.g.has(i)&&s.g.delete(i)}gd.prototype.cancel=function(){if(this.i=jd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const s of this.g.values())s.cancel();this.g.clear()}};function jd(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let i=s.i;for(const o of s.g.values())i=i.concat(o.D);return i}return ra$1(s.i)}function kd(){}kd.prototype.stringify=function(s){return l.JSON.stringify(s,void 0)};kd.prototype.parse=function(s){return l.JSON.parse(s,void 0)};function ld(){this.g=new kd}function md(s,i,o){const et=o||"";try{Kc$1(s,function($l,Nl){let Ml=$l;p($l)&&(Ml=rb($l)),i.push(et+Nl+"="+encodeURIComponent(Ml))})}catch($l){throw i.push(et+"type="+encodeURIComponent("_badmap")),$l}}function nd(s,i){const o=new Mb;if(l.Image){const et=new Image;et.onload=ja$1(od,o,et,"TestLoadImage: loaded",!0,i),et.onerror=ja$1(od,o,et,"TestLoadImage: error",!1,i),et.onabort=ja$1(od,o,et,"TestLoadImage: abort",!1,i),et.ontimeout=ja$1(od,o,et,"TestLoadImage: timeout",!1,i),l.setTimeout(function(){et.ontimeout&&et.ontimeout()},1e4),et.src=s}else i(!1)}function od(s,i,o,et,$l){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,$l(et)}catch{}}function pd(s){this.l=s.$b||null,this.j=s.ib||!1}t(pd,Yb);pd.prototype.g=function(){return new qd(this.l,this.j)};pd.prototype.i=function(s){return function(){return s}}({});function qd(s,i){C$1.call(this),this.D=s,this.u=i,this.m=void 0,this.readyState=rd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}t(qd,C$1);var rd=0;k$1=qd.prototype;k$1.open=function(s,i){if(this.readyState!=rd)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=i,this.readyState=1,sd(this)};k$1.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(i.body=s),(this.D||l).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))};k$1.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,td(this)),this.readyState=rd};k$1.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,sd(this)),this.g&&(this.readyState=3,sd(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof l.ReadableStream!="undefined"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ud(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))};function ud(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}k$1.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var i=s.value?s.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!s.done}))&&(this.response=this.responseText+=i)}s.done?td(this):sd(this),this.readyState==3&&ud(this)}};k$1.Ua=function(s){this.g&&(this.response=this.responseText=s,td(this))};k$1.Ta=function(s){this.g&&(this.response=s,td(this))};k$1.ha=function(){this.g&&td(this)};function td(s){s.readyState=4,s.l=null,s.j=null,s.A=null,sd(s)}k$1.setRequestHeader=function(s,i){this.v.append(s,i)};k$1.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""};k$1.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],i=this.h.entries();for(var o=i.next();!o.done;)o=o.value,s.push(o[0]+": "+o[1]),o=i.next();return s.join(`\r
`)};function sd(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(qd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});var vd=l.JSON.parse;function X$1(s){C$1.call(this),this.headers=new S,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wd,this.K=this.L=!1}t(X$1,C$1);var wd="",xd=/^https?$/i,yd=["POST","PUT"];k$1=X$1.prototype;k$1.ea=function(s,i,o,et){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);i=i?i.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cc$1.g(),this.C=this.u?Zb(this.u):Zb(cc$1),this.g.onreadystatechange=q$1(this.Fa,this);try{this.F=!0,this.g.open(i,String(s),!0),this.F=!1}catch(Nl){zd(this,Nl);return}s=o||"";const $l=new S(this.headers);et&&Kc$1(et,function(Nl,Ml){$l.set(Ml,Nl)}),et=oa$1($l.T()),o=l.FormData&&s instanceof l.FormData,!(0<=ma$1(yd,i))||et||o||$l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),$l.forEach(function(Nl,Ml){this.g.setRequestHeader(Ml,Nl)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ad(this),0<this.B&&((this.K=Bd(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q$1(this.pa,this)):this.A=Gb(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(Nl){zd(this,Nl)}};function Bd(s){return y&&Ra$1()&&typeof s.timeout=="number"&&s.ontimeout!==void 0}function pa$1(s){return s.toLowerCase()=="content-type"}k$1.pa=function(){typeof goog!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,D$1(this,"timeout"),this.abort(8))};function zd(s,i){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=i,s.m=5,Cd(s),Dd(s)}function Cd(s){s.D||(s.D=!0,D$1(s,"complete"),D$1(s,"error"))}k$1.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,D$1(this,"complete"),D$1(this,"abort"),Dd(this))};k$1.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dd(this,!0)),X$1.Z.M.call(this)};k$1.Fa=function(){this.s||(this.F||this.v||this.l?Ed(this):this.cb())};k$1.cb=function(){Ed(this)};function Ed(s){if(s.h&&typeof goog!="undefined"&&(!s.C[1]||O$1(s)!=4||s.ba()!=2)){if(s.v&&O$1(s)==4)Gb(s.Fa,0,s);else if(D$1(s,"readystatechange"),O$1(s)==4){s.h=!1;try{const Ol=s.ba();e:switch(Ol){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var o;if(!(o=i)){var et;if(et=Ol===0){var $l=String(s.H).match(Mc$1)[1]||null;if(!$l&&l.self&&l.self.location){var Nl=l.self.location.protocol;$l=Nl.substr(0,Nl.length-1)}et=!xd.test($l?$l.toLowerCase():"")}o=et}if(o)D$1(s,"complete"),D$1(s,"success");else{s.m=6;try{var Ml=2<O$1(s)?s.g.statusText:""}catch{Ml=""}s.j=Ml+" ["+s.ba()+"]",Cd(s)}}finally{Dd(s)}}}}function Dd(s,i){if(s.g){Ad(s);const o=s.g,et=s.C[0]?aa$1:null;s.g=null,s.C=null,i||D$1(s,"ready");try{o.onreadystatechange=et}catch{}}}function Ad(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(l.clearTimeout(s.A),s.A=null)}function O$1(s){return s.g?s.g.readyState:0}k$1.ba=function(){try{return 2<O$1(this)?this.g.status:-1}catch{return-1}};k$1.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};k$1.Qa=function(s){if(this.g){var i=this.g.responseText;return s&&i.indexOf(s)==0&&(i=i.substring(s.length)),vd(i)}};function oc$1(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case wd:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}k$1.Da=function(){return this.m};k$1.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Fd(s){let i="";return xa$1(s,function(o,et){i+=et,i+=":",i+=o,i+=`\r
`}),i}function Gd(s,i,o){e:{for(et in o){var et=!1;break e}et=!0}et||(o=Fd(o),typeof s=="string"?o!=null&&encodeURIComponent(String(o)):R(s,i,o))}function Hd(s,i,o){return o&&o.internalChannelParams&&o.internalChannelParams[s]||i}function Id(s){this.za=0,this.l=[],this.h=new Mb,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hd("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hd("baseRetryDelayMs",5e3,s),this.$a=Hd("retryDelaySeedMs",1e4,s),this.Ya=Hd("forwardChannelMaxRetries",2,s),this.ra=Hd("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new gd(s&&s.concurrentRequestLimit),this.Ca=new ld,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||s.Xb!==!1}k$1=Id.prototype;k$1.ma=8;k$1.G=1;function Ic$1(s){if(Jd(s),s.G==3){var i=s.V++,o=N$1(s.F);R(o,"SID",s.J),R(o,"RID",i),R(o,"TYPE","terminate"),Kd(s,o),i=new M$1(s,s.h,i,void 0),i.K=2,i.v=jc$1(N$1(o)),o=!1,l.navigator&&l.navigator.sendBeacon&&(o=l.navigator.sendBeacon(i.v.toString(),"")),!o&&l.Image&&(new Image().src=i.v,o=!0),o||(i.g=nc$1(i.l,null),i.g.ea(i.v)),i.F=Date.now(),lc$1(i)}Ld(s)}k$1.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch{}};function Ac$1(s){s.g&&(wc$1(s),s.g.cancel(),s.g=null)}function Jd(s){Ac$1(s),s.u&&(l.clearTimeout(s.u),s.u=null),zc$1(s),s.i.cancel(),s.m&&(typeof s.m=="number"&&l.clearTimeout(s.m),s.m=null)}function Md(s,i){s.l.push(new fd(s.Za++,i)),s.G==3&&Hc$1(s)}function Hc$1(s){id(s.i)||s.m||(s.m=!0,zb(s.Ha,s),s.C=0)}function Nd(s,i){return Cc$1(s.i)>=s.i.j-(s.m?1:0)?!1:s.m?(s.l=i.D.concat(s.l),!0):s.G==1||s.G==2||s.C>=(s.Xa?0:s.Ya)?!1:(s.m=K$1(q$1(s.Ha,s,i),Od(s,s.C)),s.C++,!0)}k$1.Ha=function(s){if(this.m)if(this.m=null,this.G==1){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const $l=new M$1(this,this.h,s,void 0);let Nl=this.s;if(this.P&&(Nl?(Nl=ya$1(Nl),Aa$1(Nl,this.P)):Nl=this.P),this.o===null&&($l.H=Nl),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var et=this.l[o];if("__data__"in et.g&&(et=et.g.__data__,typeof et=="string")){et=et.length;break t}et=void 0}if(et===void 0)break;if(i+=et,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=Pd(this,$l,i),o=N$1(this.F),R(o,"RID",s),R(o,"CVER",22),this.D&&R(o,"X-HTTP-Session-Id",this.D),Kd(this,o),this.o&&Nl&&Gd(o,this.o,Nl),Dc$1(this.i,$l),this.Ra&&R(o,"TYPE","init"),this.ja?(R(o,"$req",i),R(o,"SID","null"),$l.$=!0,ic$1($l,o,null)):ic$1($l,o,i),this.G=2}}else this.G==3&&(s?Qd(this,s):this.l.length==0||id(this.i)||Qd(this))};function Qd(s,i){var o;i?o=i.m:o=s.V++;const et=N$1(s.F);R(et,"SID",s.J),R(et,"RID",o),R(et,"AID",s.U),Kd(s,et),s.o&&s.s&&Gd(et,s.o,s.s),o=new M$1(s,s.h,o,s.C+1),s.o===null&&(o.H=s.s),i&&(s.l=i.D.concat(s.l)),i=Pd(s,o,1e3),o.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),Dc$1(s.i,o),ic$1(o,et,i)}function Kd(s,i){s.j&&Kc$1({},function(o,et){R(i,et,o)})}function Pd(s,i,o){o=Math.min(s.l.length,o);var et=s.j?q$1(s.j.Oa,s.j,s):null;e:{var $l=s.l;let Nl=-1;for(;;){const Ml=["count="+o];Nl==-1?0<o?(Nl=$l[0].h,Ml.push("ofs="+Nl)):Nl=0:Ml.push("ofs="+Nl);let Ol=!0;for(let Ll=0;Ll<o;Ll++){let Fl=$l[Ll].h;const Bl=$l[Ll].g;if(Fl-=Nl,0>Fl)Nl=Math.max(0,$l[Ll].h-100),Ol=!1;else try{md(Bl,Ml,"req"+Fl+"_")}catch{et&&et(Bl)}}if(Ol){et=Ml.join("&");break e}}}return s=s.l.splice(0,o),i.D=s,et}function Gc$1(s){s.g||s.u||(s.Y=1,zb(s.Ga,s),s.A=0)}function Bc$1(s){return s.g||s.u||3<=s.A?!1:(s.Y++,s.u=K$1(q$1(s.Ga,s),Od(s,s.A)),s.A++,!0)}k$1.Ga=function(){if(this.u=null,Rd(this),this.$&&!(this.L||this.g==null||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=K$1(q$1(this.bb,this),s)}};k$1.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,J$1(10),Ac$1(this),Rd(this))};function wc$1(s){s.B!=null&&(l.clearTimeout(s.B),s.B=null)}function Rd(s){s.g=new M$1(s,s.h,"rpc",s.Y),s.o===null&&(s.g.H=s.s),s.g.O=0;var i=N$1(s.oa);R(i,"RID","rpc"),R(i,"SID",s.J),R(i,"CI",s.N?"0":"1"),R(i,"AID",s.U),Kd(s,i),R(i,"TYPE","xmlhttp"),s.o&&s.s&&Gd(i,s.o,s.s),s.K&&s.g.setTimeout(s.K);var o=s.g;s=s.la,o.K=1,o.v=jc$1(N$1(i)),o.s=null,o.U=!0,kc$1(o,s)}k$1.ab=function(){this.v!=null&&(this.v=null,Ac$1(this),Bc$1(this),J$1(19))};function zc$1(s){s.v!=null&&(l.clearTimeout(s.v),s.v=null)}function uc$1(s,i){var o=null;if(s.g==i){zc$1(s),wc$1(s),s.g=null;var et=2}else if(yc$1(s.i,i))o=i.D,Fc$1(s.i,i),et=1;else return;if(s.I=i.N,s.G!=0){if(i.i)if(et==1){o=i.s?i.s.length:0,i=Date.now()-i.F;var $l=s.C;et=Sb(),D$1(et,new Vb(et,o)),Hc$1(s)}else Gc$1(s);else if($l=i.o,$l==3||$l==0&&0<s.I||!(et==1&&Nd(s,i)||et==2&&Bc$1(s)))switch(o&&0<o.length&&(i=s.i,i.i=i.i.concat(o)),$l){case 1:Q$1(s,5);break;case 4:Q$1(s,10);break;case 3:Q$1(s,6);break;default:Q$1(s,2)}}}function Od(s,i){let o=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(o*=2),o*i}function Q$1(s,i){if(s.h.info("Error code "+i),i==2){var o=null;s.j&&(o=null);var et=q$1(s.jb,s);o||(o=new U$1("//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Oc$1(o,"https"),jc$1(o)),nd(o.toString(),et)}else J$1(2);s.G=0,s.j&&s.j.va(i),Ld(s),Jd(s)}k$1.jb=function(s){s?(this.h.info("Successfully pinged google.com"),J$1(2)):(this.h.info("Failed to ping google.com"),J$1(1))};function Ld(s){s.G=0,s.I=-1,s.j&&((jd(s.i).length!=0||s.l.length!=0)&&(s.i.i.length=0,ra$1(s.l),s.l.length=0),s.j.ua())}function Ec$1(s,i,o){let et=ad(o);if(et.i!="")i&&Pc$1(et,i+"."+et.i),Qc$1(et,et.m);else{const $l=l.location;et=bd($l.protocol,i?i+"."+$l.hostname:$l.hostname,+$l.port,o)}return s.aa&&xa$1(s.aa,function($l,Nl){R(et,Nl,$l)}),i=s.D,o=s.sa,i&&o&&R(et,i,o),R(et,"VER",s.ma),Kd(s,et),et}function nc$1(s,i,o){if(i&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return i=o&&s.Ba&&!s.qa?new X$1(new pd({ib:!0})):new X$1(s.qa),i.L=s.H,i}function Sd(){}k$1=Sd.prototype;k$1.xa=function(){};k$1.wa=function(){};k$1.va=function(){};k$1.ua=function(){};k$1.Oa=function(){};function Td(){if(y&&!(10<=Number(Ua$1)))throw Error("Environmental error: no available transport.")}Td.prototype.g=function(s,i){return new Y$1(s,i)};function Y$1(s,i){C$1.call(this),this.g=new Id(i),this.l=s,this.h=i&&i.messageUrlParams||null,s=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(s?s["X-WebChannel-Content-Type"]=i.messageContentType:s={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(s?s["X-WebChannel-Client-Profile"]=i.ya:s={"X-WebChannel-Client-Profile":i.ya}),this.g.P=s,(s=i&&i.httpHeadersOverwriteParam)&&!sa$1(s)&&(this.g.o=s),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!sa$1(i)&&(this.g.D=i,s=this.h,s!==null&&i in s&&(s=this.h,i in s&&delete s[i])),this.j=new Z$1(this)}t(Y$1,C$1);Y$1.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,i=this.l,o=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),zb(q$1(s.hb,s,i))),J$1(0),s.W=i,s.aa=o||{},s.N=s.X,s.F=Ec$1(s,null,s.W),Hc$1(s)};Y$1.prototype.close=function(){Ic$1(this.g)};Y$1.prototype.u=function(s){if(typeof s=="string"){var i={};i.__data__=s,Md(this.g,i)}else this.v?(i={},i.__data__=rb(s),Md(this.g,i)):Md(this.g,s)};Y$1.prototype.M=function(){this.g.j=null,delete this.j,Ic$1(this.g),delete this.g,Y$1.Z.M.call(this)};function Ud(s){ac$1.call(this);var i=s.__sm__;if(i){e:{for(const o in i){s=o;break e}s=void 0}(this.i=s)&&(s=this.i,i=i!==null&&s in i?i[s]:void 0),this.data=i}else this.data=s}t(Ud,ac$1);function Vd(){bc$1.call(this),this.status=1}t(Vd,bc$1);function Z$1(s){this.g=s}t(Z$1,Sd);Z$1.prototype.xa=function(){D$1(this.g,"a")};Z$1.prototype.wa=function(s){D$1(this.g,new Ud(s))};Z$1.prototype.va=function(s){D$1(this.g,new Vd)};Z$1.prototype.ua=function(){D$1(this.g,"b")};Td.prototype.createWebChannel=Td.prototype.g;Y$1.prototype.send=Y$1.prototype.u;Y$1.prototype.open=Y$1.prototype.m;Y$1.prototype.close=Y$1.prototype.close;Wb.NO_ERROR=0;Wb.TIMEOUT=8;Wb.HTTP_ERROR=6;Xb.COMPLETE="complete";$b.EventType=L$1;L$1.OPEN="a";L$1.CLOSE="b";L$1.ERROR="c";L$1.MESSAGE="d";C$1.prototype.listen=C$1.prototype.N;X$1.prototype.listenOnce=X$1.prototype.O;X$1.prototype.getLastError=X$1.prototype.La;X$1.prototype.getLastErrorCode=X$1.prototype.Da;X$1.prototype.getStatus=X$1.prototype.ba;X$1.prototype.getResponseJson=X$1.prototype.Qa;X$1.prototype.getResponseText=X$1.prototype.ga;X$1.prototype.send=X$1.prototype.ea;var createWebChannelTransport=function(){return new Td},getStatEventTarget=function(){return Sb()},ErrorCode$1=Wb,EventType=Xb,Event=H$1,Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},FetchXmlHttpFactory=pd,WebChannel=$b,XhrIo=X$1;const D="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(i){this.uid=i}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}C.UNAUTHENTICATED=new C(null),C.GOOGLE_CREDENTIALS=new C("google-credentials-uid"),C.FIRST_PARTY=new C("first-party-uid"),C.MOCK_USER=new C("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x="9.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=new Logger("@firebase/firestore");function k(){return N.logLevel}function O(s){N.setLogLevel(s)}function M(s,...i){if(N.logLevel<=LogLevel.DEBUG){const o=i.map(B);N.debug(`Firestore (${x}): ${s}`,...o)}}function F(s,...i){if(N.logLevel<=LogLevel.ERROR){const o=i.map(B);N.error(`Firestore (${x}): ${s}`,...o)}}function $(s,...i){if(N.logLevel<=LogLevel.WARN){const o=i.map(B);N.warn(`Firestore (${x}): ${s}`,...o)}}function B(s){if(typeof s=="string")return s;try{return i=s,JSON.stringify(i)}catch{return s}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(s="Unexpected state"){const i=`FIRESTORE (${x}) INTERNAL ASSERTION FAILED: `+s;throw F(i),new Error(i)}function U(s,i){s||L()}function q(s,i){s||L()}function K(s,i){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends FirebaseError{constructor(i,o){super(i,o),this.code=i,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(){this.promise=new Promise((i,o)=>{this.resolve=i,this.reject=o})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(i,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,o){i.enqueueRetryable(()=>o(C.UNAUTHENTICATED))}shutdown(){}}class H{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,o){this.changeListener=o,i.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class J{constructor(i){this.t=i,this.currentUser=C.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,o){let et=this.i;const $l=Ll=>this.i!==et?(et=this.i,o(Ll)):Promise.resolve();let Nl=new j;this.o=()=>{this.i++,this.currentUser=this.u(),Nl.resolve(),Nl=new j,i.enqueueRetryable(()=>$l(this.currentUser))};const Ml=()=>{const Ll=Nl;i.enqueueRetryable(async()=>{await Ll.promise,await $l(this.currentUser)})},Ol=Ll=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Ll,this.auth.addAuthTokenListener(this.o),Ml()};this.t.onInit(Ll=>Ol(Ll)),setTimeout(()=>{if(!this.auth){const Ll=this.t.getImmediate({optional:!0});Ll?Ol(Ll):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),Nl.resolve(),Nl=new j)}},0),Ml()}getToken(){const i=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(et=>this.i!==i?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):et?(U(typeof et.accessToken=="string"),new W(et.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return U(i===null||typeof i=="string"),new C(i)}}class Y{constructor(i,o,et){this.type="FirstParty",this.user=C.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",o);const $l=i.auth.getAuthHeaderValueForFirstParty([]);$l&&this.headers.set("Authorization",$l),et&&this.headers.set("X-Goog-Iam-Authorization-Token",et)}}class X{constructor(i,o,et){this.h=i,this.l=o,this.m=et}getToken(){return Promise.resolve(new Y(this.h,this.l,this.m))}start(i,o){i.enqueueRetryable(()=>o(C.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tt{constructor(i){this.g=i,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(i,o){const et=Nl=>{Nl.error!=null&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${Nl.error.message}`);const Ml=Nl.token!==this.p;return this.p=Nl.token,M("FirebaseAppCheckTokenProvider",`Received ${Ml?"new":"existing"} token.`),Ml?o(Nl.token):Promise.resolve()};this.o=Nl=>{i.enqueueRetryable(()=>et(Nl))};const $l=Nl=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=Nl,this.appCheck.addTokenListener(this.o)};this.g.onInit(Nl=>$l(Nl)),setTimeout(()=>{if(!this.appCheck){const Nl=this.g.getImmediate({optional:!0});Nl?$l(Nl):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(o=>o?(U(typeof o.token=="string"),this.p=o.token,new Z(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(s){const i=typeof self!="undefined"&&(self.crypto||self.msCrypto),o=new Uint8Array(s);if(i&&typeof i.getRandomValues=="function")i.getRandomValues(o);else for(let et=0;et<s;et++)o[et]=Math.floor(256*Math.random());return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{static I(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/i.length)*i.length;let et="";for(;et.length<20;){const $l=nt(40);for(let Nl=0;Nl<$l.length;++Nl)et.length<20&&$l[Nl]<o&&(et+=i.charAt($l[Nl]%i.length))}return et}}function it(s,i){return s<i?-1:s>i?1:0}function rt(s,i,o){return s.length===i.length&&s.every((et,$l)=>o(et,i[$l]))}function ot(s){return s+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(i,o){if(this.seconds=i,this.nanoseconds=o,o<0)throw new Q(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new Q(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(i<-62135596800)throw new Q(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Q(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return ut.fromMillis(Date.now())}static fromDate(i){return ut.fromMillis(i.getTime())}static fromMillis(i){const o=Math.floor(i/1e3),et=Math.floor(1e6*(i-1e3*o));return new ut(o,et)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?it(this.nanoseconds,i.nanoseconds):it(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const i=this.seconds- -62135596800;return String(i).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(i){this.timestamp=i}static fromTimestamp(i){return new ct(i)}static min(){return new ct(new ut(0,0))}static max(){return new ct(new ut(253402300799,999999999))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(i,o,et){o===void 0?o=0:o>i.length&&L(),et===void 0?et=i.length-o:et>i.length-o&&L(),this.segments=i,this.offset=o,this.len=et}get length(){return this.len}isEqual(i){return at.comparator(this,i)===0}child(i){const o=this.segments.slice(this.offset,this.limit());return i instanceof at?i.forEach(et=>{o.push(et)}):o.push(i),this.construct(o)}limit(){return this.offset+this.length}popFirst(i){return i=i===void 0?1:i,this.construct(this.segments,this.offset+i,this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return this.length===0}isPrefixOf(i){if(i.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==i.get(o))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==i.get(o))return!1;return!0}forEach(i){for(let o=this.offset,et=this.limit();o<et;o++)i(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,o){const et=Math.min(i.length,o.length);for(let $l=0;$l<et;$l++){const Nl=i.get($l),Ml=o.get($l);if(Nl<Ml)return-1;if(Nl>Ml)return 1}return i.length<o.length?-1:i.length>o.length?1:0}}class ht extends at{construct(i,o,et){return new ht(i,o,et)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const o=[];for(const et of i){if(et.indexOf("//")>=0)throw new Q(G.INVALID_ARGUMENT,`Invalid segment (${et}). Paths must not contain // in them.`);o.push(...et.split("/").filter($l=>$l.length>0))}return new ht(o)}static emptyPath(){return new ht([])}}const lt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends at{construct(i,o,et){return new ft(i,o,et)}static isValidIdentifier(i){return lt.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(i){const o=[];let et="",$l=0;const Nl=()=>{if(et.length===0)throw new Q(G.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(et),et=""};let Ml=!1;for(;$l<i.length;){const Ol=i[$l];if(Ol==="\\"){if($l+1===i.length)throw new Q(G.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const Ll=i[$l+1];if(Ll!=="\\"&&Ll!=="."&&Ll!=="`")throw new Q(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);et+=Ll,$l+=2}else Ol==="`"?(Ml=!Ml,$l++):Ol!=="."||Ml?(et+=Ol,$l++):(Nl(),$l++)}if(Nl(),Ml)throw new Q(G.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new ft(o)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(i){this.path=i}static fromPath(i){return new dt(ht.fromString(i))}static fromName(i){return new dt(ht.fromString(i).popFirst(5))}static empty(){return new dt(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return i!==null&&ht.comparator(this.path,i.path)===0}toString(){return this.path.toString()}static comparator(i,o){return ht.comparator(i.path,o.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new dt(new ht(i.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(i,o,et,$l){this.indexId=i,this.collectionGroup=o,this.fields=et,this.indexState=$l}}function wt(s){return s.fields.find(i=>i.kind===2)}function mt(s){return s.fields.filter(i=>i.kind!==2)}_t.UNKNOWN_ID=-1;class gt{constructor(i,o){this.fieldPath=i,this.kind=o}}class yt{constructor(i,o){this.sequenceNumber=i,this.offset=o}static empty(){return new yt(0,Tt.min())}}function pt(s,i){const o=s.toTimestamp().seconds,et=s.toTimestamp().nanoseconds+1,$l=ct.fromTimestamp(et===1e9?new ut(o+1,0):new ut(o,et));return new Tt($l,dt.empty(),i)}function It(s){return new Tt(s.readTime,s.key,-1)}class Tt{constructor(i,o,et){this.readTime=i,this.documentKey=o,this.largestBatchId=et}static min(){return new Tt(ct.min(),dt.empty(),-1)}static max(){return new Tt(ct.max(),dt.empty(),-1)}}function Et(s,i){let o=s.readTime.compareTo(i.readTime);return o!==0?o:(o=dt.comparator(s.documentKey,i.documentKey),o!==0?o:it(s.largestBatchId,i.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bt(s){if(s.code!==G.FAILED_PRECONDITION||s.message!==At)throw s;M("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(i){return this.next(void 0,i)}next(i,o){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(i,this.result):new Pt((et,$l)=>{this.nextCallback=Nl=>{this.wrapSuccess(i,Nl).next(et,$l)},this.catchCallback=Nl=>{this.wrapFailure(o,Nl).next(et,$l)}})}toPromise(){return new Promise((i,o)=>{this.next(i,o)})}wrapUserFunction(i){try{const o=i();return o instanceof Pt?o:Pt.resolve(o)}catch(o){return Pt.reject(o)}}wrapSuccess(i,o){return i?this.wrapUserFunction(()=>i(o)):Pt.resolve(o)}wrapFailure(i,o){return i?this.wrapUserFunction(()=>i(o)):Pt.reject(o)}static resolve(i){return new Pt((o,et)=>{o(i)})}static reject(i){return new Pt((o,et)=>{et(i)})}static waitFor(i){return new Pt((o,et)=>{let $l=0,Nl=0,Ml=!1;i.forEach(Ol=>{++$l,Ol.next(()=>{++Nl,Ml&&Nl===$l&&o()},Ll=>et(Ll))}),Ml=!0,Nl===$l&&o()})}static or(i){let o=Pt.resolve(!1);for(const et of i)o=o.next($l=>$l?Pt.resolve($l):et());return o}static forEach(i,o){const et=[];return i.forEach(($l,Nl)=>{et.push(o.call(this,$l,Nl))}),this.waitFor(et)}static mapArray(i,o){return new Pt((et,$l)=>{const Nl=i.length,Ml=new Array(Nl);let Ol=0;for(let Ll=0;Ll<Nl;Ll++){const Fl=Ll;o(i[Fl]).next(Bl=>{Ml[Fl]=Bl,++Ol,Ol===Nl&&et(Ml)},Bl=>$l(Bl))}})}static doWhile(i,o){return new Pt((et,$l)=>{const Nl=()=>{i()===!0?o().next(()=>{Nl()},$l):et()};Nl()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(i,o){this.action=i,this.transaction=o,this.aborted=!1,this.T=new j,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{o.error?this.T.reject(new Dt(i,o.error)):this.T.resolve()},this.transaction.onerror=et=>{const $l=Ot(et.target.error);this.T.reject(new Dt(i,$l))}}static open(i,o,et,$l){try{return new vt(o,i.transaction($l,et))}catch(Nl){throw new Dt(o,Nl)}}get A(){return this.T.promise}abort(i){i&&this.T.reject(i),this.aborted||(M("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const i=this.transaction;this.aborted||typeof i.commit!="function"||i.commit()}store(i){const o=this.transaction.objectStore(i);return new xt(o)}}class Vt{constructor(i,o,et){this.name=i,this.version=o,this.P=et,Vt.v(getUA())===12.2&&F("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return M("SimpleDb","Removing database:",i),Nt(window.indexedDB.deleteDatabase(i)).toPromise()}static V(){if(!isIndexedDBAvailable())return!1;if(Vt.S())return!0;const i=getUA(),o=Vt.v(i),et=0<o&&o<10,$l=Vt.D(i),Nl=0<$l&&$l<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||et||Nl)}static S(){var i;return typeof process!="undefined"&&((i=process.env)===null||i===void 0?void 0:i.C)==="YES"}static N(i,o){return i.store(o)}static v(i){const o=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),et=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(et)}static D(i){const o=i.match(/Android ([\d.]+)/i),et=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(et)}async k(i){return this.db||(M("SimpleDb","Opening database:",this.name),this.db=await new Promise((o,et)=>{const $l=indexedDB.open(this.name,this.version);$l.onsuccess=Nl=>{const Ml=Nl.target.result;o(Ml)},$l.onblocked=()=>{et(new Dt(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},$l.onerror=Nl=>{const Ml=Nl.target.error;Ml.name==="VersionError"?et(new Q(G.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):Ml.name==="InvalidStateError"?et(new Q(G.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+Ml)):et(new Dt(i,Ml))},$l.onupgradeneeded=Nl=>{M("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',Nl.oldVersion);const Ml=Nl.target.result;this.P.O(Ml,$l.transaction,Nl.oldVersion,this.version).next(()=>{M("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.M&&(this.db.onversionchange=o=>this.M(o)),this.db}F(i){this.M=i,this.db&&(this.db.onversionchange=o=>i(o))}async runTransaction(i,o,et,$l){const Nl=o==="readonly";let Ml=0;for(;;){++Ml;try{this.db=await this.k(i);const Ol=vt.open(this.db,i,Nl?"readonly":"readwrite",et),Ll=$l(Ol).next(Fl=>(Ol.R(),Fl)).catch(Fl=>(Ol.abort(Fl),Pt.reject(Fl))).toPromise();return Ll.catch(()=>{}),await Ol.A,Ll}catch(Ol){const Ll=Ol,Fl=Ll.name!=="FirebaseError"&&Ml<3;if(M("SimpleDb","Transaction failed with error:",Ll.message,"Retrying:",Fl),this.close(),!Fl)return Promise.reject(Ll)}}}close(){this.db&&this.db.close(),this.db=void 0}}class St{constructor(i){this.$=i,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(i){this.$=i}done(){this.B=!0}q(i){this.L=i}delete(){return Nt(this.$.delete())}}class Dt extends Q{constructor(i,o){super(G.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function Ct(s){return s.name==="IndexedDbTransactionError"}class xt{constructor(i){this.store=i}put(i,o){let et;return o!==void 0?(M("SimpleDb","PUT",this.store.name,i,o),et=this.store.put(o,i)):(M("SimpleDb","PUT",this.store.name,"<auto-key>",i),et=this.store.put(i)),Nt(et)}add(i){return M("SimpleDb","ADD",this.store.name,i,i),Nt(this.store.add(i))}get(i){return Nt(this.store.get(i)).next(o=>(o===void 0&&(o=null),M("SimpleDb","GET",this.store.name,i,o),o))}delete(i){return M("SimpleDb","DELETE",this.store.name,i),Nt(this.store.delete(i))}count(){return M("SimpleDb","COUNT",this.store.name),Nt(this.store.count())}K(i,o){const et=this.options(i,o);if(et.index||typeof this.store.getAll!="function"){const $l=this.cursor(et),Nl=[];return this.G($l,(Ml,Ol)=>{Nl.push(Ol)}).next(()=>Nl)}{const $l=this.store.getAll(et.range);return new Pt((Nl,Ml)=>{$l.onerror=Ol=>{Ml(Ol.target.error)},$l.onsuccess=Ol=>{Nl(Ol.target.result)}})}}j(i,o){const et=this.store.getAll(i,o===null?void 0:o);return new Pt(($l,Nl)=>{et.onerror=Ml=>{Nl(Ml.target.error)},et.onsuccess=Ml=>{$l(Ml.target.result)}})}W(i,o){M("SimpleDb","DELETE ALL",this.store.name);const et=this.options(i,o);et.H=!1;const $l=this.cursor(et);return this.G($l,(Nl,Ml,Ol)=>Ol.delete())}J(i,o){let et;o?et=i:(et={},o=i);const $l=this.cursor(et);return this.G($l,o)}Y(i){const o=this.cursor({});return new Pt((et,$l)=>{o.onerror=Nl=>{const Ml=Ot(Nl.target.error);$l(Ml)},o.onsuccess=Nl=>{const Ml=Nl.target.result;Ml?i(Ml.primaryKey,Ml.value).next(Ol=>{Ol?Ml.continue():et()}):et()}})}G(i,o){const et=[];return new Pt(($l,Nl)=>{i.onerror=Ml=>{Nl(Ml.target.error)},i.onsuccess=Ml=>{const Ol=Ml.target.result;if(!Ol)return void $l();const Ll=new St(Ol),Fl=o(Ol.primaryKey,Ol.value,Ll);if(Fl instanceof Pt){const Bl=Fl.catch(Ul=>(Ll.done(),Pt.reject(Ul)));et.push(Bl)}Ll.isDone?$l():Ll.U===null?Ol.continue():Ol.continue(Ll.U)}}).next(()=>Pt.waitFor(et))}options(i,o){let et;return i!==void 0&&(typeof i=="string"?et=i:o=i),{index:et,range:o}}cursor(i){let o="next";if(i.reverse&&(o="prev"),i.index){const et=this.store.index(i.index);return i.H?et.openKeyCursor(i.range,o):et.openCursor(i.range,o)}return this.store.openCursor(i.range,o)}}function Nt(s){return new Pt((i,o)=>{s.onsuccess=et=>{const $l=et.target.result;i($l)},s.onerror=et=>{const $l=Ot(et.target.error);o($l)}})}let kt=!1;function Ot(s){const i=Vt.v(getUA());if(i>=12.2&&i<13){const o="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(o)>=0){const et=new Q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kt||(kt=!0,setTimeout(()=>{throw et},0)),et}}return s}class Mt{constructor(i,o){this.asyncQueue=i,this.X=o,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}Z(i){M("IndexBackiller",`Scheduled in ${i}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",i,async()=>{this.task=null;try{M("IndexBackiller",`Documents written: ${await this.X.tt()}`)}catch(o){Ct(o)?M("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):await bt(o)}await this.Z(1)})}}class Ft{constructor(i,o){this.localStore=i,this.persistence=o}async tt(i=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>this.et(o,i))}et(i,o){const et=new Set;let $l=o,Nl=!0;return Pt.doWhile(()=>Nl===!0&&$l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(i).next(Ml=>{if(Ml!==null&&!et.has(Ml))return M("IndexBackiller",`Processing collection: ${Ml}`),this.nt(i,Ml,$l).next(Ol=>{$l-=Ol,et.add(Ml)});Nl=!1})).next(()=>o-$l)}nt(i,o,et){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(i,o).next($l=>this.localStore.localDocuments.getNextDocuments(i,o,$l,et).next(Nl=>{const Ml=Nl.changes;return this.localStore.indexManager.updateIndexEntries(i,Ml).next(()=>this.st($l,Nl)).next(Ol=>(M("IndexBackiller",`Updating offset: ${Ol}`),this.localStore.indexManager.updateCollectionGroup(i,o,Ol))).next(()=>Ml.size)}))}st(i,o){let et=i;return o.changes.forEach(($l,Nl)=>{const Ml=It(Nl);Et(Ml,et)>0&&(et=Ml)}),new Tt(et.readTime,et.documentKey,Math.max(o.batchId,i.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(i,o){this.previousValue=i,o&&(o.sequenceNumberHandler=et=>this.it(et),this.rt=et=>o.writeSequenceNumber(et))}it(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.rt&&this.rt(i),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(s){let i=0;for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i++;return i}function Lt(s,i){for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i(o,s[o])}function Ut(s){for(const i in s)if(Object.prototype.hasOwnProperty.call(s,i))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.ot=-1;class qt{constructor(i,o){this.comparator=i,this.root=o||Gt.EMPTY}insert(i,o){return new qt(this.comparator,this.root.insert(i,o,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(i){return new qt(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(i){let o=this.root;for(;!o.isEmpty();){const et=this.comparator(i,o.key);if(et===0)return o.value;et<0?o=o.left:et>0&&(o=o.right)}return null}indexOf(i){let o=0,et=this.root;for(;!et.isEmpty();){const $l=this.comparator(i,et.key);if($l===0)return o+et.left.size;$l<0?et=et.left:(o+=et.left.size+1,et=et.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((o,et)=>(i(o,et),!1))}toString(){const i=[];return this.inorderTraversal((o,et)=>(i.push(`${o}:${et}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new Kt(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new Kt(this.root,i,this.comparator,!1)}getReverseIterator(){return new Kt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new Kt(this.root,i,this.comparator,!0)}}class Kt{constructor(i,o,et,$l){this.isReverse=$l,this.nodeStack=[];let Nl=1;for(;!i.isEmpty();)if(Nl=o?et(i.key,o):1,o&&$l&&(Nl*=-1),Nl<0)i=this.isReverse?i.left:i.right;else{if(Nl===0){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const o={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class Gt{constructor(i,o,et,$l,Nl){this.key=i,this.value=o,this.color=et!=null?et:Gt.RED,this.left=$l!=null?$l:Gt.EMPTY,this.right=Nl!=null?Nl:Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,o,et,$l,Nl){return new Gt(i!=null?i:this.key,o!=null?o:this.value,et!=null?et:this.color,$l!=null?$l:this.left,Nl!=null?Nl:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,o,et){let $l=this;const Nl=et(i,$l.key);return $l=Nl<0?$l.copy(null,null,null,$l.left.insert(i,o,et),null):Nl===0?$l.copy(null,o,null,null,null):$l.copy(null,null,null,null,$l.right.insert(i,o,et)),$l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,o){let et,$l=this;if(o(i,$l.key)<0)$l.left.isEmpty()||$l.left.isRed()||$l.left.left.isRed()||($l=$l.moveRedLeft()),$l=$l.copy(null,null,null,$l.left.remove(i,o),null);else{if($l.left.isRed()&&($l=$l.rotateRight()),$l.right.isEmpty()||$l.right.isRed()||$l.right.left.isRed()||($l=$l.moveRedRight()),o(i,$l.key)===0){if($l.right.isEmpty())return Gt.EMPTY;et=$l.right.min(),$l=$l.copy(et.key,et.value,null,null,$l.right.removeMin())}$l=$l.copy(null,null,null,null,$l.right.remove(i,o))}return $l.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,o)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const i=this.left.check();if(i!==this.right.check())throw L();return i+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(s,i,o,et,$l){return this}insert(s,i,o){return new Gt(s,i)}remove(s,i){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(i){this.comparator=i,this.data=new qt(this.comparator)}has(i){return this.data.get(i)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((o,et)=>(i(o),!1))}forEachInRange(i,o){const et=this.data.getIteratorFrom(i[0]);for(;et.hasNext();){const $l=et.getNext();if(this.comparator($l.key,i[1])>=0)return;o($l.key)}}forEachWhile(i,o){let et;for(et=o!==void 0?this.data.getIteratorFrom(o):this.data.getIterator();et.hasNext();)if(!i(et.getNext().key))return}firstAfterOrEqual(i){const o=this.data.getIteratorFrom(i);return o.hasNext()?o.getNext().key:null}getIterator(){return new jt(this.data.getIterator())}getIteratorFrom(i){return new jt(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let o=this;return o.size<i.size&&(o=i,i=this),i.forEach(et=>{o=o.add(et)}),o}isEqual(i){if(!(i instanceof Qt)||this.size!==i.size)return!1;const o=this.data.getIterator(),et=i.data.getIterator();for(;o.hasNext();){const $l=o.getNext().key,Nl=et.getNext().key;if(this.comparator($l,Nl)!==0)return!1}return!0}toArray(){const i=[];return this.forEach(o=>{i.push(o)}),i}toString(){const i=[];return this.forEach(o=>i.push(o)),"SortedSet("+i.toString()+")"}copy(i){const o=new Qt(this.comparator);return o.data=i,o}}class jt{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wt(s){return s.hasNext()?s.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(i){this.fields=i,i.sort(ft.comparator)}static empty(){return new zt([])}unionWith(i){let o=new Qt(ft.comparator);for(const et of this.fields)o=o.add(et);for(const et of i)o=o.add(et);return new zt(o.toArray())}covers(i){for(const o of this.fields)if(o.isPrefixOf(i))return!0;return!1}isEqual(i){return rt(this.fields,i.fields,(o,et)=>o.isEqual(et))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof atob!="undefined"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(i){this.binaryString=i}static fromBase64String(i){const o=atob(i);return new Jt(o)}static fromUint8Array(i){const o=function(et){let $l="";for(let Nl=0;Nl<et.length;++Nl)$l+=String.fromCharCode(et[Nl]);return $l}(i);return new Jt(o)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return i=this.binaryString,btoa(i);var i}toUint8Array(){return function(i){const o=new Uint8Array(i.length);for(let et=0;et<i.length;et++)o[et]=i.charCodeAt(et);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return it(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const Yt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xt(s){if(U(!!s),typeof s=="string"){let i=0;const o=Yt.exec(s);if(U(!!o),o[1]){let $l=o[1];$l=($l+"000000000").substr(0,9),i=Number($l)}const et=new Date(s);return{seconds:Math.floor(et.getTime()/1e3),nanos:i}}return{seconds:Zt(s.seconds),nanos:Zt(s.nanos)}}function Zt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function te(s){return typeof s=="string"?Jt.fromBase64String(s):Jt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(s){var i,o;return((o=(((i=s==null?void 0:s.mapValue)===null||i===void 0?void 0:i.fields)||{}).__type__)===null||o===void 0?void 0:o.stringValue)==="server_timestamp"}function ne(s){const i=s.mapValue.fields.__previous_value__;return ee(i)?ne(i):i}function se(s){const i=Xt(s.mapValue.fields.__local_write_time__.timestampValue);return new ut(i.seconds,i.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(i,o,et,$l,Nl,Ml,Ol,Ll){this.databaseId=i,this.appId=o,this.persistenceKey=et,this.host=$l,this.ssl=Nl,this.forceLongPolling=Ml,this.autoDetectLongPolling=Ol,this.useFetchStreams=Ll}}class re{constructor(i,o){this.projectId=i,this.database=o||"(default)"}static empty(){return new re("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(i){return i instanceof re&&i.projectId===this.projectId&&i.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(s){return s==null}function ue(s){return s===0&&1/s==-1/0}function ce(s){return typeof s=="number"&&Number.isInteger(s)&&!ue(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},he={nullValue:"NULL_VALUE"};function le(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ee(s)?4:be(s)?9007199254740991:10:L()}function fe(s,i){if(s===i)return!0;const o=le(s);if(o!==le(i))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===i.booleanValue;case 4:return se(s).isEqual(se(i));case 3:return function(et,$l){if(typeof et.timestampValue=="string"&&typeof $l.timestampValue=="string"&&et.timestampValue.length===$l.timestampValue.length)return et.timestampValue===$l.timestampValue;const Nl=Xt(et.timestampValue),Ml=Xt($l.timestampValue);return Nl.seconds===Ml.seconds&&Nl.nanos===Ml.nanos}(s,i);case 5:return s.stringValue===i.stringValue;case 6:return function(et,$l){return te(et.bytesValue).isEqual(te($l.bytesValue))}(s,i);case 7:return s.referenceValue===i.referenceValue;case 8:return function(et,$l){return Zt(et.geoPointValue.latitude)===Zt($l.geoPointValue.latitude)&&Zt(et.geoPointValue.longitude)===Zt($l.geoPointValue.longitude)}(s,i);case 2:return function(et,$l){if("integerValue"in et&&"integerValue"in $l)return Zt(et.integerValue)===Zt($l.integerValue);if("doubleValue"in et&&"doubleValue"in $l){const Nl=Zt(et.doubleValue),Ml=Zt($l.doubleValue);return Nl===Ml?ue(Nl)===ue(Ml):isNaN(Nl)&&isNaN(Ml)}return!1}(s,i);case 9:return rt(s.arrayValue.values||[],i.arrayValue.values||[],fe);case 10:return function(et,$l){const Nl=et.mapValue.fields||{},Ml=$l.mapValue.fields||{};if(Bt(Nl)!==Bt(Ml))return!1;for(const Ol in Nl)if(Nl.hasOwnProperty(Ol)&&(Ml[Ol]===void 0||!fe(Nl[Ol],Ml[Ol])))return!1;return!0}(s,i);default:return L()}}function de(s,i){return(s.values||[]).find(o=>fe(o,i))!==void 0}function _e(s,i){if(s===i)return 0;const o=le(s),et=le(i);if(o!==et)return it(o,et);switch(o){case 0:case 9007199254740991:return 0;case 1:return it(s.booleanValue,i.booleanValue);case 2:return function($l,Nl){const Ml=Zt($l.integerValue||$l.doubleValue),Ol=Zt(Nl.integerValue||Nl.doubleValue);return Ml<Ol?-1:Ml>Ol?1:Ml===Ol?0:isNaN(Ml)?isNaN(Ol)?0:-1:1}(s,i);case 3:return we(s.timestampValue,i.timestampValue);case 4:return we(se(s),se(i));case 5:return it(s.stringValue,i.stringValue);case 6:return function($l,Nl){const Ml=te($l),Ol=te(Nl);return Ml.compareTo(Ol)}(s.bytesValue,i.bytesValue);case 7:return function($l,Nl){const Ml=$l.split("/"),Ol=Nl.split("/");for(let Ll=0;Ll<Ml.length&&Ll<Ol.length;Ll++){const Fl=it(Ml[Ll],Ol[Ll]);if(Fl!==0)return Fl}return it(Ml.length,Ol.length)}(s.referenceValue,i.referenceValue);case 8:return function($l,Nl){const Ml=it(Zt($l.latitude),Zt(Nl.latitude));return Ml!==0?Ml:it(Zt($l.longitude),Zt(Nl.longitude))}(s.geoPointValue,i.geoPointValue);case 9:return function($l,Nl){const Ml=$l.values||[],Ol=Nl.values||[];for(let Ll=0;Ll<Ml.length&&Ll<Ol.length;++Ll){const Fl=_e(Ml[Ll],Ol[Ll]);if(Fl)return Fl}return it(Ml.length,Ol.length)}(s.arrayValue,i.arrayValue);case 10:return function($l,Nl){if($l===ae.mapValue&&Nl===ae.mapValue)return 0;if($l===ae.mapValue)return 1;if(Nl===ae.mapValue)return-1;const Ml=$l.fields||{},Ol=Object.keys(Ml),Ll=Nl.fields||{},Fl=Object.keys(Ll);Ol.sort(),Fl.sort();for(let Bl=0;Bl<Ol.length&&Bl<Fl.length;++Bl){const Ul=it(Ol[Bl],Fl[Bl]);if(Ul!==0)return Ul;const Gl=_e(Ml[Ol[Bl]],Ll[Fl[Bl]]);if(Gl!==0)return Gl}return it(Ol.length,Fl.length)}(s.mapValue,i.mapValue);default:throw L()}}function we(s,i){if(typeof s=="string"&&typeof i=="string"&&s.length===i.length)return it(s,i);const o=Xt(s),et=Xt(i),$l=it(o.seconds,et.seconds);return $l!==0?$l:it(o.nanos,et.nanos)}function me(s){return ge(s)}function ge(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(et){const $l=Xt(et);return`time(${$l.seconds},${$l.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?te(s.bytesValue).toBase64():"referenceValue"in s?(o=s.referenceValue,dt.fromName(o).toString()):"geoPointValue"in s?`geo(${(i=s.geoPointValue).latitude},${i.longitude})`:"arrayValue"in s?function(et){let $l="[",Nl=!0;for(const Ml of et.values||[])Nl?Nl=!1:$l+=",",$l+=ge(Ml);return $l+"]"}(s.arrayValue):"mapValue"in s?function(et){const $l=Object.keys(et.fields||{}).sort();let Nl="{",Ml=!0;for(const Ol of $l)Ml?Ml=!1:Nl+=",",Nl+=`${Ol}:${ge(et.fields[Ol])}`;return Nl+"}"}(s.mapValue):L();var i,o}function ye(s,i){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`}}function pe(s){return!!s&&"integerValue"in s}function Ie(s){return!!s&&"arrayValue"in s}function Te(s){return!!s&&"nullValue"in s}function Ee(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ae(s){return!!s&&"mapValue"in s}function Re(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const i={mapValue:{fields:{}}};return Lt(s.mapValue.fields,(o,et)=>i.mapValue.fields[o]=Re(et)),i}if(s.arrayValue){const i={arrayValue:{values:[]}};for(let o=0;o<(s.arrayValue.values||[]).length;++o)i.arrayValue.values[o]=Re(s.arrayValue.values[o]);return i}return Object.assign({},s)}function be(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Pe(s){return"nullValue"in s?he:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?ye(re.empty(),dt.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:L()}function ve(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?ye(re.empty(),dt.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?ae:L()}function Ve(s,i){const o=_e(s.value,i.value);return o!==0?o:s.inclusive&&!i.inclusive?-1:!s.inclusive&&i.inclusive?1:0}function Se(s,i){const o=_e(s.value,i.value);return o!==0?o:s.inclusive&&!i.inclusive?1:!s.inclusive&&i.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(i){this.value=i}static empty(){return new De({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let o=this.value;for(let et=0;et<i.length-1;++et)if(o=(o.mapValue.fields||{})[i.get(et)],!Ae(o))return null;return o=(o.mapValue.fields||{})[i.lastSegment()],o||null}}set(i,o){this.getFieldsMap(i.popLast())[i.lastSegment()]=Re(o)}setAll(i){let o=ft.emptyPath(),et={},$l=[];i.forEach((Ml,Ol)=>{if(!o.isImmediateParentOf(Ol)){const Ll=this.getFieldsMap(o);this.applyChanges(Ll,et,$l),et={},$l=[],o=Ol.popLast()}Ml?et[Ol.lastSegment()]=Re(Ml):$l.push(Ol.lastSegment())});const Nl=this.getFieldsMap(o);this.applyChanges(Nl,et,$l)}delete(i){const o=this.field(i.popLast());Ae(o)&&o.mapValue.fields&&delete o.mapValue.fields[i.lastSegment()]}isEqual(i){return fe(this.value,i.value)}getFieldsMap(i){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let et=0;et<i.length;++et){let $l=o.mapValue.fields[i.get(et)];Ae($l)&&$l.mapValue.fields||($l={mapValue:{fields:{}}},o.mapValue.fields[i.get(et)]=$l),o=$l}return o.mapValue.fields}applyChanges(i,o,et){Lt(o,($l,Nl)=>i[$l]=Nl);for(const $l of et)delete i[$l]}clone(){return new De(Re(this.value))}}function Ce(s){const i=[];return Lt(s.fields,(o,et)=>{const $l=new ft([o]);if(Ae(et)){const Nl=Ce(et.mapValue).fields;if(Nl.length===0)i.push($l);else for(const Ml of Nl)i.push($l.child(Ml))}else i.push($l)}),new zt(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(i,o,et,$l,Nl,Ml){this.key=i,this.documentType=o,this.version=et,this.readTime=$l,this.data=Nl,this.documentState=Ml}static newInvalidDocument(i){return new xe(i,0,ct.min(),ct.min(),De.empty(),0)}static newFoundDocument(i,o,et){return new xe(i,1,o,ct.min(),et,0)}static newNoDocument(i,o){return new xe(i,2,o,ct.min(),De.empty(),0)}static newUnknownDocument(i,o){return new xe(i,3,o,ct.min(),De.empty(),2)}convertToFoundDocument(i,o){return this.version=i,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=De.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=De.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(i){return i instanceof xe&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(i,o=null,et=[],$l=[],Nl=null,Ml=null,Ol=null){this.path=i,this.collectionGroup=o,this.orderBy=et,this.filters=$l,this.limit=Nl,this.startAt=Ml,this.endAt=Ol,this.ut=null}}function ke(s,i=null,o=[],et=[],$l=null,Nl=null,Ml=null){return new Ne(s,i,o,et,$l,Nl,Ml)}function Oe(s){const i=K(s);if(i.ut===null){let o=i.path.canonicalString();i.collectionGroup!==null&&(o+="|cg:"+i.collectionGroup),o+="|f:",o+=i.filters.map(et=>{return($l=et).field.canonicalString()+$l.op.toString()+me($l.value);var $l}).join(","),o+="|ob:",o+=i.orderBy.map(et=>function($l){return $l.field.canonicalString()+$l.dir}(et)).join(","),oe(i.limit)||(o+="|l:",o+=i.limit),i.startAt&&(o+="|lb:",o+=i.startAt.inclusive?"b:":"a:",o+=i.startAt.position.map(et=>me(et)).join(",")),i.endAt&&(o+="|ub:",o+=i.endAt.inclusive?"a:":"b:",o+=i.endAt.position.map(et=>me(et)).join(",")),i.ut=o}return i.ut}function Me(s){let i=s.path.canonicalString();return s.collectionGroup!==null&&(i+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(i+=`, filters: [${s.filters.map(o=>{return`${(et=o).field.canonicalString()} ${et.op} ${me(et.value)}`;var et}).join(", ")}]`),oe(s.limit)||(i+=", limit: "+s.limit),s.orderBy.length>0&&(i+=`, orderBy: [${s.orderBy.map(o=>function(et){return`${et.field.canonicalString()} (${et.dir})`}(o)).join(", ")}]`),s.startAt&&(i+=", startAt: ",i+=s.startAt.inclusive?"b:":"a:",i+=s.startAt.position.map(o=>me(o)).join(",")),s.endAt&&(i+=", endAt: ",i+=s.endAt.inclusive?"a:":"b:",i+=s.endAt.position.map(o=>me(o)).join(",")),`Target(${i})`}function Fe(s,i){if(s.limit!==i.limit||s.orderBy.length!==i.orderBy.length)return!1;for(let $l=0;$l<s.orderBy.length;$l++)if(!Ze(s.orderBy[$l],i.orderBy[$l]))return!1;if(s.filters.length!==i.filters.length)return!1;for(let $l=0;$l<s.filters.length;$l++)if(o=s.filters[$l],et=i.filters[$l],o.op!==et.op||!o.field.isEqual(et.field)||!fe(o.value,et.value))return!1;var o,et;return s.collectionGroup===i.collectionGroup&&!!s.path.isEqual(i.path)&&!!en(s.startAt,i.startAt)&&en(s.endAt,i.endAt)}function $e(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Be(s,i){return s.filters.filter(o=>o instanceof qe&&o.field.isEqual(i))}function Le(s,i,o){let et=he,$l=!0;for(const Nl of Be(s,i)){let Ml=he,Ol=!0;switch(Nl.op){case"<":case"<=":Ml=Pe(Nl.value);break;case"==":case"in":case">=":Ml=Nl.value;break;case">":Ml=Nl.value,Ol=!1;break;case"!=":case"not-in":Ml=he}Ve({value:et,inclusive:$l},{value:Ml,inclusive:Ol})<0&&(et=Ml,$l=Ol)}if(o!==null){for(let Nl=0;Nl<s.orderBy.length;++Nl)if(s.orderBy[Nl].field.isEqual(i)){const Ml=o.position[Nl];Ve({value:et,inclusive:$l},{value:Ml,inclusive:o.inclusive})<0&&(et=Ml,$l=o.inclusive);break}}return{value:et,inclusive:$l}}function Ue(s,i,o){let et=ae,$l=!0;for(const Nl of Be(s,i)){let Ml=ae,Ol=!0;switch(Nl.op){case">=":case">":Ml=ve(Nl.value),Ol=!1;break;case"==":case"in":case"<=":Ml=Nl.value;break;case"<":Ml=Nl.value,Ol=!1;break;case"!=":case"not-in":Ml=ae}Se({value:et,inclusive:$l},{value:Ml,inclusive:Ol})>0&&(et=Ml,$l=Ol)}if(o!==null){for(let Nl=0;Nl<s.orderBy.length;++Nl)if(s.orderBy[Nl].field.isEqual(i)){const Ml=o.position[Nl];Se({value:et,inclusive:$l},{value:Ml,inclusive:o.inclusive})>0&&(et=Ml,$l=o.inclusive);break}}return{value:et,inclusive:$l}}class qe extends class{}{constructor(i,o,et){super(),this.field=i,this.op=o,this.value=et}static create(i,o,et){return i.isKeyField()?o==="in"||o==="not-in"?this.ct(i,o,et):new Ke(i,o,et):o==="array-contains"?new We(i,et):o==="in"?new ze(i,et):o==="not-in"?new He(i,et):o==="array-contains-any"?new Je(i,et):new qe(i,o,et)}static ct(i,o,et){return o==="in"?new Ge(i,et):new Qe(i,et)}matches(i){const o=i.data.field(this.field);return this.op==="!="?o!==null&&this.at(_e(o,this.value)):o!==null&&le(this.value)===le(o)&&this.at(_e(o,this.value))}at(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return i===0;case"!=":return i!==0;case">":return i>0;case">=":return i>=0;default:return L()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ke extends qe{constructor(i,o,et){super(i,o,et),this.key=dt.fromName(et.referenceValue)}matches(i){const o=dt.comparator(i.key,this.key);return this.at(o)}}class Ge extends qe{constructor(i,o){super(i,"in",o),this.keys=je("in",o)}matches(i){return this.keys.some(o=>o.isEqual(i.key))}}class Qe extends qe{constructor(i,o){super(i,"not-in",o),this.keys=je("not-in",o)}matches(i){return!this.keys.some(o=>o.isEqual(i.key))}}function je(s,i){var o;return(((o=i.arrayValue)===null||o===void 0?void 0:o.values)||[]).map(et=>dt.fromName(et.referenceValue))}class We extends qe{constructor(i,o){super(i,"array-contains",o)}matches(i){const o=i.data.field(this.field);return Ie(o)&&de(o.arrayValue,this.value)}}class ze extends qe{constructor(i,o){super(i,"in",o)}matches(i){const o=i.data.field(this.field);return o!==null&&de(this.value.arrayValue,o)}}class He extends qe{constructor(i,o){super(i,"not-in",o)}matches(i){if(de(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=i.data.field(this.field);return o!==null&&!de(this.value.arrayValue,o)}}class Je extends qe{constructor(i,o){super(i,"array-contains-any",o)}matches(i){const o=i.data.field(this.field);return!(!Ie(o)||!o.arrayValue.values)&&o.arrayValue.values.some(et=>de(this.value.arrayValue,et))}}class Ye{constructor(i,o){this.position=i,this.inclusive=o}}class Xe{constructor(i,o="asc"){this.field=i,this.dir=o}}function Ze(s,i){return s.dir===i.dir&&s.field.isEqual(i.field)}function tn(s,i,o){let et=0;for(let $l=0;$l<s.position.length;$l++){const Nl=i[$l],Ml=s.position[$l];if(Nl.field.isKeyField()?et=dt.comparator(dt.fromName(Ml.referenceValue),o.key):et=_e(Ml,o.data.field(Nl.field)),Nl.dir==="desc"&&(et*=-1),et!==0)break}return et}function en(s,i){if(s===null)return i===null;if(i===null||s.inclusive!==i.inclusive||s.position.length!==i.position.length)return!1;for(let o=0;o<s.position.length;o++)if(!fe(s.position[o],i.position[o]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(i,o=null,et=[],$l=[],Nl=null,Ml="F",Ol=null,Ll=null){this.path=i,this.collectionGroup=o,this.explicitOrderBy=et,this.filters=$l,this.limit=Nl,this.limitType=Ml,this.startAt=Ol,this.endAt=Ll,this.lt=null,this.ft=null,this.startAt,this.endAt}}function sn(s,i,o,et,$l,Nl,Ml,Ol){return new nn(s,i,o,et,$l,Nl,Ml,Ol)}function rn(s){return new nn(s)}function on(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function un(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function cn(s){for(const i of s.filters)if(i.ht())return i.field;return null}function an(s){return s.collectionGroup!==null}function hn(s){const i=K(s);if(i.lt===null){i.lt=[];const o=cn(i),et=un(i);if(o!==null&&et===null)o.isKeyField()||i.lt.push(new Xe(o)),i.lt.push(new Xe(ft.keyField(),"asc"));else{let $l=!1;for(const Nl of i.explicitOrderBy)i.lt.push(Nl),Nl.field.isKeyField()&&($l=!0);if(!$l){const Nl=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.lt.push(new Xe(ft.keyField(),Nl))}}}return i.lt}function ln(s){const i=K(s);if(!i.ft)if(i.limitType==="F")i.ft=ke(i.path,i.collectionGroup,hn(i),i.filters,i.limit,i.startAt,i.endAt);else{const o=[];for(const Nl of hn(i)){const Ml=Nl.dir==="desc"?"asc":"desc";o.push(new Xe(Nl.field,Ml))}const et=i.endAt?new Ye(i.endAt.position,i.endAt.inclusive):null,$l=i.startAt?new Ye(i.startAt.position,i.startAt.inclusive):null;i.ft=ke(i.path,i.collectionGroup,o,i.filters,i.limit,et,$l)}return i.ft}function fn(s,i,o){return new nn(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),i,o,s.startAt,s.endAt)}function dn(s,i){return Fe(ln(s),ln(i))&&s.limitType===i.limitType}function _n(s){return`${Oe(ln(s))}|lt:${s.limitType}`}function wn(s){return`Query(target=${Me(ln(s))}; limitType=${s.limitType})`}function mn(s,i){return i.isFoundDocument()&&function(o,et){const $l=et.key.path;return o.collectionGroup!==null?et.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf($l):dt.isDocumentKey(o.path)?o.path.isEqual($l):o.path.isImmediateParentOf($l)}(s,i)&&function(o,et){for(const $l of o.explicitOrderBy)if(!$l.field.isKeyField()&&et.data.field($l.field)===null)return!1;return!0}(s,i)&&function(o,et){for(const $l of o.filters)if(!$l.matches(et))return!1;return!0}(s,i)&&function(o,et){return!(o.startAt&&!function($l,Nl,Ml){const Ol=tn($l,Nl,Ml);return $l.inclusive?Ol<=0:Ol<0}(o.startAt,hn(o),et)||o.endAt&&!function($l,Nl,Ml){const Ol=tn($l,Nl,Ml);return $l.inclusive?Ol>=0:Ol>0}(o.endAt,hn(o),et))}(s,i)}function gn(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function yn(s){return(i,o)=>{let et=!1;for(const $l of hn(s)){const Nl=pn($l,i,o);if(Nl!==0)return Nl;et=et||$l.field.isKeyField()}return 0}}function pn(s,i,o){const et=s.field.isKeyField()?dt.comparator(i.key,o.key):function($l,Nl,Ml){const Ol=Nl.data.field($l),Ll=Ml.data.field($l);return Ol!==null&&Ll!==null?_e(Ol,Ll):L()}(s.field,i,o);switch(s.dir){case"asc":return et;case"desc":return-1*et;default:return L()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(s,i){if(s.dt){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ue(i)?"-0":i}}function Tn(s){return{integerValue:""+s}}function En(s,i){return ce(i)?Tn(i):In(s,i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this._=void 0}}function Rn(s,i,o){return s instanceof vn?function(et,$l){const Nl={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:et.seconds,nanos:et.nanoseconds}}}};return $l&&(Nl.fields.__previous_value__=$l),{mapValue:Nl}}(o,i):s instanceof Vn?Sn(s,i):s instanceof Dn?Cn(s,i):function(et,$l){const Nl=Pn(et,$l),Ml=Nn(Nl)+Nn(et._t);return pe(Nl)&&pe(et._t)?Tn(Ml):In(et.wt,Ml)}(s,i)}function bn(s,i,o){return s instanceof Vn?Sn(s,i):s instanceof Dn?Cn(s,i):o}function Pn(s,i){return s instanceof xn?pe(o=i)||function(et){return!!et&&"doubleValue"in et}(o)?i:{integerValue:0}:null;var o}class vn extends An{}class Vn extends An{constructor(i){super(),this.elements=i}}function Sn(s,i){const o=kn(i);for(const et of s.elements)o.some($l=>fe($l,et))||o.push(et);return{arrayValue:{values:o}}}class Dn extends An{constructor(i){super(),this.elements=i}}function Cn(s,i){let o=kn(i);for(const et of s.elements)o=o.filter($l=>!fe($l,et));return{arrayValue:{values:o}}}class xn extends An{constructor(i,o){super(),this.wt=i,this._t=o}}function Nn(s){return Zt(s.integerValue||s.doubleValue)}function kn(s){return Ie(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(i,o){this.field=i,this.transform=o}}function Mn(s,i){return s.field.isEqual(i.field)&&function(o,et){return o instanceof Vn&&et instanceof Vn||o instanceof Dn&&et instanceof Dn?rt(o.elements,et.elements,fe):o instanceof xn&&et instanceof xn?fe(o._t,et._t):o instanceof vn&&et instanceof vn}(s.transform,i.transform)}class Fn{constructor(i,o){this.version=i,this.transformResults=o}}class $n{constructor(i,o){this.updateTime=i,this.exists=o}static none(){return new $n}static exists(i){return new $n(void 0,i)}static updateTime(i){return new $n(i)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function Bn(s,i){return s.updateTime!==void 0?i.isFoundDocument()&&i.version.isEqual(s.updateTime):s.exists===void 0||s.exists===i.isFoundDocument()}class Ln{}function Un(s,i){if(!s.hasLocalMutations||i&&i.fields.length===0)return null;if(i===null)return s.isNoDocument()?new Yn(s.key,$n.none()):new jn(s.key,s.data,$n.none());{const o=s.data,et=De.empty();let $l=new Qt(ft.comparator);for(let Nl of i.fields)if(!$l.has(Nl)){let Ml=o.field(Nl);Ml===null&&Nl.length>1&&(Nl=Nl.popLast(),Ml=o.field(Nl)),Ml===null?et.delete(Nl):et.set(Nl,Ml),$l=$l.add(Nl)}return new Wn(s.key,et,new zt($l.toArray()),$n.none())}}function qn(s,i,o){s instanceof jn?function(et,$l,Nl){const Ml=et.value.clone(),Ol=Hn(et.fieldTransforms,$l,Nl.transformResults);Ml.setAll(Ol),$l.convertToFoundDocument(Nl.version,Ml).setHasCommittedMutations()}(s,i,o):s instanceof Wn?function(et,$l,Nl){if(!Bn(et.precondition,$l))return void $l.convertToUnknownDocument(Nl.version);const Ml=Hn(et.fieldTransforms,$l,Nl.transformResults),Ol=$l.data;Ol.setAll(zn(et)),Ol.setAll(Ml),$l.convertToFoundDocument(Nl.version,Ol).setHasCommittedMutations()}(s,i,o):function(et,$l,Nl){$l.convertToNoDocument(Nl.version).setHasCommittedMutations()}(0,i,o)}function Kn(s,i,o,et){return s instanceof jn?function($l,Nl,Ml,Ol){if(!Bn($l.precondition,Nl))return Ml;const Ll=$l.value.clone(),Fl=Jn($l.fieldTransforms,Ol,Nl);return Ll.setAll(Fl),Nl.convertToFoundDocument(Nl.version,Ll).setHasLocalMutations(),null}(s,i,o,et):s instanceof Wn?function($l,Nl,Ml,Ol){if(!Bn($l.precondition,Nl))return Ml;const Ll=Jn($l.fieldTransforms,Ol,Nl),Fl=Nl.data;return Fl.setAll(zn($l)),Fl.setAll(Ll),Nl.convertToFoundDocument(Nl.version,Fl).setHasLocalMutations(),Ml===null?null:Ml.unionWith($l.fieldMask.fields).unionWith($l.fieldTransforms.map(Bl=>Bl.field))}(s,i,o,et):function($l,Nl,Ml){return Bn($l.precondition,Nl)?(Nl.convertToNoDocument(Nl.version).setHasLocalMutations(),null):Ml}(s,i,o)}function Gn(s,i){let o=null;for(const et of s.fieldTransforms){const $l=i.data.field(et.field),Nl=Pn(et.transform,$l||null);Nl!=null&&(o===null&&(o=De.empty()),o.set(et.field,Nl))}return o||null}function Qn(s,i){return s.type===i.type&&!!s.key.isEqual(i.key)&&!!s.precondition.isEqual(i.precondition)&&!!function(o,et){return o===void 0&&et===void 0||!(!o||!et)&&rt(o,et,($l,Nl)=>Mn($l,Nl))}(s.fieldTransforms,i.fieldTransforms)&&(s.type===0?s.value.isEqual(i.value):s.type!==1||s.data.isEqual(i.data)&&s.fieldMask.isEqual(i.fieldMask))}class jn extends Ln{constructor(i,o,et,$l=[]){super(),this.key=i,this.value=o,this.precondition=et,this.fieldTransforms=$l,this.type=0}getFieldMask(){return null}}class Wn extends Ln{constructor(i,o,et,$l,Nl=[]){super(),this.key=i,this.data=o,this.fieldMask=et,this.precondition=$l,this.fieldTransforms=Nl,this.type=1}getFieldMask(){return this.fieldMask}}function zn(s){const i=new Map;return s.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const et=s.data.field(o);i.set(o,et)}}),i}function Hn(s,i,o){const et=new Map;U(s.length===o.length);for(let $l=0;$l<o.length;$l++){const Nl=s[$l],Ml=Nl.transform,Ol=i.data.field(Nl.field);et.set(Nl.field,bn(Ml,Ol,o[$l]))}return et}function Jn(s,i,o){const et=new Map;for(const $l of s){const Nl=$l.transform,Ml=o.data.field($l.field);et.set($l.field,Rn(Nl,Ml,i))}return et}class Yn extends Ln{constructor(i,o){super(),this.key=i,this.precondition=o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xn extends Ln{constructor(i,o){super(),this.key=i,this.precondition=o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(i){this.count=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ts,es;function ns(s){switch(s){default:return L();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function ss(s){if(s===void 0)return F("GRPC error has no .code"),G.UNKNOWN;switch(s){case ts.OK:return G.OK;case ts.CANCELLED:return G.CANCELLED;case ts.UNKNOWN:return G.UNKNOWN;case ts.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case ts.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case ts.INTERNAL:return G.INTERNAL;case ts.UNAVAILABLE:return G.UNAVAILABLE;case ts.UNAUTHENTICATED:return G.UNAUTHENTICATED;case ts.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case ts.NOT_FOUND:return G.NOT_FOUND;case ts.ALREADY_EXISTS:return G.ALREADY_EXISTS;case ts.PERMISSION_DENIED:return G.PERMISSION_DENIED;case ts.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case ts.ABORTED:return G.ABORTED;case ts.OUT_OF_RANGE:return G.OUT_OF_RANGE;case ts.UNIMPLEMENTED:return G.UNIMPLEMENTED;case ts.DATA_LOSS:return G.DATA_LOSS;default:return L()}}(es=ts||(ts={}))[es.OK=0]="OK",es[es.CANCELLED=1]="CANCELLED",es[es.UNKNOWN=2]="UNKNOWN",es[es.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",es[es.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",es[es.NOT_FOUND=5]="NOT_FOUND",es[es.ALREADY_EXISTS=6]="ALREADY_EXISTS",es[es.PERMISSION_DENIED=7]="PERMISSION_DENIED",es[es.UNAUTHENTICATED=16]="UNAUTHENTICATED",es[es.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",es[es.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",es[es.ABORTED=10]="ABORTED",es[es.OUT_OF_RANGE=11]="OUT_OF_RANGE",es[es.UNIMPLEMENTED=12]="UNIMPLEMENTED",es[es.INTERNAL=13]="INTERNAL",es[es.UNAVAILABLE=14]="UNAVAILABLE",es[es.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(i,o){this.mapKeyFn=i,this.equalsFn=o,this.inner={},this.innerSize=0}get(i){const o=this.mapKeyFn(i),et=this.inner[o];if(et!==void 0){for(const[$l,Nl]of et)if(this.equalsFn($l,i))return Nl}}has(i){return this.get(i)!==void 0}set(i,o){const et=this.mapKeyFn(i),$l=this.inner[et];if($l===void 0)return this.inner[et]=[[i,o]],void this.innerSize++;for(let Nl=0;Nl<$l.length;Nl++)if(this.equalsFn($l[Nl][0],i))return void($l[Nl]=[i,o]);$l.push([i,o]),this.innerSize++}delete(i){const o=this.mapKeyFn(i),et=this.inner[o];if(et===void 0)return!1;for(let $l=0;$l<et.length;$l++)if(this.equalsFn(et[$l][0],i))return et.length===1?delete this.inner[o]:et.splice($l,1),this.innerSize--,!0;return!1}forEach(i){Lt(this.inner,(o,et)=>{for(const[$l,Nl]of et)i($l,Nl)})}isEmpty(){return Ut(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new qt(dt.comparator);function os(){return rs}const us=new qt(dt.comparator);function cs(...s){let i=us;for(const o of s)i=i.insert(o.key,o);return i}function as(s){let i=us;return s.forEach((o,et)=>i=i.insert(o,et.overlayedDocument)),i}function hs(){return fs()}function ls(){return fs()}function fs(){return new is(s=>s.toString(),(s,i)=>s.isEqual(i))}const ds=new qt(dt.comparator),_s=new Qt(dt.comparator);function ws(...s){let i=_s;for(const o of s)i=i.add(o);return i}const ms=new Qt(it);function gs(){return ms}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(i,o,et,$l,Nl){this.snapshotVersion=i,this.targetChanges=o,this.targetMismatches=et,this.documentUpdates=$l,this.resolvedLimboDocuments=Nl}static createSynthesizedRemoteEventForCurrentChange(i,o){const et=new Map;return et.set(i,ps.createSynthesizedTargetChangeForCurrentChange(i,o)),new ys(ct.min(),et,gs(),os(),ws())}}class ps{constructor(i,o,et,$l,Nl){this.resumeToken=i,this.current=o,this.addedDocuments=et,this.modifiedDocuments=$l,this.removedDocuments=Nl}static createSynthesizedTargetChangeForCurrentChange(i,o){return new ps(Jt.EMPTY_BYTE_STRING,o,ws(),ws(),ws())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(i,o,et,$l){this.gt=i,this.removedTargetIds=o,this.key=et,this.yt=$l}}class Ts{constructor(i,o){this.targetId=i,this.It=o}}class Es{constructor(i,o,et=Jt.EMPTY_BYTE_STRING,$l=null){this.state=i,this.targetIds=o,this.resumeToken=et,this.cause=$l}}class As{constructor(){this.Tt=0,this.Et=Ps(),this.At=Jt.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(i){i.approximateByteSize()>0&&(this.bt=!0,this.At=i)}St(){let i=ws(),o=ws(),et=ws();return this.Et.forEach(($l,Nl)=>{switch(Nl){case 0:i=i.add($l);break;case 2:o=o.add($l);break;case 1:et=et.add($l);break;default:L()}}),new ps(this.At,this.Rt,i,o,et)}Dt(){this.bt=!1,this.Et=Ps()}Ct(i,o){this.bt=!0,this.Et=this.Et.insert(i,o)}xt(i){this.bt=!0,this.Et=this.Et.remove(i)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Rs{constructor(i){this.Mt=i,this.Ft=new Map,this.$t=os(),this.Bt=bs(),this.Lt=new Qt(it)}Ut(i){for(const o of i.gt)i.yt&&i.yt.isFoundDocument()?this.qt(o,i.yt):this.Kt(o,i.key,i.yt);for(const o of i.removedTargetIds)this.Kt(o,i.key,i.yt)}Gt(i){this.forEachTarget(i,o=>{const et=this.Qt(o);switch(i.state){case 0:this.jt(o)&&et.Vt(i.resumeToken);break;case 1:et.kt(),et.Pt||et.Dt(),et.Vt(i.resumeToken);break;case 2:et.kt(),et.Pt||this.removeTarget(o);break;case 3:this.jt(o)&&(et.Ot(),et.Vt(i.resumeToken));break;case 4:this.jt(o)&&(this.Wt(o),et.Vt(i.resumeToken));break;default:L()}})}forEachTarget(i,o){i.targetIds.length>0?i.targetIds.forEach(o):this.Ft.forEach((et,$l)=>{this.jt($l)&&o($l)})}zt(i){const o=i.targetId,et=i.It.count,$l=this.Ht(o);if($l){const Nl=$l.target;if($e(Nl))if(et===0){const Ml=new dt(Nl.path);this.Kt(o,Ml,xe.newNoDocument(Ml,ct.min()))}else U(et===1);else this.Jt(o)!==et&&(this.Wt(o),this.Lt=this.Lt.add(o))}}Yt(i){const o=new Map;this.Ft.forEach((Nl,Ml)=>{const Ol=this.Ht(Ml);if(Ol){if(Nl.current&&$e(Ol.target)){const Ll=new dt(Ol.target.path);this.$t.get(Ll)!==null||this.Xt(Ml,Ll)||this.Kt(Ml,Ll,xe.newNoDocument(Ll,i))}Nl.vt&&(o.set(Ml,Nl.St()),Nl.Dt())}});let et=ws();this.Bt.forEach((Nl,Ml)=>{let Ol=!0;Ml.forEachWhile(Ll=>{const Fl=this.Ht(Ll);return!Fl||Fl.purpose===2||(Ol=!1,!1)}),Ol&&(et=et.add(Nl))}),this.$t.forEach((Nl,Ml)=>Ml.setReadTime(i));const $l=new ys(i,o,this.Lt,this.$t,et);return this.$t=os(),this.Bt=bs(),this.Lt=new Qt(it),$l}qt(i,o){if(!this.jt(i))return;const et=this.Xt(i,o.key)?2:0;this.Qt(i).Ct(o.key,et),this.$t=this.$t.insert(o.key,o),this.Bt=this.Bt.insert(o.key,this.Zt(o.key).add(i))}Kt(i,o,et){if(!this.jt(i))return;const $l=this.Qt(i);this.Xt(i,o)?$l.Ct(o,1):$l.xt(o),this.Bt=this.Bt.insert(o,this.Zt(o).delete(i)),et&&(this.$t=this.$t.insert(o,et))}removeTarget(i){this.Ft.delete(i)}Jt(i){const o=this.Qt(i).St();return this.Mt.getRemoteKeysForTarget(i).size+o.addedDocuments.size-o.removedDocuments.size}Nt(i){this.Qt(i).Nt()}Qt(i){let o=this.Ft.get(i);return o||(o=new As,this.Ft.set(i,o)),o}Zt(i){let o=this.Bt.get(i);return o||(o=new Qt(it),this.Bt=this.Bt.insert(i,o)),o}jt(i){const o=this.Ht(i)!==null;return o||M("WatchChangeAggregator","Detected inactive target",i),o}Ht(i){const o=this.Ft.get(i);return o&&o.Pt?null:this.Mt.te(i)}Wt(i){this.Ft.set(i,new As),this.Mt.getRemoteKeysForTarget(i).forEach(o=>{this.Kt(i,o,null)})}Xt(i,o){return this.Mt.getRemoteKeysForTarget(i).has(o)}}function bs(){return new qt(dt.comparator)}function Ps(){return new qt(dt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Vs=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class Ss{constructor(i,o){this.databaseId=i,this.dt=o}}function Ds(s,i){return s.dt?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function Cs(s,i){return s.dt?i.toBase64():i.toUint8Array()}function xs(s,i){return Ds(s,i.toTimestamp())}function Ns(s){return U(!!s),ct.fromTimestamp(function(i){const o=Xt(i);return new ut(o.seconds,o.nanos)}(s))}function ks(s,i){return function(o){return new ht(["projects",o.projectId,"databases",o.database])}(s).child("documents").child(i).canonicalString()}function Os(s){const i=ht.fromString(s);return U(ui(i)),i}function Ms(s,i){return ks(s.databaseId,i.path)}function Fs(s,i){const o=Os(i);if(o.get(1)!==s.databaseId.projectId)throw new Q(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+s.databaseId.projectId);if(o.get(3)!==s.databaseId.database)throw new Q(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+s.databaseId.database);return new dt(Us(o))}function $s(s,i){return ks(s.databaseId,i)}function Bs(s){const i=Os(s);return i.length===4?ht.emptyPath():Us(i)}function Ls(s){return new ht(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Us(s){return U(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function qs(s,i,o){return{name:Ms(s,i),fields:o.value.mapValue.fields}}function Ks(s,i,o){const et=Fs(s,i.name),$l=Ns(i.updateTime),Nl=new De({mapValue:{fields:i.fields}}),Ml=xe.newFoundDocument(et,$l,Nl);return o&&Ml.setHasCommittedMutations(),o?Ml.setHasCommittedMutations():Ml}function Gs(s,i){return"found"in i?function(o,et){U(!!et.found),et.found.name,et.found.updateTime;const $l=Fs(o,et.found.name),Nl=Ns(et.found.updateTime),Ml=new De({mapValue:{fields:et.found.fields}});return xe.newFoundDocument($l,Nl,Ml)}(s,i):"missing"in i?function(o,et){U(!!et.missing),U(!!et.readTime);const $l=Fs(o,et.missing),Nl=Ns(et.readTime);return xe.newNoDocument($l,Nl)}(s,i):L()}function Qs(s,i){let o;if("targetChange"in i){i.targetChange;const et=function(Ll){return Ll==="NO_CHANGE"?0:Ll==="ADD"?1:Ll==="REMOVE"?2:Ll==="CURRENT"?3:Ll==="RESET"?4:L()}(i.targetChange.targetChangeType||"NO_CHANGE"),$l=i.targetChange.targetIds||[],Nl=function(Ll,Fl){return Ll.dt?(U(Fl===void 0||typeof Fl=="string"),Jt.fromBase64String(Fl||"")):(U(Fl===void 0||Fl instanceof Uint8Array),Jt.fromUint8Array(Fl||new Uint8Array))}(s,i.targetChange.resumeToken),Ml=i.targetChange.cause,Ol=Ml&&function(Ll){const Fl=Ll.code===void 0?G.UNKNOWN:ss(Ll.code);return new Q(Fl,Ll.message||"")}(Ml);o=new Es(et,$l,Nl,Ol||null)}else if("documentChange"in i){i.documentChange;const et=i.documentChange;et.document,et.document.name,et.document.updateTime;const $l=Fs(s,et.document.name),Nl=Ns(et.document.updateTime),Ml=new De({mapValue:{fields:et.document.fields}}),Ol=xe.newFoundDocument($l,Nl,Ml),Ll=et.targetIds||[],Fl=et.removedTargetIds||[];o=new Is(Ll,Fl,Ol.key,Ol)}else if("documentDelete"in i){i.documentDelete;const et=i.documentDelete;et.document;const $l=Fs(s,et.document),Nl=et.readTime?Ns(et.readTime):ct.min(),Ml=xe.newNoDocument($l,Nl),Ol=et.removedTargetIds||[];o=new Is([],Ol,Ml.key,Ml)}else if("documentRemove"in i){i.documentRemove;const et=i.documentRemove;et.document;const $l=Fs(s,et.document),Nl=et.removedTargetIds||[];o=new Is([],Nl,$l,null)}else{if(!("filter"in i))return L();{i.filter;const et=i.filter;et.targetId;const $l=et.count||0,Nl=new Zn($l),Ml=et.targetId;o=new Ts(Ml,Nl)}}return o}function js(s,i){let o;if(i instanceof jn)o={update:qs(s,i.key,i.value)};else if(i instanceof Yn)o={delete:Ms(s,i.key)};else if(i instanceof Wn)o={update:qs(s,i.key,i.data),updateMask:oi(i.fieldMask)};else{if(!(i instanceof Xn))return L();o={verify:Ms(s,i.key)}}return i.fieldTransforms.length>0&&(o.updateTransforms=i.fieldTransforms.map(et=>function($l,Nl){const Ml=Nl.transform;if(Ml instanceof vn)return{fieldPath:Nl.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(Ml instanceof Vn)return{fieldPath:Nl.field.canonicalString(),appendMissingElements:{values:Ml.elements}};if(Ml instanceof Dn)return{fieldPath:Nl.field.canonicalString(),removeAllFromArray:{values:Ml.elements}};if(Ml instanceof xn)return{fieldPath:Nl.field.canonicalString(),increment:Ml._t};throw L()}(0,et))),i.precondition.isNone||(o.currentDocument=function(et,$l){return $l.updateTime!==void 0?{updateTime:xs(et,$l.updateTime)}:$l.exists!==void 0?{exists:$l.exists}:L()}(s,i.precondition)),o}function Ws(s,i){const o=i.currentDocument?function($l){return $l.updateTime!==void 0?$n.updateTime(Ns($l.updateTime)):$l.exists!==void 0?$n.exists($l.exists):$n.none()}(i.currentDocument):$n.none(),et=i.updateTransforms?i.updateTransforms.map($l=>function(Nl,Ml){let Ol=null;if("setToServerValue"in Ml)U(Ml.setToServerValue==="REQUEST_TIME"),Ol=new vn;else if("appendMissingElements"in Ml){const Fl=Ml.appendMissingElements.values||[];Ol=new Vn(Fl)}else if("removeAllFromArray"in Ml){const Fl=Ml.removeAllFromArray.values||[];Ol=new Dn(Fl)}else"increment"in Ml?Ol=new xn(Nl,Ml.increment):L();const Ll=ft.fromServerFormat(Ml.fieldPath);return new On(Ll,Ol)}(s,$l)):[];if(i.update){i.update.name;const $l=Fs(s,i.update.name),Nl=new De({mapValue:{fields:i.update.fields}});if(i.updateMask){const Ml=function(Ol){const Ll=Ol.fieldPaths||[];return new zt(Ll.map(Fl=>ft.fromServerFormat(Fl)))}(i.updateMask);return new Wn($l,Nl,Ml,o,et)}return new jn($l,Nl,o,et)}if(i.delete){const $l=Fs(s,i.delete);return new Yn($l,o)}if(i.verify){const $l=Fs(s,i.verify);return new Xn($l,o)}return L()}function zs(s,i){return s&&s.length>0?(U(i!==void 0),s.map(o=>function(et,$l){let Nl=et.updateTime?Ns(et.updateTime):Ns($l);return Nl.isEqual(ct.min())&&(Nl=Ns($l)),new Fn(Nl,et.transformResults||[])}(o,i))):[]}function Hs(s,i){return{documents:[$s(s,i.path)]}}function Js(s,i){const o={structuredQuery:{}},et=i.path;i.collectionGroup!==null?(o.parent=$s(s,et),o.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(o.parent=$s(s,et.popLast()),o.structuredQuery.from=[{collectionId:et.lastSegment()}]);const $l=function(Ll){if(Ll.length===0)return;const Fl=Ll.map(Bl=>function(Ul){if(Ul.op==="=="){if(Ee(Ul.value))return{unaryFilter:{field:ni(Ul.field),op:"IS_NAN"}};if(Te(Ul.value))return{unaryFilter:{field:ni(Ul.field),op:"IS_NULL"}}}else if(Ul.op==="!="){if(Ee(Ul.value))return{unaryFilter:{field:ni(Ul.field),op:"IS_NOT_NAN"}};if(Te(Ul.value))return{unaryFilter:{field:ni(Ul.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ni(Ul.field),op:ei(Ul.op),value:Ul.value}}}(Bl));return Fl.length===1?Fl[0]:{compositeFilter:{op:"AND",filters:Fl}}}(i.filters);$l&&(o.structuredQuery.where=$l);const Nl=function(Ll){if(Ll.length!==0)return Ll.map(Fl=>function(Bl){return{field:ni(Bl.field),direction:ti(Bl.dir)}}(Fl))}(i.orderBy);Nl&&(o.structuredQuery.orderBy=Nl);const Ml=function(Ll,Fl){return Ll.dt||oe(Fl)?Fl:{value:Fl}}(s,i.limit);var Ol;return Ml!==null&&(o.structuredQuery.limit=Ml),i.startAt&&(o.structuredQuery.startAt={before:(Ol=i.startAt).inclusive,values:Ol.position}),i.endAt&&(o.structuredQuery.endAt=function(Ll){return{before:!Ll.inclusive,values:Ll.position}}(i.endAt)),o}function Ys(s){let i=Bs(s.parent);const o=s.structuredQuery,et=o.from?o.from.length:0;let $l=null;if(et>0){U(et===1);const Bl=o.from[0];Bl.allDescendants?$l=Bl.collectionId:i=i.child(Bl.collectionId)}let Nl=[];o.where&&(Nl=Zs(o.where));let Ml=[];o.orderBy&&(Ml=o.orderBy.map(Bl=>function(Ul){return new Xe(si(Ul.field),function(Gl){switch(Gl){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ul.direction))}(Bl)));let Ol=null;o.limit&&(Ol=function(Bl){let Ul;return Ul=typeof Bl=="object"?Bl.value:Bl,oe(Ul)?null:Ul}(o.limit));let Ll=null;o.startAt&&(Ll=function(Bl){const Ul=!!Bl.before,Gl=Bl.values||[];return new Ye(Gl,Ul)}(o.startAt));let Fl=null;return o.endAt&&(Fl=function(Bl){const Ul=!Bl.before,Gl=Bl.values||[];return new Ye(Gl,Ul)}(o.endAt)),sn(i,$l,Ml,Nl,Ol,"F",Ll,Fl)}function Xs(s,i){const o=function(et,$l){switch($l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return L()}}(0,i.purpose);return o==null?null:{"goog-listen-tags":o}}function Zs(s){return s?s.unaryFilter!==void 0?[ri(s)]:s.fieldFilter!==void 0?[ii(s)]:s.compositeFilter!==void 0?s.compositeFilter.filters.map(i=>Zs(i)).reduce((i,o)=>i.concat(o)):L():[]}function ti(s){return vs[s]}function ei(s){return Vs[s]}function ni(s){return{fieldPath:s.canonicalString()}}function si(s){return ft.fromServerFormat(s.fieldPath)}function ii(s){return qe.create(si(s.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(s.fieldFilter.op),s.fieldFilter.value)}function ri(s){switch(s.unaryFilter.op){case"IS_NAN":const i=si(s.unaryFilter.field);return qe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=si(s.unaryFilter.field);return qe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const et=si(s.unaryFilter.field);return qe.create(et,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const $l=si(s.unaryFilter.field);return qe.create($l,"!=",{nullValue:"NULL_VALUE"});default:return L()}}function oi(s){const i=[];return s.fields.forEach(o=>i.push(o.canonicalString())),{fieldPaths:i}}function ui(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(s){let i="";for(let o=0;o<s.length;o++)i.length>0&&(i=hi(i)),i=ai(s.get(o),i);return hi(i)}function ai(s,i){let o=i;const et=s.length;for(let $l=0;$l<et;$l++){const Nl=s.charAt($l);switch(Nl){case"\0":o+="";break;case"":o+="";break;default:o+=Nl}}return o}function hi(s){return s+""}function li(s){const i=s.length;if(U(i>=2),i===2)return U(s.charAt(0)===""&&s.charAt(1)===""),ht.emptyPath();const o=i-2,et=[];let $l="";for(let Nl=0;Nl<i;){const Ml=s.indexOf("",Nl);switch((Ml<0||Ml>o)&&L(),s.charAt(Ml+1)){case"":const Ol=s.substring(Nl,Ml);let Ll;$l.length===0?Ll=Ol:($l+=Ol,Ll=$l,$l=""),et.push(Ll);break;case"":$l+=s.substring(Nl,Ml),$l+="\0";break;case"":$l+=s.substring(Nl,Ml+1);break;default:L()}Nl=Ml+2}return new ht(et)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(s,i){return[s,ci(i)]}function _i(s,i,o){return[s,ci(i),o]}const wi={},mi=["prefixPath","collectionGroup","readTime","documentId"],gi=["prefixPath","collectionGroup","documentId"],yi=["collectionGroup","readTime","prefixPath","documentId"],pi=["canonicalId","targetId"],Ii=["targetId","path"],Ti=["path","targetId"],Ei=["collectionId","parent"],Ai=["indexId","uid"],Ri=["uid","sequenceNumber"],bi=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Pi=["indexId","uid","orderedDocumentKey"],vi=["userId","collectionPath","documentId"],Vi=["userId","collectionPath","largestBatchId"],Si=["userId","collectionGroup","largestBatchId"],Di=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ci=[...Di,"documentOverlays"],xi=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ni=xi,ki=[...Ni,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Rt{constructor(i,o){super(),this.ee=i,this.currentSequenceNumber=o}}function Mi(s,i){const o=K(s);return Vt.N(o.ee,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(i,o,et,$l){this.batchId=i,this.localWriteTime=o,this.baseMutations=et,this.mutations=$l}applyToRemoteDocument(i,o){const et=o.mutationResults;for(let $l=0;$l<this.mutations.length;$l++){const Nl=this.mutations[$l];Nl.key.isEqual(i.key)&&qn(Nl,i,et[$l])}}applyToLocalView(i,o){for(const et of this.baseMutations)et.key.isEqual(i.key)&&(o=Kn(et,i,o,this.localWriteTime));for(const et of this.mutations)et.key.isEqual(i.key)&&(o=Kn(et,i,o,this.localWriteTime));return o}applyToLocalDocumentSet(i,o){const et=ls();return this.mutations.forEach($l=>{const Nl=i.get($l.key),Ml=Nl.overlayedDocument;let Ol=this.applyToLocalView(Ml,Nl.mutatedFields);Ol=o.has($l.key)?null:Ol;const Ll=Un(Ml,Ol);Ll!==null&&et.set($l.key,Ll),Ml.isValidDocument()||Ml.convertToNoDocument(ct.min())}),et}keys(){return this.mutations.reduce((i,o)=>i.add(o.key),ws())}isEqual(i){return this.batchId===i.batchId&&rt(this.mutations,i.mutations,(o,et)=>Qn(o,et))&&rt(this.baseMutations,i.baseMutations,(o,et)=>Qn(o,et))}}class $i{constructor(i,o,et,$l){this.batch=i,this.commitVersion=o,this.mutationResults=et,this.docVersions=$l}static from(i,o,et){U(i.mutations.length===et.length);let $l=ds;const Nl=i.mutations;for(let Ml=0;Ml<Nl.length;Ml++)$l=$l.insert(Nl[Ml].key,et[Ml].version);return new $i(i,o,et,$l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(i,o){this.largestBatchId=i,this.mutation=o}getKey(){return this.mutation.key}isEqual(i){return i!==null&&this.mutation===i.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(i,o,et,$l,Nl=ct.min(),Ml=ct.min(),Ol=Jt.EMPTY_BYTE_STRING){this.target=i,this.targetId=o,this.purpose=et,this.sequenceNumber=$l,this.snapshotVersion=Nl,this.lastLimboFreeSnapshotVersion=Ml,this.resumeToken=Ol}withSequenceNumber(i){return new Li(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,o){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(i){this.ne=i}}function qi(s,i){let o;if(i.document)o=Ks(s.ne,i.document,!!i.hasCommittedMutations);else if(i.noDocument){const et=dt.fromSegments(i.noDocument.path),$l=ji(i.noDocument.readTime);o=xe.newNoDocument(et,$l),i.hasCommittedMutations&&o.setHasCommittedMutations()}else{if(!i.unknownDocument)return L();{const et=dt.fromSegments(i.unknownDocument.path),$l=ji(i.unknownDocument.version);o=xe.newUnknownDocument(et,$l)}}return i.readTime&&o.setReadTime(function(et){const $l=new ut(et[0],et[1]);return ct.fromTimestamp($l)}(i.readTime)),o}function Ki(s,i){const o=i.key,et={prefixPath:o.getCollectionPath().popLast().toArray(),collectionGroup:o.collectionGroup,documentId:o.path.lastSegment(),readTime:Gi(i.readTime),hasCommittedMutations:i.hasCommittedMutations};if(i.isFoundDocument())et.document=function($l,Nl){return{name:Ms($l,Nl.key),fields:Nl.data.value.mapValue.fields,updateTime:Ds($l,Nl.version.toTimestamp())}}(s.ne,i);else if(i.isNoDocument())et.noDocument={path:o.path.toArray(),readTime:Qi(i.version)};else{if(!i.isUnknownDocument())return L();et.unknownDocument={path:o.path.toArray(),version:Qi(i.version)}}return et}function Gi(s){const i=s.toTimestamp();return[i.seconds,i.nanoseconds]}function Qi(s){const i=s.toTimestamp();return{seconds:i.seconds,nanoseconds:i.nanoseconds}}function ji(s){const i=new ut(s.seconds,s.nanoseconds);return ct.fromTimestamp(i)}function Wi(s,i){const o=(i.baseMutations||[]).map(Nl=>Ws(s.ne,Nl));for(let Nl=0;Nl<i.mutations.length-1;++Nl){const Ml=i.mutations[Nl];if(Nl+1<i.mutations.length&&i.mutations[Nl+1].transform!==void 0){const Ol=i.mutations[Nl+1];Ml.updateTransforms=Ol.transform.fieldTransforms,i.mutations.splice(Nl+1,1),++Nl}}const et=i.mutations.map(Nl=>Ws(s.ne,Nl)),$l=ut.fromMillis(i.localWriteTimeMs);return new Fi(i.batchId,$l,o,et)}function zi(s){const i=ji(s.readTime),o=s.lastLimboFreeSnapshotVersion!==void 0?ji(s.lastLimboFreeSnapshotVersion):ct.min();let et;var $l;return s.query.documents!==void 0?(U(($l=s.query).documents.length===1),et=ln(rn(Bs($l.documents[0])))):et=function(Nl){return ln(Ys(Nl))}(s.query),new Li(et,s.targetId,0,s.lastListenSequenceNumber,i,o,Jt.fromBase64String(s.resumeToken))}function Hi(s,i){const o=Qi(i.snapshotVersion),et=Qi(i.lastLimboFreeSnapshotVersion);let $l;$l=$e(i.target)?Hs(s.ne,i.target):Js(s.ne,i.target);const Nl=i.resumeToken.toBase64();return{targetId:i.targetId,canonicalId:Oe(i.target),readTime:o,resumeToken:Nl,lastListenSequenceNumber:i.sequenceNumber,lastLimboFreeSnapshotVersion:et,query:$l}}function Ji(s){const i=Ys({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?fn(i,i.limit,"L"):i}function Yi(s,i){return new Bi(i.largestBatchId,Ws(s.ne,i.overlayMutation))}function Xi(s,i){const o=i.path.lastSegment();return[s,ci(i.path.popLast()),o]}function Zi(s,i,o,et){return{indexId:s,uid:i.uid||"",sequenceNumber:o,readTime:Qi(et.readTime),documentKey:ci(et.documentKey.path),largestBatchId:et.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{getBundleMetadata(i,o){return er(i).get(o).next(et=>{if(et)return{id:($l=et).bundleId,createTime:ji($l.createTime),version:$l.version};var $l})}saveBundleMetadata(i,o){return er(i).put({bundleId:(et=o).id,createTime:Qi(Ns(et.createTime)),version:et.version});var et}getNamedQuery(i,o){return nr(i).get(o).next(et=>{if(et)return{name:($l=et).name,query:Ji($l.bundledQuery),readTime:ji($l.readTime)};var $l})}saveNamedQuery(i,o){return nr(i).put(function(et){return{name:et.name,readTime:Qi(Ns(et.readTime)),bundledQuery:et.bundledQuery}}(o))}}function er(s){return Mi(s,"bundles")}function nr(s){return Mi(s,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(i,o){this.wt=i,this.userId=o}static se(i,o){const et=o.uid||"";return new sr(i,et)}getOverlay(i,o){return ir(i).get(Xi(this.userId,o)).next(et=>et?Yi(this.wt,et):null)}getOverlays(i,o){const et=hs();return Pt.forEach(o,$l=>this.getOverlay(i,$l).next(Nl=>{Nl!==null&&et.set($l,Nl)})).next(()=>et)}saveOverlays(i,o,et){const $l=[];return et.forEach((Nl,Ml)=>{const Ol=new Bi(o,Ml);$l.push(this.ie(i,Ol))}),Pt.waitFor($l)}removeOverlaysForBatchId(i,o,et){const $l=new Set;o.forEach(Ml=>$l.add(ci(Ml.getCollectionPath())));const Nl=[];return $l.forEach(Ml=>{const Ol=IDBKeyRange.bound([this.userId,Ml,et],[this.userId,Ml,et+1],!1,!0);Nl.push(ir(i).W("collectionPathOverlayIndex",Ol))}),Pt.waitFor(Nl)}getOverlaysForCollection(i,o,et){const $l=hs(),Nl=ci(o),Ml=IDBKeyRange.bound([this.userId,Nl,et],[this.userId,Nl,Number.POSITIVE_INFINITY],!0);return ir(i).K("collectionPathOverlayIndex",Ml).next(Ol=>{for(const Ll of Ol){const Fl=Yi(this.wt,Ll);$l.set(Fl.getKey(),Fl)}return $l})}getOverlaysForCollectionGroup(i,o,et,$l){const Nl=hs();let Ml;const Ol=IDBKeyRange.bound([this.userId,o,et],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ir(i).J({index:"collectionGroupOverlayIndex",range:Ol},(Ll,Fl,Bl)=>{const Ul=Yi(this.wt,Fl);Nl.size()<$l||Ul.largestBatchId===Ml?(Nl.set(Ul.getKey(),Ul),Ml=Ul.largestBatchId):Bl.done()}).next(()=>Nl)}ie(i,o){return ir(i).put(function(et,$l,Nl){const[Ml,Ol,Ll]=Xi($l,Nl.mutation.key);return{userId:$l,collectionPath:Ol,documentId:Ll,collectionGroup:Nl.mutation.key.getCollectionGroup(),largestBatchId:Nl.largestBatchId,overlayMutation:js(et.ne,Nl.mutation)}}(this.wt,this.userId,o))}}function ir(s){return Mi(s,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){}re(i,o){this.oe(i,o),o.ue()}oe(i,o){if("nullValue"in i)this.ce(o,5);else if("booleanValue"in i)this.ce(o,10),o.ae(i.booleanValue?1:0);else if("integerValue"in i)this.ce(o,15),o.ae(Zt(i.integerValue));else if("doubleValue"in i){const et=Zt(i.doubleValue);isNaN(et)?this.ce(o,13):(this.ce(o,15),ue(et)?o.ae(0):o.ae(et))}else if("timestampValue"in i){const et=i.timestampValue;this.ce(o,20),typeof et=="string"?o.he(et):(o.he(`${et.seconds||""}`),o.ae(et.nanos||0))}else if("stringValue"in i)this.le(i.stringValue,o),this.fe(o);else if("bytesValue"in i)this.ce(o,30),o.de(te(i.bytesValue)),this.fe(o);else if("referenceValue"in i)this._e(i.referenceValue,o);else if("geoPointValue"in i){const et=i.geoPointValue;this.ce(o,45),o.ae(et.latitude||0),o.ae(et.longitude||0)}else"mapValue"in i?be(i)?this.ce(o,Number.MAX_SAFE_INTEGER):(this.we(i.mapValue,o),this.fe(o)):"arrayValue"in i?(this.me(i.arrayValue,o),this.fe(o)):L()}le(i,o){this.ce(o,25),this.ge(i,o)}ge(i,o){o.he(i)}we(i,o){const et=i.fields||{};this.ce(o,55);for(const $l of Object.keys(et))this.le($l,o),this.oe(et[$l],o)}me(i,o){const et=i.values||[];this.ce(o,50);for(const $l of et)this.oe($l,o)}_e(i,o){this.ce(o,37),dt.fromName(i).path.forEach(et=>{this.ce(o,60),this.ge(et,o)})}ce(i,o){i.ae(o)}fe(i){i.ae(2)}}rr.ye=new rr;function or(s){if(s===0)return 8;let i=0;return s>>4==0&&(i+=4,s<<=4),s>>6==0&&(i+=2,s<<=2),s>>7==0&&(i+=1),i}function ur(s){const i=64-function(o){let et=0;for(let $l=0;$l<8;++$l){const Nl=or(255&o[$l]);if(et+=Nl,Nl!==8)break}return et}(s);return Math.ceil(i/8)}class cr{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(i){const o=i[Symbol.iterator]();let et=o.next();for(;!et.done;)this.Ie(et.value),et=o.next();this.Te()}Ee(i){const o=i[Symbol.iterator]();let et=o.next();for(;!et.done;)this.Ae(et.value),et=o.next();this.Re()}be(i){for(const o of i){const et=o.charCodeAt(0);if(et<128)this.Ie(et);else if(et<2048)this.Ie(960|et>>>6),this.Ie(128|63&et);else if(o<"\uD800"||"\uDBFF"<o)this.Ie(480|et>>>12),this.Ie(128|63&et>>>6),this.Ie(128|63&et);else{const $l=o.codePointAt(0);this.Ie(240|$l>>>18),this.Ie(128|63&$l>>>12),this.Ie(128|63&$l>>>6),this.Ie(128|63&$l)}}this.Te()}Pe(i){for(const o of i){const et=o.charCodeAt(0);if(et<128)this.Ae(et);else if(et<2048)this.Ae(960|et>>>6),this.Ae(128|63&et);else if(o<"\uD800"||"\uDBFF"<o)this.Ae(480|et>>>12),this.Ae(128|63&et>>>6),this.Ae(128|63&et);else{const $l=o.codePointAt(0);this.Ae(240|$l>>>18),this.Ae(128|63&$l>>>12),this.Ae(128|63&$l>>>6),this.Ae(128|63&$l)}}this.Re()}ve(i){const o=this.Ve(i),et=ur(o);this.Se(1+et),this.buffer[this.position++]=255&et;for(let $l=o.length-et;$l<o.length;++$l)this.buffer[this.position++]=255&o[$l]}De(i){const o=this.Ve(i),et=ur(o);this.Se(1+et),this.buffer[this.position++]=~(255&et);for(let $l=o.length-et;$l<o.length;++$l)this.buffer[this.position++]=~(255&o[$l])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(i){this.Se(i.length),this.buffer.set(i,this.position),this.position+=i.length}Oe(){return this.buffer.slice(0,this.position)}Ve(i){const o=function($l){const Nl=new DataView(new ArrayBuffer(8));return Nl.setFloat64(0,$l,!1),new Uint8Array(Nl.buffer)}(i),et=(128&o[0])!=0;o[0]^=et?255:128;for(let $l=1;$l<o.length;++$l)o[$l]^=et?255:0;return o}Ie(i){const o=255&i;o===0?(this.xe(0),this.xe(255)):o===255?(this.xe(255),this.xe(0)):this.xe(o)}Ae(i){const o=255&i;o===0?(this.ke(0),this.ke(255)):o===255?(this.ke(255),this.ke(0)):this.ke(i)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(i){this.Se(1),this.buffer[this.position++]=i}ke(i){this.Se(1),this.buffer[this.position++]=~i}Se(i){const o=i+this.position;if(o<=this.buffer.length)return;let et=2*this.buffer.length;et<o&&(et=o);const $l=new Uint8Array(et);$l.set(this.buffer),this.buffer=$l}}class ar{constructor(i){this.Me=i}de(i){this.Me.pe(i)}he(i){this.Me.be(i)}ae(i){this.Me.ve(i)}ue(){this.Me.Ce()}}class hr{constructor(i){this.Me=i}de(i){this.Me.Ee(i)}he(i){this.Me.Pe(i)}ae(i){this.Me.De(i)}ue(){this.Me.Ne()}}class lr{constructor(){this.Me=new cr,this.Fe=new ar(this.Me),this.$e=new hr(this.Me)}seed(i){this.Me.seed(i)}Be(i){return i===0?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr$1{constructor(i,o,et,$l){this.indexId=i,this.documentKey=o,this.arrayValue=et,this.directionalValue=$l}Le(){const i=this.directionalValue.length,o=i===0||this.directionalValue[i-1]===255?i+1:i,et=new Uint8Array(o);return et.set(this.directionalValue,0),o!==i?et.set([0],this.directionalValue.length):++et[et.length-1],new fr$1(this.indexId,this.documentKey,this.arrayValue,et)}}function dr(s,i){let o=s.indexId-i.indexId;return o!==0?o:(o=_r(s.arrayValue,i.arrayValue),o!==0?o:(o=_r(s.directionalValue,i.directionalValue),o!==0?o:dt.comparator(s.documentKey,i.documentKey)))}function _r(s,i){for(let o=0;o<s.length&&o<i.length;++o){const et=s[o]-i[o];if(et!==0)return et}return s.length-i.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(i){this.collectionId=i.collectionGroup!=null?i.collectionGroup:i.path.lastSegment(),this.Ue=i.orderBy,this.qe=[];for(const o of i.filters){const et=o;et.ht()?this.Ke=et:this.qe.push(et)}}Ge(i){const o=wt(i);if(o!==void 0&&!this.Qe(o))return!1;const et=mt(i);let $l=0,Nl=0;for(;$l<et.length&&this.Qe(et[$l]);++$l);if($l===et.length)return!0;if(this.Ke!==void 0){const Ml=et[$l];if(!this.je(this.Ke,Ml)||!this.We(this.Ue[Nl++],Ml))return!1;++$l}for(;$l<et.length;++$l){const Ml=et[$l];if(Nl>=this.Ue.length||!this.We(this.Ue[Nl++],Ml))return!1}return!0}Qe(i){for(const o of this.qe)if(this.je(o,i))return!0;return!1}je(i,o){if(i===void 0||!i.field.isEqual(o.fieldPath))return!1;const et=i.op==="array-contains"||i.op==="array-contains-any";return o.kind===2===et}We(i,o){return!!i.field.isEqual(o.fieldPath)&&(o.kind===0&&i.dir==="asc"||o.kind===1&&i.dir==="desc")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.ze=new gr}addToCollectionParentIndex(i,o){return this.ze.add(o),Pt.resolve()}getCollectionParents(i,o){return Pt.resolve(this.ze.getEntries(o))}addFieldIndex(i,o){return Pt.resolve()}deleteFieldIndex(i,o){return Pt.resolve()}getDocumentsMatchingTarget(i,o){return Pt.resolve(null)}getIndexType(i,o){return Pt.resolve(0)}getFieldIndexes(i,o){return Pt.resolve([])}getNextCollectionGroupToUpdate(i){return Pt.resolve(null)}getMinOffset(i,o){return Pt.resolve(Tt.min())}getMinOffsetFromCollectionGroup(i,o){return Pt.resolve(Tt.min())}updateCollectionGroup(i,o,et){return Pt.resolve()}updateIndexEntries(i,o){return Pt.resolve()}}class gr{constructor(){this.index={}}add(i){const o=i.lastSegment(),et=i.popLast(),$l=this.index[o]||new Qt(ht.comparator),Nl=!$l.has(et);return this.index[o]=$l.add(et),Nl}has(i){const o=i.lastSegment(),et=i.popLast(),$l=this.index[o];return $l&&$l.has(et)}getEntries(i){return(this.index[i]||new Qt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new Uint8Array(0);class pr{constructor(i,o){this.user=i,this.databaseId=o,this.He=new gr,this.Je=new is(et=>Oe(et),(et,$l)=>Fe(et,$l)),this.uid=i.uid||""}addToCollectionParentIndex(i,o){if(!this.He.has(o)){const et=o.lastSegment(),$l=o.popLast();i.addOnCommittedListener(()=>{this.He.add(o)});const Nl={collectionId:et,parent:ci($l)};return Ir(i).put(Nl)}return Pt.resolve()}getCollectionParents(i,o){const et=[],$l=IDBKeyRange.bound([o,""],[ot(o),""],!1,!0);return Ir(i).K($l).next(Nl=>{for(const Ml of Nl){if(Ml.collectionId!==o)break;et.push(li(Ml.parent))}return et})}addFieldIndex(i,o){const et=Er(i),$l=function(Ml){return{indexId:Ml.indexId,collectionGroup:Ml.collectionGroup,fields:Ml.fields.map(Ol=>[Ol.fieldPath.canonicalString(),Ol.kind])}}(o);delete $l.indexId;const Nl=et.add($l);if(o.indexState){const Ml=Ar(i);return Nl.next(Ol=>{Ml.put(Zi(Ol,this.user,o.indexState.sequenceNumber,o.indexState.offset))})}return Nl.next()}deleteFieldIndex(i,o){const et=Er(i),$l=Ar(i),Nl=Tr(i);return et.delete(o.indexId).next(()=>$l.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0))).next(()=>Nl.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0)))}getDocumentsMatchingTarget(i,o){const et=Tr(i);let $l=!0;const Nl=new Map;return Pt.forEach(this.Ye(o),Ml=>this.Xe(i,Ml).next(Ol=>{$l&&($l=!!Ol),Nl.set(Ml,Ol)})).next(()=>{if($l){let Ml=ws();const Ol=[];return Pt.forEach(Nl,(Ll,Fl)=>{var Bl;M("IndexedDbIndexManager",`Using index ${Bl=Ll,`id=${Bl.indexId}|cg=${Bl.collectionGroup}|f=${Bl.fields.map(Yl=>`${Yl.fieldPath}:${Yl.kind}`).join(",")}`} to execute ${Oe(o)}`);const Ul=function(Yl,Xl){const Zl=wt(Xl);if(Zl===void 0)return null;for(const _d of Be(Yl,Zl.fieldPath))switch(_d.op){case"array-contains-any":return _d.value.arrayValue.values||[];case"array-contains":return[_d.value]}return null}(Fl,Ll),Gl=function(Yl,Xl){const Zl=new Map;for(const _d of mt(Xl))for(const _f of Be(Yl,_d.fieldPath))switch(_f.op){case"==":case"in":Zl.set(_d.fieldPath.canonicalString(),_f.value);break;case"not-in":case"!=":return Zl.set(_d.fieldPath.canonicalString(),_f.value),Array.from(Zl.values())}return null}(Fl,Ll),Wl=function(Yl,Xl){const Zl=[];let _d=!0;for(const _f of mt(Xl)){const e0=_f.kind===0?Le(Yl,_f.fieldPath,Yl.startAt):Ue(Yl,_f.fieldPath,Yl.startAt);Zl.push(e0.value),_d&&(_d=e0.inclusive)}return new Ye(Zl,_d)}(Fl,Ll),zl=function(Yl,Xl){const Zl=[];let _d=!0;for(const _f of mt(Xl)){const e0=_f.kind===0?Ue(Yl,_f.fieldPath,Yl.endAt):Le(Yl,_f.fieldPath,Yl.endAt);Zl.push(e0.value),_d&&(_d=e0.inclusive)}return new Ye(Zl,_d)}(Fl,Ll),Ql=this.Ze(Ll,Fl,Wl),Jl=this.Ze(Ll,Fl,zl),Kl=this.tn(Ll,Fl,Gl),Hl=this.en(Ll.indexId,Ul,Ql,Wl.inclusive,Jl,zl.inclusive,Kl);return Pt.forEach(Hl,Yl=>et.j(Yl,o.limit).next(Xl=>{Xl.forEach(Zl=>{const _d=dt.fromSegments(Zl.documentKey);Ml.has(_d)||(Ml=Ml.add(_d),Ol.push(_d))})}))}).next(()=>Ol)}return Pt.resolve(null)})}Ye(i){let o=this.Je.get(i);return o||(o=[i],this.Je.set(i,o),o)}en(i,o,et,$l,Nl,Ml,Ol){const Ll=(o!=null?o.length:1)*Math.max(et.length,Nl.length),Fl=Ll/(o!=null?o.length:1),Bl=[];for(let Ul=0;Ul<Ll;++Ul){const Gl=o?this.nn(o[Ul/Fl]):yr,Wl=this.sn(i,Gl,et[Ul%Fl],$l),zl=this.rn(i,Gl,Nl[Ul%Fl],Ml),Ql=Ol.map(Jl=>this.sn(i,Gl,Jl,!0));Bl.push(...this.createRange(Wl,zl,Ql))}return Bl}sn(i,o,et,$l){const Nl=new fr$1(i,dt.empty(),o,et);return $l?Nl:Nl.Le()}rn(i,o,et,$l){const Nl=new fr$1(i,dt.empty(),o,et);return $l?Nl.Le():Nl}Xe(i,o){const et=new wr(o),$l=o.collectionGroup!=null?o.collectionGroup:o.path.lastSegment();return this.getFieldIndexes(i,$l).next(Nl=>{let Ml=null;for(const Ol of Nl)et.Ge(Ol)&&(!Ml||Ol.fields.length>Ml.fields.length)&&(Ml=Ol);return Ml})}getIndexType(i,o){let et=2;return Pt.forEach(this.Ye(o),$l=>this.Xe(i,$l).next(Nl=>{Nl?et!==0&&Nl.fields.length<function(Ml){let Ol=new Qt(ft.comparator),Ll=!1;for(const Fl of Ml.filters){const Bl=Fl;Bl.field.isKeyField()||(Bl.op==="array-contains"||Bl.op==="array-contains-any"?Ll=!0:Ol=Ol.add(Bl.field))}for(const Fl of Ml.orderBy)Fl.field.isKeyField()||(Ol=Ol.add(Fl.field));return Ol.size+(Ll?1:0)}($l)&&(et=1):et=0})).next(()=>et)}on(i,o){const et=new lr;for(const $l of mt(i)){const Nl=o.data.field($l.fieldPath);if(Nl==null)return null;const Ml=et.Be($l.kind);rr.ye.re(Nl,Ml)}return et.Oe()}nn(i){const o=new lr;return rr.ye.re(i,o.Be(0)),o.Oe()}un(i,o){const et=new lr;return rr.ye.re(ye(this.databaseId,o),et.Be(function($l){const Nl=mt($l);return Nl.length===0?0:Nl[Nl.length-1].kind}(i))),et.Oe()}tn(i,o,et){if(et===null)return[];let $l=[];$l.push(new lr);let Nl=0;for(const Ml of mt(i)){const Ol=et[Nl++];for(const Ll of $l)if(this.cn(o,Ml.fieldPath)&&Ie(Ol))$l=this.an($l,Ml,Ol);else{const Fl=Ll.Be(Ml.kind);rr.ye.re(Ol,Fl)}}return this.hn($l)}Ze(i,o,et){return this.tn(i,o,et.position)}hn(i){const o=[];for(let et=0;et<i.length;++et)o[et]=i[et].Oe();return o}an(i,o,et){const $l=[...i],Nl=[];for(const Ml of et.arrayValue.values||[])for(const Ol of $l){const Ll=new lr;Ll.seed(Ol.Oe()),rr.ye.re(Ml,Ll.Be(o.kind)),Nl.push(Ll)}return Nl}cn(i,o){return!!i.filters.find(et=>et instanceof qe&&et.field.isEqual(o)&&(et.op==="in"||et.op==="not-in"))}getFieldIndexes(i,o){const et=Er(i),$l=Ar(i);return(o?et.K("collectionGroupIndex",IDBKeyRange.bound(o,o)):et.K()).next(Nl=>{const Ml=[];return Pt.forEach(Nl,Ol=>$l.get([Ol.indexId,this.uid]).next(Ll=>{Ml.push(function(Fl,Bl){const Ul=Bl?new yt(Bl.sequenceNumber,new Tt(ji(Bl.readTime),new dt(li(Bl.documentKey)),Bl.largestBatchId)):yt.empty(),Gl=Fl.fields.map(([Wl,zl])=>new gt(ft.fromServerFormat(Wl),zl));return new _t(Fl.indexId,Fl.collectionGroup,Gl,Ul)}(Ol,Ll))})).next(()=>Ml)})}getNextCollectionGroupToUpdate(i){return this.getFieldIndexes(i).next(o=>o.length===0?null:(o.sort((et,$l)=>{const Nl=et.indexState.sequenceNumber-$l.indexState.sequenceNumber;return Nl!==0?Nl:it(et.collectionGroup,$l.collectionGroup)}),o[0].collectionGroup))}updateCollectionGroup(i,o,et){const $l=Er(i),Nl=Ar(i);return this.ln(i).next(Ml=>$l.K("collectionGroupIndex",IDBKeyRange.bound(o,o)).next(Ol=>Pt.forEach(Ol,Ll=>Nl.put(Zi(Ll.indexId,this.user,Ml,et)))))}updateIndexEntries(i,o){const et=new Map;return Pt.forEach(o,($l,Nl)=>{const Ml=et.get($l.collectionGroup);return(Ml?Pt.resolve(Ml):this.getFieldIndexes(i,$l.collectionGroup)).next(Ol=>(et.set($l.collectionGroup,Ol),Pt.forEach(Ol,Ll=>this.fn(i,$l,Ll).next(Fl=>{const Bl=this.dn(Nl,Ll);return Fl.isEqual(Bl)?Pt.resolve():this._n(i,Nl,Ll,Fl,Bl)}))))})}wn(i,o,et,$l){return Tr(i).put({indexId:$l.indexId,uid:this.uid,arrayValue:$l.arrayValue,directionalValue:$l.directionalValue,orderedDocumentKey:this.un(et,o.key),documentKey:o.key.path.toArray()})}mn(i,o,et,$l){return Tr(i).delete([$l.indexId,this.uid,$l.arrayValue,$l.directionalValue,this.un(et,o.key),o.key.path.toArray()])}fn(i,o,et){const $l=Tr(i);let Nl=new Qt(dr);return $l.J({index:"documentKeyIndex",range:IDBKeyRange.only([et.indexId,this.uid,this.un(et,o)])},(Ml,Ol)=>{Nl=Nl.add(new fr$1(et.indexId,o,Ol.arrayValue,Ol.directionalValue))}).next(()=>Nl)}dn(i,o){let et=new Qt(dr);const $l=this.on(o,i);if($l==null)return et;const Nl=wt(o);if(Nl!=null){const Ml=i.data.field(Nl.fieldPath);if(Ie(Ml))for(const Ol of Ml.arrayValue.values||[])et=et.add(new fr$1(o.indexId,i.key,this.nn(Ol),$l))}else et=et.add(new fr$1(o.indexId,i.key,yr,$l));return et}_n(i,o,et,$l,Nl){M("IndexedDbIndexManager","Updating index entries for document '%s'",o.key);const Ml=[];return function(Ol,Ll,Fl,Bl,Ul){const Gl=Ol.getIterator(),Wl=Ll.getIterator();let zl=Wt(Gl),Ql=Wt(Wl);for(;zl||Ql;){let Jl=!1,Kl=!1;if(zl&&Ql){const Hl=Fl(zl,Ql);Hl<0?Kl=!0:Hl>0&&(Jl=!0)}else zl!=null?Kl=!0:Jl=!0;Jl?(Bl(Ql),Ql=Wt(Wl)):Kl?(Ul(zl),zl=Wt(Gl)):(zl=Wt(Gl),Ql=Wt(Wl))}}($l,Nl,dr,Ol=>{Ml.push(this.wn(i,o,et,Ol))},Ol=>{Ml.push(this.mn(i,o,et,Ol))}),Pt.waitFor(Ml)}ln(i){let o=1;return Ar(i).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(et,$l,Nl)=>{Nl.done(),o=$l.sequenceNumber+1}).next(()=>o)}createRange(i,o,et){et=et.sort((Ml,Ol)=>dr(Ml,Ol)).filter((Ml,Ol,Ll)=>!Ol||dr(Ml,Ll[Ol-1])!==0);const $l=[];$l.push(i);for(const Ml of et){const Ol=dr(Ml,i),Ll=dr(Ml,o);if(Ol===0)$l[0]=i.Le();else if(Ol>0&&Ll<0)$l.push(Ml),$l.push(Ml.Le());else if(Ll>0)break}$l.push(o);const Nl=[];for(let Ml=0;Ml<$l.length;Ml+=2)Nl.push(IDBKeyRange.bound([$l[Ml].indexId,this.uid,$l[Ml].arrayValue,$l[Ml].directionalValue,yr,[]],[$l[Ml+1].indexId,this.uid,$l[Ml+1].arrayValue,$l[Ml+1].directionalValue,yr,[]]));return Nl}getMinOffsetFromCollectionGroup(i,o){return this.getFieldIndexes(i,o).next(Rr)}getMinOffset(i,o){return Pt.mapArray(this.Ye(o),et=>this.Xe(i,et).next($l=>$l||L())).next(Rr)}}function Ir(s){return Mi(s,"collectionParents")}function Tr(s){return Mi(s,"indexEntries")}function Er(s){return Mi(s,"indexConfiguration")}function Ar(s){return Mi(s,"indexState")}function Rr(s){U(s.length!==0);let i=s[0].indexState.offset,o=i.largestBatchId;for(let et=1;et<s.length;et++){const $l=s[et].indexState.offset;Et($l,i)<0&&(i=$l),o<$l.largestBatchId&&(o=$l.largestBatchId)}return new Tt(i.readTime,i.documentKey,o)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pr{constructor(i,o,et){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=et}static withCacheSize(i){return new Pr(i,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(s,i,o){const et=s.store("mutations"),$l=s.store("documentMutations"),Nl=[],Ml=IDBKeyRange.only(o.batchId);let Ol=0;const Ll=et.J({range:Ml},(Bl,Ul,Gl)=>(Ol++,Gl.delete()));Nl.push(Ll.next(()=>{U(Ol===1)}));const Fl=[];for(const Bl of o.mutations){const Ul=_i(i,Bl.key.path,o.batchId);Nl.push($l.delete(Ul)),Fl.push(Bl.key)}return Pt.waitFor(Nl).next(()=>Fl)}function Vr(s){if(!s)return 0;let i;if(s.document)i=s.document;else if(s.unknownDocument)i=s.unknownDocument;else{if(!s.noDocument)throw L();i=s.noDocument}return JSON.stringify(i).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(41943040,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);class Sr{constructor(i,o,et,$l){this.userId=i,this.wt=o,this.indexManager=et,this.referenceDelegate=$l,this.gn={}}static se(i,o,et,$l){U(i.uid!=="");const Nl=i.isAuthenticated()?i.uid:"";return new Sr(Nl,o,et,$l)}checkEmpty(i){let o=!0;const et=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cr(i).J({index:"userMutationsIndex",range:et},($l,Nl,Ml)=>{o=!1,Ml.done()}).next(()=>o)}addMutationBatch(i,o,et,$l){const Nl=xr(i),Ml=Cr(i);return Ml.add({}).next(Ol=>{U(typeof Ol=="number");const Ll=new Fi(Ol,o,et,$l),Fl=function(Gl,Wl,zl){const Ql=zl.baseMutations.map(Kl=>js(Gl.ne,Kl)),Jl=zl.mutations.map(Kl=>js(Gl.ne,Kl));return{userId:Wl,batchId:zl.batchId,localWriteTimeMs:zl.localWriteTime.toMillis(),baseMutations:Ql,mutations:Jl}}(this.wt,this.userId,Ll),Bl=[];let Ul=new Qt((Gl,Wl)=>it(Gl.canonicalString(),Wl.canonicalString()));for(const Gl of $l){const Wl=_i(this.userId,Gl.key.path,Ol);Ul=Ul.add(Gl.key.path.popLast()),Bl.push(Ml.put(Fl)),Bl.push(Nl.put(Wl,wi))}return Ul.forEach(Gl=>{Bl.push(this.indexManager.addToCollectionParentIndex(i,Gl))}),i.addOnCommittedListener(()=>{this.gn[Ol]=Ll.keys()}),Pt.waitFor(Bl).next(()=>Ll)})}lookupMutationBatch(i,o){return Cr(i).get(o).next(et=>et?(U(et.userId===this.userId),Wi(this.wt,et)):null)}yn(i,o){return this.gn[o]?Pt.resolve(this.gn[o]):this.lookupMutationBatch(i,o).next(et=>{if(et){const $l=et.keys();return this.gn[o]=$l,$l}return null})}getNextMutationBatchAfterBatchId(i,o){const et=o+1,$l=IDBKeyRange.lowerBound([this.userId,et]);let Nl=null;return Cr(i).J({index:"userMutationsIndex",range:$l},(Ml,Ol,Ll)=>{Ol.userId===this.userId&&(U(Ol.batchId>=et),Nl=Wi(this.wt,Ol)),Ll.done()}).next(()=>Nl)}getHighestUnacknowledgedBatchId(i){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let et=-1;return Cr(i).J({index:"userMutationsIndex",range:o,reverse:!0},($l,Nl,Ml)=>{et=Nl.batchId,Ml.done()}).next(()=>et)}getAllMutationBatches(i){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cr(i).K("userMutationsIndex",o).next(et=>et.map($l=>Wi(this.wt,$l)))}getAllMutationBatchesAffectingDocumentKey(i,o){const et=di(this.userId,o.path),$l=IDBKeyRange.lowerBound(et),Nl=[];return xr(i).J({range:$l},(Ml,Ol,Ll)=>{const[Fl,Bl,Ul]=Ml,Gl=li(Bl);if(Fl===this.userId&&o.path.isEqual(Gl))return Cr(i).get(Ul).next(Wl=>{if(!Wl)throw L();U(Wl.userId===this.userId),Nl.push(Wi(this.wt,Wl))});Ll.done()}).next(()=>Nl)}getAllMutationBatchesAffectingDocumentKeys(i,o){let et=new Qt(it);const $l=[];return o.forEach(Nl=>{const Ml=di(this.userId,Nl.path),Ol=IDBKeyRange.lowerBound(Ml),Ll=xr(i).J({range:Ol},(Fl,Bl,Ul)=>{const[Gl,Wl,zl]=Fl,Ql=li(Wl);Gl===this.userId&&Nl.path.isEqual(Ql)?et=et.add(zl):Ul.done()});$l.push(Ll)}),Pt.waitFor($l).next(()=>this.pn(i,et))}getAllMutationBatchesAffectingQuery(i,o){const et=o.path,$l=et.length+1,Nl=di(this.userId,et),Ml=IDBKeyRange.lowerBound(Nl);let Ol=new Qt(it);return xr(i).J({range:Ml},(Ll,Fl,Bl)=>{const[Ul,Gl,Wl]=Ll,zl=li(Gl);Ul===this.userId&&et.isPrefixOf(zl)?zl.length===$l&&(Ol=Ol.add(Wl)):Bl.done()}).next(()=>this.pn(i,Ol))}pn(i,o){const et=[],$l=[];return o.forEach(Nl=>{$l.push(Cr(i).get(Nl).next(Ml=>{if(Ml===null)throw L();U(Ml.userId===this.userId),et.push(Wi(this.wt,Ml))}))}),Pt.waitFor($l).next(()=>et)}removeMutationBatch(i,o){return vr(i.ee,this.userId,o).next(et=>(i.addOnCommittedListener(()=>{this.In(o.batchId)}),Pt.forEach(et,$l=>this.referenceDelegate.markPotentiallyOrphaned(i,$l))))}In(i){delete this.gn[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(o=>{if(!o)return Pt.resolve();const et=IDBKeyRange.lowerBound([this.userId]),$l=[];return xr(i).J({range:et},(Nl,Ml,Ol)=>{if(Nl[0]===this.userId){const Ll=li(Nl[1]);$l.push(Ll)}else Ol.done()}).next(()=>{U($l.length===0)})})}containsKey(i,o){return Dr(i,this.userId,o)}Tn(i){return Nr(i).get(this.userId).next(o=>o||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Dr(s,i,o){const et=di(i,o.path),$l=et[1],Nl=IDBKeyRange.lowerBound(et);let Ml=!1;return xr(s).J({range:Nl,H:!0},(Ol,Ll,Fl)=>{const[Bl,Ul,Gl]=Ol;Bl===i&&Ul===$l&&(Ml=!0),Fl.done()}).next(()=>Ml)}function Cr(s){return Mi(s,"mutations")}function xr(s){return Mi(s,"documentMutations")}function Nr(s){return Mi(s,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(i){this.En=i}next(){return this.En+=2,this.En}static An(){return new kr(0)}static Rn(){return new kr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(i,o){this.referenceDelegate=i,this.wt=o}allocateTargetId(i){return this.bn(i).next(o=>{const et=new kr(o.highestTargetId);return o.highestTargetId=et.next(),this.Pn(i,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.bn(i).next(o=>ct.fromTimestamp(new ut(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.bn(i).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(i,o,et){return this.bn(i).next($l=>($l.highestListenSequenceNumber=o,et&&($l.lastRemoteSnapshotVersion=et.toTimestamp()),o>$l.highestListenSequenceNumber&&($l.highestListenSequenceNumber=o),this.Pn(i,$l)))}addTargetData(i,o){return this.vn(i,o).next(()=>this.bn(i).next(et=>(et.targetCount+=1,this.Vn(o,et),this.Pn(i,et))))}updateTargetData(i,o){return this.vn(i,o)}removeTargetData(i,o){return this.removeMatchingKeysForTargetId(i,o.targetId).next(()=>Mr(i).delete(o.targetId)).next(()=>this.bn(i)).next(et=>(U(et.targetCount>0),et.targetCount-=1,this.Pn(i,et)))}removeTargets(i,o,et){let $l=0;const Nl=[];return Mr(i).J((Ml,Ol)=>{const Ll=zi(Ol);Ll.sequenceNumber<=o&&et.get(Ll.targetId)===null&&($l++,Nl.push(this.removeTargetData(i,Ll)))}).next(()=>Pt.waitFor(Nl)).next(()=>$l)}forEachTarget(i,o){return Mr(i).J((et,$l)=>{const Nl=zi($l);o(Nl)})}bn(i){return Fr(i).get("targetGlobalKey").next(o=>(U(o!==null),o))}Pn(i,o){return Fr(i).put("targetGlobalKey",o)}vn(i,o){return Mr(i).put(Hi(this.wt,o))}Vn(i,o){let et=!1;return i.targetId>o.highestTargetId&&(o.highestTargetId=i.targetId,et=!0),i.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=i.sequenceNumber,et=!0),et}getTargetCount(i){return this.bn(i).next(o=>o.targetCount)}getTargetData(i,o){const et=Oe(o),$l=IDBKeyRange.bound([et,Number.NEGATIVE_INFINITY],[et,Number.POSITIVE_INFINITY]);let Nl=null;return Mr(i).J({range:$l,index:"queryTargetsIndex"},(Ml,Ol,Ll)=>{const Fl=zi(Ol);Fe(o,Fl.target)&&(Nl=Fl,Ll.done())}).next(()=>Nl)}addMatchingKeys(i,o,et){const $l=[],Nl=$r(i);return o.forEach(Ml=>{const Ol=ci(Ml.path);$l.push(Nl.put({targetId:et,path:Ol})),$l.push(this.referenceDelegate.addReference(i,et,Ml))}),Pt.waitFor($l)}removeMatchingKeys(i,o,et){const $l=$r(i);return Pt.forEach(o,Nl=>{const Ml=ci(Nl.path);return Pt.waitFor([$l.delete([et,Ml]),this.referenceDelegate.removeReference(i,et,Nl)])})}removeMatchingKeysForTargetId(i,o){const et=$r(i),$l=IDBKeyRange.bound([o],[o+1],!1,!0);return et.delete($l)}getMatchingKeysForTargetId(i,o){const et=IDBKeyRange.bound([o],[o+1],!1,!0),$l=$r(i);let Nl=ws();return $l.J({range:et,H:!0},(Ml,Ol,Ll)=>{const Fl=li(Ml[1]),Bl=new dt(Fl);Nl=Nl.add(Bl)}).next(()=>Nl)}containsKey(i,o){const et=ci(o.path),$l=IDBKeyRange.bound([et],[ot(et)],!1,!0);let Nl=0;return $r(i).J({index:"documentTargetsIndex",H:!0,range:$l},([Ml,Ol],Ll,Fl)=>{Ml!==0&&(Nl++,Fl.done())}).next(()=>Nl>0)}te(i,o){return Mr(i).get(o).next(et=>et?zi(et):null)}}function Mr(s){return Mi(s,"targets")}function Fr(s){return Mi(s,"targetGlobal")}function $r(s){return Mi(s,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br([s,i],[o,et]){const $l=it(s,o);return $l===0?it(i,et):$l}class Lr{constructor(i){this.Sn=i,this.buffer=new Qt(Br),this.Dn=0}Cn(){return++this.Dn}xn(i){const o=[i,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(o);else{const et=this.buffer.last();Br(o,et)<0&&(this.buffer=this.buffer.delete(et).add(o))}}get maxValue(){return this.buffer.last()[0]}}class Ur{constructor(i,o,et){this.garbageCollector=i,this.asyncQueue=o,this.localStore=et,this.Nn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return this.Nn!==null}kn(i){M("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,async()=>{this.Nn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(o){Ct(o)?M("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):await bt(o)}await this.kn(3e5)})}}class qr{constructor(i,o){this.On=i,this.params=o}calculateTargetCount(i,o){return this.On.Mn(i).next(et=>Math.floor(o/100*et))}nthSequenceNumber(i,o){if(o===0)return Pt.resolve($t.ot);const et=new Lr(o);return this.On.forEachTarget(i,$l=>et.xn($l.sequenceNumber)).next(()=>this.On.Fn(i,$l=>et.xn($l))).next(()=>et.maxValue)}removeTargets(i,o,et){return this.On.removeTargets(i,o,et)}removeOrphanedDocuments(i,o){return this.On.removeOrphanedDocuments(i,o)}collect(i,o){return this.params.cacheSizeCollectionThreshold===-1?(M("LruGarbageCollector","Garbage collection skipped; disabled"),Pt.resolve(br)):this.getCacheSize(i).next(et=>et<this.params.cacheSizeCollectionThreshold?(M("LruGarbageCollector",`Garbage collection skipped; Cache size ${et} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),br):this.$n(i,o))}getCacheSize(i){return this.On.getCacheSize(i)}$n(i,o){let et,$l,Nl,Ml,Ol,Ll,Fl;const Bl=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(Ul=>(Ul>this.params.maximumSequenceNumbersToCollect?(M("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ul}`),$l=this.params.maximumSequenceNumbersToCollect):$l=Ul,Ml=Date.now(),this.nthSequenceNumber(i,$l))).next(Ul=>(et=Ul,Ol=Date.now(),this.removeTargets(i,et,o))).next(Ul=>(Nl=Ul,Ll=Date.now(),this.removeOrphanedDocuments(i,et))).next(Ul=>(Fl=Date.now(),k()<=LogLevel.DEBUG&&M("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${Ml-Bl}ms
	Determined least recently used ${$l} in `+(Ol-Ml)+`ms
	Removed ${Nl} targets in `+(Ll-Ol)+`ms
	Removed ${Ul} documents in `+(Fl-Ll)+`ms
Total Duration: ${Fl-Bl}ms`),Pt.resolve({didRun:!0,sequenceNumbersCollected:$l,targetsRemoved:Nl,documentsRemoved:Ul})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(i,o){this.db=i,this.garbageCollector=function(et,$l){return new qr(et,$l)}(this,o)}Mn(i){const o=this.Bn(i);return this.db.getTargetCache().getTargetCount(i).next(et=>o.next($l=>et+$l))}Bn(i){let o=0;return this.Fn(i,et=>{o++}).next(()=>o)}forEachTarget(i,o){return this.db.getTargetCache().forEachTarget(i,o)}Fn(i,o){return this.Ln(i,(et,$l)=>o($l))}addReference(i,o,et){return Gr(i,et)}removeReference(i,o,et){return Gr(i,et)}removeTargets(i,o,et){return this.db.getTargetCache().removeTargets(i,o,et)}markPotentiallyOrphaned(i,o){return Gr(i,o)}Un(i,o){return function(et,$l){let Nl=!1;return Nr(et).Y(Ml=>Dr(et,Ml,$l).next(Ol=>(Ol&&(Nl=!0),Pt.resolve(!Ol)))).next(()=>Nl)}(i,o)}removeOrphanedDocuments(i,o){const et=this.db.getRemoteDocumentCache().newChangeBuffer(),$l=[];let Nl=0;return this.Ln(i,(Ml,Ol)=>{if(Ol<=o){const Ll=this.Un(i,Ml).next(Fl=>{if(!Fl)return Nl++,et.getEntry(i,Ml).next(()=>(et.removeEntry(Ml,ct.min()),$r(i).delete([0,ci(Ml.path)])))});$l.push(Ll)}}).next(()=>Pt.waitFor($l)).next(()=>et.apply(i)).next(()=>Nl)}removeTarget(i,o){const et=o.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,et)}updateLimboDocument(i,o){return Gr(i,o)}Ln(i,o){const et=$r(i);let $l,Nl=$t.ot;return et.J({index:"documentTargetsIndex"},([Ml,Ol],{path:Ll,sequenceNumber:Fl})=>{Ml===0?(Nl!==$t.ot&&o(new dt(li($l)),Nl),Nl=Fl,$l=Ll):Nl=$t.ot}).next(()=>{Nl!==$t.ot&&o(new dt(li($l)),Nl)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function Gr(s,i){return $r(s).put(function(o,et){return{targetId:0,path:ci(o.path),sequenceNumber:et}}(i,s.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.changes=new is(i=>i.toString(),(i,o)=>i.isEqual(o)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,o){this.assertNotApplied(),this.changes.set(i,xe.newInvalidDocument(i).setReadTime(o))}getEntry(i,o){this.assertNotApplied();const et=this.changes.get(o);return et!==void 0?Pt.resolve(et):this.getFromCache(i,o)}getEntries(i,o){return this.getAllFromCache(i,o)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(i){this.wt=i}setIndexManager(i){this.indexManager=i}addEntry(i,o,et){return Jr(i).put(et)}removeEntry(i,o,et){return Jr(i).delete(function($l,Nl){const Ml=$l.path.toArray();return[Ml.slice(0,Ml.length-2),Ml[Ml.length-2],Gi(Nl),Ml[Ml.length-1]]}(o,et))}updateMetadata(i,o){return this.getMetadata(i).next(et=>(et.byteSize+=o,this.qn(i,et)))}getEntry(i,o){let et=xe.newInvalidDocument(o);return Jr(i).J({index:"documentKeyIndex",range:IDBKeyRange.only(Yr(o))},($l,Nl)=>{et=this.Kn(o,Nl)}).next(()=>et)}Gn(i,o){let et={size:0,document:xe.newInvalidDocument(o)};return Jr(i).J({index:"documentKeyIndex",range:IDBKeyRange.only(Yr(o))},($l,Nl)=>{et={document:this.Kn(o,Nl),size:Vr(Nl)}}).next(()=>et)}getEntries(i,o){let et=os();return this.Qn(i,o,($l,Nl)=>{const Ml=this.Kn($l,Nl);et=et.insert($l,Ml)}).next(()=>et)}jn(i,o){let et=os(),$l=new qt(dt.comparator);return this.Qn(i,o,(Nl,Ml)=>{const Ol=this.Kn(Nl,Ml);et=et.insert(Nl,Ol),$l=$l.insert(Nl,Vr(Ml))}).next(()=>({documents:et,Wn:$l}))}Qn(i,o,et){if(o.isEmpty())return Pt.resolve();let $l=new Qt(Zr);o.forEach(Ll=>$l=$l.add(Ll));const Nl=IDBKeyRange.bound(Yr($l.first()),Yr($l.last())),Ml=$l.getIterator();let Ol=Ml.getNext();return Jr(i).J({index:"documentKeyIndex",range:Nl},(Ll,Fl,Bl)=>{const Ul=dt.fromSegments([...Fl.prefixPath,Fl.collectionGroup,Fl.documentId]);for(;Ol&&Zr(Ol,Ul)<0;)et(Ol,null),Ol=Ml.getNext();Ol&&Ol.isEqual(Ul)&&(et(Ol,Fl),Ol=Ml.hasNext()?Ml.getNext():null),Ol?Bl.q(Yr(Ol)):Bl.done()}).next(()=>{for(;Ol;)et(Ol,null),Ol=Ml.hasNext()?Ml.getNext():null})}getAllFromCollection(i,o,et){const $l=[o.popLast().toArray(),o.lastSegment(),Gi(et.readTime),et.documentKey.path.isEmpty()?"":et.documentKey.path.lastSegment()],Nl=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jr(i).K(IDBKeyRange.bound($l,Nl,!0)).next(Ml=>{let Ol=os();for(const Ll of Ml){const Fl=this.Kn(dt.fromSegments(Ll.prefixPath.concat(Ll.collectionGroup,Ll.documentId)),Ll);Ol=Ol.insert(Fl.key,Fl)}return Ol})}getAllFromCollectionGroup(i,o,et,$l){let Nl=os();const Ml=Xr(o,et),Ol=Xr(o,Tt.max());return Jr(i).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(Ml,Ol,!0)},(Ll,Fl,Bl)=>{const Ul=this.Kn(dt.fromSegments(Fl.prefixPath.concat(Fl.collectionGroup,Fl.documentId)),Fl);Nl=Nl.insert(Ul.key,Ul),Nl.size===$l&&Bl.done()}).next(()=>Nl)}newChangeBuffer(i){return new zr(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(o=>o.byteSize)}getMetadata(i){return Hr(i).get("remoteDocumentGlobalKey").next(o=>(U(!!o),o))}qn(i,o){return Hr(i).put("remoteDocumentGlobalKey",o)}Kn(i,o){if(o){const et=qi(this.wt,o);if(!(et.isNoDocument()&&et.version.isEqual(ct.min())))return et}return xe.newInvalidDocument(i)}}function Wr(s){return new jr(s)}class zr extends Qr{constructor(i,o){super(),this.zn=i,this.trackRemovals=o,this.Hn=new is(et=>et.toString(),(et,$l)=>et.isEqual($l))}applyChanges(i){const o=[];let et=0,$l=new Qt((Nl,Ml)=>it(Nl.canonicalString(),Ml.canonicalString()));return this.changes.forEach((Nl,Ml)=>{const Ol=this.Hn.get(Nl);if(o.push(this.zn.removeEntry(i,Nl,Ol.readTime)),Ml.isValidDocument()){const Ll=Ki(this.zn.wt,Ml);$l=$l.add(Nl.path.popLast()),et+=Vr(Ll)-Ol.size,o.push(this.zn.addEntry(i,Nl,Ll))}else if(et-=Ol.size,this.trackRemovals){const Ll=Ki(this.zn.wt,Ml.convertToNoDocument(ct.min()));o.push(this.zn.addEntry(i,Nl,Ll))}}),$l.forEach(Nl=>{o.push(this.zn.indexManager.addToCollectionParentIndex(i,Nl))}),o.push(this.zn.updateMetadata(i,et)),Pt.waitFor(o)}getFromCache(i,o){return this.zn.Gn(i,o).next(et=>(this.Hn.set(o,{size:et.size,readTime:et.document.readTime}),et.document))}getAllFromCache(i,o){return this.zn.jn(i,o).next(({documents:et,Wn:$l})=>($l.forEach((Nl,Ml)=>{this.Hn.set(Nl,{size:Ml,readTime:et.get(Nl).readTime})}),et))}}function Hr(s){return Mi(s,"remoteDocumentGlobal")}function Jr(s){return Mi(s,"remoteDocumentsV14")}function Yr(s){const i=s.path.toArray();return[i.slice(0,i.length-2),i[i.length-2],i[i.length-1]]}function Xr(s,i){const o=i.documentKey.path.toArray();return[s,Gi(i.readTime),o.slice(0,o.length-2),o.length>0?o[o.length-1]:""]}function Zr(s,i){const o=s.path.toArray(),et=i.path.toArray();let $l=0;for(let Nl=0;Nl<o.length-2&&Nl<et.length-2;++Nl)if($l=it(o[Nl],et[Nl]),$l)return $l;return $l=it(o.length,et.length),$l||($l=it(o[o.length-2],et[et.length-2]),$l||it(o[o.length-1],et[et.length-1]))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(i,o){this.overlayedDocument=i,this.mutatedFields=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(i,o,et,$l){this.remoteDocumentCache=i,this.mutationQueue=o,this.documentOverlayCache=et,this.indexManager=$l}getDocument(i,o){let et=null;return this.documentOverlayCache.getOverlay(i,o).next($l=>(et=$l,this.getBaseDocument(i,o,et))).next($l=>(et!==null&&Kn(et.mutation,$l,zt.empty(),ut.now()),$l))}getDocuments(i,o){return this.remoteDocumentCache.getEntries(i,o).next(et=>this.getLocalViewOfDocuments(i,et,ws()).next(()=>et))}getLocalViewOfDocuments(i,o,et=ws()){const $l=hs();return this.populateOverlays(i,$l,o).next(()=>this.computeViews(i,o,$l,et).next(Nl=>{let Ml=cs();return Nl.forEach((Ol,Ll)=>{Ml=Ml.insert(Ol,Ll.overlayedDocument)}),Ml}))}getOverlayedDocuments(i,o){const et=hs();return this.populateOverlays(i,et,o).next(()=>this.computeViews(i,o,et,ws()))}populateOverlays(i,o,et){const $l=[];return et.forEach(Nl=>{o.has(Nl)||$l.push(Nl)}),this.documentOverlayCache.getOverlays(i,$l).next(Nl=>{Nl.forEach((Ml,Ol)=>{o.set(Ml,Ol)})})}computeViews(i,o,et,$l){let Nl=os();const Ml=fs(),Ol=fs();return o.forEach((Ll,Fl)=>{const Bl=et.get(Fl.key);$l.has(Fl.key)&&(Bl===void 0||Bl.mutation instanceof Wn)?Nl=Nl.insert(Fl.key,Fl):Bl!==void 0&&(Ml.set(Fl.key,Bl.mutation.getFieldMask()),Kn(Bl.mutation,Fl,Bl.mutation.getFieldMask(),ut.now()))}),this.recalculateAndSaveOverlays(i,Nl).next(Ll=>(Ll.forEach((Fl,Bl)=>Ml.set(Fl,Bl)),o.forEach((Fl,Bl)=>{var Ul;return Ol.set(Fl,new to(Bl,(Ul=Ml.get(Fl))!==null&&Ul!==void 0?Ul:null))}),Ol))}recalculateAndSaveOverlays(i,o){const et=fs();let $l=new qt((Ml,Ol)=>Ml-Ol),Nl=ws();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,o).next(Ml=>{for(const Ol of Ml)Ol.keys().forEach(Ll=>{const Fl=o.get(Ll);if(Fl===null)return;let Bl=et.get(Ll)||zt.empty();Bl=Ol.applyToLocalView(Fl,Bl),et.set(Ll,Bl);const Ul=($l.get(Ol.batchId)||ws()).add(Ll);$l=$l.insert(Ol.batchId,Ul)})}).next(()=>{const Ml=[],Ol=$l.getReverseIterator();for(;Ol.hasNext();){const Ll=Ol.getNext(),Fl=Ll.key,Bl=Ll.value,Ul=ls();Bl.forEach(Gl=>{if(!Nl.has(Gl)){const Wl=Un(o.get(Gl),et.get(Gl));Wl!==null&&Ul.set(Gl,Wl),Nl=Nl.add(Gl)}}),Ml.push(this.documentOverlayCache.saveOverlays(i,Fl,Ul))}return Pt.waitFor(Ml)}).next(()=>et)}recalculateAndSaveOverlaysForDocumentKeys(i,o){return this.remoteDocumentCache.getEntries(i,o).next(et=>this.recalculateAndSaveOverlays(i,et))}getDocumentsMatchingQuery(i,o,et){return function($l){return dt.isDocumentKey($l.path)&&$l.collectionGroup===null&&$l.filters.length===0}(o)?this.getDocumentsMatchingDocumentQuery(i,o.path):an(o)?this.getDocumentsMatchingCollectionGroupQuery(i,o,et):this.getDocumentsMatchingCollectionQuery(i,o,et)}getNextDocuments(i,o,et,$l){return this.remoteDocumentCache.getAllFromCollectionGroup(i,o,et,$l).next(Nl=>{const Ml=$l-Nl.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(i,o,et.largestBatchId,$l-Nl.size):Pt.resolve(hs());let Ol=-1,Ll=Nl;return Ml.next(Fl=>Pt.forEach(Fl,(Bl,Ul)=>(Ol<Ul.largestBatchId&&(Ol=Ul.largestBatchId),Nl.get(Bl)?Pt.resolve():this.getBaseDocument(i,Bl,Ul).next(Gl=>{Ll=Ll.insert(Bl,Gl)}))).next(()=>this.populateOverlays(i,Fl,Nl)).next(()=>this.computeViews(i,Ll,Fl,ws())).next(Bl=>({batchId:Ol,changes:as(Bl)})))})}getDocumentsMatchingDocumentQuery(i,o){return this.getDocument(i,new dt(o)).next(et=>{let $l=cs();return et.isFoundDocument()&&($l=$l.insert(et.key,et)),$l})}getDocumentsMatchingCollectionGroupQuery(i,o,et){const $l=o.collectionGroup;let Nl=cs();return this.indexManager.getCollectionParents(i,$l).next(Ml=>Pt.forEach(Ml,Ol=>{const Ll=function(Fl,Bl){return new nn(Bl,null,Fl.explicitOrderBy.slice(),Fl.filters.slice(),Fl.limit,Fl.limitType,Fl.startAt,Fl.endAt)}(o,Ol.child($l));return this.getDocumentsMatchingCollectionQuery(i,Ll,et).next(Fl=>{Fl.forEach((Bl,Ul)=>{Nl=Nl.insert(Bl,Ul)})})}).next(()=>Nl))}getDocumentsMatchingCollectionQuery(i,o,et){let $l;return this.remoteDocumentCache.getAllFromCollection(i,o.path,et).next(Nl=>($l=Nl,this.documentOverlayCache.getOverlaysForCollection(i,o.path,et.largestBatchId))).next(Nl=>{Nl.forEach((Ol,Ll)=>{const Fl=Ll.getKey();$l.get(Fl)===null&&($l=$l.insert(Fl,xe.newInvalidDocument(Fl)))});let Ml=cs();return $l.forEach((Ol,Ll)=>{const Fl=Nl.get(Ol);Fl!==void 0&&Kn(Fl.mutation,Ll,zt.empty(),ut.now()),mn(o,Ll)&&(Ml=Ml.insert(Ol,Ll))}),Ml})}getBaseDocument(i,o,et){return et===null||et.mutation.type===1?this.remoteDocumentCache.getEntry(i,o):Pt.resolve(xe.newInvalidDocument(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(i){this.wt=i,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(i,o){return Pt.resolve(this.Jn.get(o))}saveBundleMetadata(i,o){var et;return this.Jn.set(o.id,{id:(et=o).id,version:et.version,createTime:Ns(et.createTime)}),Pt.resolve()}getNamedQuery(i,o){return Pt.resolve(this.Yn.get(o))}saveNamedQuery(i,o){return this.Yn.set(o.name,function(et){return{name:et.name,query:Ji(et.bundledQuery),readTime:Ns(et.readTime)}}(o)),Pt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.overlays=new qt(dt.comparator),this.Xn=new Map}getOverlay(i,o){return Pt.resolve(this.overlays.get(o))}getOverlays(i,o){const et=hs();return Pt.forEach(o,$l=>this.getOverlay(i,$l).next(Nl=>{Nl!==null&&et.set($l,Nl)})).next(()=>et)}saveOverlays(i,o,et){return et.forEach(($l,Nl)=>{this.ie(i,o,Nl)}),Pt.resolve()}removeOverlaysForBatchId(i,o,et){const $l=this.Xn.get(et);return $l!==void 0&&($l.forEach(Nl=>this.overlays=this.overlays.remove(Nl)),this.Xn.delete(et)),Pt.resolve()}getOverlaysForCollection(i,o,et){const $l=hs(),Nl=o.length+1,Ml=new dt(o.child("")),Ol=this.overlays.getIteratorFrom(Ml);for(;Ol.hasNext();){const Ll=Ol.getNext().value,Fl=Ll.getKey();if(!o.isPrefixOf(Fl.path))break;Fl.path.length===Nl&&Ll.largestBatchId>et&&$l.set(Ll.getKey(),Ll)}return Pt.resolve($l)}getOverlaysForCollectionGroup(i,o,et,$l){let Nl=new qt((Fl,Bl)=>Fl-Bl);const Ml=this.overlays.getIterator();for(;Ml.hasNext();){const Fl=Ml.getNext().value;if(Fl.getKey().getCollectionGroup()===o&&Fl.largestBatchId>et){let Bl=Nl.get(Fl.largestBatchId);Bl===null&&(Bl=hs(),Nl=Nl.insert(Fl.largestBatchId,Bl)),Bl.set(Fl.getKey(),Fl)}}const Ol=hs(),Ll=Nl.getIterator();for(;Ll.hasNext()&&(Ll.getNext().value.forEach((Fl,Bl)=>Ol.set(Fl,Bl)),!(Ol.size()>=$l)););return Pt.resolve(Ol)}ie(i,o,et){const $l=this.overlays.get(et.key);if($l!==null){const Ml=this.Xn.get($l.largestBatchId).delete(et.key);this.Xn.set($l.largestBatchId,Ml)}this.overlays=this.overlays.insert(et.key,new Bi(o,et));let Nl=this.Xn.get(o);Nl===void 0&&(Nl=ws(),this.Xn.set(o,Nl)),this.Xn.set(o,Nl.add(et.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.Zn=new Qt(ro.ts),this.es=new Qt(ro.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(i,o){const et=new ro(i,o);this.Zn=this.Zn.add(et),this.es=this.es.add(et)}ss(i,o){i.forEach(et=>this.addReference(et,o))}removeReference(i,o){this.rs(new ro(i,o))}os(i,o){i.forEach(et=>this.removeReference(et,o))}us(i){const o=new dt(new ht([])),et=new ro(o,i),$l=new ro(o,i+1),Nl=[];return this.es.forEachInRange([et,$l],Ml=>{this.rs(Ml),Nl.push(Ml.key)}),Nl}cs(){this.Zn.forEach(i=>this.rs(i))}rs(i){this.Zn=this.Zn.delete(i),this.es=this.es.delete(i)}hs(i){const o=new dt(new ht([])),et=new ro(o,i),$l=new ro(o,i+1);let Nl=ws();return this.es.forEachInRange([et,$l],Ml=>{Nl=Nl.add(Ml.key)}),Nl}containsKey(i){const o=new ro(i,0),et=this.Zn.firstAfterOrEqual(o);return et!==null&&i.isEqual(et.key)}}class ro{constructor(i,o){this.key=i,this.ls=o}static ts(i,o){return dt.comparator(i.key,o.key)||it(i.ls,o.ls)}static ns(i,o){return it(i.ls,o.ls)||dt.comparator(i.key,o.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(i,o){this.indexManager=i,this.referenceDelegate=o,this.mutationQueue=[],this.fs=1,this.ds=new Qt(ro.ts)}checkEmpty(i){return Pt.resolve(this.mutationQueue.length===0)}addMutationBatch(i,o,et,$l){const Nl=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const Ml=new Fi(Nl,o,et,$l);this.mutationQueue.push(Ml);for(const Ol of $l)this.ds=this.ds.add(new ro(Ol.key,Nl)),this.indexManager.addToCollectionParentIndex(i,Ol.key.path.popLast());return Pt.resolve(Ml)}lookupMutationBatch(i,o){return Pt.resolve(this._s(o))}getNextMutationBatchAfterBatchId(i,o){const et=o+1,$l=this.ws(et),Nl=$l<0?0:$l;return Pt.resolve(this.mutationQueue.length>Nl?this.mutationQueue[Nl]:null)}getHighestUnacknowledgedBatchId(){return Pt.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(i){return Pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(i,o){const et=new ro(o,0),$l=new ro(o,Number.POSITIVE_INFINITY),Nl=[];return this.ds.forEachInRange([et,$l],Ml=>{const Ol=this._s(Ml.ls);Nl.push(Ol)}),Pt.resolve(Nl)}getAllMutationBatchesAffectingDocumentKeys(i,o){let et=new Qt(it);return o.forEach($l=>{const Nl=new ro($l,0),Ml=new ro($l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([Nl,Ml],Ol=>{et=et.add(Ol.ls)})}),Pt.resolve(this.gs(et))}getAllMutationBatchesAffectingQuery(i,o){const et=o.path,$l=et.length+1;let Nl=et;dt.isDocumentKey(Nl)||(Nl=Nl.child(""));const Ml=new ro(new dt(Nl),0);let Ol=new Qt(it);return this.ds.forEachWhile(Ll=>{const Fl=Ll.key.path;return!!et.isPrefixOf(Fl)&&(Fl.length===$l&&(Ol=Ol.add(Ll.ls)),!0)},Ml),Pt.resolve(this.gs(Ol))}gs(i){const o=[];return i.forEach(et=>{const $l=this._s(et);$l!==null&&o.push($l)}),o}removeMutationBatch(i,o){U(this.ys(o.batchId,"removed")===0),this.mutationQueue.shift();let et=this.ds;return Pt.forEach(o.mutations,$l=>{const Nl=new ro($l.key,o.batchId);return et=et.delete(Nl),this.referenceDelegate.markPotentiallyOrphaned(i,$l.key)}).next(()=>{this.ds=et})}In(i){}containsKey(i,o){const et=new ro(o,0),$l=this.ds.firstAfterOrEqual(et);return Pt.resolve(o.isEqual($l&&$l.key))}performConsistencyCheck(i){return this.mutationQueue.length,Pt.resolve()}ys(i,o){return this.ws(i)}ws(i){return this.mutationQueue.length===0?0:i-this.mutationQueue[0].batchId}_s(i){const o=this.ws(i);return o<0||o>=this.mutationQueue.length?null:this.mutationQueue[o]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(i){this.ps=i,this.docs=new qt(dt.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,o){const et=o.key,$l=this.docs.get(et),Nl=$l?$l.size:0,Ml=this.ps(o);return this.docs=this.docs.insert(et,{document:o.mutableCopy(),size:Ml}),this.size+=Ml-Nl,this.indexManager.addToCollectionParentIndex(i,et.path.popLast())}removeEntry(i){const o=this.docs.get(i);o&&(this.docs=this.docs.remove(i),this.size-=o.size)}getEntry(i,o){const et=this.docs.get(o);return Pt.resolve(et?et.document.mutableCopy():xe.newInvalidDocument(o))}getEntries(i,o){let et=os();return o.forEach($l=>{const Nl=this.docs.get($l);et=et.insert($l,Nl?Nl.document.mutableCopy():xe.newInvalidDocument($l))}),Pt.resolve(et)}getAllFromCollection(i,o,et){let $l=os();const Nl=new dt(o.child("")),Ml=this.docs.getIteratorFrom(Nl);for(;Ml.hasNext();){const{key:Ol,value:{document:Ll}}=Ml.getNext();if(!o.isPrefixOf(Ol.path))break;Ol.path.length>o.length+1||Et(It(Ll),et)<=0||($l=$l.insert(Ll.key,Ll.mutableCopy()))}return Pt.resolve($l)}getAllFromCollectionGroup(i,o,et,$l){L()}Is(i,o){return Pt.forEach(this.docs,et=>o(et))}newChangeBuffer(i){return new co(this)}getSize(i){return Pt.resolve(this.size)}}class co extends Qr{constructor(i){super(),this.zn=i}applyChanges(i){const o=[];return this.changes.forEach((et,$l)=>{$l.isValidDocument()?o.push(this.zn.addEntry(i,$l)):this.zn.removeEntry(et)}),Pt.waitFor(o)}getFromCache(i,o){return this.zn.getEntry(i,o)}getAllFromCache(i,o){return this.zn.getEntries(i,o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(i){this.persistence=i,this.Ts=new is(o=>Oe(o),Fe),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Es=0,this.As=new io,this.targetCount=0,this.Rs=kr.An()}forEachTarget(i,o){return this.Ts.forEach((et,$l)=>o($l)),Pt.resolve()}getLastRemoteSnapshotVersion(i){return Pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return Pt.resolve(this.Es)}allocateTargetId(i){return this.highestTargetId=this.Rs.next(),Pt.resolve(this.highestTargetId)}setTargetsMetadata(i,o,et){return et&&(this.lastRemoteSnapshotVersion=et),o>this.Es&&(this.Es=o),Pt.resolve()}vn(i){this.Ts.set(i.target,i);const o=i.targetId;o>this.highestTargetId&&(this.Rs=new kr(o),this.highestTargetId=o),i.sequenceNumber>this.Es&&(this.Es=i.sequenceNumber)}addTargetData(i,o){return this.vn(o),this.targetCount+=1,Pt.resolve()}updateTargetData(i,o){return this.vn(o),Pt.resolve()}removeTargetData(i,o){return this.Ts.delete(o.target),this.As.us(o.targetId),this.targetCount-=1,Pt.resolve()}removeTargets(i,o,et){let $l=0;const Nl=[];return this.Ts.forEach((Ml,Ol)=>{Ol.sequenceNumber<=o&&et.get(Ol.targetId)===null&&(this.Ts.delete(Ml),Nl.push(this.removeMatchingKeysForTargetId(i,Ol.targetId)),$l++)}),Pt.waitFor(Nl).next(()=>$l)}getTargetCount(i){return Pt.resolve(this.targetCount)}getTargetData(i,o){const et=this.Ts.get(o)||null;return Pt.resolve(et)}addMatchingKeys(i,o,et){return this.As.ss(o,et),Pt.resolve()}removeMatchingKeys(i,o,et){this.As.os(o,et);const $l=this.persistence.referenceDelegate,Nl=[];return $l&&o.forEach(Ml=>{Nl.push($l.markPotentiallyOrphaned(i,Ml))}),Pt.waitFor(Nl)}removeMatchingKeysForTargetId(i,o){return this.As.us(o),Pt.resolve()}getMatchingKeysForTargetId(i,o){const et=this.As.hs(o);return Pt.resolve(et)}containsKey(i,o){return Pt.resolve(this.As.containsKey(o))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(i,o){this.bs={},this.overlays={},this.Ps=new $t(0),this.vs=!1,this.vs=!0,this.referenceDelegate=i(this),this.Vs=new ao(this),this.indexManager=new mr,this.remoteDocumentCache=function(et){return new uo(et)}(et=>this.referenceDelegate.Ss(et)),this.wt=new Ui(o),this.Ds=new no(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let o=this.overlays[i.toKey()];return o||(o=new so,this.overlays[i.toKey()]=o),o}getMutationQueue(i,o){let et=this.bs[i.toKey()];return et||(et=new oo(o,this.referenceDelegate),this.bs[i.toKey()]=et),et}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(i,o,et){M("MemoryPersistence","Starting transaction:",i);const $l=new lo(this.Ps.next());return this.referenceDelegate.Cs(),et($l).next(Nl=>this.referenceDelegate.xs($l).next(()=>Nl)).toPromise().then(Nl=>($l.raiseOnCommittedEvent(),Nl))}Ns(i,o){return Pt.or(Object.values(this.bs).map(et=>()=>et.containsKey(i,o)))}}class lo extends Rt{constructor(i){super(),this.currentSequenceNumber=i}}class fo{constructor(i){this.persistence=i,this.ks=new io,this.Os=null}static Ms(i){return new fo(i)}get Fs(){if(this.Os)return this.Os;throw L()}addReference(i,o,et){return this.ks.addReference(et,o),this.Fs.delete(et.toString()),Pt.resolve()}removeReference(i,o,et){return this.ks.removeReference(et,o),this.Fs.add(et.toString()),Pt.resolve()}markPotentiallyOrphaned(i,o){return this.Fs.add(o.toString()),Pt.resolve()}removeTarget(i,o){this.ks.us(o.targetId).forEach($l=>this.Fs.add($l.toString()));const et=this.persistence.getTargetCache();return et.getMatchingKeysForTargetId(i,o.targetId).next($l=>{$l.forEach(Nl=>this.Fs.add(Nl.toString()))}).next(()=>et.removeTargetData(i,o))}Cs(){this.Os=new Set}xs(i){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pt.forEach(this.Fs,et=>{const $l=dt.fromPath(et);return this.$s(i,$l).next(Nl=>{Nl||o.removeEntry($l,ct.min())})}).next(()=>(this.Os=null,o.apply(i)))}updateLimboDocument(i,o){return this.$s(i,o).next(et=>{et?this.Fs.delete(o.toString()):this.Fs.add(o.toString())})}Ss(i){return 0}$s(i,o){return Pt.or([()=>Pt.resolve(this.ks.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(i,o),()=>this.persistence.Ns(i,o)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(i){this.wt=i}O(i,o,et,$l){const Nl=new vt("createOrUpgrade",o);et<1&&$l>=1&&(function(Ol){Ol.createObjectStore("owner")}(i),function(Ol){Ol.createObjectStore("mutationQueues",{keyPath:"userId"}),Ol.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fi,{unique:!0}),Ol.createObjectStore("documentMutations")}(i),wo(i),function(Ol){Ol.createObjectStore("remoteDocuments")}(i));let Ml=Pt.resolve();return et<3&&$l>=3&&(et!==0&&(function(Ol){Ol.deleteObjectStore("targetDocuments"),Ol.deleteObjectStore("targets"),Ol.deleteObjectStore("targetGlobal")}(i),wo(i)),Ml=Ml.next(()=>function(Ol){const Ll=Ol.store("targetGlobal"),Fl={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ct.min().toTimestamp(),targetCount:0};return Ll.put("targetGlobalKey",Fl)}(Nl))),et<4&&$l>=4&&(et!==0&&(Ml=Ml.next(()=>function(Ol,Ll){return Ll.store("mutations").K().next(Fl=>{Ol.deleteObjectStore("mutations"),Ol.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fi,{unique:!0});const Bl=Ll.store("mutations"),Ul=Fl.map(Gl=>Bl.put(Gl));return Pt.waitFor(Ul)})}(i,Nl))),Ml=Ml.next(()=>{(function(Ol){Ol.createObjectStore("clientMetadata",{keyPath:"clientId"})})(i)})),et<5&&$l>=5&&(Ml=Ml.next(()=>this.Bs(Nl))),et<6&&$l>=6&&(Ml=Ml.next(()=>(function(Ol){Ol.createObjectStore("remoteDocumentGlobal")}(i),this.Ls(Nl)))),et<7&&$l>=7&&(Ml=Ml.next(()=>this.Us(Nl))),et<8&&$l>=8&&(Ml=Ml.next(()=>this.qs(i,Nl))),et<9&&$l>=9&&(Ml=Ml.next(()=>{(function(Ol){Ol.objectStoreNames.contains("remoteDocumentChanges")&&Ol.deleteObjectStore("remoteDocumentChanges")})(i)})),et<10&&$l>=10&&(Ml=Ml.next(()=>this.Ks(Nl))),et<11&&$l>=11&&(Ml=Ml.next(()=>{(function(Ol){Ol.createObjectStore("bundles",{keyPath:"bundleId"})})(i),function(Ol){Ol.createObjectStore("namedQueries",{keyPath:"name"})}(i)})),et<12&&$l>=12&&(Ml=Ml.next(()=>{(function(Ol){const Ll=Ol.createObjectStore("documentOverlays",{keyPath:vi});Ll.createIndex("collectionPathOverlayIndex",Vi,{unique:!1}),Ll.createIndex("collectionGroupOverlayIndex",Si,{unique:!1})})(i)})),et<13&&$l>=13&&(Ml=Ml.next(()=>function(Ol){const Ll=Ol.createObjectStore("remoteDocumentsV14",{keyPath:mi});Ll.createIndex("documentKeyIndex",gi),Ll.createIndex("collectionGroupIndex",yi)}(i)).next(()=>this.Gs(i,Nl)).next(()=>i.deleteObjectStore("remoteDocuments"))),et<14&&$l>=14&&(Ml=Ml.next(()=>this.Qs(i,Nl))),et<15&&$l>=15&&(Ml=Ml.next(()=>function(Ol){Ol.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),Ol.createObjectStore("indexState",{keyPath:Ai}).createIndex("sequenceNumberIndex",Ri,{unique:!1}),Ol.createObjectStore("indexEntries",{keyPath:bi}).createIndex("documentKeyIndex",Pi,{unique:!1})}(i))),Ml}Ls(i){let o=0;return i.store("remoteDocuments").J((et,$l)=>{o+=Vr($l)}).next(()=>{const et={byteSize:o};return i.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",et)})}Bs(i){const o=i.store("mutationQueues"),et=i.store("mutations");return o.K().next($l=>Pt.forEach($l,Nl=>{const Ml=IDBKeyRange.bound([Nl.userId,-1],[Nl.userId,Nl.lastAcknowledgedBatchId]);return et.K("userMutationsIndex",Ml).next(Ol=>Pt.forEach(Ol,Ll=>{U(Ll.userId===Nl.userId);const Fl=Wi(this.wt,Ll);return vr(i,Nl.userId,Fl).next(()=>{})}))}))}Us(i){const o=i.store("targetDocuments"),et=i.store("remoteDocuments");return i.store("targetGlobal").get("targetGlobalKey").next($l=>{const Nl=[];return et.J((Ml,Ol)=>{const Ll=new ht(Ml),Fl=function(Bl){return[0,ci(Bl)]}(Ll);Nl.push(o.get(Fl).next(Bl=>Bl?Pt.resolve():(Ul=>o.put({targetId:0,path:ci(Ul),sequenceNumber:$l.highestListenSequenceNumber}))(Ll)))}).next(()=>Pt.waitFor(Nl))})}qs(i,o){i.createObjectStore("collectionParents",{keyPath:Ei});const et=o.store("collectionParents"),$l=new gr,Nl=Ml=>{if($l.add(Ml)){const Ol=Ml.lastSegment(),Ll=Ml.popLast();return et.put({collectionId:Ol,parent:ci(Ll)})}};return o.store("remoteDocuments").J({H:!0},(Ml,Ol)=>{const Ll=new ht(Ml);return Nl(Ll.popLast())}).next(()=>o.store("documentMutations").J({H:!0},([Ml,Ol,Ll],Fl)=>{const Bl=li(Ol);return Nl(Bl.popLast())}))}Ks(i){const o=i.store("targets");return o.J((et,$l)=>{const Nl=zi($l),Ml=Hi(this.wt,Nl);return o.put(Ml)})}Gs(i,o){const et=o.store("remoteDocuments"),$l=[];return et.J((Nl,Ml)=>{const Ol=o.store("remoteDocumentsV14"),Ll=(Fl=Ml,Fl.document?new dt(ht.fromString(Fl.document.name).popFirst(5)):Fl.noDocument?dt.fromSegments(Fl.noDocument.path):Fl.unknownDocument?dt.fromSegments(Fl.unknownDocument.path):L()).path.toArray();var Fl;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bl={prefixPath:Ll.slice(0,Ll.length-2),collectionGroup:Ll[Ll.length-2],documentId:Ll[Ll.length-1],readTime:Ml.readTime||[0,0],unknownDocument:Ml.unknownDocument,noDocument:Ml.noDocument,document:Ml.document,hasCommittedMutations:!!Ml.hasCommittedMutations};$l.push(Ol.put(Bl))}).next(()=>Pt.waitFor($l))}Qs(i,o){const et=o.store("mutations"),$l=Wr(this.wt),Nl=new ho(fo.Ms,this.wt.ne);return et.K().next(Ml=>{const Ol=new Map;return Ml.forEach(Ll=>{var Fl;let Bl=(Fl=Ol.get(Ll.userId))!==null&&Fl!==void 0?Fl:ws();Wi(this.wt,Ll).keys().forEach(Ul=>Bl=Bl.add(Ul)),Ol.set(Ll.userId,Bl)}),Pt.forEach(Ol,(Ll,Fl)=>{const Bl=new C(Fl),Ul=sr.se(this.wt,Bl),Gl=Nl.getIndexManager(Bl),Wl=Sr.se(Bl,this.wt,Gl,Nl.referenceDelegate);return new eo($l,Wl,Ul,Gl).recalculateAndSaveOverlaysForDocumentKeys(new Oi(o,$t.ot),Ll).next()})})}}function wo(s){s.createObjectStore("targetDocuments",{keyPath:Ii}).createIndex("documentTargetsIndex",Ti,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pi,{unique:!0}),s.createObjectStore("targetGlobal")}const mo="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class go{constructor(i,o,et,$l,Nl,Ml,Ol,Ll,Fl,Bl,Ul=14){if(this.allowTabSynchronization=i,this.persistenceKey=o,this.clientId=et,this.js=Nl,this.window=Ml,this.document=Ol,this.Ws=Fl,this.zs=Bl,this.Hs=Ul,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=Gl=>Promise.resolve(),!go.V())throw new Q(G.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kr(this,$l),this.ei=o+"main",this.wt=new Ui(Ll),this.ni=new Vt(this.ei,this.Hs,new _o(this.wt)),this.Vs=new Or(this.referenceDelegate,this.wt),this.remoteDocumentCache=Wr(this.wt),this.Ds=new tr,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,Bl===!1&&F("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Q(G.FAILED_PRECONDITION,mo);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.Vs.getHighestSequenceNumber(i))}).then(i=>{this.Ps=new $t(i,this.Ws)}).then(()=>{this.vs=!0}).catch(i=>(this.ni&&this.ni.close(),Promise.reject(i)))}ci(i){return this.ti=async o=>{if(this.started)return i(o)},i(this.isPrimary)}setDatabaseDeletedListener(i){this.ni.F(async o=>{o.newVersion===null&&await i()})}setNetworkEnabled(i){this.networkEnabled!==i&&(this.networkEnabled=i,this.js.enqueueAndForget(async()=>{this.started&&await this.ii()}))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>po(i).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(i).next(o=>{o||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(i)).next(o=>this.isPrimary&&!o?this.li(i).next(()=>!1):!!o&&this.fi(i).next(()=>!0))).catch(i=>{if(Ct(i))return M("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return M("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.js.enqueueRetryable(()=>this.ti(i)),this.isPrimary=i})}ai(i){return yo(i).get("owner").next(o=>Pt.resolve(this.di(o)))}_i(i){return po(i).delete(this.clientId)}async wi(){if(this.isPrimary&&!this.mi(this.Zs,18e5)){this.Zs=Date.now();const i=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const et=Mi(o,"clientMetadata");return et.K().next($l=>{const Nl=this.gi($l,18e5),Ml=$l.filter(Ol=>Nl.indexOf(Ol)===-1);return Pt.forEach(Ml,Ol=>et.delete(Ol.clientId)).next(()=>Ml)})}).catch(()=>[]);if(this.si)for(const o of i)this.si.removeItem(this.yi(o.clientId))}}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(i){return!!i&&i.ownerId===this.clientId}hi(i){return this.zs?Pt.resolve(!0):yo(i).get("owner").next(o=>{if(o!==null&&this.mi(o.leaseTimestampMs,5e3)&&!this.pi(o.ownerId)){if(this.di(o)&&this.networkEnabled)return!0;if(!this.di(o)){if(!o.allowTabSynchronization)throw new Q(G.FAILED_PRECONDITION,mo);return!1}}return!(!this.networkEnabled||!this.inForeground)||po(i).K().next(et=>this.gi(et,5e3).find($l=>{if(this.clientId!==$l.clientId){const Nl=!this.networkEnabled&&$l.networkEnabled,Ml=!this.inForeground&&$l.inForeground,Ol=this.networkEnabled===$l.networkEnabled;if(Nl||Ml&&Ol)return!0}return!1})===void 0)}).next(o=>(this.isPrimary!==o&&M("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}async shutdown(){this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),await this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const o=new Oi(i,$t.ot);return this.li(o).next(()=>this._i(o))}),this.ni.close(),this.Ai()}gi(i,o){return i.filter(et=>this.mi(et.updateTimeMs,o)&&!this.pi(et.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",i=>po(i).K().next(o=>this.gi(o,18e5).map(et=>et.clientId)))}get started(){return this.vs}getMutationQueue(i,o){return Sr.se(i,this.wt,o,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(i){return new pr(i,this.wt.ne.databaseId)}getDocumentOverlayCache(i){return sr.se(this.wt,i)}getBundleCache(){return this.Ds}runTransaction(i,o,et){M("IndexedDbPersistence","Starting transaction:",i);const $l=o==="readonly"?"readonly":"readwrite",Nl=(Ml=this.Hs)===15?ki:Ml===14?Ni:Ml===13?xi:Ml===12?Ci:Ml===11?Di:void L();var Ml;let Ol;return this.ni.runTransaction(i,$l,Nl,Ll=>(Ol=new Oi(Ll,this.Ps?this.Ps.next():$t.ot),o==="readwrite-primary"?this.ai(Ol).next(Fl=>!!Fl||this.hi(Ol)).next(Fl=>{if(!Fl)throw F(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Q(G.FAILED_PRECONDITION,At);return et(Ol)}).next(Fl=>this.fi(Ol).next(()=>Fl)):this.bi(Ol).next(()=>et(Ol)))).then(Ll=>(Ol.raiseOnCommittedEvent(),Ll))}bi(i){return yo(i).get("owner").next(o=>{if(o!==null&&this.mi(o.leaseTimestampMs,5e3)&&!this.pi(o.ownerId)&&!this.di(o)&&!(this.zs||this.allowTabSynchronization&&o.allowTabSynchronization))throw new Q(G.FAILED_PRECONDITION,mo)})}fi(i){const o={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yo(i).put("owner",o)}static V(){return Vt.V()}li(i){const o=yo(i);return o.get("owner").next(et=>this.di(et)?(M("IndexedDbPersistence","Releasing primary lease."),o.delete("owner")):Pt.resolve())}mi(i,o){const et=Date.now();return!(i<et-o)&&(!(i>et)||(F(`Detected an update time that is in the future: ${i} > ${et}`),!1))}ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground=this.document.visibilityState==="visible")}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var i;typeof((i=this.window)===null||i===void 0?void 0:i.addEventListener)=="function"&&(this.Js=()=>{this.Ii(),isSafari()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(i){var o;try{const et=((o=this.si)===null||o===void 0?void 0:o.getItem(this.yi(i)))!==null;return M("IndexedDbPersistence",`Client '${i}' ${et?"is":"is not"} zombied in LocalStorage`),et}catch(et){return F("IndexedDbPersistence","Failed to get zombied client id.",et),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(i){F("Failed to set zombie client id.",i)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function yo(s){return Mi(s,"owner")}function po(s){return Mi(s,"clientMetadata")}function Io(s,i){let o=s.projectId;return s.isDefaultDatabase||(o+="."+s.database),"firestore/"+i+"/"+o+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(i,o,et,$l){this.targetId=i,this.fromCache=o,this.Pi=et,this.vi=$l}static Vi(i,o){let et=ws(),$l=ws();for(const Nl of o.docChanges)switch(Nl.type){case 0:et=et.add(Nl.doc.key);break;case 1:$l=$l.add(Nl.doc.key)}return new To(i,o.fromCache,et,$l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.Si=!1}initialize(i,o){this.Di=i,this.indexManager=o,this.Si=!0}getDocumentsMatchingQuery(i,o,et,$l){return this.Ci(i,o).next(Nl=>Nl||this.xi(i,o,$l,et)).next(Nl=>Nl||this.Ni(i,o))}Ci(i,o){return Pt.resolve(null)}xi(i,o,et,$l){return on(o)||$l.isEqual(ct.min())?this.Ni(i,o):this.Di.getDocuments(i,et).next(Nl=>{const Ml=this.ki(o,Nl);return this.Oi(o,Ml,et,$l)?this.Ni(i,o):(k()<=LogLevel.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",$l.toString(),wn(o)),this.Mi(i,Ml,o,pt($l,-1)))})}ki(i,o){let et=new Qt(yn(i));return o.forEach(($l,Nl)=>{mn(i,Nl)&&(et=et.add(Nl))}),et}Oi(i,o,et,$l){if(i.limit===null)return!1;if(et.size!==o.size)return!0;const Nl=i.limitType==="F"?o.last():o.first();return!!Nl&&(Nl.hasPendingWrites||Nl.version.compareTo($l)>0)}Ni(i,o){return k()<=LogLevel.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",wn(o)),this.Di.getDocumentsMatchingQuery(i,o,Tt.min())}Mi(i,o,et,$l){return this.Di.getDocumentsMatchingQuery(i,et,$l).next(Nl=>(o.forEach(Ml=>{Nl=Nl.insert(Ml.key,Ml)}),Nl))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(i,o,et,$l){this.persistence=i,this.Fi=o,this.wt=$l,this.$i=new qt(it),this.Bi=new is(Nl=>Oe(Nl),Fe),this.Li=new Map,this.Ui=i.getRemoteDocumentCache(),this.Vs=i.getTargetCache(),this.Ds=i.getBundleCache(),this.qi(et)}qi(i){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(i),this.indexManager=this.persistence.getIndexManager(i),this.mutationQueue=this.persistence.getMutationQueue(i,this.indexManager),this.localDocuments=new eo(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>i.collect(o,this.$i))}}function Ro(s,i,o,et){return new Ao(s,i,o,et)}async function bo(s,i){const o=K(s);return await o.persistence.runTransaction("Handle user change","readonly",et=>{let $l;return o.mutationQueue.getAllMutationBatches(et).next(Nl=>($l=Nl,o.qi(i),o.mutationQueue.getAllMutationBatches(et))).next(Nl=>{const Ml=[],Ol=[];let Ll=ws();for(const Fl of $l){Ml.push(Fl.batchId);for(const Bl of Fl.mutations)Ll=Ll.add(Bl.key)}for(const Fl of Nl){Ol.push(Fl.batchId);for(const Bl of Fl.mutations)Ll=Ll.add(Bl.key)}return o.localDocuments.getDocuments(et,Ll).next(Fl=>({Ki:Fl,removedBatchIds:Ml,addedBatchIds:Ol}))})})}function Po(s,i){const o=K(s);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",et=>{const $l=i.batch.keys(),Nl=o.Ui.newChangeBuffer({trackRemovals:!0});return function(Ml,Ol,Ll,Fl){const Bl=Ll.batch,Ul=Bl.keys();let Gl=Pt.resolve();return Ul.forEach(Wl=>{Gl=Gl.next(()=>Fl.getEntry(Ol,Wl)).next(zl=>{const Ql=Ll.docVersions.get(Wl);U(Ql!==null),zl.version.compareTo(Ql)<0&&(Bl.applyToRemoteDocument(zl,Ll),zl.isValidDocument()&&(zl.setReadTime(Ll.commitVersion),Fl.addEntry(zl)))})}),Gl.next(()=>Ml.mutationQueue.removeMutationBatch(Ol,Bl))}(o,et,i,Nl).next(()=>Nl.apply(et)).next(()=>o.mutationQueue.performConsistencyCheck(et)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(et,$l,i.batch.batchId)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(et,function(Ml){let Ol=ws();for(let Ll=0;Ll<Ml.mutationResults.length;++Ll)Ml.mutationResults[Ll].transformResults.length>0&&(Ol=Ol.add(Ml.batch.mutations[Ll].key));return Ol}(i))).next(()=>o.localDocuments.getDocuments(et,$l))})}function vo(s){const i=K(s);return i.persistence.runTransaction("Get last remote snapshot version","readonly",o=>i.Vs.getLastRemoteSnapshotVersion(o))}function Vo(s,i){const o=K(s),et=i.snapshotVersion;let $l=o.$i;return o.persistence.runTransaction("Apply remote event","readwrite-primary",Nl=>{const Ml=o.Ui.newChangeBuffer({trackRemovals:!0});$l=o.$i;const Ol=[];i.targetChanges.forEach((Bl,Ul)=>{const Gl=$l.get(Ul);if(!Gl)return;Ol.push(o.Vs.removeMatchingKeys(Nl,Bl.removedDocuments,Ul).next(()=>o.Vs.addMatchingKeys(Nl,Bl.addedDocuments,Ul)));let Wl=Gl.withSequenceNumber(Nl.currentSequenceNumber);i.targetMismatches.has(Ul)?Wl=Wl.withResumeToken(Jt.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):Bl.resumeToken.approximateByteSize()>0&&(Wl=Wl.withResumeToken(Bl.resumeToken,et)),$l=$l.insert(Ul,Wl),function(zl,Ql,Jl){return zl.resumeToken.approximateByteSize()===0||Ql.snapshotVersion.toMicroseconds()-zl.snapshotVersion.toMicroseconds()>=3e8?!0:Jl.addedDocuments.size+Jl.modifiedDocuments.size+Jl.removedDocuments.size>0}(Gl,Wl,Bl)&&Ol.push(o.Vs.updateTargetData(Nl,Wl))});let Ll=os(),Fl=ws();if(i.documentUpdates.forEach(Bl=>{i.resolvedLimboDocuments.has(Bl)&&Ol.push(o.persistence.referenceDelegate.updateLimboDocument(Nl,Bl))}),Ol.push(So(Nl,Ml,i.documentUpdates).next(Bl=>{Ll=Bl.Gi,Fl=Bl.Qi})),!et.isEqual(ct.min())){const Bl=o.Vs.getLastRemoteSnapshotVersion(Nl).next(Ul=>o.Vs.setTargetsMetadata(Nl,Nl.currentSequenceNumber,et));Ol.push(Bl)}return Pt.waitFor(Ol).next(()=>Ml.apply(Nl)).next(()=>o.localDocuments.getLocalViewOfDocuments(Nl,Ll,Fl)).next(()=>Ll)}).then(Nl=>(o.$i=$l,Nl))}function So(s,i,o){let et=ws(),$l=ws();return o.forEach(Nl=>et=et.add(Nl)),i.getEntries(s,et).next(Nl=>{let Ml=os();return o.forEach((Ol,Ll)=>{const Fl=Nl.get(Ol);Ll.isFoundDocument()!==Fl.isFoundDocument()&&($l=$l.add(Ol)),Ll.isNoDocument()&&Ll.version.isEqual(ct.min())?(i.removeEntry(Ol,Ll.readTime),Ml=Ml.insert(Ol,Ll)):!Fl.isValidDocument()||Ll.version.compareTo(Fl.version)>0||Ll.version.compareTo(Fl.version)===0&&Fl.hasPendingWrites?(i.addEntry(Ll),Ml=Ml.insert(Ol,Ll)):M("LocalStore","Ignoring outdated watch update for ",Ol,". Current version:",Fl.version," Watch version:",Ll.version)}),{Gi:Ml,Qi:$l}})}function Do(s,i){const o=K(s);return o.persistence.runTransaction("Get next mutation batch","readonly",et=>(i===void 0&&(i=-1),o.mutationQueue.getNextMutationBatchAfterBatchId(et,i)))}function Co(s,i){const o=K(s);return o.persistence.runTransaction("Allocate target","readwrite",et=>{let $l;return o.Vs.getTargetData(et,i).next(Nl=>Nl?($l=Nl,Pt.resolve($l)):o.Vs.allocateTargetId(et).next(Ml=>($l=new Li(i,Ml,0,et.currentSequenceNumber),o.Vs.addTargetData(et,$l).next(()=>$l))))}).then(et=>{const $l=o.$i.get(et.targetId);return($l===null||et.snapshotVersion.compareTo($l.snapshotVersion)>0)&&(o.$i=o.$i.insert(et.targetId,et),o.Bi.set(i,et.targetId)),et})}async function xo(s,i,o){const et=K(s),$l=et.$i.get(i),Nl=o?"readwrite":"readwrite-primary";try{o||await et.persistence.runTransaction("Release target",Nl,Ml=>et.persistence.referenceDelegate.removeTarget(Ml,$l))}catch(Ml){if(!Ct(Ml))throw Ml;M("LocalStore",`Failed to update sequence numbers for target ${i}: ${Ml}`)}et.$i=et.$i.remove(i),et.Bi.delete($l.target)}function No(s,i,o){const et=K(s);let $l=ct.min(),Nl=ws();return et.persistence.runTransaction("Execute query","readonly",Ml=>function(Ol,Ll,Fl){const Bl=K(Ol),Ul=Bl.Bi.get(Fl);return Ul!==void 0?Pt.resolve(Bl.$i.get(Ul)):Bl.Vs.getTargetData(Ll,Fl)}(et,Ml,ln(i)).next(Ol=>{if(Ol)return $l=Ol.lastLimboFreeSnapshotVersion,et.Vs.getMatchingKeysForTargetId(Ml,Ol.targetId).next(Ll=>{Nl=Ll})}).next(()=>et.Fi.getDocumentsMatchingQuery(Ml,i,o?$l:ct.min(),o?Nl:ws())).next(Ol=>(Mo(et,gn(i),Ol),{documents:Ol,ji:Nl})))}function ko(s,i){const o=K(s),et=K(o.Vs),$l=o.$i.get(i);return $l?Promise.resolve($l.target):o.persistence.runTransaction("Get target data","readonly",Nl=>et.te(Nl,i).next(Ml=>Ml?Ml.target:null))}function Oo(s,i){const o=K(s),et=o.Li.get(i)||ct.min();return o.persistence.runTransaction("Get new document changes","readonly",$l=>o.Ui.getAllFromCollectionGroup($l,i,pt(et,-1),Number.MAX_SAFE_INTEGER)).then($l=>(Mo(o,i,$l),$l))}function Mo(s,i,o){let et=ct.min();o.forEach(($l,Nl)=>{Nl.readTime.compareTo(et)>0&&(et=Nl.readTime)}),s.Li.set(i,et)}async function Fo(s,i,o,et){const $l=K(s);let Nl=ws(),Ml=os();for(const Fl of o){const Bl=i.Wi(Fl.metadata.name);Fl.document&&(Nl=Nl.add(Bl));const Ul=i.zi(Fl);Ul.setReadTime(i.Hi(Fl.metadata.readTime)),Ml=Ml.insert(Bl,Ul)}const Ol=$l.Ui.newChangeBuffer({trackRemovals:!0}),Ll=await Co($l,function(Fl){return ln(rn(ht.fromString(`__bundle__/docs/${Fl}`)))}(et));return $l.persistence.runTransaction("Apply bundle documents","readwrite",Fl=>So(Fl,Ol,Ml).next(Bl=>(Ol.apply(Fl),Bl)).next(Bl=>$l.Vs.removeMatchingKeysForTargetId(Fl,Ll.targetId).next(()=>$l.Vs.addMatchingKeys(Fl,Nl,Ll.targetId)).next(()=>$l.localDocuments.getLocalViewOfDocuments(Fl,Bl.Gi,Bl.Qi)).next(()=>Bl.Gi)))}async function $o(s,i,o=ws()){const et=await Co(s,ln(Ji(i.bundledQuery))),$l=K(s);return $l.persistence.runTransaction("Save named query","readwrite",Nl=>{const Ml=Ns(i.readTime);if(et.snapshotVersion.compareTo(Ml)>=0)return $l.Ds.saveNamedQuery(Nl,i);const Ol=et.withResumeToken(Jt.EMPTY_BYTE_STRING,Ml);return $l.$i=$l.$i.insert(Ol.targetId,Ol),$l.Vs.updateTargetData(Nl,Ol).next(()=>$l.Vs.removeMatchingKeysForTargetId(Nl,et.targetId)).next(()=>$l.Vs.addMatchingKeys(Nl,o,et.targetId)).next(()=>$l.Ds.saveNamedQuery(Nl,i))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(s,i){return`firestore_clients_${s}_${i}`}function Lo(s,i,o){let et=`firestore_mutations_${s}_${o}`;return i.isAuthenticated()&&(et+=`_${i.uid}`),et}function Uo(s,i){return`firestore_targets_${s}_${i}`}class qo{constructor(i,o,et,$l){this.user=i,this.batchId=o,this.state=et,this.error=$l}static Ji(i,o,et){const $l=JSON.parse(et);let Nl,Ml=typeof $l=="object"&&["pending","acknowledged","rejected"].indexOf($l.state)!==-1&&($l.error===void 0||typeof $l.error=="object");return Ml&&$l.error&&(Ml=typeof $l.error.message=="string"&&typeof $l.error.code=="string",Ml&&(Nl=new Q($l.error.code,$l.error.message))),Ml?new qo(i,o,$l.state,Nl):(F("SharedClientState",`Failed to parse mutation state for ID '${o}': ${et}`),null)}Yi(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Ko{constructor(i,o,et){this.targetId=i,this.state=o,this.error=et}static Ji(i,o){const et=JSON.parse(o);let $l,Nl=typeof et=="object"&&["not-current","current","rejected"].indexOf(et.state)!==-1&&(et.error===void 0||typeof et.error=="object");return Nl&&et.error&&(Nl=typeof et.error.message=="string"&&typeof et.error.code=="string",Nl&&($l=new Q(et.error.code,et.error.message))),Nl?new Ko(i,et.state,$l):(F("SharedClientState",`Failed to parse target state for ID '${i}': ${o}`),null)}Yi(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Go{constructor(i,o){this.clientId=i,this.activeTargetIds=o}static Ji(i,o){const et=JSON.parse(o);let $l=typeof et=="object"&&et.activeTargetIds instanceof Array,Nl=gs();for(let Ml=0;$l&&Ml<et.activeTargetIds.length;++Ml)$l=ce(et.activeTargetIds[Ml]),Nl=Nl.add(et.activeTargetIds[Ml]);return $l?new Go(i,Nl):(F("SharedClientState",`Failed to parse client data for instance '${i}': ${o}`),null)}}class Qo{constructor(i,o){this.clientId=i,this.onlineState=o}static Ji(i){const o=JSON.parse(i);return typeof o=="object"&&["Unknown","Online","Offline"].indexOf(o.onlineState)!==-1&&typeof o.clientId=="string"?new Qo(o.clientId,o.onlineState):(F("SharedClientState",`Failed to parse online state: ${i}`),null)}}class jo{constructor(){this.activeTargetIds=gs()}Xi(i){this.activeTargetIds=this.activeTargetIds.add(i)}Zi(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Yi(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class Wo{constructor(i,o,et,$l,Nl){this.window=i,this.js=o,this.persistenceKey=et,this.tr=$l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new qt(it),this.started=!1,this.ir=[];const Ml=et.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=Nl,this.rr=Bo(this.persistenceKey,this.tr),this.ur=function(Ol){return`firestore_sequence_number_${Ol}`}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new jo),this.cr=new RegExp(`^firestore_clients_${Ml}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${Ml}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${Ml}_(\\d+)$`),this.lr=function(Ol){return`firestore_online_state_${Ol}`}(this.persistenceKey),this.dr=function(Ol){return`firestore_bundle_loaded_v2_${Ol}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(i){return!(!i||!i.localStorage)}async start(){const i=await this.syncEngine.Ri();for(const et of i){if(et===this.tr)continue;const $l=this.getItem(Bo(this.persistenceKey,et));if($l){const Nl=Go.Ji(et,$l);Nl&&(this.sr=this.sr.insert(Nl.clientId,Nl))}}this._r();const o=this.storage.getItem(this.lr);if(o){const et=this.wr(o);et&&this.mr(et)}for(const et of this.ir)this.nr(et);this.ir=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(i){this.setItem(this.ur,JSON.stringify(i))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(i){let o=!1;return this.sr.forEach((et,$l)=>{$l.activeTargetIds.has(i)&&(o=!0)}),o}addPendingMutation(i){this.yr(i,"pending")}updateMutationState(i,o,et){this.yr(i,o,et),this.pr(i)}addLocalQueryTarget(i){let o="not-current";if(this.isActiveQueryTarget(i)){const et=this.storage.getItem(Uo(this.persistenceKey,i));if(et){const $l=Ko.Ji(i,et);$l&&(o=$l.state)}}return this.Ir.Xi(i),this._r(),o}removeLocalQueryTarget(i){this.Ir.Zi(i),this._r()}isLocalQueryTarget(i){return this.Ir.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(Uo(this.persistenceKey,i))}updateQueryState(i,o,et){this.Tr(i,o,et)}handleUserChange(i,o,et){o.forEach($l=>{this.pr($l)}),this.currentUser=i,et.forEach($l=>{this.addPendingMutation($l)})}setOnlineState(i){this.Er(i)}notifyBundleLoaded(i){this.Ar(i)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(i){const o=this.storage.getItem(i);return M("SharedClientState","READ",i,o),o}setItem(i,o){M("SharedClientState","SET",i,o),this.storage.setItem(i,o)}removeItem(i){M("SharedClientState","REMOVE",i),this.storage.removeItem(i)}nr(i){const o=i;if(o.storageArea===this.storage){if(M("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void F("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(async()=>{if(this.started){if(o.key!==null){if(this.cr.test(o.key)){if(o.newValue==null){const et=this.Rr(o.key);return this.br(et,null)}{const et=this.Pr(o.key,o.newValue);if(et)return this.br(et.clientId,et)}}else if(this.ar.test(o.key)){if(o.newValue!==null){const et=this.vr(o.key,o.newValue);if(et)return this.Vr(et)}}else if(this.hr.test(o.key)){if(o.newValue!==null){const et=this.Sr(o.key,o.newValue);if(et)return this.Dr(et)}}else if(o.key===this.lr){if(o.newValue!==null){const et=this.wr(o.newValue);if(et)return this.mr(et)}}else if(o.key===this.ur){const et=function($l){let Nl=$t.ot;if($l!=null)try{const Ml=JSON.parse($l);U(typeof Ml=="number"),Nl=Ml}catch(Ml){F("SharedClientState","Failed to read sequence number from WebStorage",Ml)}return Nl}(o.newValue);et!==$t.ot&&this.sequenceNumberHandler(et)}else if(o.key===this.dr){const et=this.Cr(o.newValue);await Promise.all(et.map($l=>this.syncEngine.Nr($l)))}}}else this.ir.push(o)})}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(i,o,et){const $l=new qo(this.currentUser,i,o,et),Nl=Lo(this.persistenceKey,this.currentUser,i);this.setItem(Nl,$l.Yi())}pr(i){const o=Lo(this.persistenceKey,this.currentUser,i);this.removeItem(o)}Er(i){const o={clientId:this.tr,onlineState:i};this.storage.setItem(this.lr,JSON.stringify(o))}Tr(i,o,et){const $l=Uo(this.persistenceKey,i),Nl=new Ko(i,o,et);this.setItem($l,Nl.Yi())}Ar(i){const o=JSON.stringify(Array.from(i));this.setItem(this.dr,o)}Rr(i){const o=this.cr.exec(i);return o?o[1]:null}Pr(i,o){const et=this.Rr(i);return Go.Ji(et,o)}vr(i,o){const et=this.ar.exec(i),$l=Number(et[1]),Nl=et[2]!==void 0?et[2]:null;return qo.Ji(new C(Nl),$l,o)}Sr(i,o){const et=this.hr.exec(i),$l=Number(et[1]);return Ko.Ji($l,o)}wr(i){return Qo.Ji(i)}Cr(i){return JSON.parse(i)}async Vr(i){if(i.user.uid===this.currentUser.uid)return this.syncEngine.kr(i.batchId,i.state,i.error);M("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)}Dr(i){return this.syncEngine.Or(i.targetId,i.state,i.error)}br(i,o){const et=o?this.sr.insert(i,o):this.sr.remove(i),$l=this.gr(this.sr),Nl=this.gr(et),Ml=[],Ol=[];return Nl.forEach(Ll=>{$l.has(Ll)||Ml.push(Ll)}),$l.forEach(Ll=>{Nl.has(Ll)||Ol.push(Ll)}),this.syncEngine.Mr(Ml,Ol).then(()=>{this.sr=et})}mr(i){this.sr.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}gr(i){let o=gs();return i.forEach((et,$l)=>{o=o.unionWith($l.activeTargetIds)}),o}}class zo{constructor(){this.Fr=new jo,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,o,et){}addLocalQueryTarget(i){return this.Fr.Xi(i),this.$r[i]||"not-current"}updateQueryState(i,o,et){this.$r[i]=o}removeLocalQueryTarget(i){this.Fr.Zi(i)}isLocalQueryTarget(i){return this.Fr.activeTargetIds.has(i)}clearQueryState(i){delete this.$r[i]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(i){return this.Fr.activeTargetIds.has(i)}start(){return this.Fr=new jo,Promise.resolve()}handleUserChange(i,o,et){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{Br(i){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(i){this.Gr.push(i)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.Gr)i(0)}Kr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.Gr)i(1)}static V(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(i){this.jr=i.jr,this.Wr=i.Wr}zr(i){this.Hr=i}Jr(i){this.Yr=i}onMessage(i){this.Xr=i}close(){this.Wr()}send(i){this.jr(i)}Zr(){this.Hr()}eo(i){this.Yr(i)}no(i){this.Xr(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const o=i.ssl?"https":"http";this.so=o+"://"+i.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(i,o,et,$l,Nl){const Ml=this.oo(i,o);M("RestConnection","Sending: ",Ml,et);const Ol={};return this.uo(Ol,$l,Nl),this.co(i,Ml,Ol,et).then(Ll=>(M("RestConnection","Received: ",Ll),Ll),Ll=>{throw $("RestConnection",`${i} failed with error: `,Ll,"url: ",Ml,"request:",et),Ll})}ao(i,o,et,$l,Nl,Ml){return this.ro(i,o,et,$l,Nl)}uo(i,o,et){i["X-Goog-Api-Client"]="gl-js/ fire/"+x,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach(($l,Nl)=>i[Nl]=$l),et&&et.headers.forEach(($l,Nl)=>i[Nl]=$l)}oo(i,o){const et=Yo[i];return`${this.so}/v1/${o}:${et}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}co(i,o,et,$l){return new Promise((Nl,Ml)=>{const Ol=new XhrIo;Ol.listenOnce(EventType.COMPLETE,()=>{try{switch(Ol.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const Fl=Ol.getResponseJson();M("Connection","XHR received:",JSON.stringify(Fl)),Nl(Fl);break;case ErrorCode$1.TIMEOUT:M("Connection",'RPC "'+i+'" timed out'),Ml(new Q(G.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const Bl=Ol.getStatus();if(M("Connection",'RPC "'+i+'" failed with status:',Bl,"response text:",Ol.getResponseText()),Bl>0){const Ul=Ol.getResponseJson().error;if(Ul&&Ul.status&&Ul.message){const Gl=function(Wl){const zl=Wl.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(zl)>=0?zl:G.UNKNOWN}(Ul.status);Ml(new Q(Gl,Ul.message))}else Ml(new Q(G.UNKNOWN,"Server responded with status "+Ol.getStatus()))}else Ml(new Q(G.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{M("Connection",'RPC "'+i+'" completed.')}});const Ll=JSON.stringify($l);Ol.send(o,"POST",Ll,et,15)})}ho(i,o,et){const $l=[this.so,"/","google.firestore.v1.Firestore","/",i,"/channel"],Nl=createWebChannelTransport(),Ml=getStatEventTarget(),Ol={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(Ol.xmlHttpFactory=new FetchXmlHttpFactory({})),this.uo(Ol.initMessageHeaders,o,et),isMobileCordova()||isReactNative()||isElectron()||isIE()||isUWP()||isBrowserExtension()||(Ol.httpHeadersOverwriteParam="$httpHeaders");const Ll=$l.join("");M("Connection","Creating WebChannel: "+Ll,Ol);const Fl=Nl.createWebChannel(Ll,Ol);let Bl=!1,Ul=!1;const Gl=new Xo({jr:zl=>{Ul?M("Connection","Not sending because WebChannel is closed:",zl):(Bl||(M("Connection","Opening WebChannel transport."),Fl.open(),Bl=!0),M("Connection","WebChannel sending:",zl),Fl.send(zl))},Wr:()=>Fl.close()}),Wl=(zl,Ql,Jl)=>{zl.listen(Ql,Kl=>{try{Jl(Kl)}catch(Hl){setTimeout(()=>{throw Hl},0)}})};return Wl(Fl,WebChannel.EventType.OPEN,()=>{Ul||M("Connection","WebChannel transport opened.")}),Wl(Fl,WebChannel.EventType.CLOSE,()=>{Ul||(Ul=!0,M("Connection","WebChannel transport closed"),Gl.eo())}),Wl(Fl,WebChannel.EventType.ERROR,zl=>{Ul||(Ul=!0,$("Connection","WebChannel transport errored:",zl),Gl.eo(new Q(G.UNAVAILABLE,"The operation could not be completed")))}),Wl(Fl,WebChannel.EventType.MESSAGE,zl=>{var Ql;if(!Ul){const Jl=zl.data[0];U(!!Jl);const Kl=Jl,Hl=Kl.error||((Ql=Kl[0])===null||Ql===void 0?void 0:Ql.error);if(Hl){M("Connection","WebChannel received error:",Hl);const Yl=Hl.status;let Xl=function(_d){const _f=ts[_d];if(_f!==void 0)return ss(_f)}(Yl),Zl=Hl.message;Xl===void 0&&(Xl=G.INTERNAL,Zl="Unknown error status: "+Yl+" with message "+Hl.message),Ul=!0,Gl.eo(new Q(Xl,Zl)),Fl.close()}else M("Connection","WebChannel received:",Jl),Gl.no(Jl)}}),Wl(Ml,Event.STAT_EVENT,zl=>{zl.stat===Stat.PROXY?M("Connection","Detected buffering proxy"):zl.stat===Stat.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{Gl.Zr()},0),Gl}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(){return typeof window!="undefined"?window:null}function eu(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(s){return new Ss(s,!0)}class su{constructor(i,o,et=1e3,$l=1.5,Nl=6e4){this.js=i,this.timerId=o,this.lo=et,this.fo=$l,this._o=Nl,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(i){this.cancel();const o=Math.floor(this.wo+this.To()),et=Math.max(0,Date.now()-this.yo),$l=Math.max(0,o-et);$l>0&&M("ExponentialBackoff",`Backing off for ${$l} ms (base delay: ${this.wo} ms, delay with jitter: ${o} ms, last attempt: ${et} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,$l,()=>(this.yo=Date.now(),i())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(i,o,et,$l,Nl,Ml,Ol,Ll){this.js=i,this.Ao=et,this.Ro=$l,this.bo=Nl,this.authCredentialsProvider=Ml,this.appCheckCredentialsProvider=Ol,this.listener=Ll,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new su(i,o)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(i){this.Fo(),this.stream.send(i)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(i,o){this.Fo(),this.$o(),this.So.cancel(),this.Po++,i!==4?this.So.reset():o&&o.code===G.RESOURCE_EXHAUSTED?(F(o.toString()),F("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):o&&o.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=i,await this.listener.Jr(o)}Bo(){}auth(){this.state=1;const i=this.Lo(this.Po),o=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([et,$l])=>{this.Po===o&&this.Uo(et,$l)},et=>{i(()=>{const $l=new Q(G.UNKNOWN,"Fetching auth token failed: "+et.message);return this.qo($l)})})}Uo(i,o){const et=this.Lo(this.Po);this.stream=this.Ko(i,o),this.stream.zr(()=>{et(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr($l=>{et(()=>this.qo($l))}),this.stream.onMessage($l=>{et(()=>this.onMessage($l))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(i){return M("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}Lo(i){return o=>{this.js.enqueueAndForget(()=>this.Po===i?o():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ru extends iu{constructor(i,o,et,$l,Nl,Ml){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,et,$l,Ml),this.wt=Nl}Ko(i,o){return this.bo.ho("Listen",i,o)}onMessage(i){this.So.reset();const o=Qs(this.wt,i),et=function($l){if(!("targetChange"in $l))return ct.min();const Nl=$l.targetChange;return Nl.targetIds&&Nl.targetIds.length?ct.min():Nl.readTime?Ns(Nl.readTime):ct.min()}(i);return this.listener.Go(o,et)}Qo(i){const o={};o.database=Ls(this.wt),o.addTarget=function($l,Nl){let Ml;const Ol=Nl.target;return Ml=$e(Ol)?{documents:Hs($l,Ol)}:{query:Js($l,Ol)},Ml.targetId=Nl.targetId,Nl.resumeToken.approximateByteSize()>0?Ml.resumeToken=Cs($l,Nl.resumeToken):Nl.snapshotVersion.compareTo(ct.min())>0&&(Ml.readTime=Ds($l,Nl.snapshotVersion.toTimestamp())),Ml}(this.wt,i);const et=Xs(this.wt,i);et&&(o.labels=et),this.Mo(o)}jo(i){const o={};o.database=Ls(this.wt),o.removeTarget=i,this.Mo(o)}}class ou extends iu{constructor(i,o,et,$l,Nl,Ml){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,et,$l,Ml),this.wt=Nl,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(i,o){return this.bo.ho("Write",i,o)}onMessage(i){if(U(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Wo){this.So.reset();const o=zs(i.writeResults,i.commitTime),et=Ns(i.commitTime);return this.listener.Jo(et,o)}return U(!i.writeResults||i.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const i={};i.database=Ls(this.wt),this.Mo(i)}Ho(i){const o={streamToken:this.lastStreamToken,writes:i.map(et=>js(this.wt,et))};this.Mo(o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends class{}{constructor(i,o,et,$l){super(),this.authCredentials=i,this.appCheckCredentials=o,this.bo=et,this.wt=$l,this.Zo=!1}tu(){if(this.Zo)throw new Q(G.FAILED_PRECONDITION,"The client has already been terminated.")}ro(i,o,et){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([$l,Nl])=>this.bo.ro(i,o,et,$l,Nl)).catch($l=>{throw $l.name==="FirebaseError"?($l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),$l):new Q(G.UNKNOWN,$l.toString())})}ao(i,o,et,$l){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([Nl,Ml])=>this.bo.ao(i,o,et,Nl,Ml,$l)).catch(Nl=>{throw Nl.name==="FirebaseError"?(Nl.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),Nl):new Q(G.UNKNOWN,Nl.toString())})}terminate(){this.Zo=!0}}class cu{constructor(i,o){this.asyncQueue=i,this.onlineStateHandler=o,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(i){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.ru("Offline")))}set(i){this.cu(),this.eu=0,i==="Online"&&(this.su=!1),this.ru(i)}ru(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}ou(i){const o=`Could not reach Cloud Firestore backend. ${i}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(F(o),this.su=!1):M("OnlineStateTracker",o)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(i,o,et,$l,Nl){this.localStore=i,this.datastore=o,this.asyncQueue=et,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=Nl,this.du.Br(Ml=>{et.enqueueAndForget(async()=>{yu(this)&&(M("RemoteStore","Restarting streams for network reachability change."),await async function(Ol){const Ll=K(Ol);Ll.lu.add(4),await lu(Ll),Ll._u.set("Unknown"),Ll.lu.delete(4),await hu(Ll)}(this))})}),this._u=new cu(et,$l)}}async function hu(s){if(yu(s))for(const i of s.fu)await i(!0)}async function lu(s){for(const i of s.fu)await i(!1)}function fu(s,i){const o=K(s);o.hu.has(i.targetId)||(o.hu.set(i.targetId,i),gu(o)?mu(o):Mu(o).Co()&&_u(o,i))}function du(s,i){const o=K(s),et=Mu(o);o.hu.delete(i),et.Co()&&wu(o,i),o.hu.size===0&&(et.Co()?et.ko():yu(o)&&o._u.set("Unknown"))}function _u(s,i){s.wu.Nt(i.targetId),Mu(s).Qo(i)}function wu(s,i){s.wu.Nt(i),Mu(s).jo(i)}function mu(s){s.wu=new Rs({getRemoteKeysForTarget:i=>s.remoteSyncer.getRemoteKeysForTarget(i),te:i=>s.hu.get(i)||null}),Mu(s).start(),s._u.iu()}function gu(s){return yu(s)&&!Mu(s).Do()&&s.hu.size>0}function yu(s){return K(s).lu.size===0}function pu(s){s.wu=void 0}async function Iu(s){s.hu.forEach((i,o)=>{_u(s,i)})}async function Tu(s,i){pu(s),gu(s)?(s._u.uu(i),mu(s)):s._u.set("Unknown")}async function Eu(s,i,o){if(s._u.set("Online"),i instanceof Es&&i.state===2&&i.cause)try{await async function(et,$l){const Nl=$l.cause;for(const Ml of $l.targetIds)et.hu.has(Ml)&&(await et.remoteSyncer.rejectListen(Ml,Nl),et.hu.delete(Ml),et.wu.removeTarget(Ml))}(s,i)}catch(et){M("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),et),await Au(s,et)}else if(i instanceof Is?s.wu.Ut(i):i instanceof Ts?s.wu.zt(i):s.wu.Gt(i),!o.isEqual(ct.min()))try{const et=await vo(s.localStore);o.compareTo(et)>=0&&await function($l,Nl){const Ml=$l.wu.Yt(Nl);return Ml.targetChanges.forEach((Ol,Ll)=>{if(Ol.resumeToken.approximateByteSize()>0){const Fl=$l.hu.get(Ll);Fl&&$l.hu.set(Ll,Fl.withResumeToken(Ol.resumeToken,Nl))}}),Ml.targetMismatches.forEach(Ol=>{const Ll=$l.hu.get(Ol);if(!Ll)return;$l.hu.set(Ol,Ll.withResumeToken(Jt.EMPTY_BYTE_STRING,Ll.snapshotVersion)),wu($l,Ol);const Fl=new Li(Ll.target,Ol,1,Ll.sequenceNumber);_u($l,Fl)}),$l.remoteSyncer.applyRemoteEvent(Ml)}(s,o)}catch(et){M("RemoteStore","Failed to raise snapshot:",et),await Au(s,et)}}async function Au(s,i,o){if(!Ct(i))throw i;s.lu.add(1),await lu(s),s._u.set("Offline"),o||(o=()=>vo(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{M("RemoteStore","Retrying IndexedDB access"),await o(),s.lu.delete(1),await hu(s)})}function Ru(s,i){return i().catch(o=>Au(s,o,i))}async function bu(s){const i=K(s),o=Fu(i);let et=i.au.length>0?i.au[i.au.length-1].batchId:-1;for(;Pu(i);)try{const $l=await Do(i.localStore,et);if($l===null){i.au.length===0&&o.ko();break}et=$l.batchId,vu(i,$l)}catch($l){await Au(i,$l)}Vu(i)&&Su(i)}function Pu(s){return yu(s)&&s.au.length<10}function vu(s,i){s.au.push(i);const o=Fu(s);o.Co()&&o.zo&&o.Ho(i.mutations)}function Vu(s){return yu(s)&&!Fu(s).Do()&&s.au.length>0}function Su(s){Fu(s).start()}async function Du(s){Fu(s).Xo()}async function Cu(s){const i=Fu(s);for(const o of s.au)i.Ho(o.mutations)}async function xu(s,i,o){const et=s.au.shift(),$l=$i.from(et,i,o);await Ru(s,()=>s.remoteSyncer.applySuccessfulWrite($l)),await bu(s)}async function Nu(s,i){i&&Fu(s).zo&&await async function(o,et){if($l=et.code,ns($l)&&$l!==G.ABORTED){const Nl=o.au.shift();Fu(o).No(),await Ru(o,()=>o.remoteSyncer.rejectFailedWrite(Nl.batchId,et)),await bu(o)}var $l}(s,i),Vu(s)&&Su(s)}async function ku(s,i){const o=K(s);o.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const et=yu(o);o.lu.add(3),await lu(o),et&&o._u.set("Unknown"),await o.remoteSyncer.handleCredentialChange(i),o.lu.delete(3),await hu(o)}async function Ou(s,i){const o=K(s);i?(o.lu.delete(2),await hu(o)):i||(o.lu.add(2),await lu(o),o._u.set("Unknown"))}function Mu(s){return s.mu||(s.mu=function(i,o,et){const $l=K(i);return $l.tu(),new ru(o,$l.bo,$l.authCredentials,$l.appCheckCredentials,$l.wt,et)}(s.datastore,s.asyncQueue,{zr:Iu.bind(null,s),Jr:Tu.bind(null,s),Go:Eu.bind(null,s)}),s.fu.push(async i=>{i?(s.mu.No(),gu(s)?mu(s):s._u.set("Unknown")):(await s.mu.stop(),pu(s))})),s.mu}function Fu(s){return s.gu||(s.gu=function(i,o,et){const $l=K(i);return $l.tu(),new ou(o,$l.bo,$l.authCredentials,$l.appCheckCredentials,$l.wt,et)}(s.datastore,s.asyncQueue,{zr:Du.bind(null,s),Jr:Nu.bind(null,s),Yo:Cu.bind(null,s),Jo:xu.bind(null,s)}),s.fu.push(async i=>{i?(s.gu.No(),await bu(s)):(await s.gu.stop(),s.au.length>0&&(M("RemoteStore",`Stopping write stream with ${s.au.length} pending writes`),s.au=[]))})),s.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(i,o,et,$l,Nl){this.asyncQueue=i,this.timerId=o,this.targetTimeMs=et,this.op=$l,this.removalCallback=Nl,this.deferred=new j,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(Ml=>{})}static createAndSchedule(i,o,et,$l,Nl){const Ml=Date.now()+et,Ol=new $u(i,o,Ml,$l,Nl);return Ol.start(et),Ol}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(G.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bu(s,i){if(F("AsyncQueue",`${i}: ${s}`),Ct(s))return new Q(G.UNAVAILABLE,`${i}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(i){this.comparator=i?(o,et)=>i(o,et)||dt.comparator(o.key,et.key):(o,et)=>dt.comparator(o.key,et.key),this.keyedMap=cs(),this.sortedSet=new qt(this.comparator)}static emptySet(i){return new Lu(i.comparator)}has(i){return this.keyedMap.get(i)!=null}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const o=this.keyedMap.get(i);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((o,et)=>(i(o),!1))}add(i){const o=this.delete(i.key);return o.copy(o.keyedMap.insert(i.key,i),o.sortedSet.insert(i,null))}delete(i){const o=this.get(i);return o?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(o)):this}isEqual(i){if(!(i instanceof Lu)||this.size!==i.size)return!1;const o=this.sortedSet.getIterator(),et=i.sortedSet.getIterator();for(;o.hasNext();){const $l=o.getNext().key,Nl=et.getNext().key;if(!$l.isEqual(Nl))return!1}return!0}toString(){const i=[];return this.forEach(o=>{i.push(o.toString())}),i.length===0?"DocumentSet ()":`DocumentSet (
  `+i.join(`  
`)+`
)`}copy(i,o){const et=new Lu;return et.comparator=this.comparator,et.keyedMap=i,et.sortedSet=o,et}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.yu=new qt(dt.comparator)}track(i){const o=i.doc.key,et=this.yu.get(o);et?i.type!==0&&et.type===3?this.yu=this.yu.insert(o,i):i.type===3&&et.type!==1?this.yu=this.yu.insert(o,{type:et.type,doc:i.doc}):i.type===2&&et.type===2?this.yu=this.yu.insert(o,{type:2,doc:i.doc}):i.type===2&&et.type===0?this.yu=this.yu.insert(o,{type:0,doc:i.doc}):i.type===1&&et.type===0?this.yu=this.yu.remove(o):i.type===1&&et.type===2?this.yu=this.yu.insert(o,{type:1,doc:et.doc}):i.type===0&&et.type===1?this.yu=this.yu.insert(o,{type:2,doc:i.doc}):L():this.yu=this.yu.insert(o,i)}pu(){const i=[];return this.yu.inorderTraversal((o,et)=>{i.push(et)}),i}}class qu{constructor(i,o,et,$l,Nl,Ml,Ol,Ll){this.query=i,this.docs=o,this.oldDocs=et,this.docChanges=$l,this.mutatedKeys=Nl,this.fromCache=Ml,this.syncStateChanged=Ol,this.excludesMetadataChanges=Ll}static fromInitialDocuments(i,o,et,$l){const Nl=[];return o.forEach(Ml=>{Nl.push({type:0,doc:Ml})}),new qu(i,o,Lu.emptySet(o),Nl,et,$l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&dn(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const o=this.docChanges,et=i.docChanges;if(o.length!==et.length)return!1;for(let $l=0;$l<o.length;$l++)if(o[$l].type!==et[$l].type||!o[$l].doc.isEqual(et[$l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this.Iu=void 0,this.listeners=[]}}class Gu{constructor(){this.queries=new is(i=>_n(i),dn),this.onlineState="Unknown",this.Tu=new Set}}async function Qu(s,i){const o=K(s),et=i.query;let $l=!1,Nl=o.queries.get(et);if(Nl||($l=!0,Nl=new Ku),$l)try{Nl.Iu=await o.onListen(et)}catch(Ml){const Ol=Bu(Ml,`Initialization of query '${wn(i.query)}' failed`);return void i.onError(Ol)}o.queries.set(et,Nl),Nl.listeners.push(i),i.Eu(o.onlineState),Nl.Iu&&i.Au(Nl.Iu)&&Hu(o)}async function ju(s,i){const o=K(s),et=i.query;let $l=!1;const Nl=o.queries.get(et);if(Nl){const Ml=Nl.listeners.indexOf(i);Ml>=0&&(Nl.listeners.splice(Ml,1),$l=Nl.listeners.length===0)}if($l)return o.queries.delete(et),o.onUnlisten(et)}function Wu(s,i){const o=K(s);let et=!1;for(const $l of i){const Nl=$l.query,Ml=o.queries.get(Nl);if(Ml){for(const Ol of Ml.listeners)Ol.Au($l)&&(et=!0);Ml.Iu=$l}}et&&Hu(o)}function zu(s,i,o){const et=K(s),$l=et.queries.get(i);if($l)for(const Nl of $l.listeners)Nl.onError(o);et.queries.delete(i)}function Hu(s){s.Tu.forEach(i=>{i.next()})}class Ju{constructor(i,o,et){this.query=i,this.Ru=o,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=et||{}}Au(i){if(!this.options.includeMetadataChanges){const et=[];for(const $l of i.docChanges)$l.type!==3&&et.push($l);i=new qu(i.query,i.docs,i.oldDocs,et,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let o=!1;return this.bu?this.vu(i)&&(this.Ru.next(i),o=!0):this.Vu(i,this.onlineState)&&(this.Su(i),o=!0),this.Pu=i,o}onError(i){this.Ru.error(i)}Eu(i){this.onlineState=i;let o=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,i)&&(this.Su(this.Pu),o=!0),o}Vu(i,o){if(!i.fromCache)return!0;const et=o!=="Offline";return(!this.options.Du||!et)&&(!i.docs.isEmpty()||o==="Offline")}vu(i){if(i.docChanges.length>0)return!0;const o=this.Pu&&this.Pu.hasPendingWrites!==i.hasPendingWrites;return!(!i.syncStateChanged&&!o)&&this.options.includeMetadataChanges===!0}Su(i){i=qu.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.bu=!0,this.Ru.next(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(i,o){this.payload=i,this.byteLength=o}Cu(){return"metadata"in this.payload}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(i){this.wt=i}Wi(i){return Fs(this.wt,i)}zi(i){return i.metadata.exists?Ks(this.wt,i.document,!1):xe.newNoDocument(this.Wi(i.metadata.name),this.Hi(i.metadata.readTime))}Hi(i){return Ns(i)}}class Zu{constructor(i,o,et){this.xu=i,this.localStore=o,this.wt=et,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tc(i)}Nu(i){this.progress.bytesLoaded+=i.byteLength;let o=this.progress.documentsLoaded;if(i.payload.namedQuery)this.queries.push(i.payload.namedQuery);else if(i.payload.documentMetadata){this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++o;const et=ht.fromString(i.payload.documentMetadata.name);this.collectionGroups.add(et.get(et.length-2))}else i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++o);return o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}ku(i){const o=new Map,et=new Xu(this.wt);for(const $l of i)if($l.metadata.queries){const Nl=et.Wi($l.metadata.name);for(const Ml of $l.metadata.queries){const Ol=(o.get(Ml)||ws()).add(Nl);o.set(Ml,Ol)}}return o}async complete(){const i=await Fo(this.localStore,new Xu(this.wt),this.documents,this.xu.id),o=this.ku(this.documents);for(const et of this.queries)await $o(this.localStore,et,o.get(et.name));return this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:i}}}function tc(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(i){this.key=i}}class nc{constructor(i){this.key=i}}class sc{constructor(i,o){this.query=i,this.Fu=o,this.$u=null,this.current=!1,this.Bu=ws(),this.mutatedKeys=ws(),this.Lu=yn(i),this.Uu=new Lu(this.Lu)}get qu(){return this.Fu}Ku(i,o){const et=o?o.Gu:new Uu,$l=o?o.Uu:this.Uu;let Nl=o?o.mutatedKeys:this.mutatedKeys,Ml=$l,Ol=!1;const Ll=this.query.limitType==="F"&&$l.size===this.query.limit?$l.last():null,Fl=this.query.limitType==="L"&&$l.size===this.query.limit?$l.first():null;if(i.inorderTraversal((Bl,Ul)=>{const Gl=$l.get(Bl),Wl=mn(this.query,Ul)?Ul:null,zl=!!Gl&&this.mutatedKeys.has(Gl.key),Ql=!!Wl&&(Wl.hasLocalMutations||this.mutatedKeys.has(Wl.key)&&Wl.hasCommittedMutations);let Jl=!1;Gl&&Wl?Gl.data.isEqual(Wl.data)?zl!==Ql&&(et.track({type:3,doc:Wl}),Jl=!0):this.Qu(Gl,Wl)||(et.track({type:2,doc:Wl}),Jl=!0,(Ll&&this.Lu(Wl,Ll)>0||Fl&&this.Lu(Wl,Fl)<0)&&(Ol=!0)):!Gl&&Wl?(et.track({type:0,doc:Wl}),Jl=!0):Gl&&!Wl&&(et.track({type:1,doc:Gl}),Jl=!0,(Ll||Fl)&&(Ol=!0)),Jl&&(Wl?(Ml=Ml.add(Wl),Nl=Ql?Nl.add(Bl):Nl.delete(Bl)):(Ml=Ml.delete(Bl),Nl=Nl.delete(Bl)))}),this.query.limit!==null)for(;Ml.size>this.query.limit;){const Bl=this.query.limitType==="F"?Ml.last():Ml.first();Ml=Ml.delete(Bl.key),Nl=Nl.delete(Bl.key),et.track({type:1,doc:Bl})}return{Uu:Ml,Gu:et,Oi:Ol,mutatedKeys:Nl}}Qu(i,o){return i.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(i,o,et){const $l=this.Uu;this.Uu=i.Uu,this.mutatedKeys=i.mutatedKeys;const Nl=i.Gu.pu();Nl.sort((Fl,Bl)=>function(Ul,Gl){const Wl=zl=>{switch(zl){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return Wl(Ul)-Wl(Gl)}(Fl.type,Bl.type)||this.Lu(Fl.doc,Bl.doc)),this.ju(et);const Ml=o?this.Wu():[],Ol=this.Bu.size===0&&this.current?1:0,Ll=Ol!==this.$u;return this.$u=Ol,Nl.length!==0||Ll?{snapshot:new qu(this.query,i.Uu,$l,Nl,i.mutatedKeys,Ol===0,Ll,!1),zu:Ml}:{zu:Ml}}Eu(i){return this.current&&i==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Uu,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(i){return!this.Fu.has(i)&&!!this.Uu.has(i)&&!this.Uu.get(i).hasLocalMutations}ju(i){i&&(i.addedDocuments.forEach(o=>this.Fu=this.Fu.add(o)),i.modifiedDocuments.forEach(o=>{}),i.removedDocuments.forEach(o=>this.Fu=this.Fu.delete(o)),this.current=i.current)}Wu(){if(!this.current)return[];const i=this.Bu;this.Bu=ws(),this.Uu.forEach(et=>{this.Hu(et.key)&&(this.Bu=this.Bu.add(et.key))});const o=[];return i.forEach(et=>{this.Bu.has(et)||o.push(new nc(et))}),this.Bu.forEach(et=>{i.has(et)||o.push(new ec(et))}),o}Ju(i){this.Fu=i.ji,this.Bu=ws();const o=this.Ku(i.documents);return this.applyChanges(o,!0)}Yu(){return qu.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class ic{constructor(i,o,et){this.query=i,this.targetId=o,this.view=et}}class rc{constructor(i){this.key=i,this.Xu=!1}}class oc{constructor(i,o,et,$l,Nl,Ml){this.localStore=i,this.remoteStore=o,this.eventManager=et,this.sharedClientState=$l,this.currentUser=Nl,this.maxConcurrentLimboResolutions=Ml,this.Zu={},this.tc=new is(Ol=>_n(Ol),dn),this.ec=new Map,this.nc=new Set,this.sc=new qt(dt.comparator),this.ic=new Map,this.rc=new io,this.oc={},this.uc=new Map,this.cc=kr.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function uc(s,i){const o=Mc(s);let et,$l;const Nl=o.tc.get(i);if(Nl)et=Nl.targetId,o.sharedClientState.addLocalQueryTarget(et),$l=Nl.view.Yu();else{const Ml=await Co(o.localStore,ln(i));o.isPrimaryClient&&fu(o.remoteStore,Ml);const Ol=o.sharedClientState.addLocalQueryTarget(Ml.targetId);et=Ml.targetId,$l=await cc(o,i,et,Ol==="current")}return $l}async function cc(s,i,o,et){s.hc=(Bl,Ul,Gl)=>async function(Wl,zl,Ql,Jl){let Kl=zl.view.Ku(Ql);Kl.Oi&&(Kl=await No(Wl.localStore,zl.query,!1).then(({documents:Xl})=>zl.view.Ku(Xl,Kl)));const Hl=Jl&&Jl.targetChanges.get(zl.targetId),Yl=zl.view.applyChanges(Kl,Wl.isPrimaryClient,Hl);return Tc(Wl,zl.targetId,Yl.zu),Yl.snapshot}(s,Bl,Ul,Gl);const $l=await No(s.localStore,i,!0),Nl=new sc(i,$l.ji),Ml=Nl.Ku($l.documents),Ol=ps.createSynthesizedTargetChangeForCurrentChange(o,et&&s.onlineState!=="Offline"),Ll=Nl.applyChanges(Ml,s.isPrimaryClient,Ol);Tc(s,o,Ll.zu);const Fl=new ic(i,o,Nl);return s.tc.set(i,Fl),s.ec.has(o)?s.ec.get(o).push(i):s.ec.set(o,[i]),Ll.snapshot}async function ac(s,i){const o=K(s),et=o.tc.get(i),$l=o.ec.get(et.targetId);if($l.length>1)return o.ec.set(et.targetId,$l.filter(Nl=>!dn(Nl,i))),void o.tc.delete(i);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(et.targetId),o.sharedClientState.isActiveQueryTarget(et.targetId)||await xo(o.localStore,et.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(et.targetId),du(o.remoteStore,et.targetId),pc(o,et.targetId)}).catch(bt)):(pc(o,et.targetId),await xo(o.localStore,et.targetId,!0))}async function hc(s,i,o){const et=Fc(s);try{const $l=await function(Nl,Ml){const Ol=K(Nl),Ll=ut.now(),Fl=Ml.reduce((Gl,Wl)=>Gl.add(Wl.key),ws());let Bl,Ul;return Ol.persistence.runTransaction("Locally write mutations","readwrite",Gl=>{let Wl=os(),zl=ws();return Ol.Ui.getEntries(Gl,Fl).next(Ql=>{Wl=Ql,Wl.forEach((Jl,Kl)=>{Kl.isValidDocument()||(zl=zl.add(Jl))})}).next(()=>Ol.localDocuments.getOverlayedDocuments(Gl,Wl)).next(Ql=>{Bl=Ql;const Jl=[];for(const Kl of Ml){const Hl=Gn(Kl,Bl.get(Kl.key).overlayedDocument);Hl!=null&&Jl.push(new Wn(Kl.key,Hl,Ce(Hl.value.mapValue),$n.exists(!0)))}return Ol.mutationQueue.addMutationBatch(Gl,Ll,Jl,Ml)}).next(Ql=>{Ul=Ql;const Jl=Ql.applyToLocalDocumentSet(Bl,zl);return Ol.documentOverlayCache.saveOverlays(Gl,Ql.batchId,Jl)})}).then(()=>({batchId:Ul.batchId,changes:as(Bl)}))}(et.localStore,i);et.sharedClientState.addPendingMutation($l.batchId),function(Nl,Ml,Ol){let Ll=Nl.oc[Nl.currentUser.toKey()];Ll||(Ll=new qt(it)),Ll=Ll.insert(Ml,Ol),Nl.oc[Nl.currentUser.toKey()]=Ll}(et,$l.batchId,o),await Rc(et,$l.changes),await bu(et.remoteStore)}catch($l){const Nl=Bu($l,"Failed to persist write");o.reject(Nl)}}async function lc(s,i){const o=K(s);try{const et=await Vo(o.localStore,i);i.targetChanges.forEach(($l,Nl)=>{const Ml=o.ic.get(Nl);Ml&&(U($l.addedDocuments.size+$l.modifiedDocuments.size+$l.removedDocuments.size<=1),$l.addedDocuments.size>0?Ml.Xu=!0:$l.modifiedDocuments.size>0?U(Ml.Xu):$l.removedDocuments.size>0&&(U(Ml.Xu),Ml.Xu=!1))}),await Rc(o,et,i)}catch(et){await bt(et)}}function fc(s,i,o){const et=K(s);if(et.isPrimaryClient&&o===0||!et.isPrimaryClient&&o===1){const $l=[];et.tc.forEach((Nl,Ml)=>{const Ol=Ml.view.Eu(i);Ol.snapshot&&$l.push(Ol.snapshot)}),function(Nl,Ml){const Ol=K(Nl);Ol.onlineState=Ml;let Ll=!1;Ol.queries.forEach((Fl,Bl)=>{for(const Ul of Bl.listeners)Ul.Eu(Ml)&&(Ll=!0)}),Ll&&Hu(Ol)}(et.eventManager,i),$l.length&&et.Zu.Go($l),et.onlineState=i,et.isPrimaryClient&&et.sharedClientState.setOnlineState(i)}}async function dc(s,i,o){const et=K(s);et.sharedClientState.updateQueryState(i,"rejected",o);const $l=et.ic.get(i),Nl=$l&&$l.key;if(Nl){let Ml=new qt(dt.comparator);Ml=Ml.insert(Nl,xe.newNoDocument(Nl,ct.min()));const Ol=ws().add(Nl),Ll=new ys(ct.min(),new Map,new Qt(it),Ml,Ol);await lc(et,Ll),et.sc=et.sc.remove(Nl),et.ic.delete(i),Ac(et)}else await xo(et.localStore,i,!1).then(()=>pc(et,i,o)).catch(bt)}async function _c(s,i){const o=K(s),et=i.batch.batchId;try{const $l=await Po(o.localStore,i);yc(o,et,null),gc(o,et),o.sharedClientState.updateMutationState(et,"acknowledged"),await Rc(o,$l)}catch($l){await bt($l)}}async function wc(s,i,o){const et=K(s);try{const $l=await function(Nl,Ml){const Ol=K(Nl);return Ol.persistence.runTransaction("Reject batch","readwrite-primary",Ll=>{let Fl;return Ol.mutationQueue.lookupMutationBatch(Ll,Ml).next(Bl=>(U(Bl!==null),Fl=Bl.keys(),Ol.mutationQueue.removeMutationBatch(Ll,Bl))).next(()=>Ol.mutationQueue.performConsistencyCheck(Ll)).next(()=>Ol.documentOverlayCache.removeOverlaysForBatchId(Ll,Fl,Ml)).next(()=>Ol.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Ll,Fl)).next(()=>Ol.localDocuments.getDocuments(Ll,Fl))})}(et.localStore,i);yc(et,i,o),gc(et,i),et.sharedClientState.updateMutationState(i,"rejected",o),await Rc(et,$l)}catch($l){await bt($l)}}async function mc(s,i){const o=K(s);yu(o.remoteStore)||M("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const et=await function(Nl){const Ml=K(Nl);return Ml.persistence.runTransaction("Get highest unacknowledged batch id","readonly",Ol=>Ml.mutationQueue.getHighestUnacknowledgedBatchId(Ol))}(o.localStore);if(et===-1)return void i.resolve();const $l=o.uc.get(et)||[];$l.push(i),o.uc.set(et,$l)}catch(et){const $l=Bu(et,"Initialization of waitForPendingWrites() operation failed");i.reject($l)}}function gc(s,i){(s.uc.get(i)||[]).forEach(o=>{o.resolve()}),s.uc.delete(i)}function yc(s,i,o){const et=K(s);let $l=et.oc[et.currentUser.toKey()];if($l){const Nl=$l.get(i);Nl&&(o?Nl.reject(o):Nl.resolve(),$l=$l.remove(i)),et.oc[et.currentUser.toKey()]=$l}}function pc(s,i,o=null){s.sharedClientState.removeLocalQueryTarget(i);for(const et of s.ec.get(i))s.tc.delete(et),o&&s.Zu.lc(et,o);s.ec.delete(i),s.isPrimaryClient&&s.rc.us(i).forEach(et=>{s.rc.containsKey(et)||Ic(s,et)})}function Ic(s,i){s.nc.delete(i.path.canonicalString());const o=s.sc.get(i);o!==null&&(du(s.remoteStore,o),s.sc=s.sc.remove(i),s.ic.delete(o),Ac(s))}function Tc(s,i,o){for(const et of o)et instanceof ec?(s.rc.addReference(et.key,i),Ec(s,et)):et instanceof nc?(M("SyncEngine","Document no longer in limbo: "+et.key),s.rc.removeReference(et.key,i),s.rc.containsKey(et.key)||Ic(s,et.key)):L()}function Ec(s,i){const o=i.key,et=o.path.canonicalString();s.sc.get(o)||s.nc.has(et)||(M("SyncEngine","New document in limbo: "+o),s.nc.add(et),Ac(s))}function Ac(s){for(;s.nc.size>0&&s.sc.size<s.maxConcurrentLimboResolutions;){const i=s.nc.values().next().value;s.nc.delete(i);const o=new dt(ht.fromString(i)),et=s.cc.next();s.ic.set(et,new rc(o)),s.sc=s.sc.insert(o,et),fu(s.remoteStore,new Li(ln(rn(o.path)),et,2,$t.ot))}}async function Rc(s,i,o){const et=K(s),$l=[],Nl=[],Ml=[];et.tc.isEmpty()||(et.tc.forEach((Ol,Ll)=>{Ml.push(et.hc(Ll,i,o).then(Fl=>{if(Fl){et.isPrimaryClient&&et.sharedClientState.updateQueryState(Ll.targetId,Fl.fromCache?"not-current":"current"),$l.push(Fl);const Bl=To.Vi(Ll.targetId,Fl);Nl.push(Bl)}}))}),await Promise.all(Ml),et.Zu.Go($l),await async function(Ol,Ll){const Fl=K(Ol);try{await Fl.persistence.runTransaction("notifyLocalViewChanges","readwrite",Bl=>Pt.forEach(Ll,Ul=>Pt.forEach(Ul.Pi,Gl=>Fl.persistence.referenceDelegate.addReference(Bl,Ul.targetId,Gl)).next(()=>Pt.forEach(Ul.vi,Gl=>Fl.persistence.referenceDelegate.removeReference(Bl,Ul.targetId,Gl)))))}catch(Bl){if(!Ct(Bl))throw Bl;M("LocalStore","Failed to update sequence numbers: "+Bl)}for(const Bl of Ll){const Ul=Bl.targetId;if(!Bl.fromCache){const Gl=Fl.$i.get(Ul),Wl=Gl.snapshotVersion,zl=Gl.withLastLimboFreeSnapshotVersion(Wl);Fl.$i=Fl.$i.insert(Ul,zl)}}}(et.localStore,Nl))}async function bc(s,i){const o=K(s);if(!o.currentUser.isEqual(i)){M("SyncEngine","User change. New user:",i.toKey());const et=await bo(o.localStore,i);o.currentUser=i,function($l,Nl){$l.uc.forEach(Ml=>{Ml.forEach(Ol=>{Ol.reject(new Q(G.CANCELLED,Nl))})}),$l.uc.clear()}(o,"'waitForPendingWrites' promise is rejected due to a user change."),o.sharedClientState.handleUserChange(i,et.removedBatchIds,et.addedBatchIds),await Rc(o,et.Ki)}}function Pc(s,i){const o=K(s),et=o.ic.get(i);if(et&&et.Xu)return ws().add(et.key);{let $l=ws();const Nl=o.ec.get(i);if(!Nl)return $l;for(const Ml of Nl){const Ol=o.tc.get(Ml);$l=$l.unionWith(Ol.view.qu)}return $l}}async function vc(s,i){const o=K(s),et=await No(o.localStore,i.query,!0),$l=i.view.Ju(et);return o.isPrimaryClient&&Tc(o,i.targetId,$l.zu),$l}async function Vc(s,i){const o=K(s);return Oo(o.localStore,i).then(et=>Rc(o,et))}async function Sc(s,i,o,et){const $l=K(s),Nl=await function(Ml,Ol){const Ll=K(Ml),Fl=K(Ll.mutationQueue);return Ll.persistence.runTransaction("Lookup mutation documents","readonly",Bl=>Fl.yn(Bl,Ol).next(Ul=>Ul?Ll.localDocuments.getDocuments(Bl,Ul):Pt.resolve(null)))}($l.localStore,i);Nl!==null?(o==="pending"?await bu($l.remoteStore):o==="acknowledged"||o==="rejected"?(yc($l,i,et||null),gc($l,i),function(Ml,Ol){K(K(Ml).mutationQueue).In(Ol)}($l.localStore,i)):L(),await Rc($l,Nl)):M("SyncEngine","Cannot apply mutation batch with id: "+i)}async function Dc(s,i){const o=K(s);if(Mc(o),Fc(o),i===!0&&o.ac!==!0){const et=o.sharedClientState.getAllActiveQueryTargets(),$l=await Cc(o,et.toArray());o.ac=!0,await Ou(o.remoteStore,!0);for(const Nl of $l)fu(o.remoteStore,Nl)}else if(i===!1&&o.ac!==!1){const et=[];let $l=Promise.resolve();o.ec.forEach((Nl,Ml)=>{o.sharedClientState.isLocalQueryTarget(Ml)?et.push(Ml):$l=$l.then(()=>(pc(o,Ml),xo(o.localStore,Ml,!0))),du(o.remoteStore,Ml)}),await $l,await Cc(o,et),function(Nl){const Ml=K(Nl);Ml.ic.forEach((Ol,Ll)=>{du(Ml.remoteStore,Ll)}),Ml.rc.cs(),Ml.ic=new Map,Ml.sc=new qt(dt.comparator)}(o),o.ac=!1,await Ou(o.remoteStore,!1)}}async function Cc(s,i,o){const et=K(s),$l=[],Nl=[];for(const Ml of i){let Ol;const Ll=et.ec.get(Ml);if(Ll&&Ll.length!==0){Ol=await Co(et.localStore,ln(Ll[0]));for(const Fl of Ll){const Bl=et.tc.get(Fl),Ul=await vc(et,Bl);Ul.snapshot&&Nl.push(Ul.snapshot)}}else{const Fl=await ko(et.localStore,Ml);Ol=await Co(et.localStore,Fl),await cc(et,xc(Fl),Ml,!1)}$l.push(Ol)}return et.Zu.Go(Nl),$l}function xc(s){return sn(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Nc(s){const i=K(s);return K(K(i.localStore).persistence).Ri()}async function kc(s,i,o,et){const $l=K(s);if($l.ac)return void M("SyncEngine","Ignoring unexpected query state notification.");const Nl=$l.ec.get(i);if(Nl&&Nl.length>0)switch(o){case"current":case"not-current":{const Ml=await Oo($l.localStore,gn(Nl[0])),Ol=ys.createSynthesizedRemoteEventForCurrentChange(i,o==="current");await Rc($l,Ml,Ol);break}case"rejected":await xo($l.localStore,i,!0),pc($l,i,et);break;default:L()}}async function Oc(s,i,o){const et=Mc(s);if(et.ac){for(const $l of i){if(et.ec.has($l)){M("SyncEngine","Adding an already active target "+$l);continue}const Nl=await ko(et.localStore,$l),Ml=await Co(et.localStore,Nl);await cc(et,xc(Nl),Ml.targetId,!1),fu(et.remoteStore,Ml)}for(const $l of o)et.ec.has($l)&&await xo(et.localStore,$l,!1).then(()=>{du(et.remoteStore,$l),pc(et,$l)}).catch(bt)}}function Mc(s){const i=K(s);return i.remoteStore.remoteSyncer.applyRemoteEvent=lc.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pc.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=dc.bind(null,i),i.Zu.Go=Wu.bind(null,i.eventManager),i.Zu.lc=zu.bind(null,i.eventManager),i}function Fc(s){const i=K(s);return i.remoteStore.remoteSyncer.applySuccessfulWrite=_c.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=wc.bind(null,i),i}function $c(s,i,o){const et=K(s);(async function($l,Nl,Ml){try{const Ol=await Nl.getMetadata();if(await function(Ul,Gl){const Wl=K(Ul),zl=Ns(Gl.createTime);return Wl.persistence.runTransaction("hasNewerBundle","readonly",Ql=>Wl.Ds.getBundleMetadata(Ql,Gl.id)).then(Ql=>!!Ql&&Ql.createTime.compareTo(zl)>=0)}($l.localStore,Ol))return await Nl.close(),Ml._completeWith(function(Ul){return{taskState:"Success",documentsLoaded:Ul.totalDocuments,bytesLoaded:Ul.totalBytes,totalDocuments:Ul.totalDocuments,totalBytes:Ul.totalBytes}}(Ol)),Promise.resolve(new Set);Ml._updateProgress(tc(Ol));const Ll=new Zu(Ol,$l.localStore,Nl.wt);let Fl=await Nl.fc();for(;Fl;){const Ul=await Ll.Nu(Fl);Ul&&Ml._updateProgress(Ul),Fl=await Nl.fc()}const Bl=await Ll.complete();return await Rc($l,Bl.Mu,void 0),await function(Ul,Gl){const Wl=K(Ul);return Wl.persistence.runTransaction("Save bundle","readwrite",zl=>Wl.Ds.saveBundleMetadata(zl,Gl))}($l.localStore,Ol),Ml._completeWith(Bl.progress),Promise.resolve(Bl.Ou)}catch(Ol){return $("SyncEngine",`Loading bundle failed with ${Ol}`),Ml._failWith(Ol),Promise.resolve(new Set)}})(et,i,o).then($l=>{et.sharedClientState.notifyBundleLoaded($l)})}class Bc{constructor(){this.synchronizeTabs=!1}async initialize(i){this.wt=nu(i.databaseInfo.databaseId),this.sharedClientState=this.dc(i),this.persistence=this._c(i),await this.persistence.start(),this.localStore=this.wc(i),this.gcScheduler=this.mc(i,this.localStore),this.indexBackfillerScheduler=this.gc(i,this.localStore)}mc(i,o){return null}gc(i,o){return null}wc(i){return Ro(this.persistence,new Eo,i.initialUser,this.wt)}_c(i){return new ho(fo.Ms,this.wt)}dc(i){return new zo}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Lc extends Bc{constructor(i,o,et){super(),this.yc=i,this.cacheSizeBytes=o,this.forceOwnership=et,this.synchronizeTabs=!1}async initialize(i){await super.initialize(i),await this.yc.initialize(this,i),await Fc(this.yc.syncEngine),await bu(this.yc.remoteStore),await this.persistence.ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wc(i){return Ro(this.persistence,new Eo,i.initialUser,this.wt)}mc(i,o){const et=this.persistence.referenceDelegate.garbageCollector;return new Ur(et,i.asyncQueue,o)}gc(i,o){const et=new Ft(o,this.persistence);return new Mt(i.asyncQueue,et)}_c(i){const o=Io(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),et=this.cacheSizeBytes!==void 0?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new go(this.synchronizeTabs,o,i.clientId,et,i.asyncQueue,tu(),eu(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(i){return new zo}}class Uc extends Lc{constructor(i,o){super(i,o,!1),this.yc=i,this.cacheSizeBytes=o,this.synchronizeTabs=!0}async initialize(i){await super.initialize(i);const o=this.yc.syncEngine;this.sharedClientState instanceof Wo&&(this.sharedClientState.syncEngine={kr:Sc.bind(null,o),Or:kc.bind(null,o),Mr:Oc.bind(null,o),Ri:Nc.bind(null,o),Nr:Vc.bind(null,o)},await this.sharedClientState.start()),await this.persistence.ci(async et=>{await Dc(this.yc.syncEngine,et),this.gcScheduler&&(et&&!this.gcScheduler.started?this.gcScheduler.start():et||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(et&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():et||this.indexBackfillerScheduler.stop())})}dc(i){const o=tu();if(!Wo.V(o))throw new Q(G.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const et=Io(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new Wo(o,i.asyncQueue,et,i.clientId,i.initialUser)}}class qc{async initialize(i,o){this.localStore||(this.localStore=i.localStore,this.sharedClientState=i.sharedClientState,this.datastore=this.createDatastore(o),this.remoteStore=this.createRemoteStore(o),this.eventManager=this.createEventManager(o),this.syncEngine=this.createSyncEngine(o,!i.synchronizeTabs),this.sharedClientState.onlineStateHandler=et=>fc(this.syncEngine,et,1),this.remoteStore.remoteSyncer.handleCredentialChange=bc.bind(null,this.syncEngine),await Ou(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(i){return new Gu}createDatastore(i){const o=nu(i.databaseInfo.databaseId),et=($l=i.databaseInfo,new Zo($l));var $l;return function(Nl,Ml,Ol,Ll){return new uu(Nl,Ml,Ol,Ll)}(i.authCredentials,i.appCheckCredentials,et,o)}createRemoteStore(i){return o=this.localStore,et=this.datastore,$l=i.asyncQueue,Nl=Ol=>fc(this.syncEngine,Ol,0),Ml=Jo.V()?new Jo:new Ho,new au(o,et,$l,Nl,Ml);var o,et,$l,Nl,Ml}createSyncEngine(i,o){return function(et,$l,Nl,Ml,Ol,Ll,Fl){const Bl=new oc(et,$l,Nl,Ml,Ol,Ll);return Fl&&(Bl.ac=!0),Bl}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,o)}terminate(){return async function(i){const o=K(i);M("RemoteStore","RemoteStore shutting down."),o.lu.add(5),await lu(o),o.du.shutdown(),o._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(s,i=10240){let o=0;return{async read(){if(o<s.byteLength){const et={value:s.slice(o,o+i),done:!1};return o+=i,et}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Ic(this.observer.next,i)}error(i){this.observer.error?this.Ic(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}Tc(){this.muted=!0}Ic(i,o){this.muted||setTimeout(()=>{this.muted||i(o)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(i,o){this.Ec=i,this.wt=o,this.metadata=new j,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(et=>{et&&et.Cu()?this.metadata.resolve(et.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(et==null?void 0:et.payload)}`))},et=>this.metadata.reject(et))}close(){return this.Ec.cancel()}async getMetadata(){return this.metadata.promise}async fc(){return await this.getMetadata(),this.Rc()}async Rc(){const i=await this.bc();if(i===null)return null;const o=this.Ac.decode(i),et=Number(o);isNaN(et)&&this.Pc(`length string (${o}) is not valid number`);const $l=await this.vc(et);return new Yu(JSON.parse($l),i.length+et)}Vc(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}async bc(){for(;this.Vc()<0&&!await this.Sc(););if(this.buffer.length===0)return null;const i=this.Vc();i<0&&this.Pc("Reached the end of bundle when a length string is expected.");const o=this.buffer.slice(0,i);return this.buffer=this.buffer.slice(i),o}async vc(i){for(;this.buffer.length<i;)await this.Sc()&&this.Pc("Reached the end of bundle when more is expected.");const o=this.Ac.decode(this.buffer.slice(0,i));return this.buffer=this.buffer.slice(i),o}Pc(i){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${i}`)}async Sc(){const i=await this.Ec.read();if(!i.done){const o=new Uint8Array(this.buffer.length+i.value.length);o.set(this.buffer),o.set(i.value,this.buffer.length),this.buffer=o}return i.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(i){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Q(G.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=await async function(et,$l){const Nl=K(et),Ml=Ls(Nl.wt)+"/documents",Ol={documents:$l.map(Ul=>Ms(Nl.wt,Ul))},Ll=await Nl.ao("BatchGetDocuments",Ml,Ol,$l.length),Fl=new Map;Ll.forEach(Ul=>{const Gl=Gs(Nl.wt,Ul);Fl.set(Gl.key.toString(),Gl)});const Bl=[];return $l.forEach(Ul=>{const Gl=Fl.get(Ul.toString());U(!!Gl),Bl.push(Gl)}),Bl}(this.datastore,i);return o.forEach(et=>this.recordVersion(et)),o}set(i,o){this.write(o.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,o){try{this.write(o.toMutation(i,this.preconditionForUpdate(i)))}catch(et){this.lastWriteError=et}this.writtenDocs.add(i.toString())}delete(i){this.write(new Yn(i,this.precondition(i))),this.writtenDocs.add(i.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const i=this.readVersions;this.mutations.forEach(o=>{i.delete(o.key.toString())}),i.forEach((o,et)=>{const $l=dt.fromPath(et);this.mutations.push(new Xn($l,this.precondition($l)))}),await async function(o,et){const $l=K(o),Nl=Ls($l.wt)+"/documents",Ml={writes:et.map(Ol=>js($l.wt,Ol))};await $l.ro("Commit",Nl,Ml)}(this.datastore,this.mutations),this.committed=!0}recordVersion(i){let o;if(i.isFoundDocument())o=i.version;else{if(!i.isNoDocument())throw L();o=ct.min()}const et=this.readVersions.get(i.key.toString());if(et){if(!o.isEqual(et))throw new Q(G.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),o)}precondition(i){const o=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&o?$n.updateTime(o):$n.none()}preconditionForUpdate(i){const o=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&o){if(o.isEqual(ct.min()))throw new Q(G.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $n.updateTime(o)}return $n.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(i,o,et,$l,Nl){this.asyncQueue=i,this.datastore=o,this.options=et,this.updateFunction=$l,this.deferred=Nl,this.Dc=et.maxAttempts,this.So=new su(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){this.So.Io(async()=>{const i=new jc(this.datastore),o=this.xc(i);o&&o.then(et=>{this.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{this.deferred.resolve(et)}).catch($l=>{this.Nc($l)}))}).catch(et=>{this.Nc(et)})})}xc(i){try{const o=this.updateFunction(i);return!oe(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}Nc(i){this.Dc>0&&this.kc(i)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(i)}kc(i){if(i.name==="FirebaseError"){const o=i.code;return o==="aborted"||o==="failed-precondition"||!ns(o)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(i,o,et,$l){this.authCredentials=i,this.appCheckCredentials=o,this.asyncQueue=et,this.databaseInfo=$l,this.user=C.UNAUTHENTICATED,this.clientId=st.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(et,async Nl=>{M("FirestoreClient","Received user=",Nl.uid),await this.authCredentialListener(Nl),this.user=Nl}),this.appCheckCredentials.start(et,Nl=>(M("FirestoreClient","Received new app check token=",Nl),this.appCheckCredentialListener(Nl,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const i=new j;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),i.resolve()}catch(o){const et=Bu(o,"Failed to shutdown persistence");i.reject(et)}}),i.promise}}async function Hc(s,i){s.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const o=await s.getConfiguration();await i.initialize(o);let et=o.initialUser;s.setCredentialChangeListener(async $l=>{et.isEqual($l)||(await bo(i.localStore,$l),et=$l)}),i.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=i}async function Jc(s,i){s.asyncQueue.verifyOperationInProgress();const o=await Yc(s);M("FirestoreClient","Initializing OnlineComponentProvider");const et=await s.getConfiguration();await i.initialize(o,et),s.setCredentialChangeListener($l=>ku(i.remoteStore,$l)),s.setAppCheckTokenChangeListener(($l,Nl)=>ku(i.remoteStore,Nl)),s.onlineComponents=i}async function Yc(s){return s.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),await Hc(s,new Bc)),s.offlineComponents}async function Xc(s){return s.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),await Jc(s,new qc)),s.onlineComponents}function Zc(s){return Yc(s).then(i=>i.persistence)}function ta(s){return Yc(s).then(i=>i.localStore)}function ea(s){return Xc(s).then(i=>i.remoteStore)}function na(s){return Xc(s).then(i=>i.syncEngine)}async function sa(s){const i=await Xc(s),o=i.eventManager;return o.onListen=uc.bind(null,i.syncEngine),o.onUnlisten=ac.bind(null,i.syncEngine),o}function ia(s){return s.asyncQueue.enqueue(async()=>{const i=await Zc(s),o=await ea(s);return i.setNetworkEnabled(!0),function(et){const $l=K(et);return $l.lu.delete(0),hu($l)}(o)})}function ra(s){return s.asyncQueue.enqueue(async()=>{const i=await Zc(s),o=await ea(s);return i.setNetworkEnabled(!1),async function(et){const $l=K(et);$l.lu.add(0),await lu($l),$l._u.set("Offline")}(o)})}function oa(s,i){const o=new j;return s.asyncQueue.enqueueAndForget(async()=>async function(et,$l,Nl){try{const Ml=await function(Ol,Ll){const Fl=K(Ol);return Fl.persistence.runTransaction("read document","readonly",Bl=>Fl.localDocuments.getDocument(Bl,Ll))}(et,$l);Ml.isFoundDocument()?Nl.resolve(Ml):Ml.isNoDocument()?Nl.resolve(null):Nl.reject(new Q(G.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(Ml){const Ol=Bu(Ml,`Failed to get document '${$l} from cache`);Nl.reject(Ol)}}(await ta(s),i,o)),o.promise}function ua(s,i,o={}){const et=new j;return s.asyncQueue.enqueueAndForget(async()=>function($l,Nl,Ml,Ol,Ll){const Fl=new Gc({next:Ul=>{Nl.enqueueAndForget(()=>ju($l,Bl));const Gl=Ul.docs.has(Ml);!Gl&&Ul.fromCache?Ll.reject(new Q(G.UNAVAILABLE,"Failed to get document because the client is offline.")):Gl&&Ul.fromCache&&Ol&&Ol.source==="server"?Ll.reject(new Q(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Ll.resolve(Ul)},error:Ul=>Ll.reject(Ul)}),Bl=new Ju(rn(Ml.path),Fl,{includeMetadataChanges:!0,Du:!0});return Qu($l,Bl)}(await sa(s),s.asyncQueue,i,o,et)),et.promise}function ca(s,i){const o=new j;return s.asyncQueue.enqueueAndForget(async()=>async function(et,$l,Nl){try{const Ml=await No(et,$l,!0),Ol=new sc($l,Ml.ji),Ll=Ol.Ku(Ml.documents),Fl=Ol.applyChanges(Ll,!1);Nl.resolve(Fl.snapshot)}catch(Ml){const Ol=Bu(Ml,`Failed to execute query '${$l} against cache`);Nl.reject(Ol)}}(await ta(s),i,o)),o.promise}function aa(s,i,o={}){const et=new j;return s.asyncQueue.enqueueAndForget(async()=>function($l,Nl,Ml,Ol,Ll){const Fl=new Gc({next:Ul=>{Nl.enqueueAndForget(()=>ju($l,Bl)),Ul.fromCache&&Ol.source==="server"?Ll.reject(new Q(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Ll.resolve(Ul)},error:Ul=>Ll.reject(Ul)}),Bl=new Ju(Ml,Fl,{includeMetadataChanges:!0,Du:!0});return Qu($l,Bl)}(await sa(s),s.asyncQueue,i,o,et)),et.promise}function ha(s,i){const o=new Gc(i);return s.asyncQueue.enqueueAndForget(async()=>function(et,$l){K(et).Tu.add($l),$l.next()}(await sa(s),o)),()=>{o.Tc(),s.asyncQueue.enqueueAndForget(async()=>function(et,$l){K(et).Tu.delete($l)}(await sa(s),o))}}function la(s,i,o){const et=new j;return s.asyncQueue.enqueueAndForget(async()=>{const $l=await function(Nl){return Xc(Nl).then(Ml=>Ml.datastore)}(s);new Wc(s.asyncQueue,$l,o,i,et).run()}),et.promise}function fa(s,i,o,et){const $l=function(Nl,Ml){let Ol;return Ol=typeof Nl=="string"?new TextEncoder().encode(Nl):Nl,function(Ll,Fl){return new Qc(Ll,Fl)}(function(Ll,Fl){if(Ll instanceof Uint8Array)return Kc(Ll,Fl);if(Ll instanceof ArrayBuffer)return Kc(new Uint8Array(Ll),Fl);if(Ll instanceof ReadableStream)return Ll.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(Ol),Ml)}(o,nu(i));s.asyncQueue.enqueueAndForget(async()=>{$c(await na(s),$l,et)})}function da(s,i){return s.asyncQueue.enqueue(async()=>function(o,et){const $l=K(o);return $l.persistence.runTransaction("Get named query","readonly",Nl=>$l.Ds.getNamedQuery(Nl,et))}(await ta(s),i))}const _a=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(s,i,o){if(!o)throw new Q(G.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${i}.`)}function ma(s,i,o,et){if(i===!0&&et===!0)throw new Q(G.INVALID_ARGUMENT,`${s} and ${o} cannot be used together.`)}function ga(s){if(!dt.isDocumentKey(s))throw new Q(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function ya(s){if(dt.isDocumentKey(s))throw new Q(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function pa(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const i=function(o){return o.constructor?o.constructor.name:null}(s);return i?`a custom ${i} object`:"an object"}}return typeof s=="function"?"a function":L()}function Ia(s,i){if("_delegate"in s&&(s=s._delegate),!(s instanceof i)){if(i.name===s.constructor.name)throw new Q(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=pa(s);throw new Q(G.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${o}`)}}return s}function Ta(s,i){if(i<=0)throw new Q(G.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${i}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(i){var o;if(i.host===void 0){if(i.ssl!==void 0)throw new Q(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=(o=i.ssl)===null||o===void 0||o;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,i.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(i.cacheSizeBytes!==-1&&i.cacheSizeBytes<1048576)throw new Q(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,ma("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(i,o,et){this._authCredentials=o,this._appCheckCredentials=et,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ea({}),this._settingsFrozen=!1,i instanceof re?this._databaseId=i:(this._app=i,this._databaseId=function($l){if(!Object.prototype.hasOwnProperty.apply($l.options,["projectId"]))throw new Q(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new re($l.options.projectId)}(i))}get app(){if(!this._app)throw new Q(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(i){if(this._settingsFrozen)throw new Q(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ea(i),i.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new z;switch(o.type){case"gapi":const et=o.client;return U(!(typeof et!="object"||et===null||!et.auth||!et.auth.getAuthHeaderValueForFirstParty)),new X(et,o.sessionIndex||"0",o.iamToken||null);case"provider":return o.client;default:throw new Q(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const o=_a.get(i);o&&(M("ComponentProvider","Removing Datastore"),_a.delete(i),o.terminate())}(this),Promise.resolve()}}function Ra(s,i,o,et={}){var $l;const Nl=(s=Ia(s,Aa))._getSettings();if(Nl.host!=="firestore.googleapis.com"&&Nl.host!==i&&$("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},Nl),{host:`${i}:${o}`,ssl:!1})),et.mockUserToken){let Ml,Ol;if(typeof et.mockUserToken=="string")Ml=et.mockUserToken,Ol=C.MOCK_USER;else{Ml=createMockUserToken(et.mockUserToken,($l=s._app)===null||$l===void 0?void 0:$l.options.projectId);const Ll=et.mockUserToken.sub||et.mockUserToken.user_id;if(!Ll)throw new Q(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Ol=new C(Ll)}s._authCredentials=new H(new W(Ml,Ol))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(i,o,et){this.converter=o,this._key=et,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new ba(this.firestore,i,this._key)}}class Pa{constructor(i,o,et){this.converter=o,this._query=et,this.type="query",this.firestore=i}withConverter(i){return new Pa(this.firestore,i,this._query)}}class va extends Pa{constructor(i,o,et){super(i,o,rn(et)),this._path=et,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new ba(this.firestore,null,new dt(i))}withConverter(i){return new va(this.firestore,i,this._path)}}function Va(s,i,...o){if(s=getModularInstance(s),wa("collection","path",i),s instanceof Aa){const et=ht.fromString(i,...o);return ya(et),new va(s,null,et)}{if(!(s instanceof ba||s instanceof va))throw new Q(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const et=s._path.child(ht.fromString(i,...o));return ya(et),new va(s.firestore,null,et)}}function Sa(s,i){if(s=Ia(s,Aa),wa("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Q(G.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pa(s,null,function(o){return new nn(ht.emptyPath(),o)}(i))}function Da(s,i,...o){if(s=getModularInstance(s),arguments.length===1&&(i=st.I()),wa("doc","path",i),s instanceof Aa){const et=ht.fromString(i,...o);return ga(et),new ba(s,null,new dt(et))}{if(!(s instanceof ba||s instanceof va))throw new Q(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const et=s._path.child(ht.fromString(i,...o));return ga(et),new ba(s.firestore,s instanceof va?s.converter:null,new dt(et))}}function Ca(s,i){return s=getModularInstance(s),i=getModularInstance(i),(s instanceof ba||s instanceof va)&&(i instanceof ba||i instanceof va)&&s.firestore===i.firestore&&s.path===i.path&&s.converter===i.converter}function xa(s,i){return s=getModularInstance(s),i=getModularInstance(i),s instanceof Pa&&i instanceof Pa&&s.firestore===i.firestore&&dn(s._query,i._query)&&s.converter===i.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new su(this,"async_queue_retry"),this.Kc=()=>{const o=eu();o&&M("AsyncQueue","Visibility state changed to "+o.visibilityState),this.So.Eo()};const i=eu();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Gc(),this.Qc(i)}enterRestrictedMode(i){if(!this.Fc){this.Fc=!0,this.Uc=i||!1;const o=eu();o&&typeof o.removeEventListener=="function"&&o.removeEventListener("visibilitychange",this.Kc)}}enqueue(i){if(this.Gc(),this.Fc)return new Promise(()=>{});const o=new j;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(i().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.Mc.push(i),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(i){if(!Ct(i))throw i;M("AsyncQueue","Operation failed with retryable error: "+i)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(i){const o=this.Oc.then(()=>(this.Lc=!0,i().catch(et=>{this.Bc=et,this.Lc=!1;const $l=function(Nl){let Ml=Nl.message||"";return Nl.stack&&(Ml=Nl.stack.includes(Nl.message)?Nl.stack:Nl.message+`
`+Nl.stack),Ml}(et);throw F("INTERNAL UNHANDLED ERROR: ",$l),et}).then(et=>(this.Lc=!1,et))));return this.Oc=o,o}enqueueAfterDelay(i,o,et){this.Gc(),this.qc.indexOf(i)>-1&&(o=0);const $l=$u.createAndSchedule(this,i,o,et,Nl=>this.Wc(Nl));return this.$c.push($l),$l}Gc(){this.Bc&&L()}verifyOperationInProgress(){}async zc(){let i;do i=this.Oc,await i;while(i!==this.Oc)}Hc(i){for(const o of this.$c)if(o.timerId===i)return!0;return!1}Jc(i){return this.zc().then(()=>{this.$c.sort((o,et)=>o.targetTimeMs-et.targetTimeMs);for(const o of this.$c)if(o.skipDelay(),i!=="all"&&o.timerId===i)break;return this.zc()})}Yc(i){this.qc.push(i)}Wc(i){const o=this.$c.indexOf(i);this.$c.splice(o,1)}}function ka(s){return function(i,o){if(typeof i!="object"||i===null)return!1;const et=i;for(const $l of o)if($l in et&&typeof et[$l]=="function")return!0;return!1}(s,["next","error","complete"])}class Oa{constructor(){this._progressObserver={},this._taskCompletionResolver=new j,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,o,et){this._progressObserver={next:i,error:o,complete:et}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,o){return this._taskCompletionResolver.promise.then(i,o)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=-1;class Fa extends Aa{constructor(i,o,et){super(i,o,et),this.type="firestore",this._queue=new Na,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ua(this),this._firestoreClient.terminate()}}function Ba(s=getApp()){return _getProvider(s,"firestore").getImmediate()}function La(s){return s._firestoreClient||Ua(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Ua(s){var i;const o=s._freezeSettings(),et=function($l,Nl,Ml,Ol){return new ie($l,Nl,Ml,Ol.host,Ol.ssl,Ol.experimentalForceLongPolling,Ol.experimentalAutoDetectLongPolling,Ol.useFetchStreams)}(s._databaseId,((i=s._app)===null||i===void 0?void 0:i.options.appId)||"",s._persistenceKey,o);s._firestoreClient=new zc(s._authCredentials,s._appCheckCredentials,s._queue,et)}function qa(s,i){Xa(s=Ia(s,Fa));const o=La(s),et=s._freezeSettings(),$l=new qc;return Ga(o,$l,new Lc($l,et.cacheSizeBytes,i==null?void 0:i.forceOwnership))}function Ka(s){Xa(s=Ia(s,Fa));const i=La(s),o=s._freezeSettings(),et=new qc;return Ga(i,et,new Uc(et,o.cacheSizeBytes))}function Ga(s,i,o){const et=new j;return s.asyncQueue.enqueue(async()=>{try{await Hc(s,o),await Jc(s,i),et.resolve()}catch($l){const Nl=$l;if(!function(Ml){return Ml.name==="FirebaseError"?Ml.code===G.FAILED_PRECONDITION||Ml.code===G.UNIMPLEMENTED:typeof DOMException!="undefined"&&Ml instanceof DOMException?Ml.code===22||Ml.code===20||Ml.code===11:!0}(Nl))throw Nl;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+Nl),et.reject(Nl)}}).then(()=>et.promise)}function Qa(s){if(s._initialized&&!s._terminated)throw new Q(G.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new j;return s._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(o){if(!Vt.V())return Promise.resolve();const et=o+"main";await Vt.delete(et)}(Io(s._databaseId,s._persistenceKey)),i.resolve()}catch(o){i.reject(o)}}),i.promise}function ja(s){return function(i){const o=new j;return i.asyncQueue.enqueueAndForget(async()=>mc(await na(i),o)),o.promise}(La(s=Ia(s,Fa)))}function Wa(s){return ia(La(s=Ia(s,Fa)))}function za(s){return ra(La(s=Ia(s,Fa)))}function Ja(s,i){const o=La(s=Ia(s,Fa)),et=new Oa;return fa(o,s._databaseId,i,et),et}function Ya(s,i){return da(La(s=Ia(s,Fa)),i).then(o=>o?new Pa(s,null,o.query):null)}function Xa(s){if(s._initialized||s._terminated)throw new Q(G.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(...i){for(let o=0;o<i.length;++o)if(i[o].length===0)throw new Q(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(i){this._byteString=i}static fromBase64String(i){try{return new eh(Jt.fromBase64String(i))}catch(o){throw new Q(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(i){return new eh(Jt.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(i){this._methodName=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(i,o){if(!isFinite(i)||i<-90||i>90)throw new Q(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(o)||o<-180||o>180)throw new Q(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=i,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return it(this._lat,i._lat)||it(this._long,i._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=/^__.*__$/;class rh{constructor(i,o,et){this.data=i,this.fieldMask=o,this.fieldTransforms=et}toMutation(i,o){return this.fieldMask!==null?new Wn(i,this.data,this.fieldMask,o,this.fieldTransforms):new jn(i,this.data,o,this.fieldTransforms)}}class oh{constructor(i,o,et){this.data=i,this.fieldMask=o,this.fieldTransforms=et}toMutation(i,o){return new Wn(i,this.data,this.fieldMask,o,this.fieldTransforms)}}function uh(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class ch{constructor(i,o,et,$l,Nl,Ml){this.settings=i,this.databaseId=o,this.wt=et,this.ignoreUndefinedProperties=$l,Nl===void 0&&this.Xc(),this.fieldTransforms=Nl||[],this.fieldMask=Ml||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(i){return new ch(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(i){var o;const et=(o=this.path)===null||o===void 0?void 0:o.child(i),$l=this.ta({path:et,na:!1});return $l.sa(i),$l}ia(i){var o;const et=(o=this.path)===null||o===void 0?void 0:o.child(i),$l=this.ta({path:et,na:!1});return $l.Xc(),$l}ra(i){return this.ta({path:void 0,na:!0})}oa(i){return Vh(i,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(i){return this.fieldMask.find(o=>i.isPrefixOf(o))!==void 0||this.fieldTransforms.find(o=>i.isPrefixOf(o.field))!==void 0}Xc(){if(this.path)for(let i=0;i<this.path.length;i++)this.sa(this.path.get(i))}sa(i){if(i.length===0)throw this.oa("Document fields must not be empty");if(uh(this.Zc)&&ih.test(i))throw this.oa('Document fields cannot begin and end with "__"')}}class ah{constructor(i,o,et){this.databaseId=i,this.ignoreUndefinedProperties=o,this.wt=et||nu(i)}aa(i,o,et,$l=!1){return new ch({Zc:i,methodName:o,ca:et,path:ft.emptyPath(),na:!1,ua:$l},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function hh(s){const i=s._freezeSettings(),o=nu(s._databaseId);return new ah(s._databaseId,!!i.ignoreUndefinedProperties,o)}function lh(s,i,o,et,$l,Nl={}){const Ml=s.aa(Nl.merge||Nl.mergeFields?2:0,i,o,$l);Rh("Data must be an object, but it was:",Ml,et);const Ol=Eh(et,Ml);let Ll,Fl;if(Nl.merge)Ll=new zt(Ml.fieldMask),Fl=Ml.fieldTransforms;else if(Nl.mergeFields){const Bl=[];for(const Ul of Nl.mergeFields){const Gl=bh(i,Ul,o);if(!Ml.contains(Gl))throw new Q(G.INVALID_ARGUMENT,`Field '${Gl}' is specified in your field mask but missing from your input data.`);Sh(Bl,Gl)||Bl.push(Gl)}Ll=new zt(Bl),Fl=Ml.fieldTransforms.filter(Ul=>Ll.covers(Ul.field))}else Ll=null,Fl=Ml.fieldTransforms;return new rh(new De(Ol),Ll,Fl)}class fh extends nh{_toFieldTransform(i){if(i.Zc!==2)throw i.Zc===1?i.oa(`${this._methodName}() can only appear at the top level of your update data`):i.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof fh}}function dh(s,i,o){return new ch({Zc:3,ca:i.settings.ca,methodName:s._methodName,na:o},i.databaseId,i.wt,i.ignoreUndefinedProperties)}class _h extends nh{_toFieldTransform(i){return new On(i.path,new vn)}isEqual(i){return i instanceof _h}}class wh extends nh{constructor(i,o){super(i),this.ha=o}_toFieldTransform(i){const o=dh(this,i,!0),et=this.ha.map(Nl=>Th(Nl,o)),$l=new Vn(et);return new On(i.path,$l)}isEqual(i){return this===i}}class mh extends nh{constructor(i,o){super(i),this.ha=o}_toFieldTransform(i){const o=dh(this,i,!0),et=this.ha.map(Nl=>Th(Nl,o)),$l=new Dn(et);return new On(i.path,$l)}isEqual(i){return this===i}}class gh extends nh{constructor(i,o){super(i),this.la=o}_toFieldTransform(i){const o=new xn(i.wt,En(i.wt,this.la));return new On(i.path,o)}isEqual(i){return this===i}}function yh(s,i,o,et){const $l=s.aa(1,i,o);Rh("Data must be an object, but it was:",$l,et);const Nl=[],Ml=De.empty();Lt(et,(Ll,Fl)=>{const Bl=vh(i,Ll,o);Fl=getModularInstance(Fl);const Ul=$l.ia(Bl);if(Fl instanceof fh)Nl.push(Bl);else{const Gl=Th(Fl,Ul);Gl!=null&&(Nl.push(Bl),Ml.set(Bl,Gl))}});const Ol=new zt(Nl);return new oh(Ml,Ol,$l.fieldTransforms)}function ph(s,i,o,et,$l,Nl){const Ml=s.aa(1,i,o),Ol=[bh(i,et,o)],Ll=[$l];if(Nl.length%2!=0)throw new Q(G.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Gl=0;Gl<Nl.length;Gl+=2)Ol.push(bh(i,Nl[Gl])),Ll.push(Nl[Gl+1]);const Fl=[],Bl=De.empty();for(let Gl=Ol.length-1;Gl>=0;--Gl)if(!Sh(Fl,Ol[Gl])){const Wl=Ol[Gl];let zl=Ll[Gl];zl=getModularInstance(zl);const Ql=Ml.ia(Wl);if(zl instanceof fh)Fl.push(Wl);else{const Jl=Th(zl,Ql);Jl!=null&&(Fl.push(Wl),Bl.set(Wl,Jl))}}const Ul=new zt(Fl);return new oh(Bl,Ul,Ml.fieldTransforms)}function Ih(s,i,o,et=!1){return Th(o,s.aa(et?4:3,i))}function Th(s,i){if(Ah(s=getModularInstance(s)))return Rh("Unsupported field value:",i,s),Eh(s,i);if(s instanceof nh)return function(o,et){if(!uh(et.Zc))throw et.oa(`${o._methodName}() can only be used with update() and set()`);if(!et.path)throw et.oa(`${o._methodName}() is not currently supported inside arrays`);const $l=o._toFieldTransform(et);$l&&et.fieldTransforms.push($l)}(s,i),null;if(s===void 0&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),s instanceof Array){if(i.settings.na&&i.Zc!==4)throw i.oa("Nested arrays are not supported");return function(o,et){const $l=[];let Nl=0;for(const Ml of o){let Ol=Th(Ml,et.ra(Nl));Ol==null&&(Ol={nullValue:"NULL_VALUE"}),$l.push(Ol),Nl++}return{arrayValue:{values:$l}}}(s,i)}return function(o,et){if((o=getModularInstance(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return En(et.wt,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const $l=ut.fromDate(o);return{timestampValue:Ds(et.wt,$l)}}if(o instanceof ut){const $l=new ut(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Ds(et.wt,$l)}}if(o instanceof sh)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof eh)return{bytesValue:Cs(et.wt,o._byteString)};if(o instanceof ba){const $l=et.databaseId,Nl=o.firestore._databaseId;if(!Nl.isEqual($l))throw et.oa(`Document reference is for database ${Nl.projectId}/${Nl.database} but should be for database ${$l.projectId}/${$l.database}`);return{referenceValue:ks(o.firestore._databaseId||et.databaseId,o._key.path)}}throw et.oa(`Unsupported field value: ${pa(o)}`)}(s,i)}function Eh(s,i){const o={};return Ut(s)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):Lt(s,(et,$l)=>{const Nl=Th($l,i.ea(et));Nl!=null&&(o[et]=Nl)}),{mapValue:{fields:o}}}function Ah(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ut||s instanceof sh||s instanceof eh||s instanceof ba||s instanceof nh)}function Rh(s,i,o){if(!Ah(o)||!function(et){return typeof et=="object"&&et!==null&&(Object.getPrototypeOf(et)===Object.prototype||Object.getPrototypeOf(et)===null)}(o)){const et=pa(o);throw et==="an object"?i.oa(s+" a custom object"):i.oa(s+" "+et)}}function bh(s,i,o){if((i=getModularInstance(i))instanceof Za)return i._internalPath;if(typeof i=="string")return vh(s,i);throw Vh("Field path arguments must be of type string or ",s,!1,void 0,o)}const Ph=new RegExp("[~\\*/\\[\\]]");function vh(s,i,o){if(i.search(Ph)>=0)throw Vh(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,o);try{return new Za(...i.split("."))._internalPath}catch{throw Vh(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,o)}}function Vh(s,i,o,et,$l){const Nl=et&&!et.isEmpty(),Ml=$l!==void 0;let Ol=`Function ${i}() called with invalid data`;o&&(Ol+=" (via `toFirestore()`)"),Ol+=". ";let Ll="";return(Nl||Ml)&&(Ll+=" (found",Nl&&(Ll+=` in field ${et}`),Ml&&(Ll+=` in document ${$l}`),Ll+=")"),new Q(G.INVALID_ARGUMENT,Ol+s+Ll)}function Sh(s,i){return s.some(o=>o.isEqual(i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(i,o,et,$l,Nl){this._firestore=i,this._userDataWriter=o,this._key=et,this._document=$l,this._converter=Nl}get id(){return this._key.path.lastSegment()}get ref(){return new ba(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const i=new Ch(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const o=this._document.data.field(xh("DocumentSnapshot.get",i));if(o!==null)return this._userDataWriter.convertValue(o)}}}class Ch extends Dh{data(){return super.data()}}function xh(s,i){return typeof i=="string"?vh(s,i):i instanceof Za?i._internalPath:i._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(i,o){this.hasPendingWrites=i,this.fromCache=o}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class kh extends Dh{constructor(i,o,et,$l,Nl,Ml){super(i,o,et,$l,Ml),this._firestore=i,this._firestoreImpl=i,this.metadata=Nl}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const o=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,o={}){if(this._document){const et=this._document.data.field(xh("DocumentSnapshot.get",i));if(et!==null)return this._userDataWriter.convertValue(et,o.serverTimestamps)}}}class Oh extends kh{data(i={}){return super.data(i)}}class Mh{constructor(i,o,et,$l){this._firestore=i,this._userDataWriter=o,this._snapshot=$l,this.metadata=new Nh($l.hasPendingWrites,$l.fromCache),this.query=et}get docs(){const i=[];return this.forEach(o=>i.push(o)),i}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(i,o){this._snapshot.docs.forEach(et=>{i.call(o,new Oh(this._firestore,this._userDataWriter,et.key,et,new Nh(this._snapshot.mutatedKeys.has(et.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const o=!!i.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new Q(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(et,$l){if(et._snapshot.oldDocs.isEmpty()){let Nl=0;return et._snapshot.docChanges.map(Ml=>({type:"added",doc:new Oh(et._firestore,et._userDataWriter,Ml.doc.key,Ml.doc,new Nh(et._snapshot.mutatedKeys.has(Ml.doc.key),et._snapshot.fromCache),et.query.converter),oldIndex:-1,newIndex:Nl++}))}{let Nl=et._snapshot.oldDocs;return et._snapshot.docChanges.filter(Ml=>$l||Ml.type!==3).map(Ml=>{const Ol=new Oh(et._firestore,et._userDataWriter,Ml.doc.key,Ml.doc,new Nh(et._snapshot.mutatedKeys.has(Ml.doc.key),et._snapshot.fromCache),et.query.converter);let Ll=-1,Fl=-1;return Ml.type!==0&&(Ll=Nl.indexOf(Ml.doc.key),Nl=Nl.delete(Ml.doc.key)),Ml.type!==1&&(Nl=Nl.add(Ml.doc),Fl=Nl.indexOf(Ml.doc.key)),{type:Fh(Ml.type),doc:Ol,oldIndex:Ll,newIndex:Fl}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function Fh(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}function $h(s,i){return s instanceof kh&&i instanceof kh?s._firestore===i._firestore&&s._key.isEqual(i._key)&&(s._document===null?i._document===null:s._document.isEqual(i._document))&&s._converter===i._converter:s instanceof Mh&&i instanceof Mh&&s._firestore===i._firestore&&xa(s.query,i.query)&&s.metadata.isEqual(i.metadata)&&s._snapshot.isEqual(i._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Q(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lh{}function Uh(s,...i){for(const o of i)s=o._apply(s);return s}class qh extends Lh{constructor(i,o,et){super(),this.fa=i,this.da=o,this._a=et,this.type="where"}_apply(i){const o=hh(i.firestore),et=function($l,Nl,Ml,Ol,Ll,Fl,Bl){let Ul;if(Ll.isKeyField()){if(Fl==="array-contains"||Fl==="array-contains-any")throw new Q(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Fl}' queries on documentId().`);if(Fl==="in"||Fl==="not-in"){sl(Bl,Fl);const Wl=[];for(const zl of Bl)Wl.push(nl(Ol,$l,zl));Ul={arrayValue:{values:Wl}}}else Ul=nl(Ol,$l,Bl)}else Fl!=="in"&&Fl!=="not-in"&&Fl!=="array-contains-any"||sl(Bl,Fl),Ul=Ih(Ml,Nl,Bl,Fl==="in"||Fl==="not-in");const Gl=qe.create(Ll,Fl,Ul);return function(Wl,zl){if(zl.ht()){const Jl=cn(Wl);if(Jl!==null&&!Jl.isEqual(zl.field))throw new Q(G.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Jl.toString()}' and '${zl.field.toString()}'`);const Kl=un(Wl);Kl!==null&&il(Wl,zl.field,Kl)}const Ql=function(Jl,Kl){for(const Hl of Jl.filters)if(Kl.indexOf(Hl.op)>=0)return Hl.op;return null}(Wl,function(Jl){switch(Jl){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(zl.op));if(Ql!==null)throw Ql===zl.op?new Q(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${zl.op.toString()}' filter.`):new Q(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${zl.op.toString()}' filters with '${Ql.toString()}' filters.`)}($l,Gl),Gl}(i._query,"where",o,i.firestore._databaseId,this.fa,this.da,this._a);return new Pa(i.firestore,i.converter,function($l,Nl){const Ml=$l.filters.concat([Nl]);return new nn($l.path,$l.collectionGroup,$l.explicitOrderBy.slice(),Ml,$l.limit,$l.limitType,$l.startAt,$l.endAt)}(i._query,et))}}function Kh(s,i,o){const et=i,$l=xh("where",s);return new qh($l,et,o)}class Gh extends Lh{constructor(i,o){super(),this.fa=i,this.wa=o,this.type="orderBy"}_apply(i){const o=function(et,$l,Nl){if(et.startAt!==null)throw new Q(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(et.endAt!==null)throw new Q(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const Ml=new Xe($l,Nl);return function(Ol,Ll){if(un(Ol)===null){const Fl=cn(Ol);Fl!==null&&il(Ol,Fl,Ll.field)}}(et,Ml),Ml}(i._query,this.fa,this.wa);return new Pa(i.firestore,i.converter,function(et,$l){const Nl=et.explicitOrderBy.concat([$l]);return new nn(et.path,et.collectionGroup,Nl,et.filters.slice(),et.limit,et.limitType,et.startAt,et.endAt)}(i._query,o))}}function Qh(s,i="asc"){const o=i,et=xh("orderBy",s);return new Gh(et,o)}class jh extends Lh{constructor(i,o,et){super(),this.type=i,this.ma=o,this.ga=et}_apply(i){return new Pa(i.firestore,i.converter,fn(i._query,this.ma,this.ga))}}function Wh(s){return Ta("limit",s),new jh("limit",s,"F")}function zh(s){return Ta("limitToLast",s),new jh("limitToLast",s,"L")}class Hh extends Lh{constructor(i,o,et){super(),this.type=i,this.ya=o,this.pa=et}_apply(i){const o=el(i,this.type,this.ya,this.pa);return new Pa(i.firestore,i.converter,function(et,$l){return new nn(et.path,et.collectionGroup,et.explicitOrderBy.slice(),et.filters.slice(),et.limit,et.limitType,$l,et.endAt)}(i._query,o))}}function Jh(...s){return new Hh("startAt",s,!0)}function Yh(...s){return new Hh("startAfter",s,!1)}class Xh extends Lh{constructor(i,o,et){super(),this.type=i,this.ya=o,this.pa=et}_apply(i){const o=el(i,this.type,this.ya,this.pa);return new Pa(i.firestore,i.converter,function(et,$l){return new nn(et.path,et.collectionGroup,et.explicitOrderBy.slice(),et.filters.slice(),et.limit,et.limitType,et.startAt,$l)}(i._query,o))}}function Zh(...s){return new Xh("endBefore",s,!1)}function tl(...s){return new Xh("endAt",s,!0)}function el(s,i,o,et){if(o[0]=getModularInstance(o[0]),o[0]instanceof Dh)return function($l,Nl,Ml,Ol,Ll){if(!Ol)throw new Q(G.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${Ml}().`);const Fl=[];for(const Bl of hn($l))if(Bl.field.isKeyField())Fl.push(ye(Nl,Ol.key));else{const Ul=Ol.data.field(Bl.field);if(ee(Ul))throw new Q(G.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Bl.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(Ul===null){const Gl=Bl.field.canonicalString();throw new Q(G.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Gl}' (used as the orderBy) does not exist.`)}Fl.push(Ul)}return new Ye(Fl,Ll)}(s._query,s.firestore._databaseId,i,o[0]._document,et);{const $l=hh(s.firestore);return function(Nl,Ml,Ol,Ll,Fl,Bl){const Ul=Nl.explicitOrderBy;if(Fl.length>Ul.length)throw new Q(G.INVALID_ARGUMENT,`Too many arguments provided to ${Ll}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Gl=[];for(let Wl=0;Wl<Fl.length;Wl++){const zl=Fl[Wl];if(Ul[Wl].field.isKeyField()){if(typeof zl!="string")throw new Q(G.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Ll}(), but got a ${typeof zl}`);if(!an(Nl)&&zl.indexOf("/")!==-1)throw new Q(G.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Ll}() must be a plain document ID, but '${zl}' contains a slash.`);const Ql=Nl.path.child(ht.fromString(zl));if(!dt.isDocumentKey(Ql))throw new Q(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Ll}() must result in a valid document path, but '${Ql}' is not because it contains an odd number of segments.`);const Jl=new dt(Ql);Gl.push(ye(Ml,Jl))}else{const Ql=Ih(Ol,Ll,zl);Gl.push(Ql)}}return new Ye(Gl,Bl)}(s._query,s.firestore._databaseId,$l,i,o,et)}}function nl(s,i,o){if(typeof(o=getModularInstance(o))=="string"){if(o==="")throw new Q(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!an(i)&&o.indexOf("/")!==-1)throw new Q(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const et=i.path.child(ht.fromString(o));if(!dt.isDocumentKey(et))throw new Q(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${et}' is not because it has an odd number of segments (${et.length}).`);return ye(s,new dt(et))}if(o instanceof ba)return ye(s,o._key);throw new Q(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pa(o)}.`)}function sl(s,i){if(!Array.isArray(s)||s.length===0)throw new Q(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(s.length>10)throw new Q(G.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function il(s,i,o){if(!o.isEqual(i))throw new Q(G.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{convertValue(i,o="none"){switch(le(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Zt(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,o);case 5:return i.stringValue;case 6:return this.convertBytes(te(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,o);case 10:return this.convertObject(i.mapValue,o);default:throw L()}}convertObject(i,o){const et={};return Lt(i.fields,($l,Nl)=>{et[$l]=this.convertValue(Nl,o)}),et}convertGeoPoint(i){return new sh(Zt(i.latitude),Zt(i.longitude))}convertArray(i,o){return(i.values||[]).map(et=>this.convertValue(et,o))}convertServerTimestamp(i,o){switch(o){case"previous":const et=ne(i);return et==null?null:this.convertValue(et,o);case"estimate":return this.convertTimestamp(se(i));default:return null}}convertTimestamp(i){const o=Xt(i);return new ut(o.seconds,o.nanos)}convertDocumentKey(i,o){const et=ht.fromString(i);U(ui(et));const $l=new re(et.get(1),et.get(3)),Nl=new dt(et.popFirst(5));return $l.isEqual(o)||F(`Document ${Nl} contains a document reference within a different database (${$l.projectId}/${$l.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),Nl}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(s,i,o){let et;return et=s?o&&(o.merge||o.mergeFields)?s.toFirestore(i,o):s.toFirestore(i):i,et}class cl extends ol{constructor(i){super(),this.firestore=i}convertBytes(i){return new eh(i)}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return new ba(this.firestore,null,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(i,o){this._firestore=i,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=hh(i)}set(i,o,et){this._verifyNotCommitted();const $l=hl(i,this._firestore),Nl=ul($l.converter,o,et),Ml=lh(this._dataReader,"WriteBatch.set",$l._key,Nl,$l.converter!==null,et);return this._mutations.push(Ml.toMutation($l._key,$n.none())),this}update(i,o,et,...$l){this._verifyNotCommitted();const Nl=hl(i,this._firestore);let Ml;return Ml=typeof(o=getModularInstance(o))=="string"||o instanceof Za?ph(this._dataReader,"WriteBatch.update",Nl._key,o,et,$l):yh(this._dataReader,"WriteBatch.update",Nl._key,o),this._mutations.push(Ml.toMutation(Nl._key,$n.exists(!0))),this}delete(i){this._verifyNotCommitted();const o=hl(i,this._firestore);return this._mutations=this._mutations.concat(new Yn(o._key,$n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Q(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hl(s,i){if((s=getModularInstance(s)).firestore!==i)throw new Q(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(s){s=Ia(s,ba);const i=Ia(s.firestore,Fa);return ua(La(i),s._key).then(o=>bl(i,s,o))}class fl extends ol{constructor(i){super(),this.firestore=i}convertBytes(i){return new eh(i)}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return new ba(this.firestore,null,o)}}function dl(s){s=Ia(s,ba);const i=Ia(s.firestore,Fa),o=La(i),et=new fl(i);return oa(o,s._key).then($l=>new kh(i,et,s._key,$l,new Nh($l!==null&&$l.hasLocalMutations,!0),s.converter))}function _l(s){s=Ia(s,ba);const i=Ia(s.firestore,Fa);return ua(La(i),s._key,{source:"server"}).then(o=>bl(i,s,o))}function wl(s){s=Ia(s,Pa);const i=Ia(s.firestore,Fa),o=La(i),et=new fl(i);return Bh(s._query),aa(o,s._query).then($l=>new Mh(i,et,s,$l))}function ml(s){s=Ia(s,Pa);const i=Ia(s.firestore,Fa),o=La(i),et=new fl(i);return ca(o,s._query).then($l=>new Mh(i,et,s,$l))}function gl(s){s=Ia(s,Pa);const i=Ia(s.firestore,Fa),o=La(i),et=new fl(i);return aa(o,s._query,{source:"server"}).then($l=>new Mh(i,et,s,$l))}function yl(s,i,o){s=Ia(s,ba);const et=Ia(s.firestore,Fa),$l=ul(s.converter,i,o);return Rl(et,[lh(hh(et),"setDoc",s._key,$l,s.converter!==null,o).toMutation(s._key,$n.none())])}function pl(s,i,o,...et){s=Ia(s,ba);const $l=Ia(s.firestore,Fa),Nl=hh($l);let Ml;return Ml=typeof(i=getModularInstance(i))=="string"||i instanceof Za?ph(Nl,"updateDoc",s._key,i,o,et):yh(Nl,"updateDoc",s._key,i),Rl($l,[Ml.toMutation(s._key,$n.exists(!0))])}function Il(s){return Rl(Ia(s.firestore,Fa),[new Yn(s._key,$n.none())])}function Tl(s,i){const o=Ia(s.firestore,Fa),et=Da(s),$l=ul(s.converter,i);return Rl(o,[lh(hh(s.firestore),"addDoc",et._key,$l,s.converter!==null,{}).toMutation(et._key,$n.exists(!1))]).then(()=>et)}function El(s,...i){var o,et,$l;s=getModularInstance(s);let Nl={includeMetadataChanges:!1},Ml=0;typeof i[Ml]!="object"||ka(i[Ml])||(Nl=i[Ml],Ml++);const Ol={includeMetadataChanges:Nl.includeMetadataChanges};if(ka(i[Ml])){const Ul=i[Ml];i[Ml]=(o=Ul.next)===null||o===void 0?void 0:o.bind(Ul),i[Ml+1]=(et=Ul.error)===null||et===void 0?void 0:et.bind(Ul),i[Ml+2]=($l=Ul.complete)===null||$l===void 0?void 0:$l.bind(Ul)}let Ll,Fl,Bl;if(s instanceof ba)Fl=Ia(s.firestore,Fa),Bl=rn(s._key.path),Ll={next:Ul=>{i[Ml]&&i[Ml](bl(Fl,s,Ul))},error:i[Ml+1],complete:i[Ml+2]};else{const Ul=Ia(s,Pa);Fl=Ia(Ul.firestore,Fa),Bl=Ul._query;const Gl=new fl(Fl);Ll={next:Wl=>{i[Ml]&&i[Ml](new Mh(Fl,Gl,Ul,Wl))},error:i[Ml+1],complete:i[Ml+2]},Bh(s._query)}return function(Ul,Gl,Wl,zl){const Ql=new Gc(zl),Jl=new Ju(Gl,Ql,Wl);return Ul.asyncQueue.enqueueAndForget(async()=>Qu(await sa(Ul),Jl)),()=>{Ql.Tc(),Ul.asyncQueue.enqueueAndForget(async()=>ju(await sa(Ul),Jl))}}(La(Fl),Bl,Ol,Ll)}function Al(s,i){return ha(La(s=Ia(s,Fa)),ka(i)?i:{next:i})}function Rl(s,i){return function(o,et){const $l=new j;return o.asyncQueue.enqueueAndForget(async()=>hc(await na(o),et,$l)),$l.promise}(La(s),i)}function bl(s,i,o){const et=o.docs.get(i._key),$l=new fl(s);return new kh(s,$l,i._key,et,new Nh(o.hasPendingWrites,o.fromCache),i.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends class{constructor(i,o){this._firestore=i,this._transaction=o,this._dataReader=hh(i)}get(i){const o=hl(i,this._firestore),et=new cl(this._firestore);return this._transaction.lookup([o._key]).then($l=>{if(!$l||$l.length!==1)return L();const Nl=$l[0];if(Nl.isFoundDocument())return new Dh(this._firestore,et,Nl.key,Nl,o.converter);if(Nl.isNoDocument())return new Dh(this._firestore,et,o._key,null,o.converter);throw L()})}set(i,o,et){const $l=hl(i,this._firestore),Nl=ul($l.converter,o,et),Ml=lh(this._dataReader,"Transaction.set",$l._key,Nl,$l.converter!==null,et);return this._transaction.set($l._key,Ml),this}update(i,o,et,...$l){const Nl=hl(i,this._firestore);let Ml;return Ml=typeof(o=getModularInstance(o))=="string"||o instanceof Za?ph(this._dataReader,"Transaction.update",Nl._key,o,et,$l):yh(this._dataReader,"Transaction.update",Nl._key,o),this._transaction.update(Nl._key,Ml),this}delete(i){const o=hl(i,this._firestore);return this._transaction.delete(o._key),this}}{constructor(i,o){super(i,o),this._firestore=i}get(i){const o=hl(i,this._firestore),et=new fl(this._firestore);return super.get(i).then($l=>new kh(this._firestore,et,o._key,$l._document,new Nh(!1,!1),o.converter))}}function vl(s,i,o){s=Ia(s,Fa);const et=Object.assign(Object.assign({},rl),o);return function($l){if($l.maxAttempts<1)throw new Q(G.INVALID_ARGUMENT,"Max attempts must be at least 1")}(et),la(La(s),$l=>i(new Pl(s,$l)),et)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(){return new fh("deleteField")}function Sl(){return new _h("serverTimestamp")}function Dl(...s){return new wh("arrayUnion",s)}function Cl(...s){return new mh("arrayRemove",s)}function xl(s){return new gh("increment",s)}(function(s,i=!0){(function(o){x=o})(SDK_VERSION$2),_registerComponent(new Component("firestore",(o,{options:et})=>{const $l=o.getProvider("app").getImmediate(),Nl=new Fa($l,new J(o.getProvider("auth-internal")),new tt(o.getProvider("app-check-internal")));return et=Object.assign({useFetchStreams:i},et),Nl._setSettings(et),Nl},"PUBLIC")),registerVersion(D,"3.4.12",s),registerVersion(D,"3.4.12","esm2017")})();var name$m="firebase",version$m="9.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$m,version$m,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(i,o){super(prependCode(i),`Firebase Storage: ${o} (${prependCode(i)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}_codeEquals(i){return prependCode(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function prependCode(s){return"storage/"+s}function unknown(){const s="An unknown error occurred, please check the error payload for server response.";return new StorageError("unknown",s)}function objectNotFound(s){return new StorageError("object-not-found","Object '"+s+"' does not exist.")}function quotaExceeded(s){return new StorageError("quota-exceeded","Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError("unauthenticated",s)}function unauthorizedApp(){return new StorageError("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function unauthorized(s){return new StorageError("unauthorized","User does not have permission to access '"+s+"'.")}function retryLimitExceeded(){return new StorageError("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError("canceled","User canceled the upload/download.")}function invalidUrl(s){return new StorageError("invalid-url","Invalid URL '"+s+"'.")}function invalidDefaultBucket(s){return new StorageError("invalid-default-bucket","Invalid default bucket '"+s+"'.")}function noDefaultBucket(){return new StorageError("no-default-bucket","No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function serverFileWrongSize(){return new StorageError("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function noDownloadURL(){return new StorageError("no-download-url","The given file does not have any download URLs.")}function invalidArgument(s){return new StorageError("invalid-argument",s)}function appDeleted(){return new StorageError("app-deleted","The Firebase app was deleted.")}function invalidRootOperation(s){return new StorageError("invalid-root-operation","The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(s,i){return new StorageError("invalid-format","String does not match format '"+s+"': "+i)}function internalError(s){throw new StorageError("internal-error","Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(i,o){this.bucket=i,this.path_=o}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,o){let et;try{et=Location.makeFromUrl(i,o)}catch{return new Location(i,"")}if(et.path==="")return et;throw invalidDefaultBucket(i)}static makeFromUrl(i,o){let et=null;const $l="([A-Za-z0-9.\\-_]+)";function Nl(Xl){Xl.path.charAt(Xl.path.length-1)==="/"&&(Xl.path_=Xl.path_.slice(0,-1))}const Ml="(/(.*))?$",Ol=new RegExp("^gs://"+$l+Ml,"i"),Ll={bucket:1,path:3};function Fl(Xl){Xl.path_=decodeURIComponent(Xl.path)}const Bl="v[A-Za-z0-9_]+",Ul=o.replace(/[.]/g,"\\."),Gl="(/([^?#]*).*)?$",Wl=new RegExp(`^https?://${Ul}/${Bl}/b/${$l}/o${Gl}`,"i"),zl={bucket:1,path:3},Ql=o===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":o,Jl="([^?#]*)",Kl=new RegExp(`^https?://${Ql}/${$l}/${Jl}`,"i"),Yl=[{regex:Ol,indices:Ll,postModify:Nl},{regex:Wl,indices:zl,postModify:Fl},{regex:Kl,indices:{bucket:1,path:2},postModify:Fl}];for(let Xl=0;Xl<Yl.length;Xl++){const Zl=Yl[Xl],_d=Zl.regex.exec(i);if(_d){const _f=_d[Zl.indices.bucket];let e0=_d[Zl.indices.path];e0||(e0=""),et=new Location(_f,e0),Zl.postModify(et);break}}if(et==null)throw invalidUrl(i);return et}}class FailRequest{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(s,i,o){let et=1,$l=null,Nl=null,Ml=!1,Ol=0;function Ll(){return Ol===2}let Fl=!1;function Bl(...Jl){Fl||(Fl=!0,i.apply(null,Jl))}function Ul(Jl){$l=setTimeout(()=>{$l=null,s(Wl,Ll())},Jl)}function Gl(){Nl&&clearTimeout(Nl)}function Wl(Jl,...Kl){if(Fl){Gl();return}if(Jl){Gl(),Bl.call(null,Jl,...Kl);return}if(Ll()||Ml){Gl(),Bl.call(null,Jl,...Kl);return}et<64&&(et*=2);let Yl;Ol===1?(Ol=2,Yl=0):Yl=(et+Math.random())*1e3,Ul(Yl)}let zl=!1;function Ql(Jl){zl||(zl=!0,Gl(),!Fl&&($l!==null?(Jl||(Ol=2),clearTimeout($l),Ul(0)):Jl||(Ol=1)))}return Ul(0),Nl=setTimeout(()=>{Ml=!0,Ql(!0)},o),Ql}function stop(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(s){return s!==void 0}function isFunction$1(s){return typeof s=="function"}function isNonArrayObject(s){return typeof s=="object"&&!Array.isArray(s)}function isString$1(s){return typeof s=="string"||s instanceof String}function isNativeBlob(s){return isNativeBlobDefined()&&s instanceof Blob}function isNativeBlobDefined(){return typeof Blob!="undefined"}function validateNumber(s,i,o,et){if(et<i)throw invalidArgument(`Invalid value for '${s}'. Expected ${i} or greater.`);if(et>o)throw invalidArgument(`Invalid value for '${s}'. Expected ${o} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(s,i,o){let et=i;return o==null&&(et=`https://${i}`),`${o}://${et}/v0${s}`}function makeQueryString(s){const i=encodeURIComponent;let o="?";for(const et in s)if(s.hasOwnProperty(et)){const $l=i(et)+"="+i(s[et]);o=o+$l+"&"}return o=o.slice(0,-1),o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ErrorCode;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(i,o,et,$l,Nl,Ml,Ol,Ll,Fl,Bl,Ul){this.url_=i,this.method_=o,this.headers_=et,this.body_=$l,this.successCodes_=Nl,this.additionalRetryCodes_=Ml,this.callback_=Ol,this.errorCallback_=Ll,this.timeout_=Fl,this.progressCallback_=Bl,this.connectionFactory_=Ul,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Gl,Wl)=>{this.resolve_=Gl,this.reject_=Wl,this.start_()})}start_(){const i=(et,$l)=>{if($l){et(!1,new RequestEndStatus(!1,null,!0));return}const Nl=this.connectionFactory_();this.pendingConnection_=Nl;const Ml=Ol=>{const Ll=Ol.loaded,Fl=Ol.lengthComputable?Ol.total:-1;this.progressCallback_!==null&&this.progressCallback_(Ll,Fl)};this.progressCallback_!==null&&Nl.addUploadProgressListener(Ml),Nl.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&Nl.removeUploadProgressListener(Ml),this.pendingConnection_=null;const Ol=Nl.getErrorCode()===ErrorCode.NO_ERROR,Ll=Nl.getStatus();if(!Ol||this.isRetryStatusCode_(Ll)){const Bl=Nl.getErrorCode()===ErrorCode.ABORT;et(!1,new RequestEndStatus(!1,null,Bl));return}const Fl=this.successCodes_.indexOf(Ll)!==-1;et(!0,new RequestEndStatus(Fl,Nl))})},o=(et,$l)=>{const Nl=this.resolve_,Ml=this.reject_,Ol=$l.connection;if($l.wasSuccessCode)try{const Ll=this.callback_(Ol,Ol.getResponse());isJustDef(Ll)?Nl(Ll):Nl()}catch(Ll){Ml(Ll)}else if(Ol!==null){const Ll=unknown();Ll.serverResponse=Ol.getErrorText(),this.errorCallback_?Ml(this.errorCallback_(Ol,Ll)):Ml(Ll)}else if($l.canceled){const Ll=this.appDelete_?appDeleted():canceled();Ml(Ll)}else{const Ll=retryLimitExceeded();Ml(Ll)}};this.canceled_?o(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(i,o,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(i){const o=i>=500&&i<600,$l=[408,429].indexOf(i)!==-1,Nl=this.additionalRetryCodes_.indexOf(i)!==-1;return o||$l||Nl}}class RequestEndStatus{constructor(i,o,et){this.wasSuccessCode=i,this.connection=o,this.canceled=!!et}}function addAuthHeader_(s,i){i!==null&&i.length>0&&(s.Authorization="Firebase "+i)}function addVersionHeader_(s,i){s["X-Firebase-Storage-Version"]="webjs/"+(i!=null?i:"AppManager")}function addGmpidHeader_(s,i){i&&(s["X-Firebase-GMPID"]=i)}function addAppCheckHeader_(s,i){i!==null&&(s["X-Firebase-AppCheck"]=i)}function makeRequest(s,i,o,et,$l,Nl){const Ml=makeQueryString(s.urlParams),Ol=s.url+Ml,Ll=Object.assign({},s.headers);return addGmpidHeader_(Ll,i),addAuthHeader_(Ll,o),addVersionHeader_(Ll,Nl),addAppCheckHeader_(Ll,et),new NetworkRequest(Ol,s.method,Ll,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,$l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function getBlob$1(...s){const i=getBlobBuilder();if(i!==void 0){const o=new i;for(let et=0;et<s.length;et++)o.append(s[et]);return o.getBlob()}else{if(isNativeBlobDefined())return new Blob(s);throw new StorageError("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function sliceBlob(s,i,o){return s.webkitSlice?s.webkitSlice(i,o):s.mozSlice?s.mozSlice(i,o):s.slice?s.slice(i,o):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(s){return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(i,o){this.data=i,this.contentType=o||null}}function dataFromString(s,i){switch(s){case StringFormat.RAW:return new StringData(utf8Bytes_(i));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(s,i));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(i),dataURLContentType_(i))}throw unknown()}function utf8Bytes_(s){const i=[];for(let o=0;o<s.length;o++){let et=s.charCodeAt(o);if(et<=127)i.push(et);else if(et<=2047)i.push(192|et>>6,128|et&63);else if((et&64512)===55296)if(!(o<s.length-1&&(s.charCodeAt(o+1)&64512)===56320))i.push(239,191,189);else{const Nl=et,Ml=s.charCodeAt(++o);et=65536|(Nl&1023)<<10|Ml&1023,i.push(240|et>>18,128|et>>12&63,128|et>>6&63,128|et&63)}else(et&64512)===56320?i.push(239,191,189):i.push(224|et>>12,128|et>>6&63,128|et&63)}return new Uint8Array(i)}function percentEncodedBytes_(s){let i;try{i=decodeURIComponent(s)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(i)}function base64Bytes_(s,i){switch(s){case StringFormat.BASE64:{const $l=i.indexOf("-")!==-1,Nl=i.indexOf("_")!==-1;if($l||Nl)throw invalidFormat(s,"Invalid character '"+($l?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const $l=i.indexOf("+")!==-1,Nl=i.indexOf("/")!==-1;if($l||Nl)throw invalidFormat(s,"Invalid character '"+($l?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=decodeBase64(i)}catch{throw invalidFormat(s,"Invalid character found")}const et=new Uint8Array(o.length);for(let $l=0;$l<o.length;$l++)et[$l]=o.charCodeAt($l);return et}class DataURLParts{constructor(i){this.base64=!1,this.contentType=null;const o=i.match(/^data:([^,]+)?,/);if(o===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const et=o[1]||null;et!=null&&(this.base64=endsWith(et,";base64"),this.contentType=this.base64?et.substring(0,et.length-7):et),this.rest=i.substring(i.indexOf(",")+1)}}function dataURLBytes_(s){const i=new DataURLParts(s);return i.base64?base64Bytes_(StringFormat.BASE64,i.rest):percentEncodedBytes_(i.rest)}function dataURLContentType_(s){return new DataURLParts(s).contentType}function endsWith(s,i){return s.length>=i.length?s.substring(s.length-i.length)===i:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(i,o){let et=0,$l="";isNativeBlob(i)?(this.data_=i,et=i.size,$l=i.type):i instanceof ArrayBuffer?(o?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),et=this.data_.length):i instanceof Uint8Array&&(o?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),et=i.length),this.size_=et,this.type_=$l}size(){return this.size_}type(){return this.type_}slice(i,o){if(isNativeBlob(this.data_)){const et=this.data_,$l=sliceBlob(et,i,o);return $l===null?null:new FbsBlob($l)}else{const et=new Uint8Array(this.data_.buffer,i,o-i);return new FbsBlob(et,!0)}}static getBlob(...i){if(isNativeBlobDefined()){const o=i.map(et=>et instanceof FbsBlob?et.data_:et);return new FbsBlob(getBlob$1.apply(null,o))}else{const o=i.map(Ml=>isString$1(Ml)?dataFromString(StringFormat.RAW,Ml).data:Ml.data_);let et=0;o.forEach(Ml=>{et+=Ml.byteLength});const $l=new Uint8Array(et);let Nl=0;return o.forEach(Ml=>{for(let Ol=0;Ol<Ml.length;Ol++)$l[Nl++]=Ml[Ol]}),new FbsBlob($l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(s){let i;try{i=JSON.parse(s)}catch{return null}return isNonArrayObject(i)?i:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(s){if(s.length===0)return null;const i=s.lastIndexOf("/");return i===-1?"":s.slice(0,i)}function child$1(s,i){const o=i.split("/").filter(et=>et.length>0).join("/");return s.length===0?o:s+"/"+o}function lastComponent(s){const i=s.lastIndexOf("/",s.length-2);return i===-1?s:s.slice(i+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(s,i){return i}class Mapping{constructor(i,o,et,$l){this.server=i,this.local=o||i,this.writable=!!et,this.xform=$l||noXform_}}let mappings_=null;function xformPath(s){return!isString$1(s)||s.length<2?s:lastComponent(s)}function getMappings(){if(mappings_)return mappings_;const s=[];s.push(new Mapping("bucket")),s.push(new Mapping("generation")),s.push(new Mapping("metageneration")),s.push(new Mapping("name","fullPath",!0));function i(Nl,Ml){return xformPath(Ml)}const o=new Mapping("name");o.xform=i,s.push(o);function et(Nl,Ml){return Ml!==void 0?Number(Ml):Ml}const $l=new Mapping("size");return $l.xform=et,s.push($l),s.push(new Mapping("timeCreated")),s.push(new Mapping("updated")),s.push(new Mapping("md5Hash",null,!0)),s.push(new Mapping("cacheControl",null,!0)),s.push(new Mapping("contentDisposition",null,!0)),s.push(new Mapping("contentEncoding",null,!0)),s.push(new Mapping("contentLanguage",null,!0)),s.push(new Mapping("contentType",null,!0)),s.push(new Mapping("metadata","customMetadata",!0)),mappings_=s,mappings_}function addRef(s,i){function o(){const et=s.bucket,$l=s.fullPath,Nl=new Location(et,$l);return i._makeStorageReference(Nl)}Object.defineProperty(s,"ref",{get:o})}function fromResource(s,i,o){const et={};et.type="file";const $l=o.length;for(let Nl=0;Nl<$l;Nl++){const Ml=o[Nl];et[Ml.local]=Ml.xform(et,i[Ml.server])}return addRef(et,s),et}function fromResourceString(s,i,o){const et=jsonObjectOrNull(i);return et===null?null:fromResource(s,et,o)}function downloadUrlFromResourceString(s,i,o,et){const $l=jsonObjectOrNull(i);if($l===null||!isString$1($l.downloadTokens))return null;const Nl=$l.downloadTokens;if(Nl.length===0)return null;const Ml=encodeURIComponent;return Nl.split(",").map(Fl=>{const Bl=s.bucket,Ul=s.fullPath,Gl="/b/"+Ml(Bl)+"/o/"+Ml(Ul),Wl=makeUrl(Gl,o,et),zl=makeQueryString({alt:"media",token:Fl});return Wl+zl})[0]}function toResourceString(s,i){const o={},et=i.length;for(let $l=0;$l<et;$l++){const Nl=i[$l];Nl.writable&&(o[Nl.server]=s[Nl.local])}return JSON.stringify(o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PREFIXES_KEY="prefixes",ITEMS_KEY="items";function fromBackendResponse(s,i,o){const et={prefixes:[],items:[],nextPageToken:o.nextPageToken};if(o[PREFIXES_KEY])for(const $l of o[PREFIXES_KEY]){const Nl=$l.replace(/\/$/,""),Ml=s._makeStorageReference(new Location(i,Nl));et.prefixes.push(Ml)}if(o[ITEMS_KEY])for(const $l of o[ITEMS_KEY]){const Nl=s._makeStorageReference(new Location(i,$l.name));et.items.push(Nl)}return et}function fromResponseString(s,i,o){const et=jsonObjectOrNull(o);return et===null?null:fromBackendResponse(s,i,et)}class RequestInfo{constructor(i,o,et,$l){this.url=i,this.method=o,this.handler=et,this.timeout=$l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(s){if(!s)throw unknown()}function metadataHandler(s,i){function o(et,$l){const Nl=fromResourceString(s,$l,i);return handlerCheck(Nl!==null),Nl}return o}function listHandler(s,i){function o(et,$l){const Nl=fromResponseString(s,i,$l);return handlerCheck(Nl!==null),Nl}return o}function downloadUrlHandler(s,i){function o(et,$l){const Nl=fromResourceString(s,$l,i);return handlerCheck(Nl!==null),downloadUrlFromResourceString(Nl,$l,s.host,s._protocol)}return o}function sharedErrorHandler(s){function i(o,et){let $l;return o.getStatus()===401?o.getErrorText().includes("Firebase App Check token is invalid")?$l=unauthorizedApp():$l=unauthenticated():o.getStatus()===402?$l=quotaExceeded(s.bucket):o.getStatus()===403?$l=unauthorized(s.path):$l=et,$l.serverResponse=et.serverResponse,$l}return i}function objectErrorHandler(s){const i=sharedErrorHandler(s);function o(et,$l){let Nl=i(et,$l);return et.getStatus()===404&&(Nl=objectNotFound(s.path)),Nl.serverResponse=$l.serverResponse,Nl}return o}function getMetadata$2(s,i,o){const et=i.fullServerUrl(),$l=makeUrl(et,s.host,s._protocol),Nl="GET",Ml=s.maxOperationRetryTime,Ol=new RequestInfo($l,Nl,metadataHandler(s,o),Ml);return Ol.errorHandler=objectErrorHandler(i),Ol}function list$2(s,i,o,et,$l){const Nl={};i.isRoot?Nl.prefix="":Nl.prefix=i.path+"/",o&&o.length>0&&(Nl.delimiter=o),et&&(Nl.pageToken=et),$l&&(Nl.maxResults=$l);const Ml=i.bucketOnlyServerUrl(),Ol=makeUrl(Ml,s.host,s._protocol),Ll="GET",Fl=s.maxOperationRetryTime,Bl=new RequestInfo(Ol,Ll,listHandler(s,i.bucket),Fl);return Bl.urlParams=Nl,Bl.errorHandler=sharedErrorHandler(i),Bl}function getDownloadUrl(s,i,o){const et=i.fullServerUrl(),$l=makeUrl(et,s.host,s._protocol),Nl="GET",Ml=s.maxOperationRetryTime,Ol=new RequestInfo($l,Nl,downloadUrlHandler(s,o),Ml);return Ol.errorHandler=objectErrorHandler(i),Ol}function updateMetadata$2(s,i,o,et){const $l=i.fullServerUrl(),Nl=makeUrl($l,s.host,s._protocol),Ml="PATCH",Ol=toResourceString(o,et),Ll={"Content-Type":"application/json; charset=utf-8"},Fl=s.maxOperationRetryTime,Bl=new RequestInfo(Nl,Ml,metadataHandler(s,et),Fl);return Bl.headers=Ll,Bl.body=Ol,Bl.errorHandler=objectErrorHandler(i),Bl}function deleteObject$2(s,i){const o=i.fullServerUrl(),et=makeUrl(o,s.host,s._protocol),$l="DELETE",Nl=s.maxOperationRetryTime;function Ml(Ll,Fl){}const Ol=new RequestInfo(et,$l,Ml,Nl);return Ol.successCodes=[200,204],Ol.errorHandler=objectErrorHandler(i),Ol}function determineContentType_(s,i){return s&&s.contentType||i&&i.type()||"application/octet-stream"}function metadataForUpload_(s,i,o){const et=Object.assign({},o);return et.fullPath=s.path,et.size=i.size(),et.contentType||(et.contentType=determineContentType_(null,i)),et}function multipartUpload(s,i,o,et,$l){const Nl=i.bucketOnlyServerUrl(),Ml={"X-Goog-Upload-Protocol":"multipart"};function Ol(){let Yl="";for(let Xl=0;Xl<2;Xl++)Yl=Yl+Math.random().toString().slice(2);return Yl}const Ll=Ol();Ml["Content-Type"]="multipart/related; boundary="+Ll;const Fl=metadataForUpload_(i,et,$l),Bl=toResourceString(Fl,o),Ul="--"+Ll+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+Bl+`\r
--`+Ll+`\r
Content-Type: `+Fl.contentType+`\r
\r
`,Gl=`\r
--`+Ll+"--",Wl=FbsBlob.getBlob(Ul,et,Gl);if(Wl===null)throw cannotSliceBlob();const zl={name:Fl.fullPath},Ql=makeUrl(Nl,s.host,s._protocol),Jl="POST",Kl=s.maxUploadRetryTime,Hl=new RequestInfo(Ql,Jl,metadataHandler(s,o),Kl);return Hl.urlParams=zl,Hl.headers=Ml,Hl.body=Wl.uploadData(),Hl.errorHandler=sharedErrorHandler(i),Hl}class ResumableUploadStatus{constructor(i,o,et,$l){this.current=i,this.total=o,this.finalized=!!et,this.metadata=$l||null}}function checkResumeHeader_(s,i){let o=null;try{o=s.getResponseHeader("X-Goog-Upload-Status")}catch{handlerCheck(!1)}return handlerCheck(!!o&&(i||["active"]).indexOf(o)!==-1),o}function createResumableUpload(s,i,o,et,$l){const Nl=i.bucketOnlyServerUrl(),Ml=metadataForUpload_(i,et,$l),Ol={name:Ml.fullPath},Ll=makeUrl(Nl,s.host,s._protocol),Fl="POST",Bl={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${et.size()}`,"X-Goog-Upload-Header-Content-Type":Ml.contentType,"Content-Type":"application/json; charset=utf-8"},Ul=toResourceString(Ml,o),Gl=s.maxUploadRetryTime;function Wl(Ql){checkResumeHeader_(Ql);let Jl;try{Jl=Ql.getResponseHeader("X-Goog-Upload-URL")}catch{handlerCheck(!1)}return handlerCheck(isString$1(Jl)),Jl}const zl=new RequestInfo(Ll,Fl,Wl,Gl);return zl.urlParams=Ol,zl.headers=Bl,zl.body=Ul,zl.errorHandler=sharedErrorHandler(i),zl}function getResumableUploadStatus(s,i,o,et){const $l={"X-Goog-Upload-Command":"query"};function Nl(Fl){const Bl=checkResumeHeader_(Fl,["active","final"]);let Ul=null;try{Ul=Fl.getResponseHeader("X-Goog-Upload-Size-Received")}catch{handlerCheck(!1)}Ul||handlerCheck(!1);const Gl=Number(Ul);return handlerCheck(!isNaN(Gl)),new ResumableUploadStatus(Gl,et.size(),Bl==="final")}const Ml="POST",Ol=s.maxUploadRetryTime,Ll=new RequestInfo(o,Ml,Nl,Ol);return Ll.headers=$l,Ll.errorHandler=sharedErrorHandler(i),Ll}const RESUMABLE_UPLOAD_CHUNK_SIZE=256*1024;function continueResumableUpload(s,i,o,et,$l,Nl,Ml,Ol){const Ll=new ResumableUploadStatus(0,0);if(Ml?(Ll.current=Ml.current,Ll.total=Ml.total):(Ll.current=0,Ll.total=et.size()),et.size()!==Ll.total)throw serverFileWrongSize();const Fl=Ll.total-Ll.current;let Bl=Fl;$l>0&&(Bl=Math.min(Bl,$l));const Ul=Ll.current,Gl=Ul+Bl,zl={"X-Goog-Upload-Command":Bl===Fl?"upload, finalize":"upload","X-Goog-Upload-Offset":`${Ll.current}`},Ql=et.slice(Ul,Gl);if(Ql===null)throw cannotSliceBlob();function Jl(Xl,Zl){const _d=checkResumeHeader_(Xl,["active","final"]),_f=Ll.current+Bl,e0=et.size();let s0;return _d==="final"?s0=metadataHandler(i,Nl)(Xl,Zl):s0=null,new ResumableUploadStatus(_f,e0,_d==="final",s0)}const Kl="POST",Hl=i.maxUploadRetryTime,Yl=new RequestInfo(o,Kl,Jl,Hl);return Yl.headers=zl,Yl.body=Ql.uploadData(),Yl.progressCallback=Ol||null,Yl.errorHandler=sharedErrorHandler(s),Yl}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TaskEvent={STATE_CHANGED:"state_changed"},TaskState={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function taskStateFromInternalTaskState(s){switch(s){case"running":case"pausing":case"canceling":return TaskState.RUNNING;case"paused":return TaskState.PAUSED;case"success":return TaskState.SUCCESS;case"canceled":return TaskState.CANCELED;case"error":return TaskState.ERROR;default:return TaskState.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Observer{constructor(i,o,et){if(isFunction$1(i)||o!=null||et!=null)this.next=i,this.error=o!=null?o:void 0,this.complete=et!=null?et:void 0;else{const Nl=i;this.next=Nl.next,this.error=Nl.error,this.complete=Nl.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function async(s){return(...i)=>{Promise.resolve().then(()=>s(...i))}}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,o,et,$l){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,i,!0),$l!==void 0)for(const Nl in $l)$l.hasOwnProperty(Nl)&&this.xhr_.setRequestHeader(Nl,$l[Nl].toString());return et!==void 0?this.xhr_.send(et):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",i)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UploadTask{constructor(i,o,et=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=o,this._metadata=et,this._mappings=getMappings(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=$l=>{this._request=void 0,this._chunkMultiplier=1,$l._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=$l,this._transition("error"))},this._metadataErrorHandler=$l=>{this._request=void 0,$l._codeEquals("canceled")?this.completeTransitions_():(this._error=$l,this._transition("error"))},this._promise=new Promise(($l,Nl)=>{this._resolve=$l,this._reject=Nl,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const i=this._transferred;return o=>this._updateProgress(i+o)}_shouldDoResumable(i){return i.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,et])=>{switch(this._state){case"running":i(o,et);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((i,o)=>{const et=createResumableUpload(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),$l=this._ref.storage._makeRequest(et,newTextConnection,i,o);this._request=$l,$l.getPromise().then(Nl=>{this._request=void 0,this._uploadUrl=Nl,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((o,et)=>{const $l=getResumableUploadStatus(this._ref.storage,this._ref._location,i,this._blob),Nl=this._ref.storage._makeRequest($l,newTextConnection,o,et);this._request=Nl,Nl.getPromise().then(Ml=>{Ml=Ml,this._request=void 0,this._updateProgress(Ml.current),this._needToFetchStatus=!1,Ml.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=RESUMABLE_UPLOAD_CHUNK_SIZE*this._chunkMultiplier,o=new ResumableUploadStatus(this._transferred,this._blob.size()),et=this._uploadUrl;this._resolveToken(($l,Nl)=>{let Ml;try{Ml=continueResumableUpload(this._ref._location,this._ref.storage,et,this._blob,i,this._mappings,o,this._makeProgressCallback())}catch(Ll){this._error=Ll,this._transition("error");return}const Ol=this._ref.storage._makeRequest(Ml,newTextConnection,$l,Nl);this._request=Ol,Ol.getPromise().then(Ll=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Ll.current),Ll.finalized?(this._metadata=Ll.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){RESUMABLE_UPLOAD_CHUNK_SIZE*this._chunkMultiplier<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,o)=>{const et=getMetadata$2(this._ref.storage,this._ref._location,this._mappings),$l=this._ref.storage._makeRequest(et,newTextConnection,i,o);this._request=$l,$l.getPromise().then(Nl=>{this._request=void 0,this._metadata=Nl,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,o)=>{const et=multipartUpload(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),$l=this._ref.storage._makeRequest(et,newTextConnection,i,o);this._request=$l,$l.getPromise().then(Nl=>{this._request=void 0,this._metadata=Nl,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const o=this._transferred;this._transferred=i,this._transferred!==o&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":this._state=i,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=i,this._request!==void 0&&this._request.cancel();break;case"running":const o=this._state==="paused";this._state=i,o&&(this._notifyObservers(),this._start());break;case"paused":this._state=i,this._notifyObservers();break;case"canceled":this._error=canceled(),this._state=i,this._notifyObservers();break;case"error":this._state=i,this._notifyObservers();break;case"success":this._state=i,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const i=taskStateFromInternalTaskState(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,o,et,$l){const Nl=new Observer(o||void 0,et||void 0,$l||void 0);return this._addObserver(Nl),()=>{this._removeObserver(Nl)}}then(i,o){return this._promise.then(i,o)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const o=this._observers.indexOf(i);o!==-1&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(this._resolve!==void 0){let i=!0;switch(taskStateFromInternalTaskState(this._state)){case TaskState.SUCCESS:async(this._resolve.bind(null,this.snapshot))();break;case TaskState.CANCELED:case TaskState.ERROR:const o=this._reject;async(o.bind(null,this._error))();break;default:i=!1;break}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(taskStateFromInternalTaskState(this._state)){case TaskState.RUNNING:case TaskState.PAUSED:i.next&&async(i.next.bind(i,this.snapshot))();break;case TaskState.SUCCESS:i.complete&&async(i.complete.bind(i))();break;case TaskState.CANCELED:case TaskState.ERROR:i.error&&async(i.error.bind(i,this._error))();break;default:i.error&&async(i.error.bind(i,this._error))()}}resume(){const i=this._state==="paused"||this._state==="pausing";return i&&this._transition("running"),i}pause(){const i=this._state==="running";return i&&this._transition("pausing"),i}cancel(){const i=this._state==="running"||this._state==="pausing";return i&&this._transition("canceling"),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference$1{constructor(i,o){this._service=i,o instanceof Location?this._location=o:this._location=Location.makeFromUrl(o,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,o){return new Reference$1(i,o)}get root(){const i=new Location(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const i=parent(this._location.path);if(i===null)return null;const o=new Location(this._location.bucket,i);return new Reference$1(this._service,o)}_throwIfRoot(i){if(this._location.path==="")throw invalidRootOperation(i)}}function uploadBytesResumable$1(s,i,o){return s._throwIfRoot("uploadBytesResumable"),new UploadTask(s,new FbsBlob(i),o)}function listAll$1(s){const i={prefixes:[],items:[]};return listAllHelper(s,i).then(()=>i)}async function listAllHelper(s,i,o){const $l=await list$1(s,{pageToken:o});i.prefixes.push(...$l.prefixes),i.items.push(...$l.items),$l.nextPageToken!=null&&await listAllHelper(s,i,$l.nextPageToken)}function list$1(s,i){i!=null&&typeof i.maxResults=="number"&&validateNumber("options.maxResults",1,1e3,i.maxResults);const o=i||{},et=list$2(s.storage,s._location,"/",o.pageToken,o.maxResults);return s.storage.makeRequestWithTokens(et,newTextConnection)}function getMetadata$1(s){s._throwIfRoot("getMetadata");const i=getMetadata$2(s.storage,s._location,getMappings());return s.storage.makeRequestWithTokens(i,newTextConnection)}function updateMetadata$1(s,i){s._throwIfRoot("updateMetadata");const o=updateMetadata$2(s.storage,s._location,i,getMappings());return s.storage.makeRequestWithTokens(o,newTextConnection)}function getDownloadURL$1(s){s._throwIfRoot("getDownloadURL");const i=getDownloadUrl(s.storage,s._location,getMappings());return s.storage.makeRequestWithTokens(i,newTextConnection).then(o=>{if(o===null)throw noDownloadURL();return o})}function deleteObject$1(s){s._throwIfRoot("deleteObject");const i=deleteObject$2(s.storage,s._location);return s.storage.makeRequestWithTokens(i,newTextConnection)}function _getChild$1(s,i){const o=child$1(s._location.path,i),et=new Location(s._location.bucket,o);return new Reference$1(s.storage,et)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl$1(s){return/^[A-Za-z]+:\/\//.test(s)}function refFromURL$1(s,i){return new Reference$1(s,i)}function refFromPath(s,i){if(s instanceof FirebaseStorageImpl){const o=s;if(o._bucket==null)throw noDefaultBucket();const et=new Reference$1(o,o._bucket);return i!=null?refFromPath(et,i):et}else return i!==void 0?_getChild$1(s,i):s}function ref$1(s,i){if(i&&isUrl$1(i)){if(s instanceof FirebaseStorageImpl)return refFromURL$1(s,i);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(s,i)}function extractBucket(s,i){const o=i==null?void 0:i[CONFIG_STORAGE_BUCKET_KEY];return o==null?null:Location.makeFromBucketSpec(o,s)}function connectStorageEmulator$1(s,i,o,et={}){s.host=`${i}:${o}`,s._protocol="http";const{mockUserToken:$l}=et;$l&&(s._overrideAuthToken=typeof $l=="string"?$l:createMockUserToken($l,s.app.options.projectId))}class FirebaseStorageImpl{constructor(i,o,et,$l,Nl){this.app=i,this._authProvider=o,this._appCheckProvider=et,this._url=$l,this._firebaseVersion=Nl,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,$l!=null?this._bucket=Location.makeFromBucketSpec($l,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,i):this._bucket=extractBucket(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){validateNumber("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){validateNumber("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const i=this._authProvider.getImmediate({optional:!0});if(i){const o=await i.getToken();if(o!==null)return o.accessToken}return null}async _getAppCheckToken(){const i=this._appCheckProvider.getImmediate({optional:!0});return i?(await i.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new Reference$1(this,i)}_makeRequest(i,o,et,$l){if(this._deleted)return new FailRequest(appDeleted());{const Nl=makeRequest(i,this._appId,et,$l,o,this._firebaseVersion);return this._requests.add(Nl),Nl.getPromise().then(()=>this._requests.delete(Nl),()=>this._requests.delete(Nl)),Nl}}async makeRequestWithTokens(i,o){const[et,$l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(i,o,et,$l).getPromise()}}const name$l="@firebase/storage",version$l="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE$1="storage";function uploadBytesResumable(s,i,o){return s=getModularInstance(s),uploadBytesResumable$1(s,i,o)}function getMetadata(s){return s=getModularInstance(s),getMetadata$1(s)}function updateMetadata(s,i){return s=getModularInstance(s),updateMetadata$1(s,i)}function list(s,i){return s=getModularInstance(s),list$1(s,i)}function listAll(s){return s=getModularInstance(s),listAll$1(s)}function getDownloadURL(s){return s=getModularInstance(s),getDownloadURL$1(s)}function deleteObject(s){return s=getModularInstance(s),deleteObject$1(s)}function ref$2(s,i){return s=getModularInstance(s),ref$1(s,i)}function _getChild(s,i){return _getChild$1(s,i)}function getStorage(s=getApp(),i){return s=getModularInstance(s),_getProvider(s,STORAGE_TYPE$1).getImmediate({identifier:i})}function connectStorageEmulator(s,i,o,et={}){connectStorageEmulator$1(s,i,o,et)}function factory$7(s,{instanceIdentifier:i}){const o=s.getProvider("app").getImmediate(),et=s.getProvider("auth-internal"),$l=s.getProvider("app-check-internal");return new FirebaseStorageImpl(o,et,$l,i,SDK_VERSION$2)}function registerStorage$1(){_registerComponent(new Component(STORAGE_TYPE$1,factory$7,"PUBLIC").setMultipleInstances(!0)),registerVersion(name$l,version$l,""),registerVersion(name$l,version$l,"esm2017")}registerStorage$1();const firebaseKey={apiKey:"AIzaSyDrAEizOXHcCXYrQa96w6TxfddOS2Yb0tU",authDomain:"gdsc-dju.firebaseapp.com",databaseURL:"https://gdsc-dju-default-rtdb.firebaseio.com",projectId:"gdsc-dju",storageBucket:"gdsc-dju.appspot.com",messagingSenderId:"487063212251",appId:"1:487063212251:web:82d233e5e10f2b0aca3cfe",measurementId:"G-10NGEVTBHD"},app=initializeApp(firebaseKey),storage$1=getStorage(app),db=Ba(app),auth=getAuth(),SignIn=()=>{const s=useNavigate(),[i,o]=react.exports.useState(""),[et,$l]=react.exports.useState(""),[Nl,Ml]=react.exports.useState(""),Ol=Bl=>{Bl.key==="Enter"&&Ll()},Ll=()=>{try{signInWithEmailAndPassword(auth,et,i).then(Bl=>{Bl.user&&s("/admin")})}catch(Bl){switch(Bl){case"auth/email-already-in-use":return Ml("\uC774\uBBF8 \uC0AC\uC6A9 \uC911\uC778 \uC774\uBA54\uC77C\uC785\uB2C8\uB2E4.");case"auth/invalid-email":return Ml("\uD574\uB2F9 \uC774\uBA54\uC77C \uC8FC\uC18C\uB85C \uB4F1\uB85D\uB41C \uACC4\uC815\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");case"operation-not-allowed":return Ml("\uC774\uBA54\uC77C \uAC00\uC785\uC774 \uC911\uC9C0\uB418\uC5C8\uC2B5\uB2C8\uB2E4.");case"auth/weak-password":return Ml("\uBE44\uBC00\uBC88\uD638\uB97C 6\uC790\uB9AC \uC774\uC0C1 \uC785\uB825\uD558\uC138\uC694.");case"auth/user-not-found":return Ml("\uC62C\uBC14\uB974\uC9C0 \uC54A\uC740 \uC720\uC800\uC815\uBCF4\uC785\uB2C8\uB2E4.");case"auth/wrong-password":return Ml("\uC62C\uBC14\uB974\uC9C0 \uC54A\uC740 \uBE44\uBC00\uBC88\uD638\uC785\uB2C8\uB2E4.")}}},Fl=Bl=>{const{target:{name:Ul,value:Gl}}=Bl;Ul==="email"?$l(Gl):Ul==="password"&&o(Gl)};return jsxs(SignInWrapper,{children:[jsx(SignInLeftSection,{children:jsx(SignInSolarSystemWrapper,{children:jsx(SolarSystem$1,{})})}),jsx(AuthBoxWrapper,{children:jsxs(AuthBoxInner,{children:[jsxs(AuthElementWrapper,{align:"center",children:[jsx(GDSCLogoImage,{src:GDSCLogo}),jsx(AuthLogoText,{border:"bold",children:"GDSC"}),jsx(AuthLogoText,{children:"Daejin Univ."})]}),jsx(AuthElementWrapper,{align:"center",children:jsx(AuthTitle,{children:"\uB85C\uADF8\uC778"})}),jsxs(AuthElementWrapper,{direction:"column",children:[jsx(AuthSubTitle,{children:"\uC774\uBA54\uC77C \uC8FC\uC18C"}),jsx(AuthInput,{type:"email",name:"email",onKeyPress:Ol,onChange:Fl,placeholder:"gdsc@gmail.com"})]}),jsxs(AuthElementWrapper,{direction:"column",children:[jsx(AuthSubTitle,{children:"\uBE44\uBC00\uBC88\uD638"}),jsx(AuthInput,{type:"password",name:"password",onKeyPress:Ol,onChange:Fl})]}),jsx(AuthErrorText,{children:Nl}),jsx(AuthButtonWrapper,{children:jsx(AuthSignButton,{onClick:()=>{Ll()},children:"\uB85C\uADF8\uC778"})}),jsxs(AuthElementWrapper,{align:"center",children:[jsx(AuthLine,{}),jsx(AuthOtherText,{children:"\uB610\uB294"}),jsx(AuthLine,{})]}),jsx(AuthElementWrapper,{children:jsx(GoogleLoginButton,{})}),jsx(AuthElementWrapper,{children:jsx(GithubLoginButton,{})})]})})]})},GoogleLoginButton=()=>jsxs(OAuthButton,{children:[jsx(OAuthImage,{src:GoogleLogo}),jsx(OAuthText,{weight:"bold",children:"Google"}),jsx(OAuthText,{children:"\uB85C \uACC4\uC18D"})]}),GithubLoginButton=()=>jsxs(OAuthButton,{children:[jsx(OAuthImage,{src:GithubLogo}),jsx(OAuthText,{weight:"bold",children:"Github"}),jsx(OAuthText,{children:"\uB85C \uACC4\uC18D"})]}),Auth$1=()=>jsxs(Routes,{children:[jsx(Route,{path:"/*",element:jsx(SignIn,{})}),jsx(Route,{path:"/in",element:jsx(SignIn,{})})]}),Title=styled(motion.h1)`
  font-size: ${s=>s.theme.fontSize.h2};
  font-weight: 800;
  color: ${s=>s.theme.colors.grey800};
  word-break: keep-all;
  margin-bottom: 10px;
  @media (max-width: ${s=>s.theme.windowSize.tablet}px) {
    font-size: ${s=>s.theme.fontSize.h2};
  }
  @media (max-width: 500px) {
    font-size: ${s=>s.theme.fontSize.h3};
  }
`,SubTitle=styled(motion.h2)`
  font-size: 1.7rem;
  font-weight: 400;
  color: ${s=>s.theme.colors.grey600};
  margin-bottom: 10px;
  @media (max-width: 500px) {
    font-size: 1.6rem;
  }
`,SubCategory=styled(motion.h3)`
  font-size: ${({theme:s})=>s.fontSize.h6};
  font-weight: 700;
  color: ${s=>s.theme.colors.grey800};
  margin-bottom: 10px;
  @media (max-width: 500px) {
    font-size: ${({theme:s})=>s.fontSize.h6};
  }
`,MainText=styled(motion.p)`
  font-size: ${({theme:s})=>s.fontSize.body1};
  color: ${s=>s.theme.colors.grey800};
  padding-bottom: 20px;
  line-height: 1.5;
`,ErrorContainer=styled.div`
  position: relative;
  display: flex;
  min-height: calc(100vh - 160px);
  min-width: 100vw;
  align-items: center;
  justify-content: center;
  flex-direction: column;
`,ErrorContentWrapper=styled.div`
  position: absolute;
  display: flex;
  align-items: center;
  flex-direction: column;
  top: 200px;
  max-width: 500px;
  min-width: 370px;
  padding: 0 20px;
`,ip=0,fr=60,v="5.1.20",assets=[{id:"precomp_1",layers:[{ty:4,nm:"mobil-01",ip:0,st:0,ind:15,hix:17,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[8.77850341796875,18.371490478515625,0]},p:{s:!0,x:{a:0,k:1202.935},y:{a:0,k:357.911}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-01 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[769.249,285.846],[769.198,276.024],[770.954,273.276],[772.9129999999999,274.802],[773.1679999999999,282.79200000000003],[773.6509999999998,296.533],[773.9819999999999,308.492],[771.6919999999999,310.019],[770.1649999999998,307.88100000000003],[764.9749999999998,309.61100000000005],[758.7909999999998,306.761],[756.4249999999998,299.738],[758.1299999999999,291.926],[763.4469999999999,286.71],[767.7729999999999,285.743]],i:[[-.4759999999999991,-.06700000000000728],[0,0],[-1.1709999999999354,0],[-.13599999999996726,-1.016999999999996],[-.10199999999997544,-4.886000000000024],[-.2199999999999136,-4.274999999999977],[0,-3.6970000000000027],[1.5259999999999536,0],[0,1.4249999999999545],[2.00100000000009,0],[1.5789999999999509,1.900000000000034],[0,2.782000000000039],[-1.1380000000000337,2.4259999999999877],[-2.408999999999992,1.052000000000021],[-1.3910000000000764,0]],o:[[0,0],[0,-1.8319999999999936],[1.1709999999999354,0],[.06799999999998363,.4409999999999741],[.10199999999997544,4.884999999999991],[.2199999999999136,4.274999999999977],[0,1.0179999999999723],[-1.0190000000000055,0],[-1.4589999999999463,1.1539999999999964],[-2.544999999999959,0],[-1.5769999999999982,-1.899000000000001],[0,-2.7819999999999823],[1.1359999999999673,-2.4250000000000114],[1.4930000000000518,-.6440000000000055],[.5090000000001282,.0020000000000095497]]}}},{ty:"sh",ks:{a:0,k:{c:!0,v:[[769.529,292.793],[768.638,291.11400000000003],[767.543,290.40200000000004],[766.144,290.27500000000003],[764.16,290.886],[762.1759999999999,292.87],[760.5469999999999,298.646],[761.7429999999999,303.583],[765.1519999999999,305.49100000000004],[768.6379999999999,303.30300000000005],[769.91,297.70500000000004]],i:[[.2540000000000191,.7300000000000182],[.3389999999999418,.38999999999998636],[.38999999999998636,.08499999999997954],[.5430000000000064,0],[.7800000000000864,-.40699999999998226],[.54200000000003,-.9159999999999968],[0,-2.018000000000029],[-.7980000000000018,-1.2730000000000246],[-1.4750000000000227,0],[-.8479999999999563,1.4590000000000032],[0,2.2730000000000246]],o:[[-.25499999999999545,-.728999999999985],[-.34000000000003183,-.38999999999998636],[-.38999999999998636,-.08400000000000318],[-.5430000000000064,0],[-.7809999999999491,.40699999999998226],[-1.086999999999989,1.8330000000000268],[0,2.0190000000000055],[.7970000000000255,1.2719999999999914],[1.4750000000000227,0],[.8479999999999563,-1.4580000000000268],[.0009999999999763531,-2.545000000000016]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.2196078431372549,.2196078431372549,.2196078431372549,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-1697.959,-612.815]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"mobil-01",ip:0,st:0,ind:14,hix:16,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[8.62646484375,12.239501953125,0]},p:{s:!0,x:{a:0,k:1181.816},y:{a:0,k:363.739}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-01 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[736.018,308.086],[735.457,287.42400000000004],[736.119,285.84600000000006],[737.442,285.23600000000005],[739.325,286.61000000000007],[739.528,289.4600000000001],[746.399,285.8470000000001],[752.71,300.2490000000001],[752.71,304.2440000000001],[752.404,308.13700000000006],[750.216,309.66400000000004],[748.994,308.03600000000006],[749.0450000000001,305.18600000000004],[748.6640000000001,297.12000000000006],[747.926,293.68500000000006],[745.1270000000001,290.93700000000007],[741.565,292.76900000000006],[740.2420000000001,297.4510000000001],[739.8860000000001,307.47600000000006],[739.1220000000001,309.1050000000001],[737.2900000000001,309.7150000000001]],i:[[0,1.0860000000000127],[0,0],[-.4410000000000309,.4079999999999586],[-.4410000000000309,0],[-.17000000000007276,-.9159999999999968],[0,-.9840000000000373],[-2.7479999999999336,0],[0,-9.600999999999999],[0,-1.781000000000006],[.20300000000008822,-.8139999999999645],[1.2210000000000036,0],[0,1.0860000000000127],[0,0],[.2540000000000191,1.4419999999999504],[.23700000000008004,.8489999999999895],[1.2889999999999873,0],[.6770000000000209,-1.2210000000000036],[.1349999999999909,-1.7980000000000018],[0,-3.526999999999987],[.5099999999999909,-.4070000000000391],[.7129999999999654,0]],o:[[0,0],[0,-.6440000000000055],[.44000000000005457,-.40699999999998226],[1.0850000000000364,0],[.1349999999999909,.9159999999999968],[1.8319999999999936,-2.4080000000000155],[4.206000000000017,0],[0,.8829999999999814],[0,1.781000000000006],[-.2380000000000564,1.0179999999999723],[-.8139999999999645,0],[0,0],[0,-3.9350000000000023],[-.25499999999999545,-1.440999999999974],[-.5769999999999982,-1.8319999999999936],[-1.6970000000000027,0],[-.7469999999999573,1.322999999999979],[-.2380000000000564,3.1549999999999727],[0,.6789999999999736],[-.5090000000000146,.40699999999998226],[-.8490000000000464,-.00100000000009004]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.2196078431372549,.2196078431372549,.2196078431372549,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-1676.991,-624.776]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"mobil-01",ip:0,st:0,ind:13,hix:15,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[9.00799560546875,12.2139892578125,0]},p:{s:!0,x:{a:0,k:1159.958},y:{a:0,k:364.324}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-01 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[714.49,286.432],[715.839,285.84700000000004],[716.907,286.10100000000006],[717.365,286.5590000000001],[717.544,287.2720000000001],[717.2379999999999,294.4220000000001],[718.002,301.7000000000001],[719.6809999999999,305.7970000000001],[723.1669999999999,304.2700000000001],[726.1949999999999,301.0640000000001],[725.5849999999999,288.4940000000001],[726.2719999999999,286.6620000000001],[727.9259999999999,285.8990000000001],[729.5029999999999,288.0360000000001],[730.0369999999999,298.7740000000001],[731.132,307.83300000000014],[731.2339999999999,308.7740000000001],[730.5469999999999,309.7920000000001],[728.766,310.2750000000001],[727.3149999999999,309.0530000000001],[726.8059999999999,306.0000000000001],[719.6299999999999,309.7150000000001],[716.6279999999999,308.4430000000001],[714.5409999999999,304.9820000000001],[713.218,297.04300000000006],[713.625,287.88200000000006]],i:[[-.4410000000000309,.38999999999998636],[-.4580000000000837,0],[-.2540000000000191,-.16900000000003956],[-.05099999999993088,-.13500000000004775],[-.06899999999995998,-.33899999999999864],[0,-2.1200000000000045],[-.5090000000000146,-2.7309999999999945],[-.61099999999999,0],[-1.4080000000000155,1.0179999999999723],[-.6100000000000136,1.1200000000000045],[0,3.4939999999999714],[-.45799999999997,.5090000000000146],[-.6449999999999818,0],[0,-1.4250000000000114],[-.3550000000000182,-4.75],[-.37400000000002365,-1.289000000000044],[0,-.35599999999999454],[.45799999999997,-.3219999999999459],[.7279999999999518,0],[.23699999999996635,.8149999999999977],[.2720000000000482,1.356999999999971],[2.408999999999992,0],[.8819999999999482,.8480000000000132],[.5090000000000146,1.4600000000000364],[0,2.4770000000000323],[-.27100000000007185,3.6310000000000286]],o:[[.44000000000005457,-.38999999999998636],[.4580000000000837,0],[.25499999999999545,.17000000000001592],[.051000000000044565,.1360000000000241],[-.2039999999999509,2.646000000000015],[0,2.120999999999981],[.5090000000000146,2.7309999999999945],[.91700000000003,0],[1.407000000000039,-1.0179999999999723],[-.4070000000000391,-4.886000000000024],[0,-.7119999999999891],[.45799999999997,-.5090000000000146],[1.0510000000000446,0],[0,2.408999999999992],[.35599999999999454,4.75],[.06700000000000728,.27199999999999136],[0,.35599999999999454],[-.45799999999997,.32200000000000273],[-.7300000000000182,0],[-.06799999999998363,-.6779999999999973],[-2.375,2.4769999999999754],[-1.1190000000000282,0],[-.8830000000000382,-.8480000000000132],[-.8830000000000382,-2.8149999999999977],[0,-2.475999999999999],[.1349999999999909,-.5760000000000787]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.2196078431372549,.2196078431372549,.2196078431372549,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-1654.753,-625.386]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"mobil-01",ip:0,st:0,ind:12,hix:14,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[8.855010986328125,11.88299560546875,0]},p:{s:!0,x:{a:0,k:1139.5},y:{a:0,k:364.094}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-01 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[702.226,285.948],[708.257,289.459],[710.6229999999999,297.882],[708.2059999999999,306.254],[701.7929999999999,309.714],[695.3549999999999,306.177],[692.9129999999999,298.314],[695.1519999999999,289.459]],i:[[-3.1219999999999573,0],[-1.5779999999999745,-2.341000000000008],[0,-3.274000000000001],[1.6100000000000136,-2.3070000000000164],[2.663000000000011,0],[1.629000000000019,2.3589999999999804],[0,2.8840000000000146],[-1.4940000000000282,2.2060000000000173]],o:[[2.4429999999999836,0],[1.5769999999999982,2.341000000000008],[0,3.274000000000001],[-1.6119999999999663,2.3079999999999927],[-2.663000000000011,0],[-1.629000000000019,-2.358000000000004],[0,-3.697999999999979],[1.594000000000051,-2.339999999999975]]}}},{ty:"sh",ks:{a:0,k:{c:!0,v:[[701.615,290.121],[698.1030000000001,292.35999999999996],[696.729,297.09299999999996],[698.255,302.996],[701.716,305.032],[706.144,302.03],[706.551,298.46799999999996]],i:[[3.2899999999999636,0],[.91599999999994,-1.4919999999999618],[0,-1.6619999999999777],[-1.016999999999939,-1.3559999999999945],[-1.2899999999999636,0],[-.6449999999999818,2.0020000000000095],[0,1.4250000000000114]],o:[[-1.4249999999999545,0],[-.9160000000000537,1.4940000000000282],[0,2.5790000000000077],[1.0190000000000055,1.3570000000000277],[2.3070000000000164,0],[.27099999999995816,-.9490000000000123],[.0009999999999763531,-5.5639999999999645]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.2196078431372549,.2196078431372549,.2196078431372549,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-1634.448,-625.487]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"mobil-01",ip:0,st:0,ind:11,hix:13,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[8.373016357421875,18.218994140625,0]},p:{s:!0,x:{a:0,k:1120.186},y:{a:0,k:357.759}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-01 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[681.896,274.014],[683.27,273.35200000000003],[685.967,273.276],[689.452,273.886],[690.827,276.329],[689.35,278.161],[687.62,277.627],[685.788,277.093],[683.6510000000001,279.23],[683.5480000000001,282.36],[683.5480000000001,286.253],[687.1100000000001,286.253],[689.3490000000002,287.83099999999996],[686.2950000000002,290.06999999999994],[685.1760000000002,290.1209999999999],[683.6500000000002,290.06999999999994],[684.1080000000002,297.32199999999995],[684.4630000000002,307.47499999999997],[683.6500000000002,309.104],[681.9700000000003,309.714],[680.5960000000002,308.086],[680.2400000000002,299.18],[679.7310000000002,290.071],[674.3870000000002,289.15500000000003],[674.0810000000001,288.23900000000003],[675.1760000000002,286.509],[677.6950000000002,286.10200000000003],[679.7310000000001,286.10200000000003],[680.6470000000002,275.82200000000006]],i:[[-.52699999999993,.38999999999998636],[-.3910000000000764,.05099999999998772],[-1.4080000000000155,0],[-.9160000000000537,-.4070000000000391],[0,-1.2210000000000036],[.9839999999999236,0],[.9500000000000455,.35599999999999454],[.27099999999995816,0],[.23699999999996635,-1.4250000000000114],[0,-1.5779999999999745],[0,-1.0179999999999723],[0,0],[0,-.9839999999999804],[2.0359999999999445,-.06699999999995043],[.44000000000005457,0],[.5759999999999081,.033999999999991815],[-.2379999999999427,-3.4770000000000323],[0,-3.290999999999997],[.54200000000003,-.4070000000000391],[.5759999999999081,0],[0,1.0860000000000127],[.23699999999996635,2.8840000000000146],[.10199999999997544,3.1889999999999645],[.5090000000000146,.61099999999999],[0,.37400000000002365],[-.7309999999999945,.27199999999999136],[-.9510000000000218,0],[-.4069999999999254,0],[-.5090000000000146,1.322999999999979]],o:[[.5249999999999773,-.38999999999998636],[.38999999999998636,-.05099999999998772],[1.407000000000039,0],[.9160000000000537,.4070000000000391],[0,1.22199999999998],[-.20299999999997453,0],[-.9500000000000455,-.35599999999999454],[-1.1879999999999882,0],[-.06799999999998363,.5090000000000146],[0,1.5779999999999745],[0,0],[1.4930000000000518,.06799999999998363],[0,1.4250000000000114],[-.30499999999995,.033999999999991815],[-.4410000000000309,0],[.06700000000000728,1.3570000000000277],[.23599999999999,3.4780000000000086],[0,.6789999999999736],[-.5439999999999827,.40699999999998226],[-.9160000000000537,0],[0,-3.0539999999999736],[-.23699999999996635,-2.8829999999999814],[-3.0539999999999736,0],[-.20299999999997453,-.2370000000000232],[0,-.882000000000005],[.7290000000000418,-.271000000000015],[.9510000000000218,0],[.10199999999997544,-5.528999999999996],[.306999999999789,-.8160000000000878]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.2196078431372549,.2196078431372549,.2196078431372549,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-1615.615,-612.815]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"mobil-01",ip:0,st:0,ind:10,hix:12,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[8.8544921875,18.16748046875,0]},p:{s:!0,x:{a:0,k:1090.746},y:{a:0,k:357.808}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-01 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[647.009,285.897],[649.554,285.948],[650.521,285.897],[650.521,275.464],[651.386,273.988],[652.9119999999999,273.377],[654.0579999999999,273.83500000000004],[654.4399999999998,275.26000000000005],[654.3879999999998,285.845],[660.3429999999998,285.641],[661.8689999999998,287.422],[661.0799999999998,289.40700000000004],[659.4009999999998,290.119],[657.6449999999999,290.17],[654.5409999999998,290.119],[654.9739999999998,298.36400000000003],[655.6609999999998,306.32800000000003],[655.7639999999998,308.66900000000004],[655.2029999999997,309.40700000000004],[653.4219999999998,309.71200000000005],[652.0989999999998,308.49100000000004],[650.7249999999998,290.17],[647.2139999999998,290.221],[644.1599999999999,288.44]],i:[[-1.9010000000000673,0],[0,0],[-.06899999999995998,.033999999999991815],[0,0],[-.5430000000000064,.40800000000001546],[-.47499999999990905,0],[-.2899999999999636,-.3050000000000068],[.03300000000001546,-.6440000000000055],[0,-6.411999999999978],[0,0],[0,-1.1870000000000118],[.5259999999999536,-.4410000000000309],[.5929999999999609,-.03300000000001546],[.5760000000000218,0],[0,0],[-.28899999999998727,-4.105000000000018],[-.16999999999995907,-1.2029999999999745],[.10099999999999909,-.35599999999999454],[.2720000000000482,-.1349999999999909],[.7459999999999809,0],[.1349999999999909,.8140000000000214],[.23700000000008004,7.770000000000039],[2.034999999999968,0],[0,1.1879999999999882]],o:[[0,0],[.5760000000000218,0],[0,0],[.03300000000001546,-.5760000000000218],[.54200000000003,-.40699999999998226],[.47500000000002274,0],[.2880000000000109,.3050000000000068],[-.033999999999991815,.6449999999999818],[0,0],[1.018000000000029,0],[0,.8829999999999814],[-.5259999999999536,.4409999999999741],[-.5950000000000273,.033999999999991815],[0,0],[0,1.391999999999996],[.2880000000000109,4.105000000000018],[.16999999999995907,1.204999999999984],[-.1029999999999518,.35599999999999454],[-.4410000000000309,.20400000000000773],[-.7459999999999809,0],[-.6789999999999736,-4.444000000000017],[-.30499999999995,.033999999999991815],[-2.0359999999999445,0],[-.0009999999998626663,-1.6940000000000168]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.2196078431372549,.2196078431372549,.2196078431372549,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-1585.694,-612.917]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"mobil-01",ip:0,st:0,ind:9,hix:11,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[8.855010986328125,11.88299560546875,0]},p:{s:!0,x:{a:0,k:1071.509},y:{a:0,k:364.094}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-01 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[634.235,285.948],[640.266,289.459],[642.632,297.882],[640.2149999999999,306.254],[633.8019999999999,309.714],[627.3639999999999,306.177],[624.9219999999999,298.314],[627.161,289.459]],i:[[-3.1219999999999573,0],[-1.5779999999999745,-2.341000000000008],[0,-3.274000000000001],[1.6100000000000136,-2.3070000000000164],[2.663000000000011,0],[1.629000000000019,2.3589999999999804],[0,2.8840000000000146],[-1.4940000000000282,2.2060000000000173]],o:[[2.4429999999999836,0],[1.5769999999999982,2.341000000000008],[0,3.274000000000001],[-1.6119999999999663,2.3079999999999927],[-2.663000000000011,0],[-1.629000000000019,-2.358000000000004],[0,-3.697999999999979],[1.5950000000000273,-2.339999999999975]]}}},{ty:"sh",ks:{a:0,k:{c:!0,v:[[633.625,290.121],[630.113,292.35999999999996],[628.739,297.09299999999996],[630.265,302.996],[633.726,305.032],[638.154,302.03],[638.561,298.46799999999996]],i:[[3.2899999999999636,0],[.91599999999994,-1.4919999999999618],[0,-1.6619999999999777],[-1.016999999999939,-1.3559999999999945],[-1.2899999999999636,0],[-.6449999999999818,2.0020000000000095],[0,1.4250000000000114]],o:[[-1.4249999999999545,0],[-.9160000000000537,1.4940000000000282],[0,2.5790000000000077],[1.0190000000000055,1.3570000000000277],[2.3070000000000164,0],[.27099999999995816,-.9490000000000123],[.0009999999999763531,-5.5639999999999645]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.2196078431372549,.2196078431372549,.2196078431372549,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-1566.457,-625.487]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"mobil-01",ip:0,st:0,ind:8,hix:10,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[8.62646484375,12.239501953125,0]},p:{s:!0,x:{a:0,k:1049.957},y:{a:0,k:363.739}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-01 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[604.159,308.086],[603.598,287.42400000000004],[604.26,285.84600000000006],[605.583,285.23600000000005],[607.466,286.61000000000007],[607.669,289.4600000000001],[614.54,285.8470000000001],[620.851,300.2490000000001],[620.851,304.2440000000001],[620.545,308.13700000000006],[618.357,309.66400000000004],[617.135,308.03600000000006],[617.186,305.18600000000004],[616.8050000000001,297.12000000000006],[616.067,293.68500000000006],[613.268,290.93700000000007],[609.706,292.76900000000006],[608.383,297.4510000000001],[608.027,307.47600000000006],[607.263,309.1050000000001],[605.431,309.7150000000001]],i:[[0,1.0860000000000127],[0,0],[-.4410000000000309,.4079999999999586],[-.4410000000000309,0],[-.17000000000007276,-.9159999999999968],[0,-.9840000000000373],[-2.7479999999999336,0],[0,-9.600999999999999],[0,-1.781000000000006],[.20300000000008822,-.8139999999999645],[1.2210000000000036,0],[0,1.0860000000000127],[0,0],[.2540000000000191,1.4419999999999504],[.23700000000008004,.8489999999999895],[1.2889999999999873,0],[.6770000000000209,-1.2210000000000036],[.1349999999999909,-1.7980000000000018],[0,-3.526999999999987],[.5099999999999909,-.4070000000000391],[.7129999999999654,0]],o:[[0,0],[0,-.6440000000000055],[.44000000000005457,-.40699999999998226],[1.0850000000000364,0],[.1349999999999909,.9159999999999968],[1.8319999999999936,-2.4080000000000155],[4.206000000000017,0],[0,.8829999999999814],[0,1.781000000000006],[-.2380000000000564,1.0179999999999723],[-.8139999999999645,0],[0,0],[0,-3.9350000000000023],[-.25499999999999545,-1.440999999999974],[-.5769999999999982,-1.8319999999999936],[-1.6970000000000027,0],[-.7469999999999573,1.322999999999979],[-.2380000000000564,3.1549999999999727],[0,.6789999999999736],[-.5090000000000146,.40699999999998226],[-.84800000000007,-.00100000000009004]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.2196078431372549,.2196078431372549,.2196078431372549,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-1545.132,-624.776]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"mobil-01",ip:0,st:0,ind:7,hix:9,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[9.1099853515625,11.884506225585938,0]},p:{s:!0,x:{a:0,k:1016.192},y:{a:0,k:364.249}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-01 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[577.595,286.101],[582.735,287.679],[585.177,291.573],[583.193,296.05199999999996],[577.9,298.67299999999994],[573.626,298.87699999999995],[575.814,304.57699999999994],[577.188,305.13699999999994],[582.48,303.12699999999995],[585.534,301.11699999999996],[586.756,301.87999999999994],[587.5699999999999,303.30499999999995],[584.3639999999999,307.12199999999996],[580.9279999999999,309.08099999999996],[577.1879999999999,309.86999999999995],[570.6729999999999,304.16999999999996],[569.3499999999999,296.43399999999997],[571.3349999999999,289.157]],i:[[-2.850999999999999,0],[-1.629000000000019,-1.0509999999999877],[0,-1.5439999999999827],[1.3230000000000928,-1.4420000000000073],[2.205000000000041,-.3059999999999832],[1.899000000000001,0],[-1.0860000000000127,-.9159999999999968],[-.5779999999999745,0],[-1.4250000000000682,1.3410000000000082],[-.61099999999999,0],[-.5430000000000064,-.5089999999999577],[0,-.4399999999999977],[2.1370000000000573,-1.6620000000000346],[1.3400000000000318,-.5249999999999773],[1.1520000000000437,0],[1.3909999999999627,3.8000000000000114],[0,2.8170000000000073],[-1.322999999999979,2.034999999999968]],o:[[1.7980000000000018,0],[1.629000000000019,1.052000000000021],[0,1.5439999999999827],[-1.322999999999979,1.4420000000000073],[-.9500000000000455,.1360000000000241],[.3730000000000473,2.8840000000000146],[.33799999999996544,.37400000000002365],[2.102999999999952,0],[1.4260000000000446,-1.339999999999975],[.27099999999995816,0],[.54200000000003,.5090000000000146],[0,.882000000000005],[-.9500000000000455,.7810000000000059],[-1.3410000000000082,.5260000000000105],[-2.951999999999998,0],[-.8830000000000382,-2.341000000000008],[0,-2.8149999999999977],[1.322999999999979,-2.034999999999968]]}}},{ty:"sh",ks:{a:0,k:{c:!0,v:[[577.849,289.612],[574.541,291.8],[573.5740000000001,295.26],[580.6980000000001,291.74899999999997]],i:[[1.899000000000001,0],[.91599999999994,-1.45799999999997],[.30499999999995,-1.7969999999999686],[0,2.341000000000008]],o:[[-1.2899999999999636,0],[-.34000000000003183,.5090000000000146],[4.749000000000024,0],[-11368683772161603e-29,-1.4239999999999782]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.2196078431372549,.2196078431372549,.2196078431372549,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-1510.885,-625.641]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"mobil-01",ip:0,st:0,ind:6,hix:8,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[8.981536865234375,19.746002197265625,0]},p:{s:!0,x:{a:0,k:995.199},y:{a:0,k:372.059}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-01 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[562.226,307.577],[557.594,309.714],[552.7600000000001,307.984],[548.4850000000001,297.85699999999997],[551.4370000000001,289.282],[558.7140000000002,286.04999999999995],[564.6170000000002,289.00199999999995],[565.9910000000002,296.83899999999994],[565.8890000000002,301.01199999999994],[566.1680000000002,309.17999999999995],[566.4480000000002,317.04299999999995],[564.2850000000002,323.48099999999994],[557.6950000000002,325.5419999999999],[552.3000000000002,324.4219999999999],[549.5520000000001,321.8269999999999],[550.1370000000002,320.1989999999999],[551.4860000000002,319.6389999999999],[554.9210000000002,320.7589999999999],[558.7640000000001,321.8789999999999],[562.4280000000001,315.8739999999999]],i:[[.13400000000001455,1.5269999999999868],[1.8659999999999854,0],[1.3559999999999945,1.1539999999999964],[0,4.545999999999992],[-1.969000000000051,2.1549999999999727],[-2.883000000000038,0],[-1.0510000000000446,-1.9680000000000177],[0,-3.4939999999999714],[0,0],[-.18600000000003547,-3.4780000000000086],[0,-1.7649999999999864],[1.4420000000000073,-1.375],[2.951000000000022,0],[1.83299999999997,.7459999999999809],[0,.9830000000000041],[-.3910000000000764,.37299999999999045],[-.5090000000000146,0],[-1.780999999999949,-.7470000000000141],[-.7809999999999491,0],[0,4.002999999999986]],o:[[-1.22199999999998,1.4250000000000114],[-1.8659999999999854,0],[-2.850999999999999,-2.204999999999984],[0,-3.562000000000012],[1.9669999999999845,-2.1539999999999964],[2.883000000000038,0],[.9160000000000537,1.7300000000000182],[0,0],[0,1.9680000000000177],[.18700000000001182,3.4769999999999754],[0,2.916999999999973],[-1.4420000000000073,1.375],[-1.7649999999999864,0],[-1.8319999999999936,-.7470000000000141],[0,-.7119999999999891],[.38999999999998636,-.37400000000002365],[.5090000000000146,0],[1.780999999999949,.7459999999999809],[2.4420000000000073,0],[.0009999999998626663,-4.004999999999882]]}}},{ty:"sh",ks:{a:0,k:{c:!0,v:[[562.175,296.813],[561.0799999999999,291.622],[557.645,290.12100000000004],[553.8779999999999,292.259],[552.453,297.67900000000003],[553.802,302.89500000000004],[557.9490000000001,304.82900000000006],[561.5620000000001,302.43700000000007]],i:[[0,2.4610000000000127],[.7300000000000182,1.0009999999999764],[1.5599999999999454,0],[.9500000000000455,-1.4259999999999877],[0,-2.1890000000000214],[-.900000000000091,-1.2889999999999873],[-1.8660000000000991,0],[-.5430000000000064,1.5949999999999704]],o:[[0,-2.459000000000003],[-.7290000000000418,-1],[-1.5620000000000118,0],[-.9500000000000455,1.4250000000000114],[0,2.1890000000000214],[.8980000000000246,1.2900000000000205],[1.865000000000009,0],[.4089999999998781,-1.289000000000044]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.2196078431372549,.2196078431372549,.2196078431372549,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-1490.019,-625.589]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"mobil-01",ip:0,st:0,ind:5,hix:7,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[8.85504150390625,12.162017822265625,0]},p:{s:!0,x:{a:0,k:973.595},y:{a:0,k:364.323}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-01 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[541.869,285.897],[544.1080000000001,289.71299999999997],[544.1080000000001,290.578],[544.0060000000001,294.14],[543.9540000000001,297.448],[544.7180000000001,308.94899999999996],[542.1220000000001,310.22099999999995],[541.3850000000001,310.22099999999995],[540.5710000000001,309.7629999999999],[540.5200000000001,308.6429999999999],[540.3930000000001,307.1669999999999],[534.1840000000002,309.66099999999994],[527.0080000000002,298.56699999999995],[529.3230000000002,289.25399999999996],[535.9650000000003,286.099],[540.0360000000003,286.812]],i:[[-.7810000000000628,0],[0,-2.5439999999999827],[0,-.3050000000000068],[0,0],[0,-1.0849999999999795],[0,0],[1.7309999999999945,0],[.38900000000001,0],[.15199999999992997,.30600000000004],[-.11899999999991451,.4420000000000073],[.20299999999997453,.5430000000000064],[2.5779999999999745,0],[0,7.396000000000015],[-1.5440000000000964,2.103999999999985],[-2.8850000000001046,0],[-1.356999999999971,-.47500000000002274]],o:[[1.4919999999999618,0],[0,.27199999999999136],[0,0],[-.033999999999991815,1.1200000000000045],[0,0],[0,.8480000000000132],[-.10199999999997544,0],[-.3909999999999627,0],[-.15200000000004366,-.3050000000000068],[.11800000000005184,-.4399999999999977],[-1.5620000000000118,1.663000000000011],[-4.783999999999992,0],[0,-4.105000000000018],[1.5430000000000064,-2.1030000000000086],[1.3559999999999945,0],[.4419999999996662,-.6090000000000373]]}}},{ty:"sh",ks:{a:0,k:{c:!0,v:[[536.576,290.528],[532.25,292.208],[530.825,298.36600000000004],[534.8960000000001,305.898],[537.263,304.93100000000004],[539.07,302.74300000000005],[540.037,296.73800000000006],[539.248,292.00500000000005]],i:[[1.2549999999999955,0],[.9500000000000455,-1.1200000000000045],[0,-2.98599999999999],[-2.715000000000032,0],[-.8650000000000091,.6449999999999818],[-.34000000000003183,.8139999999999645],[0,2.1719999999999686],[.5249999999999773,.9839999999999804]],o:[[-1.933999999999969,0],[-.9500000000000455,1.1200000000000045],[0,5.021000000000015],[.7129999999999654,0],[.8640000000000327,-.6440000000000055],[.6440000000000055,-1.8319999999999936],[0,-2.1709999999999923],[-.5260000000000673,-.9840000000000373]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.2196078431372549,.2196078431372549,.2196078431372549,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-1468.542,-625.437]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"mobil-01",ip:0,st:0,ind:4,hix:6,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[9.54150390625,16.819503784179688,0]},p:{s:!0,x:{a:0,k:951.076},y:{a:0,k:359.108}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-01 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[504.158,304.473],[503.803,290.3],[504.057,278.72200000000004],[506.296,276.559],[511.538,276.02500000000003],[519.604,278.086],[522.8860000000001,284.168],[521.97,289.689],[519.6800000000001,292.97200000000004],[513.0640000000001,294.70200000000006],[508.12700000000007,294.19300000000004],[508.3310000000001,307.01800000000003],[506.55000000000007,309.66400000000004],[505.12500000000006,309.25700000000006],[504.7180000000001,308.6720000000001],[504.51400000000007,308.13700000000006],[504.3620000000001,307.5520000000001],[504.28600000000006,306.86500000000007],[504.21000000000004,306.15200000000004]],i:[[0,.6100000000000136],[0,5.954000000000008],[-.17000000000001592,1.7649999999999864],[-1.322999999999979,.35599999999999454],[-2.1720000000000255,0],[-2.187999999999988,-1.3739999999999668],[0,-2.680000000000007],[.6100000000000136,-1.4750000000000227],[.91599999999994,-.7130000000000223],[2.9180000000000064,0],[2.0370000000000346,.34000000000003183],[.03300000000001546,-1.76400000000001],[1.1519999999999868,0],[.20300000000003138,.27199999999999136],[.06700000000000728,.11899999999997135],[.06700000000000728,.23799999999999955],[.03299999999995862,.1519999999999868],[.016000000000019554,.3050000000000068],[.03300000000001546,.1710000000000491]],o:[[-.2370000000000232,-3.494000000000028],[0,-5.954000000000008],[.17000000000001592,-1.0849999999999795],[1.322999999999979,-.35599999999999454],[3.187999999999988,0],[2.187999999999988,1.3739999999999668],[0,2.2060000000000173],[-.6100000000000136,1.475999999999999],[-1.4930000000000518,1.1539999999999964],[-1.2559999999999718,0],[.17000000000001592,6.786000000000001],[-.033999999999991815,1.7649999999999864],[-.7470000000000141,0],[-.20400000000000773,-.271000000000015],[-.06799999999998363,-.1190000000000282],[-.06799999999998363,-.2370000000000232],[-.033999999999991815,-.15300000000002],[-.01799999999997226,-.3059999999999832],[-.03400000000004866,-.5090000000000714]]}}},{ty:"sh",ks:{a:0,k:{c:!0,v:[[518.663,284.294],[516.424,281.037],[511.64,279.84099999999995],[508.078,280.299],[507.875,285.82],[508.078,290.375],[509.96099999999996,290.63],[512.226,290.782],[513.498,290.757],[514.7700000000001,290.604],[516.1190000000001,290.17199999999997],[517.1370000000002,289.35799999999995],[518.0020000000002,288.18799999999993]],i:[[0,1.3740000000000236],[1.4920000000000755,.7980000000000018],[1.6960000000000264,0],[.6779999999999973,-.30600000000004],[0,-1.6790000000000305],[-.13599999999996726,-1.3570000000000277],[-.33899999999999864,-.06799999999998363],[-.6280000000000427,0],[-.22000000000002728,.016999999999995907],[-.6270000000000664,.08600000000001273],[-.27300000000002456,.20300000000003138],[-.40800000000001546,.33899999999999864],[-.16999999999995907,.4410000000000309]],o:[[0,-1.3740000000000236],[-1.4940000000000282,-.7970000000000255],[-1.6970000000000027,0],[-.1360000000000241,2.0020000000000095],[0,1.6800000000000068],[.9159999999999968,.10199999999997544],[.882000000000005,.10199999999997544],[.6280000000000427,0],[.22100000000000364,-.016999999999995907],[.6269999999999527,-.08400000000000318],[.27099999999995816,-.20400000000000773],[.4070000000000391,-.33899999999999864],[.43899999999985084,-1.2219999999999231]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.2196078431372549,.2196078431372549,.2196078431372549,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-1445.338,-615.565]},r:{a:0,k:0}}]}],op:120}]},{id:"precomp_2",layers:[{ty:4,nm:"mobil-02",ip:0,st:0,ind:5,hix:21,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[27.98248291015625,61.103004455566406,0]},p:{s:!0,x:{a:0,k:633.07},y:{a:0,k:132.472}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-02 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[729.803,187.837],[711.086,188.938],[694.572,184.90099999999998],[690.168,167.378],[692.187,137.74399999999997],[696.683,113.98199999999997],[706.499,106.36699999999998],[712.187,110.58699999999997],[712.187,114.07299999999998],[711.085,120.86199999999998],[706.682,166.91899999999998],[706.866,172.42399999999998],[715.765,173.158],[729.986,172.057],[730.353,161.69],[730.5369999999999,150.772],[731.8209999999999,144.534],[738.151,142.69899999999998],[744.757,144.534],[746.1329999999999,149.57999999999998],[745.5819999999999,162.975],[745.0309999999998,220.316],[736.9579999999999,228.573],[736.2239999999998,228.573],[729.4349999999998,217.38],[729.4349999999998,207.28799999999998]],i:[[0,0],[8.073999999999955,0],[2.9360000000000355,2.693000000000012],[0,8.990999999999985],[-1.3479999999999563,10.76600000000002],[-1.6509999999999536,5.076999999999998],[-4.893000000000029,0],[-.4900000000000091,-2.8119999999999976],[0,-1.588000000000008],[.7350000000000136,-2.936000000000007],[0,-9.175000000000011],[-.1229999999999336,-1.4679999999999893],[-3.7329999999999472,0],[-5.751999999999953,.7340000000000089],[0,4.343999999999994],[-.12400000000002365,2.936000000000007],[-.7340000000000373,1.2239999999999895],[-3.48599999999999,0],[-.9180000000000064,-1.2220000000000084],[0,-2.1389999999999816],[.3670000000000755,-6.7900000000000205],[0,-31.437000000000012],[5.381999999999948,0],[.2440000000000282,0],[0,7.463000000000022],[0,0]],o:[[-4.403999999999996,.7340000000000089],[-8.072999999999979,0],[-2.937000000000012,-2.688999999999993],[0,-8.990999999999985],[1.3450000000000273,-10.763000000000005],[1.6509999999999536,-5.075000000000003],[3.3029999999999973,0],[0,.7339999999999947],[0,1.590999999999994],[-2.9360000000000355,21.531999999999996],[0,2.201999999999998],[2.201999999999998,.4900000000000091],[3.729000000000042,0],[.24300000000005184,-2.5689999999999884],[0,-4.341000000000008],[.12000000000000455,-2.936000000000007],[.7329999999999472,-1.2220000000000084],[3.48599999999999,0],[.91700000000003,1.2239999999999895],[0,2.141999999999996],[-.3669999999999618,6.788999999999987],[0,5.5049999999999955],[-.24699999999995725,0],[-4.525999999999954,0],[0,0],[0,0]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,1]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[0,0,0,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-1144.241,-177.736]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"mobil-02",ip:0,st:0,ind:4,hix:20,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[35.230987548828125,61.012001037597656,0]},p:{s:!0,x:{a:0,k:557.197},y:{a:0,k:132.564}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-02 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[607.047,170.405],[615.855,127.101],[627.782,112.055],[645.0300000000001,106.55000000000001],[668.426,125.17500000000001],[677.509,169.39700000000002],[669.069,211.78400000000002],[645.2149999999999,228.574]],i:[[0,38.78],[-5.871999999999957,12.477000000000004],[-5.018000000000029,3.6699999999999875],[-6.485000000000014,0],[-6.05499999999995,-12.415000000000006],[0,-17.064999999999998],[5.625,-11.193000000000012],[10.275000000000091,0]],o:[[0,-16.39099999999999],[2.9360000000000355,-6.358999999999995],[5.014999999999986,-3.6700000000000017],[9.54200000000003,0],[6.05600000000004,12.417000000000002],[0,17.064999999999998],[-5.628000000000043,11.193000000000012],[-25.44699999999989,-.0020000000000095497]]}}},{ty:"sh",ks:{a:0,k:{c:!0,v:[[643.378,211.691],[654.48,204.81],[660.6270000000001,189.39600000000002],[662.278,167.193],[658.6080000000001,138.11],[653.0110000000001,124.62300000000002],[643.9280000000001,119.57700000000001],[631.6340000000001,128.20100000000002],[622.4590000000002,169.67000000000002],[628.7900000000002,199.121]],i:[[-5.5049999999999955,0],[-2.9990000000000236,4.586999999999989],[-1.100999999999999,5.688999999999993],[0,9.115000000000009],[2.4449999999999363,10.275000000000006],[2.505999999999972,3.3659999999999997],[3.5470000000000255,0],[3.423000000000002,-5.749000000000009],[0,-17.24799999999999],[-4.221000000000004,-8.377999999999986]],o:[[4.403999999999996,0],[2.995999999999981,-4.586999999999989],[1.100999999999999,-5.687999999999988],[0,-9.111999999999995],[-1.2250000000000227,-5.625],[-2.5090000000000146,-3.3629999999999995],[-4.770999999999958,0],[-6.118000000000052,10.399000000000001],[0,11.256],[4.220999999999776,8.381]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[0,0,0,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-1061.12,-177.919]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"mobil-02",ip:0,st:0,ind:3,hix:19,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[27.9820556640625,61.103004455566406,0]},p:{s:!0,x:{a:0,k:482.055},y:{a:0,k:132.472}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"mobil-02 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[578.789,187.837],[560.072,188.938],[543.558,184.90099999999998],[539.154,167.378],[541.172,137.74399999999997],[545.668,113.98199999999997],[555.484,106.36699999999998],[561.173,110.58699999999997],[561.173,114.07299999999998],[560.071,120.86199999999998],[555.667,166.91899999999998],[555.851,172.42399999999998],[564.751,173.158],[578.972,172.057],[579.338,161.69],[579.5219999999999,150.772],[580.8059999999999,144.534],[587.136,142.69899999999998],[593.742,144.534],[595.1179999999999,149.57999999999998],[594.5669999999999,162.975],[594.0169999999999,220.316],[585.944,228.573],[585.2099999999999,228.573],[578.4209999999999,217.38],[578.4209999999999,207.28799999999998]],i:[[0,0],[8.073999999999955,0],[2.9360000000000355,2.693000000000012],[0,8.990999999999985],[-1.34699999999998,10.76600000000002],[-1.6509999999999536,5.076999999999998],[-4.893000000000029,0],[-.4900000000000091,-2.8119999999999976],[0,-1.588000000000008],[.7350000000000136,-2.936000000000007],[0,-9.175000000000011],[-.1229999999999336,-1.4679999999999893],[-3.7329999999999472,0],[-5.751999999999953,.7340000000000089],[0,4.343999999999994],[-.1229999999999336,2.936000000000007],[-.7340000000000373,1.2239999999999895],[-3.48599999999999,0],[-.91700000000003,-1.2220000000000084],[0,-2.1389999999999816],[.3670000000000755,-6.7900000000000205],[0,-31.437000000000012],[5.380999999999972,0],[.2440000000000282,0],[0,7.463000000000022],[0,0]],o:[[-4.403999999999996,.7340000000000089],[-8.073999999999955,0],[-2.937000000000012,-2.688999999999993],[0,-8.990999999999985],[1.3460000000000036,-10.763000000000005],[1.6509999999999536,-5.075000000000003],[3.3029999999999973,0],[0,.7339999999999947],[0,1.590999999999994],[-2.9360000000000355,21.531999999999996],[0,2.201999999999998],[2.201999999999998,.4900000000000091],[3.729000000000042,0],[.24300000000005184,-2.5689999999999884],[0,-4.341000000000008],[.12000000000000455,-2.936000000000007],[.7340000000000373,-1.2220000000000084],[3.4869999999999663,0],[.91700000000003,1.2239999999999895],[0,2.141999999999996],[-.36599999999998545,6.788999999999987],[0,5.5049999999999955],[-.24699999999995725,0],[-4.527000000000044,0],[0,0],[0,0]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[0,0,0,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-993.227,-177.736]},r:{a:0,k:0}}]}],op:120}]}],layers=[{ty:4,nm:"404-04",ip:0,st:0,ind:6,hix:1,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[640,400,0]},p:{s:!0,x:{a:1,k:[{t:0,s:[640],e:[670],i:{x:[.515],y:[.955]},o:{x:[.455],y:[.03]}},{t:60,s:[670],e:[640],i:{x:[.515],y:[.955]},o:{x:[.455],y:[.03]}},{t:120}]},y:{a:0,k:448.79125976562506}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100]}},shapes:[{ty:"gr",nm:"404-04 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[910.946698233865,619.9788614289478],[876.586698233865,585.6188614289476],[876.586698233865,511.3388614289477],[832.226698233865,466.9788614289477],[741.586698233865,466.9788614289477],[741.586698233865,457.0988614289477],[735.466698233865,450.9788614289477],[722.586698233865,450.9788614289477],[722.586698233865,450.75186142894773],[706.813698233865,434.9788614289477],[639.586698233865,434.9788614289477],[639.586698233865,508.9788614289477],[706.813698233865,508.9788614289477],[722.586698233865,493.2058614289477],[722.586698233865,492.9788614289477],[735.466698233865,492.9788614289477],[741.586698233865,486.8588614289477],[741.586698233865,476.9788614289477],[832.226698233865,476.9788614289477],[866.586698233865,511.3388614289477],[866.586698233865,585.6178614289477],[910.946698233865,629.9778614289478],[1279.5866982338648,629.9778614289478],[1279.5866982338648,619.9778614289478],[910.946698233865,619.9778614289478]],i:[[0,0],[0,18.94600000000014],[0,0],[24.460000000000036,0],[0,0],[0,0],[3.3799999999999955,0],[0,0],[0,0],[8.711000000000013,0],[0,0],[0,0],[0,0],[0,8.711000000000013],[0,0],[0,0],[0,3.3799999999999955],[0,0],[0,0],[0,-18.946000000000026],[0,0],[-24.460000000000036,0],[0,0],[0,0],[0,0]],o:[[-18.946000000000026,0],[0,0],[0,-24.45999999999998],[0,0],[0,0],[0,-3.3799999999999955],[0,0],[0,0],[0,-8.711000000000013],[0,0],[0,0],[0,0],[8.711000000000013,0],[0,0],[0,0],[3.3799999999999955,0],[0,0],[0,0],[18.946000000000026,0],[0,0],[0,24.460000000000036],[0,0],[0,0],[0,0],[0,0]]}}},{ty:"sh",ks:{a:0,k:{c:!0,v:[[910.946698233865,619.9788614289478]],i:[[0,0]],o:[[0,0]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.14901960784313725,.14901960784313725,.14901960784313725,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[0,0]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"404-03",ip:0,st:0,ind:5,hix:2,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[640,400,0]},p:{s:!0,x:{a:1,k:[{t:0,s:[640.0004808820297],e:[613],i:{x:[.515],y:[.955]},o:{x:[.455],y:[.03]}},{t:60,s:[613],e:[643],i:{x:[.515],y:[.955]},o:{x:[.455],y:[.03]}},{t:120}]},y:{a:0,k:458.13}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"404-03 shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[676,481],[640,481],[640,446],[675.954,446],[679.789,443.317],[675.999,438],[639.999,438],[639.999,426.5],[572.7710000000001,426.5],[556.999,442.272],[556.999,442.38599999999997],[556.885,442.49999999999994],[544.12,442.49999999999994],[538,448.61999999999995],[538,458],[447.247,458],[413,423.753],[413,349.24699999999996],[368.753,305],[0,305],[0,315],[368.753,315],[403,349.247],[403,423.754],[447.247,468],[538,468],[538,478.38],[544.12,484.5],[556.997,484.5],[557,484.503],[572.886,500.5],[640,500.5],[640,489],[675.954,489],[679.789,486.317]],i:[[2.6359999999999673,0],[0,0],[0,0],[0,0],[-.5230000000000246,1.6329999999999814],[2.6359999999999673,0],[0,0],[0,0],[0,0],[0,-8.70999999999998],[0,0],[.06299999999998818,0],[0,0],[0,-3.3799999999999955],[0,0],[0,0],[0,18.913999999999987],[0,0],[24.437000000000012,0],[0,0],[0,0],[0,0],[0,-18.913999999999987],[0,0],[-24.437000000000012,0],[0,0],[0,0],[-3.3799999999999955,0],[0,0],[0,-.0020000000000095497],[-8.810999999999922,0],[0,0],[0,0],[0,0],[-.5230000000000246,1.6329999999999814]],o:[[0,0],[0,0],[0,0],[1.7140000000000555,0],[.8859999999999673,-2.766999999999996],[0,0],[0,0],[0,0],[-8.711000000000013,0],[0,0],[0,.06299999999998818],[0,0],[-3.3799999999999955,0],[0,0],[0,0],[-18.913999999999987,0],[0,0],[0,-24.436999999999955],[0,0],[0,0],[0,0],[18.913999999999987,0],[0,0],[0,24.43599999999998],[0,0],[0,0],[0,3.3799999999999955],[0,0],[.0019999999999527063,0],[-.05999999999994543,8.824999999999989],[0,0],[0,0],[0,0],[1.7140000000000555,0],[.8870000000000573,-2.768000000000029]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.14901960784313725,.14901960784313725,.14901960784313725,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[0,0]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"cling bawah",ip:0,st:0,ind:4,hix:3,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[51.38800048828125,19.694000244140625,0]},p:{s:!0,x:{a:0,k:640},y:{a:0,k:602.444}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:1,k:[{t:0,s:[0,0],e:[100,100],i:{x:[.515,.515],y:[.955,.955]},o:{x:[.455,.455],y:[.03,.03]}},{t:40,s:[100,100],e:[100,100],i:{x:[1,1],y:[1,1]},o:{x:[0,0],y:[0,0]}},{t:60,s:[100,100],e:[0,0],i:{x:[.515,.515],y:[.955,.955]},o:{x:[.455,.455],y:[.03,.03]}},{t:100}]}},shapes:[{ty:"gr",nm:"cling bawah shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[660.565,532.565],[660.565,532.565],[660.565,539.6360000000001],[680.364,559.4350000000001],[687.4350000000001,559.4350000000001],[687.4350000000001,559.4350000000001],[687.4350000000001,552.364],[667.6360000000001,532.565]],i:[[1.9529999999999745,-1.9530000000000882],[0,0],[-1.9529999999999745,-1.9529999999999745],[0,0],[-1.9529999999999745,1.9529999999999745],[0,0],[1.9529999999999745,1.9529999999999745],[0,0]],o:[[0,0],[-1.9529999999999745,1.9529999999999745],[0,0],[1.9529999999999745,1.9529999999999745],[0,0],[1.9529999999999745,-1.9529999999999745],[0,0],[-1.9530000000000882,-1.9530000000000882]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.14901960784313725,.14901960784313725,.14901960784313725,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-586.612,-530.612]},r:{a:0,k:0}}]},{ty:"gr",nm:"cling bawah shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[639,532],[639,532],[634,537],[634,565],[639,570],[639,570],[644,565],[644,537]],i:[[2.7609999999999673,0],[0,0],[0,-2.7609999999999673],[0,0],[-2.7609999999999673,0],[0,0],[0,2.7609999999999673],[0,0]],o:[[0,0],[-2.7609999999999673,0],[0,0],[0,2.7609999999999673],[0,0],[2.7609999999999673,0],[0,0],[0,-2.7609999999999673]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.14901960784313725,.14901960784313725,.14901960784313725,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-586.612,-530.612]},r:{a:0,k:0}}]},{ty:"gr",nm:"cling bawah shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[615.435,532.565],[615.435,532.565],[608.3639999999999,532.565],[588.5649999999999,552.364],[588.5649999999999,559.4350000000001],[588.5649999999999,559.4350000000001],[595.636,559.4350000000001],[615.435,539.6360000000001]],i:[[1.9530000000000882,1.9529999999999745],[0,0],[1.9529999999999745,-1.9529999999999745],[0,0],[-1.9529999999999745,-1.9529999999999745],[0,0],[-1.9529999999999745,1.9529999999999745],[0,0]],o:[[0,0],[-1.9529999999999745,-1.9529999999999745],[0,0],[-1.9529999999999745,1.9529999999999745],[0,0],[1.9529999999999745,1.9529999999999745],[0,0],[1.9530000000000882,-1.9530000000000882]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.14901960784313725,.14901960784313725,.14901960784313725,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-586.612,-530.612]},r:{a:0,k:0}}]}],op:120},{ty:4,nm:"cling atas",ip:0,st:0,ind:3,hix:4,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[51.38800048828125,19.694000244140625,0]},p:{s:!0,x:{a:0,k:640},y:{a:0,k:438.5694885253906}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:1,k:[{t:0,s:[0,0],e:[100,100],i:{x:[.515,.515],y:[.955,.955]},o:{x:[.455,.455],y:[.03,.03]}},{t:40,s:[100,100],e:[100,100],i:{x:[1,1],y:[1,1]},o:{x:[0,0],y:[0,0]}},{t:60,s:[100,100],e:[0,0],i:{x:[.515,.515],y:[.955,.955]},o:{x:[.455,.455],y:[.03,.03]}},{t:100}]}},shapes:[{ty:"gr",nm:"cling atas shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[662.565,394.435],[662.565,394.435],[662.565,387.364],[682.364,367.565],[689.4350000000001,367.565],[689.4350000000001,367.565],[689.4350000000001,374.636],[669.6360000000001,394.435]],i:[[1.9529999999999745,1.9529999999999745],[0,0],[-1.9529999999999745,1.9530000000000314],[0,0],[-1.9529999999999745,-1.9529999999999745],[0,0],[1.9529999999999745,-1.9530000000000314],[0,0]],o:[[0,0],[-1.9529999999999745,-1.9529999999999745],[0,0],[1.9529999999999745,-1.9529999999999745],[0,0],[1.9529999999999745,1.9529999999999745],[0,0],[-1.9530000000000882,1.9529999999999745]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.14901960784313725,.14901960784313725,.14901960784313725,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-588.612,-357]},r:{a:0,k:0}}]},{ty:"gr",nm:"cling atas shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[641,395],[641,395],[636,390],[636,362],[641,357],[641,357],[646,362],[646,390]],i:[[2.7609999999999673,0],[0,0],[0,2.761000000000024],[0,0],[-2.7609999999999673,0],[0,0],[0,-2.761000000000024],[0,0]],o:[[0,0],[-2.7609999999999673,0],[0,0],[0,-2.761000000000024],[0,0],[2.7609999999999673,0],[0,0],[0,2.761000000000024]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.14901960784313725,.14901960784313725,.14901960784313725,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-588.612,-357]},r:{a:0,k:0}}]},{ty:"gr",nm:"cling atas shape group",it:[{ty:"sh",ks:{a:0,k:{c:!0,v:[[617.435,394.435],[617.435,394.435],[610.3639999999999,394.435],[590.5649999999999,374.636],[590.5649999999999,367.565],[590.5649999999999,367.565],[597.636,367.565],[617.435,387.364]],i:[[1.9530000000000882,-1.9529999999999745],[0,0],[1.9529999999999745,1.9529999999999745],[0,0],[-1.9529999999999745,1.9530000000000314],[0,0],[-1.9529999999999745,-1.9529999999999745],[0,0]],o:[[0,0],[-1.9529999999999745,1.9529999999999745],[0,0],[-1.9529999999999745,-1.9529999999999745],[0,0],[1.9529999999999745,-1.9529999999999745],[0,0],[1.9530000000000882,1.9530000000000314]]}}},{ty:"st",o:{a:0,k:0},w:{a:0,k:0},c:{a:0,k:[0,0,0,0]},lc:3,lj:1,ml:1},{ty:"fl",o:{a:0,k:100},r:1,c:{a:0,k:[.14901960784313725,.14901960784313725,.14901960784313725,1]}},{ty:"tr",o:{a:0,k:100},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[-588.612,-357]},r:{a:0,k:0}}]}],op:120},{ty:0,nm:"instance:precomp_1",refId:"precomp_1",ind:2,ip:120,st:0,hix:5,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[135.08950366210934,26.132746337890637,0]},p:{s:!0,x:{a:0,k:640},y:{a:1,k:[{t:0,s:[317.92377221679686],e:[287.924],i:{x:[.515],y:[.955]},o:{x:[.455],y:[.03]}},{t:60,s:[287.924],e:[317.924],i:{x:[.515],y:[.955]},o:{x:[.455],y:[.03]}},{t:120}]}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},w:270,h:52,op:120,hidden:0},{ty:0,nm:"instance:precomp_2",refId:"precomp_2",ind:1,ip:120,st:0,hix:18,ks:{o:{a:0,k:100},or:{a:0,k:[0,0,0]},a:{a:0,k:[103.4897692871094,61.10350274658202,0]},p:{s:!0,x:{a:0,k:640.0000000000001},y:{a:1,k:[{t:0,s:[194.16],e:[164.16],i:{x:[.515],y:[.955]},o:{x:[.455],y:[.03]}},{t:60,s:[164.16],e:[194.16],i:{x:[.515],y:[.955]},o:{x:[.455],y:[.03]}},{t:120}]}},rx:{a:0,k:0},ry:{a:0,k:0},rz:{a:0,k:0},s:{a:0,k:[100,100,100]}},w:207,h:122,op:120,hidden:0}],op=120,w=1280,h=800;var errorAnimation={ip,fr,v,assets,layers,op,w,h};const ErrorLottie=()=>{const s=react.exports.useRef(null);return react.exports.useEffect(()=>void lottie.loadAnimation({container:s.current,renderer:"svg",loop:!0,autoplay:!0,animationData:errorAnimation}),[]),jsx("div",{ref:s})},Error$1=({error:s})=>jsxs(ErrorContainer,{children:[jsxs(ErrorContentWrapper,{children:[jsx(Title,{children:"\uC5B4\uB518\uAC00 \uBB38\uC81C\uAC00 \uC0DD\uACBC\uC5B4\uC694"}),jsx(MainText,{children:s==null?void 0:s.message})]}),jsx(ErrorLottie,{})]});var Admin$1="";styled.div`
  margin-top: 15px;
`;styled.div`
  width: 100%;
`;styled.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
`;styled.div`
  margin-right: 10px;
`;styled.div`
  background: white;
`;styled.button`
  border-style: none;
  border-radius: 10px;
  font-size: 1.4rem;
  color: white;
  transition: 0.3s;
  transition-delay: 0.3ms;
  transform-style: initial;
  cursor: pointer;
  background: ${s=>s.theme.colors.tossBlue};
  padding: 7px 20px;
  align-items: center;
  :hover {
    background: ${s=>s.theme.colors.tossBlueActive};
  }
  @media (max-width: 500px) {
    padding: 7px 13px;
    font-size: 1.3rem;
  }
`;styled.div`
  display: flex;
  flex-direction: row;
  margin-top: 10px;
`;const AdminNavigationWrapper=styled.nav`
  position: sticky;
  top: 0;
  z-index: 999;
  height: 60px;
  width: 100%;
  background: ${s=>s.theme.colors.white};
`,AdminNavCategoryWrapper=styled.nav`
  display: flex;
  align-items: center;
`,StyledUserName=styled.div`
  color: ${s=>s.theme.colors.grey700};
  font-size: 1.4rem;
  font-weight: bold;
  white-space: nowrap;
  margin-left: 20px;
  @media (max-width: 500px) {
    font-size: 1.3rem;
  }
  &:hover {
    cursor: pointer;
  }
`;styled.div`
  display: flex;
  flex-direction: row;
  margin-top: 10px;
  align-items: center;
  transition: 0.3s;
  transition-delay: 0.3ms;
  transform-style: initial;
`;styled.div`
  display: flex;
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  opacity: 50%;
  background: ${s=>s.theme.colors.grey500};
  z-index: 999;
`;const AdminUserMenuWrapper=styled(motion.div)`
  position: fixed;
  right: 3%;
  top: 60px;
  justify-content: center;
  display: flex;
  flex-direction: column;
  text-align: center;
  background: white;
  padding: 5px 5px;
  border: 1px solid ${({theme:s})=>s.colors.grey200};
  border-radius: 10px;
`,MenuElement=styled(motion.button)`
  font-size: 1.6rem;
  padding: 5px 15px;
  border: 0 solid;
  border-radius: 5px;
  background-color: white;
`,AdminUserMenu=s=>{const{isOpen:i,setIsOpen:o}=s,[et,$l]=Recoil_index_21(modalState),Nl=useNavigate(),Ml=react.exports.useRef(null),Ol={cursor:"pointer",backgroundColor:"#E5E8EB"},Ll=react.exports.useCallback(Fl=>{const Bl=Fl.target,Ul=document.getElementsByClassName("username")[0];i&&Bl.contains(Ul||Bl)&&(o(!1),document.removeEventListener("click",Ll))},[i]);return react.exports.useEffect(()=>{i&&setTimeout(()=>document.addEventListener("click",Ll),0)},[i]),jsx(AnimatePresence,{children:i&&jsxs(AdminUserMenuWrapper,{ref:Ml,layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[jsx(MenuElement,{layout:!0,whileHover:Ol,onClick:async()=>{o(!1),await signOut(auth),Nl("/auth")},children:"\uB85C\uADF8\uC544\uC6C3"}),jsx(MenuElement,{layout:!0,whileHover:Ol,onClick:()=>{o(!1),$l({...et,[MODAL_KEY.ADMIN_SIGN_UP]:!0})},children:"\uD68C\uC6D0\uAC00\uC785"})]})})},AdminUser="adminUser",AdminUserState={uid:"",name:"",nickname:"",phoneNumber:""},adminUserState=Recoil_index_7({key:AdminUser,default:AdminUserState}),AdminHeader=()=>{const s=useLocation(),[i,o]=react.exports.useState(!1),[et]=Recoil_index_21(adminUserState);return react.exports.useState(s.pathname),jsx(AdminNavigationWrapper,{children:jsx(NavWrapper,{children:jsxs(NavInner,{children:[jsx(NavTaskWrapper,{children:jsx(NavTask,{children:jsxs(StyledLogoWrapper,{to:"/admin",children:[jsx(StyledImg,{src:GDSCLogo,alt:"GDSC-Chapter-Logo"}),jsx(StyledLogo,{children:"GDSC"}),jsx(SchoolName,{children:"Daejin "}),jsx(SchoolNameUni,{children:"Admin"})]})})}),jsxs(AdminNavCategoryWrapper,{children:[jsx(AdminUserMenu,{isOpen:i,setIsOpen:o}),jsxs(StyledUserName,{onClick:()=>o(!i),children:["Hi ",et.nickname]})]})]})})})};var AdminHeader$1=react.exports.memo(AdminHeader);const AdminContainerInner=styled.div`
  background: ${({theme:s})=>s.colors.grey50};
  min-height: 100%;
  padding: 30px 30px;
  overflow: scroll;
`,AdminContainer=styled.div`
  -webkit-box-flex: 1;
  flex-grow: 1;
  height: 100%;
  position: relative;
  overflow: hidden;
`,AdminContainerWrapper=styled.div`
  height: calc(100vh - 70px - 82px);
  display: flex;
  overflow: hidden;
`,SidebarContainer=styled.div`
  width: 225px;
  height: 100%;
  border-right: 1px solid ${({theme:s})=>s.colors.grey300};
  flex-shrink: 0;
  padding-top: 35px;
  position: relative;
`,SideElementWrapper=styled.div`
  display: flex;
  -webkit-box-align: center;
  align-items: center;
  position: relative;
  padding-left: 30px;
  height: 40px;
  cursor: pointer;
  &:hover {
    #bar {
      height: 20px;
    }
  }
`,SideElementChildrenWrapper=styled.div`
  display: flex;
  -webkit-box-align: center;
  align-items: center;
  position: relative;
  padding-left: 60px;
  height: 40px;
  cursor: pointer;
  &:hover {
    #bar {
      height: 20px;
    }
  }
`,SideElementSelectBar=styled.div`
  position: absolute;
  left: 0;
  width: 4px;
  background: ${({theme:s})=>s.colors.googleBlue};
  border-radius: 0 3px 3px 0;
  height: 0;
  transition: all 0.2s ease-in-out;
  ${({isCurrent:s})=>s&&Ce$2`
      height: 40px;
    `}
`,SideElementText=styled.div`
  font-size: ${({theme:s})=>s.fontSize.body2};
  color: ${({theme:s})=>s.colors.grey700};
  font-weight: 500;
  transition: all 0.2s ease-in-out;
  ${({isCurrent:s})=>s&&Ce$2`
      color: ${({theme:i})=>i.colors.googleBlue};
    `}
  &:hover {
    cursor: pointer;
    color: ${({theme:s})=>s.colors.googleBlue};
  }
`;var axios$2={exports:{}},bind$2=function s(i,o){return function(){for(var $l=new Array(arguments.length),Nl=0;Nl<$l.length;Nl++)$l[Nl]=arguments[Nl];return i.apply(o,$l)}},bind$1=bind$2,toString=Object.prototype.toString;function isArray(s){return Array.isArray(s)}function isUndefined(s){return typeof s=="undefined"}function isBuffer(s){return s!==null&&!isUndefined(s)&&s.constructor!==null&&!isUndefined(s.constructor)&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function isArrayBuffer(s){return toString.call(s)==="[object ArrayBuffer]"}function isFormData(s){return toString.call(s)==="[object FormData]"}function isArrayBufferView(s){var i;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?i=ArrayBuffer.isView(s):i=s&&s.buffer&&isArrayBuffer(s.buffer),i}function isString(s){return typeof s=="string"}function isNumber(s){return typeof s=="number"}function isObject(s){return s!==null&&typeof s=="object"}function isPlainObject(s){if(toString.call(s)!=="[object Object]")return!1;var i=Object.getPrototypeOf(s);return i===null||i===Object.prototype}function isDate(s){return toString.call(s)==="[object Date]"}function isFile(s){return toString.call(s)==="[object File]"}function isBlob(s){return toString.call(s)==="[object Blob]"}function isFunction(s){return toString.call(s)==="[object Function]"}function isStream(s){return isObject(s)&&isFunction(s.pipe)}function isURLSearchParams(s){return toString.call(s)==="[object URLSearchParams]"}function trim(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function forEach(s,i){if(!(s===null||typeof s=="undefined"))if(typeof s!="object"&&(s=[s]),isArray(s))for(var o=0,et=s.length;o<et;o++)i.call(null,s[o],o,s);else for(var $l in s)Object.prototype.hasOwnProperty.call(s,$l)&&i.call(null,s[$l],$l,s)}function merge(){var s={};function i($l,Nl){isPlainObject(s[Nl])&&isPlainObject($l)?s[Nl]=merge(s[Nl],$l):isPlainObject($l)?s[Nl]=merge({},$l):isArray($l)?s[Nl]=$l.slice():s[Nl]=$l}for(var o=0,et=arguments.length;o<et;o++)forEach(arguments[o],i);return s}function extend(s,i,o){return forEach(i,function($l,Nl){o&&typeof $l=="function"?s[Nl]=bind$1($l,o):s[Nl]=$l}),s}function stripBOM(s){return s.charCodeAt(0)===65279&&(s=s.slice(1)),s}var utils$e={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend,trim,stripBOM},utils$d=utils$e;function encode$2(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function s(i,o,et){if(!o)return i;var $l;if(et)$l=et(o);else if(utils$d.isURLSearchParams(o))$l=o.toString();else{var Nl=[];utils$d.forEach(o,function(Ll,Fl){Ll===null||typeof Ll=="undefined"||(utils$d.isArray(Ll)?Fl=Fl+"[]":Ll=[Ll],utils$d.forEach(Ll,function(Ul){utils$d.isDate(Ul)?Ul=Ul.toISOString():utils$d.isObject(Ul)&&(Ul=JSON.stringify(Ul)),Nl.push(encode$2(Fl)+"="+encode$2(Ul))}))}),$l=Nl.join("&")}if($l){var Ml=i.indexOf("#");Ml!==-1&&(i=i.slice(0,Ml)),i+=(i.indexOf("?")===-1?"?":"&")+$l}return i},utils$c=utils$e;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function s(i,o,et){return this.handlers.push({fulfilled:i,rejected:o,synchronous:et?et.synchronous:!1,runWhen:et?et.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function s(i){this.handlers[i]&&(this.handlers[i]=null)};InterceptorManager$1.prototype.forEach=function s(i){utils$c.forEach(this.handlers,function(et){et!==null&&i(et)})};var InterceptorManager_1=InterceptorManager$1,utils$b=utils$e,normalizeHeaderName$1=function s(i,o){utils$b.forEach(i,function($l,Nl){Nl!==o&&Nl.toUpperCase()===o.toUpperCase()&&(i[o]=$l,delete i[Nl])})},enhanceError$2=function s(i,o,et,$l,Nl){return i.config=o,et&&(i.code=et),i.request=$l,i.response=Nl,i.isAxiosError=!0,i.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},i},transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},enhanceError$1=enhanceError$2,createError$2=function s(i,o,et,$l,Nl){var Ml=new Error(i);return enhanceError$1(Ml,o,et,$l,Nl)},createError$1=createError$2,settle$1=function s(i,o,et){var $l=et.config.validateStatus;!et.status||!$l||$l(et.status)?i(et):o(createError$1("Request failed with status code "+et.status,et.config,null,et.request,et))},utils$a=utils$e,cookies$1=utils$a.isStandardBrowserEnv()?function s(){return{write:function(o,et,$l,Nl,Ml,Ol){var Ll=[];Ll.push(o+"="+encodeURIComponent(et)),utils$a.isNumber($l)&&Ll.push("expires="+new Date($l).toGMTString()),utils$a.isString(Nl)&&Ll.push("path="+Nl),utils$a.isString(Ml)&&Ll.push("domain="+Ml),Ol===!0&&Ll.push("secure"),document.cookie=Ll.join("; ")},read:function(o){var et=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return et?decodeURIComponent(et[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function s(){return{write:function(){},read:function(){return null},remove:function(){}}}(),isAbsoluteURL$1=function s(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)},combineURLs$1=function s(i,o){return o?i.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):i},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function s(i,o){return i&&!isAbsoluteURL(o)?combineURLs(i,o):o},utils$9=utils$e,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function s(i){var o={},et,$l,Nl;return i&&utils$9.forEach(i.split(`
`),function(Ol){if(Nl=Ol.indexOf(":"),et=utils$9.trim(Ol.substr(0,Nl)).toLowerCase(),$l=utils$9.trim(Ol.substr(Nl+1)),et){if(o[et]&&ignoreDuplicateOf.indexOf(et)>=0)return;et==="set-cookie"?o[et]=(o[et]?o[et]:[]).concat([$l]):o[et]=o[et]?o[et]+", "+$l:$l}}),o},utils$8=utils$e,isURLSameOrigin$1=utils$8.isStandardBrowserEnv()?function s(){var i=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),et;function $l(Nl){var Ml=Nl;return i&&(o.setAttribute("href",Ml),Ml=o.href),o.setAttribute("href",Ml),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return et=$l(window.location.href),function(Ml){var Ol=utils$8.isString(Ml)?$l(Ml):Ml;return Ol.protocol===et.protocol&&Ol.host===et.host}}():function s(){return function(){return!0}}();function Cancel$3(s){this.message=s}Cancel$3.prototype.toString=function s(){return"Cancel"+(this.message?": "+this.message:"")};Cancel$3.prototype.__CANCEL__=!0;var Cancel_1=Cancel$3,utils$7=utils$e,settle=settle$1,cookies=cookies$1,buildURL$1=buildURL$2,buildFullPath=buildFullPath$1,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,createError=createError$2,transitionalDefaults$1=transitional,Cancel$2=Cancel_1,xhr=function s(i){return new Promise(function(et,$l){var Nl=i.data,Ml=i.headers,Ol=i.responseType,Ll;function Fl(){i.cancelToken&&i.cancelToken.unsubscribe(Ll),i.signal&&i.signal.removeEventListener("abort",Ll)}utils$7.isFormData(Nl)&&delete Ml["Content-Type"];var Bl=new XMLHttpRequest;if(i.auth){var Ul=i.auth.username||"",Gl=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";Ml.Authorization="Basic "+btoa(Ul+":"+Gl)}var Wl=buildFullPath(i.baseURL,i.url);Bl.open(i.method.toUpperCase(),buildURL$1(Wl,i.params,i.paramsSerializer),!0),Bl.timeout=i.timeout;function zl(){if(!!Bl){var Jl="getAllResponseHeaders"in Bl?parseHeaders(Bl.getAllResponseHeaders()):null,Kl=!Ol||Ol==="text"||Ol==="json"?Bl.responseText:Bl.response,Hl={data:Kl,status:Bl.status,statusText:Bl.statusText,headers:Jl,config:i,request:Bl};settle(function(Xl){et(Xl),Fl()},function(Xl){$l(Xl),Fl()},Hl),Bl=null}}if("onloadend"in Bl?Bl.onloadend=zl:Bl.onreadystatechange=function(){!Bl||Bl.readyState!==4||Bl.status===0&&!(Bl.responseURL&&Bl.responseURL.indexOf("file:")===0)||setTimeout(zl)},Bl.onabort=function(){!Bl||($l(createError("Request aborted",i,"ECONNABORTED",Bl)),Bl=null)},Bl.onerror=function(){$l(createError("Network Error",i,null,Bl)),Bl=null},Bl.ontimeout=function(){var Kl=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",Hl=i.transitional||transitionalDefaults$1;i.timeoutErrorMessage&&(Kl=i.timeoutErrorMessage),$l(createError(Kl,i,Hl.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",Bl)),Bl=null},utils$7.isStandardBrowserEnv()){var Ql=(i.withCredentials||isURLSameOrigin(Wl))&&i.xsrfCookieName?cookies.read(i.xsrfCookieName):void 0;Ql&&(Ml[i.xsrfHeaderName]=Ql)}"setRequestHeader"in Bl&&utils$7.forEach(Ml,function(Kl,Hl){typeof Nl=="undefined"&&Hl.toLowerCase()==="content-type"?delete Ml[Hl]:Bl.setRequestHeader(Hl,Kl)}),utils$7.isUndefined(i.withCredentials)||(Bl.withCredentials=!!i.withCredentials),Ol&&Ol!=="json"&&(Bl.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&Bl.addEventListener("progress",i.onDownloadProgress),typeof i.onUploadProgress=="function"&&Bl.upload&&Bl.upload.addEventListener("progress",i.onUploadProgress),(i.cancelToken||i.signal)&&(Ll=function(Jl){!Bl||($l(!Jl||Jl&&Jl.type?new Cancel$2("canceled"):Jl),Bl.abort(),Bl=null)},i.cancelToken&&i.cancelToken.subscribe(Ll),i.signal&&(i.signal.aborted?Ll():i.signal.addEventListener("abort",Ll))),Nl||(Nl=null),Bl.send(Nl)})},utils$6=utils$e,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$2,transitionalDefaults=transitional,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(s,i){!utils$6.isUndefined(s)&&utils$6.isUndefined(s["Content-Type"])&&(s["Content-Type"]=i)}function getDefaultAdapter(){var s;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(s=xhr),s}function stringifySafely(s,i,o){if(utils$6.isString(s))try{return(i||JSON.parse)(s),utils$6.trim(s)}catch(et){if(et.name!=="SyntaxError")throw et}return(o||JSON.stringify)(s)}var defaults$3={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function s(i,o){return normalizeHeaderName(o,"Accept"),normalizeHeaderName(o,"Content-Type"),utils$6.isFormData(i)||utils$6.isArrayBuffer(i)||utils$6.isBuffer(i)||utils$6.isStream(i)||utils$6.isFile(i)||utils$6.isBlob(i)?i:utils$6.isArrayBufferView(i)?i.buffer:utils$6.isURLSearchParams(i)?(setContentTypeIfUnset(o,"application/x-www-form-urlencoded;charset=utf-8"),i.toString()):utils$6.isObject(i)||o&&o["Content-Type"]==="application/json"?(setContentTypeIfUnset(o,"application/json"),stringifySafely(i)):i}],transformResponse:[function s(i){var o=this.transitional||defaults$3.transitional,et=o&&o.silentJSONParsing,$l=o&&o.forcedJSONParsing,Nl=!et&&this.responseType==="json";if(Nl||$l&&utils$6.isString(i)&&i.length)try{return JSON.parse(i)}catch(Ml){if(Nl)throw Ml.name==="SyntaxError"?enhanceError(Ml,this,"E_JSON_PARSE"):Ml}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function s(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$6.forEach(["delete","get","head"],function s(i){defaults$3.headers[i]={}});utils$6.forEach(["post","put","patch"],function s(i){defaults$3.headers[i]=utils$6.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$3,utils$5=utils$e,defaults$2=defaults_1,transformData$1=function s(i,o,et){var $l=this||defaults$2;return utils$5.forEach(et,function(Ml){i=Ml.call($l,i,o)}),i},isCancel$1=function s(i){return!!(i&&i.__CANCEL__)},utils$4=utils$e,transformData=transformData$1,isCancel=isCancel$1,defaults$1=defaults_1,Cancel$1=Cancel_1;function throwIfCancellationRequested(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Cancel$1("canceled")}var dispatchRequest$1=function s(i){throwIfCancellationRequested(i),i.headers=i.headers||{},i.data=transformData.call(i,i.data,i.headers,i.transformRequest),i.headers=utils$4.merge(i.headers.common||{},i.headers[i.method]||{},i.headers),utils$4.forEach(["delete","get","head","post","put","patch","common"],function($l){delete i.headers[$l]});var o=i.adapter||defaults$1.adapter;return o(i).then(function($l){return throwIfCancellationRequested(i),$l.data=transformData.call(i,$l.data,$l.headers,i.transformResponse),$l},function($l){return isCancel($l)||(throwIfCancellationRequested(i),$l&&$l.response&&($l.response.data=transformData.call(i,$l.response.data,$l.response.headers,i.transformResponse))),Promise.reject($l)})},utils$3=utils$e,mergeConfig$2=function s(i,o){o=o||{};var et={};function $l(Bl,Ul){return utils$3.isPlainObject(Bl)&&utils$3.isPlainObject(Ul)?utils$3.merge(Bl,Ul):utils$3.isPlainObject(Ul)?utils$3.merge({},Ul):utils$3.isArray(Ul)?Ul.slice():Ul}function Nl(Bl){if(utils$3.isUndefined(o[Bl])){if(!utils$3.isUndefined(i[Bl]))return $l(void 0,i[Bl])}else return $l(i[Bl],o[Bl])}function Ml(Bl){if(!utils$3.isUndefined(o[Bl]))return $l(void 0,o[Bl])}function Ol(Bl){if(utils$3.isUndefined(o[Bl])){if(!utils$3.isUndefined(i[Bl]))return $l(void 0,i[Bl])}else return $l(void 0,o[Bl])}function Ll(Bl){if(Bl in o)return $l(i[Bl],o[Bl]);if(Bl in i)return $l(void 0,i[Bl])}var Fl={url:Ml,method:Ml,data:Ml,baseURL:Ol,transformRequest:Ol,transformResponse:Ol,paramsSerializer:Ol,timeout:Ol,timeoutMessage:Ol,withCredentials:Ol,adapter:Ol,responseType:Ol,xsrfCookieName:Ol,xsrfHeaderName:Ol,onUploadProgress:Ol,onDownloadProgress:Ol,decompress:Ol,maxContentLength:Ol,maxBodyLength:Ol,transport:Ol,httpAgent:Ol,httpsAgent:Ol,cancelToken:Ol,socketPath:Ol,responseEncoding:Ol,validateStatus:Ll};return utils$3.forEach(Object.keys(i).concat(Object.keys(o)),function(Ul){var Gl=Fl[Ul]||Nl,Wl=Gl(Ul);utils$3.isUndefined(Wl)&&Gl!==Ll||(et[Ul]=Wl)}),et},data={version:"0.26.1"},VERSION=data.version,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(s,i){validators$1[s]=function(et){return typeof et===s||"a"+(i<1?"n ":" ")+s}});var deprecatedWarnings={};validators$1.transitional=function s(i,o,et){function $l(Nl,Ml){return"[Axios v"+VERSION+"] Transitional option '"+Nl+"'"+Ml+(et?". "+et:"")}return function(Nl,Ml,Ol){if(i===!1)throw new Error($l(Ml," has been removed"+(o?" in "+o:"")));return o&&!deprecatedWarnings[Ml]&&(deprecatedWarnings[Ml]=!0,console.warn($l(Ml," has been deprecated since v"+o+" and will be removed in the near future"))),i?i(Nl,Ml,Ol):!0}};function assertOptions(s,i,o){if(typeof s!="object")throw new TypeError("options must be an object");for(var et=Object.keys(s),$l=et.length;$l-- >0;){var Nl=et[$l],Ml=i[Nl];if(Ml){var Ol=s[Nl],Ll=Ol===void 0||Ml(Ol,Nl,s);if(Ll!==!0)throw new TypeError("option "+Nl+" must be "+Ll);continue}if(o!==!0)throw Error("Unknown option "+Nl)}}var validator$1={assertOptions,validators:validators$1},utils$2=utils$e,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(s){this.defaults=s,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function s(i,o){typeof i=="string"?(o=o||{},o.url=i):o=i||{},o=mergeConfig$1(this.defaults,o),o.method?o.method=o.method.toLowerCase():this.defaults.method?o.method=this.defaults.method.toLowerCase():o.method="get";var et=o.transitional;et!==void 0&&validator.assertOptions(et,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var $l=[],Nl=!0;this.interceptors.request.forEach(function(Wl){typeof Wl.runWhen=="function"&&Wl.runWhen(o)===!1||(Nl=Nl&&Wl.synchronous,$l.unshift(Wl.fulfilled,Wl.rejected))});var Ml=[];this.interceptors.response.forEach(function(Wl){Ml.push(Wl.fulfilled,Wl.rejected)});var Ol;if(!Nl){var Ll=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(Ll,$l),Ll=Ll.concat(Ml),Ol=Promise.resolve(o);Ll.length;)Ol=Ol.then(Ll.shift(),Ll.shift());return Ol}for(var Fl=o;$l.length;){var Bl=$l.shift(),Ul=$l.shift();try{Fl=Bl(Fl)}catch(Gl){Ul(Gl);break}}try{Ol=dispatchRequest(Fl)}catch(Gl){return Promise.reject(Gl)}for(;Ml.length;)Ol=Ol.then(Ml.shift(),Ml.shift());return Ol};Axios$1.prototype.getUri=function s(i){return i=mergeConfig$1(this.defaults,i),buildURL(i.url,i.params,i.paramsSerializer).replace(/^\?/,"")};utils$2.forEach(["delete","get","head","options"],function s(i){Axios$1.prototype[i]=function(o,et){return this.request(mergeConfig$1(et||{},{method:i,url:o,data:(et||{}).data}))}});utils$2.forEach(["post","put","patch"],function s(i){Axios$1.prototype[i]=function(o,et,$l){return this.request(mergeConfig$1($l||{},{method:i,url:o,data:et}))}});var Axios_1=Axios$1,Cancel=Cancel_1;function CancelToken(s){if(typeof s!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function($l){i=$l});var o=this;this.promise.then(function(et){if(!!o._listeners){var $l,Nl=o._listeners.length;for($l=0;$l<Nl;$l++)o._listeners[$l](et);o._listeners=null}}),this.promise.then=function(et){var $l,Nl=new Promise(function(Ml){o.subscribe(Ml),$l=Ml}).then(et);return Nl.cancel=function(){o.unsubscribe($l)},Nl},s(function($l){o.reason||(o.reason=new Cancel($l),i(o.reason))})}CancelToken.prototype.throwIfRequested=function s(){if(this.reason)throw this.reason};CancelToken.prototype.subscribe=function s(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]};CancelToken.prototype.unsubscribe=function s(i){if(!!this._listeners){var o=this._listeners.indexOf(i);o!==-1&&this._listeners.splice(o,1)}};CancelToken.source=function s(){var i,o=new CancelToken(function($l){i=$l});return{token:o,cancel:i}};var CancelToken_1=CancelToken,spread=function s(i){return function(et){return i.apply(null,et)}},utils$1=utils$e,isAxiosError=function s(i){return utils$1.isObject(i)&&i.isAxiosError===!0},utils=utils$e,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=defaults_1;function createInstance(s){var i=new Axios(s),o=bind(Axios.prototype.request,i);return utils.extend(o,Axios.prototype,i),utils.extend(o,i),o.create=function($l){return createInstance(mergeConfig(s,$l))},o}var axios$1=createInstance(defaults);axios$1.Axios=Axios;axios$1.Cancel=Cancel_1;axios$1.CancelToken=CancelToken_1;axios$1.isCancel=isCancel$1;axios$1.VERSION=data.version;axios$1.all=function s(i){return Promise.all(i)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$2.exports=axios$1;axios$2.exports.default=axios$1;var axios=axios$2.exports;class GDSCApi{constructor(){tp(this,"API");tp(this,"FIREBASE_API");tp(this,"getMemberNickname",()=>axios.get(`${this.API}/api/member/onBoarding/nickname`));tp(this,"postOnboardingMembers",i=>axios.post(`${this.API}/api/member/onBoarding/join`,i));tp(this,"getRecruitStatus",()=>axios.get(`${this.API}/api/support/limit`));tp(this,"putRecruitStatus",i=>axios.put(`${this.API}/api/admin/v1/support/limit/update`,i));tp(this,"postMemberWarning",i=>axios.post(`${this.API}/api/admin/v1/warning`,i));tp(this,"putMemberRole",i=>axios.post(`${this.API}/api/admin/v1/update/role`,i));tp(this,"getAdminUser",i=>axios.get(`${this.FIREBASE_API}/documents/adminUsers/${i}`));tp(this,"getApplicants",()=>axios.get(`${this.FIREBASE_API}/documents/applicants`));tp(this,"getChapterEvents",()=>axios.get("https://gdsc.community.dev/api/event/?chapter=1833"));this.API="https://gdsc-dju.com",this.FIREBASE_API="https://firestore.googleapis.com/v1/projects/gdsc-dju/databases/(default)"}}var API=new GDSCApi;const RECRUITMENT="recruitment",RECRUITMENT_SELECTOR="recruitmentSelector",RecruitmentState={home:!0,frontend:!0,backend:!0,android:!0,design:!0,ml:!0,beginner:!0},recruitmentState=Recoil_index_7({key:RECRUITMENT,default:RecruitmentState});Recoil_index_8({key:RECRUITMENT_SELECTOR,get:async()=>(await API.getRecruitStatus()).data.data,set:({set:s},i)=>{s(recruitmentState,i)}});const position$1={home:"Home",frontend:"Frontend Developer",backend:"Backend Developer",android:"Android Developer",beginner:"Beginner",design:"Designer",ml:"Machine Learning"},tabs=[{label:"\uD648",route:"/admin"},{label:"\uBA64\uBC84 \uAD00\uB9AC",route:"/admin/member"},{label:"\uC9C0\uC6D0\uC790 \uAD00\uB9AC",route:"/admin/recruit"},{label:"\uC774\uBA54\uC77C",route:"/admin/email"},{label:"\uC774\uBA54\uC77C \uB85C\uADF8",route:"/admin/email-log"}],AdminSidebar=()=>{const s=useLocation(),i=useNavigate(),o=Ol=>{i(Ol)};Recoil_index_19(recruitmentState);const[et,$l]=useSearchParams(),Nl=Ol=>{$l({type:Ol})},Ml=Object.keys(position$1);return jsx(SidebarContainer,{children:tabs.map(Ol=>{const Ll=s.pathname===Ol.route,Fl=s.pathname.includes("/admin/recruit"),Bl=Ol.label==="\uC9C0\uC6D0\uC790 \uAD00\uB9AC";return jsxs(Fragment,{children:[jsxs(SideElementWrapper,{onClick:()=>o(Ol.route),children:[jsx(SideElementSelectBar,{isCurrent:Ll,id:"bar"}),jsx(SideElementText,{isCurrent:Ll,children:Ol.label})]},Ol.route),Bl&&Fl&&Ml.map(Ul=>{const Gl=et.get("type")===Ul;return jsx(SideElementChildrenWrapper,{onClick:()=>Nl(Ul),children:jsx(SideElementText,{isCurrent:Gl,children:Ul})},Ul)})]})})})};var AdminSidebar$1=react.exports.memo(AdminSidebar);const ApplyModalInnerWrapper=styled.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  width: 100%;
  z-index: 3;
`,ApplyButtonWrapper=styled.div`
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  column-gap: 6px;
  flex-direction: row-reverse;
  margin-top: 10px;
`,ApplyModalP=styled.p`
  font-size: ${s=>s.theme.fontSize.body2};
  color: ${s=>s.theme.colors.grey600};
  min-width: 80px;
  margin-bottom: 6px;
`,ApplyModalContentWrapper=styled.div`
  display: flex;
  flex-direction: row;
`,ApplyModalTitle=styled.h5`
  font-size: ${s=>s.theme.fontSize.h6};
  color: ${s=>s.theme.colors.grey900};
  margin-bottom: 12px;
`,ApplyModalInner=styled(motion.div)`
  margin: 0 auto;
  background: ${({theme:s})=>s.colors.background};
  border-radius: 10px;
  box-shadow: 5px 5px 5px 5px rgba(0, 0, 0, 0.1);
  padding: 20px 30px;
  display: flex;
  flex-direction: column;
  z-index: 999;
`,ApplyModalWrapper=styled(motion.div)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1000;
`,ApplyModalButtonWrapper=styled.div`
  margin-right: 10px;
`,OutsideClickHandler=({children:s,outsideClick:i,trigger:o=!0})=>{const et=react.exports.useRef(null),$l=react.exports.useCallback(Nl=>{et.current&&!et.current.contains(Nl.target)&&i(Nl.target)},[i]);return react.exports.useEffect(()=>(o&&setTimeout(()=>document.addEventListener("click",$l),0),()=>{document.removeEventListener("click",$l)}),[$l,o]),jsx(motion.div,{ref:et,children:s})},modalVariants={active:{opacity:1,scale:1,y:0,transition:{duration:.5}},unActive:{opacity:0,scale:0,y:200,transition:{duration:.5}}},StyledInputInner=styled.input`
  padding: 0 18px;
  margin: 2px 0;
  border: 0;
  border-radius: 10px;
  height: 48px;
  font-size: ${s=>s.theme.fontSize.body1};
  outline: none;
  width: 100%;
  flex-grow: 1;
  background: none;
  font-weight: 400;
  box-sizing: border-box;
  color: ${s=>s.theme.colors.grey700};
  &::placeholder {
    color: ${s=>s.theme.colors.grey400};
    font-weight: 300;
  }
  ${s=>s.disabled&&Ce$2`
      background: ${i=>i.theme.colors.grey100};
      color: ${i=>i.theme.colors.grey400};
    `}
`,StyledFileInput=styled.div`
  color: ${s=>s.theme.colors.grey500};
  cursor: pointer;
  overflow: hidden;
  white-space: nowrap;
  flex-grow: 1;
  font-weight: 300;
  font-size: ${s=>s.theme.fontSize.body1};
  padding: 0 18px;
`,StyledInputWrapper=styled.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 1px auto 0;
  height: 48px;
  border: none;
  outline: none;
  appearance: none;
  border-radius: 10px;
  box-shadow: inset 0 0 0 1px ${s=>s.theme.colors.grey300};
  cursor: auto;
  &:hover {
    box-shadow: inset 0 0 0 2px ${s=>s.theme.colors.tossBlue200};
    ${s=>s.error&&Ce$2`
        box-shadow: inset 0 0 0 2px ${s.theme.colors.tossRed};
      `}
  }
  .formInput:focus {
    box-shadow: inset 0 0 0 2px ${s=>s.theme.colors.tossBlue500};
    ${s=>s.error&&Ce$2`
        box-shadow: inset 0 0 0 2px ${s.theme.colors.tossRed}!important;
      `}
  }
  ${({disabled:s})=>!s&&Ce$2`
      &:hover {
        box-shadow: none;
      }
    `}
  ${({error:s})=>s&&Ce$2`
      box-shadow: inset 0 0 0 2px ${({theme:i})=>i.colors.tossRed};
    `}
  transition: 0.3s;
`,InputImageWrapper=styled.div`
  height: 20px;
  width: 20px;
  margin: 0 -8px 0 18px;
  display: flex;
  align-items: center;
  cursor: pointer;
`,ErrorBox=styled.div`
  height: 20px;
  display: flex;
  align-items: center;
  color: ${s=>s.theme.colors.tossRed};
  font-size: ${s=>s.theme.fontSize.body2};
  padding-left: 5px;
`,StyledInput=styled.input`
  padding: 0 14px;
  margin: 2px 0;
  border: 0;
  border-radius: 10px;
  height: 50px;
  font-size: ${s=>s.theme.fontSize.body1};
  outline: none;
  flex-grow: 1;
  background: none;
  font-weight: 400;
  color: ${s=>s.theme.colors.grey700};
  box-sizing: border-box;
  box-shadow: inset 0 0 0 1px ${s=>s.theme.colors.grey300};
  cursor: text;
  &::placeholder {
    color: ${s=>s.theme.colors.grey400};
    font-weight: 300;
  }
  &:hover {
    box-shadow: inset 0 0 0 2px ${s=>s.theme.colors.tossBlue200};
    ${s=>s.error&&Ce$2`
        box-shadow: inset 0 0 0 2px ${s.theme.colors.tossRed};
      `}
  }
  &:focus {
    box-sizing: border-box;
    box-shadow: inset 0 0 0 2px ${s=>s.theme.colors.tossBlue500};
    ${s=>s.error&&Ce$2`
        box-shadow: inset 0 0 0 2px ${s.theme.colors.tossRed}!important;
      `}
  }
  ${s=>s.disabled&&Ce$2`
      background: ${i=>i.theme.colors.grey100};
      &:hover {
        box-shadow: inset 0 0 0 1px ${i=>i.theme.colors.grey300};
        cursor: not-allowed;
      }
    `}
  ${s=>s.error&&Ce$2`
      box-shadow: inset 0 0 0 2px ${s.theme.colors.tossRed};
    `}
  transition: 0.3s;
`,StyledButton=styled.button`
  display: flex;
  align-items: center;
  justify-content: center;
  border: 0 solid ${s=>s.theme.colors.grey300};
  font-size: ${s=>s.theme.fontSize.body2};
  padding: 10px 30px;
  cursor: pointer;
  box-shadow: 0 2px 12px rgba(25, 31, 40, 0.08);
  border-radius: 10px;
  color: ${({theme:s})=>s.colors.white};
  ${({border:s})=>s&&Ce$2`
      border: 1px solid ${s};
    `}
  ${({disable:s})=>s&&Ce$2`
      cursor: not-allowed;
      opacity: 0.5;
    `}
  ${({size:s})=>s==="large"&&Ce$2`
      padding: 8px 86px;
    `}
  ${({background:s})=>s&&Ce$2`
      background: ${({theme:i})=>i.colors[s]};
    `}
  ${({color:s})=>s&&Ce$2`
      color: ${({theme:i})=>i.colors[s]};
    `}
`,GDSCButton=({text:s,color:i,disable:o,onClick:et,type:$l})=>jsx(StyledButton,{color:i?"white":"grey900",border:i||"white",background:i||"white",disable:o,onClick:et,type:$l,children:s}),AdminSignUpWrapper=styled(motion.div)`
  margin: 0 auto;
  background: #fff;
  border-radius: 10px;
  box-shadow: 5px 5px 5px 5px rgba(0, 0, 0, 0.1);
  padding: 20px 30px;
  display: flex;
  flex-direction: column;
  flex-wrap: wrap;
  gap: 8px;
`,AdminSignUp=()=>{const[s,i]=Recoil_index_21(modalState),[o,et]=react.exports.useState(""),[$l,Nl]=react.exports.useState(""),[Ml,Ol]=react.exports.useState(""),Ll=Bl=>{const{name:Ul,value:Gl}=Bl.target;Ul==="email"?et(Gl):Ul==="password"&&Nl(Gl)},Fl=async Bl=>{Bl.preventDefault(),createUserWithEmailAndPassword(auth,o,$l).then(Ul=>{i({...s,[MODAL_KEY.ADMIN_SIGN_UP]:!1})}).catch(Ul=>{Ul.code=="auth/email-already-in-use"?Ol("\uC774\uBBF8 \uC0AC\uC6A9 \uC911\uC778 \uC774\uBA54\uC77C\uC785\uB2C8\uB2E4."):Ul.code=="auth/invalid-email"?Ol("\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC774\uBA54\uC77C\uC785\uB2C8\uB2E4."):Ul.code=="operation-not-allowed"?Ol("\uC774\uBA54\uC77C \uAC00\uC785\uC774 \uC911\uC9C0\uB418\uC5C8\uC2B5\uB2C8\uB2E4."):Ul.code=="auth/weak-password"?Ol("\uBE44\uBC00\uBC88\uD638\uB97C 6\uC790\uB9AC \uC774\uC0C1 \uC785\uB825\uD558\uC138\uC694."):Ul.code=="auth/user-not-found"?Ol("\uC62C\uBC14\uB974\uC9C0 \uC54A\uC740 \uC720\uC800\uC815\uBCF4\uC785\uB2C8\uB2E4."):Ul.code=="auth/wrong-password"&&Ol("\uC62C\uBC14\uB974\uC9C0 \uC54A\uC740 \uBE44\uBC00\uBC88\uD638\uC785\uB2C8\uB2E4.")})};return jsx(AnimatePresence,{children:s.adminSignUp&&jsx(ApplyModalWrapper,{children:jsx(OutsideClickHandler,{outsideClick:()=>i({...s,[MODAL_KEY.ADMIN_SIGN_UP]:!1}),children:jsxs(AdminSignUpWrapper,{variants:modalVariants,exit:"unActive",animate:"active",initial:"unActive",children:[jsx(StyledInput,{onChange:Ll,name:"email",placeholder:"\uC774\uBA54\uC77C"}),jsx(StyledInput,{onChange:Ll,name:"password",placeholder:"\uBE44\uBC00\uBC88\uD638"}),jsx("div",{children:Ml}),jsx(GDSCButton,{text:"\uD68C\uC6D0\uAC00\uC785",color:"tossBlue",onClick:Fl})]})})})})},Switch=styled.div`
  width: 36px;
  height: 18px;
  background-color: ${s=>s.theme.colors.grey700};
  display: flex;
  justify-content: flex-start;
  border: 1px solid transparent;
  border-color: ${s=>s.theme.colors.grey700};
  border-radius: 50px;
  padding: 3px;
  cursor: pointer;
  &[data-isOn='true'] {
    justify-content: flex-end;
    background-color: ${s=>s.theme.colors.tossBlue};
  }
`,Handle=styled(motion.div)`
  width: 18px;
  height: 18px;
  background-color: white;
  border-radius: 40px;
`,InformationHeader=styled.div`
  display: flex;
  justify-content: flex-end;
  width: 100%;
  align-items: center;
  flex-wrap: wrap;
  gap: 10px;
  height: 70px;
  box-sizing: border-box;
  flex-direction: row;
`,EmailButtonWrapper=styled.div`
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
`,ToggleButton=styled.div`
  display: flex;
  flex-direction: row;
  margin: 10px 10px;
`,AdminSectionWrapper=styled.div`
  position: relative;
  display: flex;
  flex-direction: row;
  width: 100%;
  height: 100%;
  margin: 0 auto;
  min-width: 320px;
  flex: 1;
`,ApplicantCardWrapper$1=styled(motion.div)`
  display: flex;
  flex-direction: row;
  padding: 10px 20px;
  justify-content: space-between;
  box-shadow: ${({theme:s})=>s.colors.boxShadow100};
  border-radius: 10px;
  box-sizing: border-box;
  align-items: center;
  cursor: pointer;
  height: 50px;
  width: 400px;
  background: ${({theme:s})=>s.colors.white};
`,ApplicantText=styled(motion.div)`
  font-size: ${({theme:s})=>s.fontSize.body2};
  color: ${({theme:s})=>s.colors.grey900};
  min-width: 50px;
  max-width: 70px;
  white-space: nowrap;
  overflow: hidden;
  display: block;
  text-overflow: ellipsis;
`,ApplicantEmail=styled(motion.div)`
  font-size: ${({theme:s})=>s.fontSize.body2};
  color: ${({theme:s})=>s.colors.grey900};
  text-overflow: ellipsis;
  width: 150px;
  white-space: nowrap;
  overflow: hidden;
  display: block;
`,StatusBadgeWrapper=styled.div`
  padding: 2px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  ${({color:s})=>s&&Ce$2`
      color: ${({theme:i})=>i.colors[s]};
      background: ${({theme:i})=>i.colors.white};
      border: 1px solid ${({theme:i})=>i.colors[s]};
    `}
  font-size: ${({theme:s})=>s.fontSize.body3};
  width: fit-content;
  border-radius: 4px;
  ${({disable:s})=>s&&Ce$2`
      color: ${({theme:i})=>i.colors.grey400};
      background: ${({theme:i})=>i.colors.white};
      border: 1px solid ${({theme:i})=>i.colors.grey400};
    `}
`,statusData={DOCS:{color:"googleBlue",text:"\uC11C\uB958\uC2EC\uC0AC"},INTERVIEW:{color:"googleYellow",text:"\uC778\uD130\uBDF0"},REJECTED_DOCS:{color:"orange900",text:"\uC11C\uB958 \uBD88\uD569\uACA9"},REJECTED_INTERVIEW:{color:"googleRed",text:"\uBA74\uC811 \uBD88\uD569\uACA9"},HIRED:{color:"googleGreen",text:"\uCD5C\uC885\uD569\uACA9"}},StatusBadge=({status:s,disable:i})=>jsx(Fragment,{children:s&&jsx(StatusBadgeWrapper,{color:statusData[s].color,disable:i,children:statusData[s].text})}),ApplicantCard=({name:s,email:i,position:o,status:et,id:$l})=>jsxs(ApplicantCardWrapper$1,{layoutId:`card-${$l}`,children:[jsx(ApplicantText,{children:s}),jsx(ApplicantText,{children:o.split(" ")[0]}),jsx(ApplicantEmail,{children:i}),jsx(StatusBadge,{status:et})]}),ApplicantCardWrapper=styled.div`
  display: flex;
  justify-content: center;
  width: 25%;
  margin-bottom: 1%;
  @media (max-width: 2450px) {
    width: 25%;
  }
  @media (max-width: 1950px) {
    width: 33.33%;
  }
  @media (max-width: 1525px) {
    width: 50%;
  }
  @media (max-width: 1100px) {
    width: 100%;
  }
`,ApplicantCardSection=styled.section`
  display: flex;
  flex-wrap: wrap;
  width: 100%;
  box-sizing: border-box;
`,ApplicantSection=styled.div`
  display: flex;
  align-items: center;
  flex-direction: column;
  flex-wrap: wrap;
  gap: 10px;
  padding: 0 20px;
  width: 100%;
  margin: 0 auto;
  box-sizing: border-box;
`,ApplicantModalWrapper=styled.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.1);
  z-index: 1000;
`,ApplicantModalInner=styled(motion.div)`
  background: ${({theme:s})=>s.colors.white};
  display: flex;
  align-items: center;

  width: 1300px;
  height: 800px;
  border-radius: 20px;
`,ApplicantInfoWrapper=styled.div`
  background: ${({theme:s})=>s.colors.grey100};
  height: 100%;
  width: 280px;
  padding: 10px 10px;
  box-sizing: border-box;
  border-radius: 20px 0 0 20px;
  display: flex;
  flex-direction: column;
  flex-wrap: wrap;
  gap: 10px;
`,ApplicantInfoSection=styled.div`
  width: 100%;
  display: flex;
  flex-direction: column;
  height: 100%;
`,ApplicantInfoHeader=styled.div`
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding: 0 14px;
  flex-wrap: wrap;
  gap: 5px;
  border-bottom: 1px solid ${({theme:s})=>s.colors.grey300};
`,ApplicantDataWrapper=styled.div`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
`,ApplicantInfoInner=styled.div`
  padding: 20px 18px;
  display: flex;
  flex-direction: column;
  flex-wrap: wrap;
  gap: 14px;
  border: 1px solid ${({theme:s})=>s.colors.grey300};
  border-radius: 14px;
  justify-content: flex-start;
  background: ${({theme:s})=>s.colors.white};
`,ApplicantNameWrapper=styled.div`
  width: 100%;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
`,ApplicantName=styled(motion.p)`
  font-size: ${({theme:s})=>s.fontSize.body1};
  color: ${({theme:s})=>s.colors.grey900};
  font-weight: bold;
`,ApplicantInfoTextWrapper=styled.div`
  display: flex;
  flex-direction: row;
`,ApplicantInfoText=styled(motion.p)`
  font-size: ${({theme:s})=>s.fontSize.body3};
  color: ${({theme:s})=>s.colors.grey900};
  min-width: 60px;
  max-width: 150px;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,ApplicantInfoLink=styled.a`
  font-size: ${({theme:s})=>s.fontSize.body3};
  color: ${({theme:s})=>s.colors.tossBlue};
  min-width: 60px;
  max-width: 150px;
  text-decoration: none;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,ApplicantInfoStateWrapper=styled.section`
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  row-gap: 10px;
  gap: 10px;
`,ApplicantBadgeWrapper=styled.div`
  display: flex;
  height: fit-content;
`,ApplicationWrapper=styled.div`
  width: 100%;
  padding: 20px;
  height: 760px;
  box-sizing: border-box;
  overflow: scroll;
`,ApplicationHeader=styled.div`
  font-size: ${({theme:s})=>s.fontSize.h7};
  color: ${({theme:s})=>s.colors.grey900};
  margin-bottom: 6px;
`,ApplicationText=styled(motion.p)`
  font-size: ${({theme:s})=>s.fontSize.body2};
  color: ${({theme:s})=>s.colors.grey800};
  margin-bottom: 20px;
`;var Clear="/assets/Clear.a34de3c3.svg";const ModalButton=styled.button`
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${({theme:s})=>s.colors.white};
  width: 30px;
  height: 30px;
  border-radius: 7px;
  border: 1px solid ${({theme:s})=>s.colors.grey50};
  cursor: pointer;
  &:hover {
    background: ${({theme:s})=>s.colors.grey200};
  }
`,ModalButtonIcon=styled.img`
  height: 16px;
`,ClearButton=({onClick:s})=>jsx(ModalButton,{onClick:s,children:jsx(ModalButtonIcon,{src:Clear})});/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(i,o){this._delegate=i,this.firebase=o,_addComponent(i,new Component("app-compat",()=>this,"PUBLIC")),this.container=i.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this._delegate.automaticDataCollectionEnabled=i}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(i=>{this._delegate.checkDestroyed(),i()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),deleteApp(this._delegate)))}_getService(i,o=DEFAULT_ENTRY_NAME$1){var et;this._delegate.checkDestroyed();const $l=this._delegate.container.getProvider(i);return!$l.isInitialized()&&((et=$l.getComponent())===null||et===void 0?void 0:et.instantiationMode)==="EXPLICIT"&&$l.initialize(),$l.getImmediate({identifier:o})}_removeServiceInstance(i,o=DEFAULT_ENTRY_NAME$1){this._delegate.container.getProvider(i).clearInstance(o)}_addComponent(i){_addComponent(this._delegate,i)}_addOrOverwriteComponent(i){_addOrOverwriteComponent(this._delegate,i)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$3={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},ERROR_FACTORY$8=new ErrorFactory("app-compat","Firebase",ERRORS$3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createFirebaseNamespaceCore(s){const i={},o={__esModule:!0,initializeApp:Nl,app:$l,registerVersion,setLogLevel:setLogLevel$2,onLog,apps:null,SDK_VERSION:SDK_VERSION$2,INTERNAL:{registerComponent:Ol,removeApp:et,useAsService:Ll,modularAPIs}};o.default=o,Object.defineProperty(o,"apps",{get:Ml});function et(Fl){delete i[Fl]}function $l(Fl){if(Fl=Fl||DEFAULT_ENTRY_NAME$1,!contains(i,Fl))throw ERROR_FACTORY$8.create("no-app",{appName:Fl});return i[Fl]}$l.App=s;function Nl(Fl,Bl={}){const Ul=initializeApp(Fl,Bl);if(contains(i,Ul.name))return i[Ul.name];const Gl=new s(Ul,o);return i[Ul.name]=Gl,Gl}function Ml(){return Object.keys(i).map(Fl=>i[Fl])}function Ol(Fl){const Bl=Fl.name,Ul=Bl.replace("-compat","");if(_registerComponent(Fl)&&Fl.type==="PUBLIC"){const Gl=(Wl=$l())=>{if(typeof Wl[Ul]!="function")throw ERROR_FACTORY$8.create("invalid-app-argument",{appName:Bl});return Wl[Ul]()};Fl.serviceProps!==void 0&&deepExtend(Gl,Fl.serviceProps),o[Ul]=Gl,s.prototype[Ul]=function(...Wl){return this._getService.bind(this,Bl).apply(this,Fl.multipleInstances?Wl:[])}}return Fl.type==="PUBLIC"?o[Ul]:null}function Ll(Fl,Bl){return Bl==="serverAuth"?null:Bl}return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createFirebaseNamespace(){const s=createFirebaseNamespaceCore(FirebaseAppImpl);s.INTERNAL=Object.assign(Object.assign({},s.INTERNAL),{createFirebaseNamespace,extendNamespace:i,createSubscribe,ErrorFactory,deepExtend});function i(o){deepExtend(s,o)}return s}const firebase$1=createFirebaseNamespace();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$4=new Logger("@firebase/app-compat"),name$k="@firebase/app-compat",version$k="0.1.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(s){registerVersion(name$k,version$k,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(isBrowser()&&self.firebase!==void 0){logger$4.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const s=self.firebase.SDK_VERSION;s&&s.indexOf("LITE")>=0&&logger$4.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const firebase=firebase$1;registerCoreComponents();const name$j="@firebase/installations",version$j="0.5.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$j}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=60*60*1e3,SERVICE$1="installations",SERVICE_NAME$1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP$2={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$7=new ErrorFactory(SERVICE$1,SERVICE_NAME$1,ERROR_DESCRIPTION_MAP$2);function isServerError(s){return s instanceof FirebaseError&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:s}){return`${INSTALLATIONS_API_URL}/projects/${s}/installations`}function extractAuthTokenInfoFromResponse(s){return{token:s.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn(s.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse(s,i){const et=(await i.json()).error;return ERROR_FACTORY$7.create("request-failed",{requestName:s,serverCode:et.code,serverMessage:et.message,serverStatus:et.status})}function getHeaders$3({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function getHeadersWithAuth(s,{refreshToken:i}){const o=getHeaders$3(s);return o.append("Authorization",getAuthorizationHeader(i)),o}async function retryIfServerError(s){const i=await s();return i.status>=500&&i.status<600?s():i}function getExpiresInFromResponseExpiresIn(s){return Number(s.replace("s","000"))}function getAuthorizationHeader(s){return`${INTERNAL_AUTH_VERSION} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:s,heartbeatServiceProvider:i},{fid:o}){const et=getInstallationsEndpoint(s),$l=getHeaders$3(s),Nl=i.getImmediate({optional:!0});if(Nl){const Fl=await Nl.getHeartbeatsHeader();Fl&&$l.append("x-firebase-client",Fl)}const Ml={fid:o,authVersion:INTERNAL_AUTH_VERSION,appId:s.appId,sdkVersion:PACKAGE_VERSION},Ol={method:"POST",headers:$l,body:JSON.stringify(Ml)},Ll=await retryIfServerError(()=>fetch(et,Ol));if(Ll.ok){const Fl=await Ll.json();return{fid:Fl.fid||o,registrationStatus:2,refreshToken:Fl.refreshToken,authToken:extractAuthTokenInfoFromResponse(Fl.authToken)}}else throw await getErrorFromResponse("Create Installation",Ll)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep$2(s){return new Promise(i=>{setTimeout(i,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bufferToBase64UrlSafe(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const o=encode$1(s);return VALID_FID_PATTERN.test(o)?o:INVALID_FID}catch{return INVALID_FID}}function encode$1(s){return bufferToBase64UrlSafe(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey$2(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fidChangeCallbacks=new Map;function fidChanged(s,i){const o=getKey$2(s);callFidChangeCallbacks(o,i),broadcastFidChange(o,i)}function callFidChangeCallbacks(s,i){const o=fidChangeCallbacks.get(s);if(!!o)for(const et of o)et(i)}function broadcastFidChange(s,i){const o=getBroadcastChannel();o&&o.postMessage({key:s,fid:i}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=s=>{callFidChangeCallbacks(s.data.key,s.data.fid)}),broadcastChannel}function closeBroadcastChannel(){fidChangeCallbacks.size===0&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME$2="firebase-installations-database",DATABASE_VERSION$2=1,OBJECT_STORE_NAME$2="firebase-installations-store";let dbPromise$3=null;function getDbPromise$2(){return dbPromise$3||(dbPromise$3=openDB(DATABASE_NAME$2,DATABASE_VERSION$2,{upgrade:(s,i)=>{switch(i){case 0:s.createObjectStore(OBJECT_STORE_NAME$2)}}})),dbPromise$3}async function set$1(s,i){const o=getKey$2(s),$l=(await getDbPromise$2()).transaction(OBJECT_STORE_NAME$2,"readwrite"),Nl=$l.objectStore(OBJECT_STORE_NAME$2),Ml=await Nl.get(o);return await Nl.put(i,o),await $l.done,(!Ml||Ml.fid!==i.fid)&&fidChanged(s,i.fid),i}async function remove$1(s){const i=getKey$2(s),et=(await getDbPromise$2()).transaction(OBJECT_STORE_NAME$2,"readwrite");await et.objectStore(OBJECT_STORE_NAME$2).delete(i),await et.done}async function update$1(s,i){const o=getKey$2(s),$l=(await getDbPromise$2()).transaction(OBJECT_STORE_NAME$2,"readwrite"),Nl=$l.objectStore(OBJECT_STORE_NAME$2),Ml=await Nl.get(o),Ol=i(Ml);return Ol===void 0?await Nl.delete(o):await Nl.put(Ol,o),await $l.done,Ol&&(!Ml||Ml.fid!==Ol.fid)&&fidChanged(s,Ol.fid),Ol}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry(s){let i;const o=await update$1(s.appConfig,et=>{const $l=updateOrCreateInstallationEntry(et),Nl=triggerRegistrationIfNecessary(s,$l);return i=Nl.registrationPromise,Nl.installationEntry});return o.fid===INVALID_FID?{installationEntry:await i}:{installationEntry:o,registrationPromise:i}}function updateOrCreateInstallationEntry(s){const i=s||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest(i)}function triggerRegistrationIfNecessary(s,i){if(i.registrationStatus===0){if(!navigator.onLine){const $l=Promise.reject(ERROR_FACTORY$7.create("app-offline"));return{installationEntry:i,registrationPromise:$l}}const o={fid:i.fid,registrationStatus:1,registrationTime:Date.now()},et=registerInstallation(s,o);return{installationEntry:o,registrationPromise:et}}else return i.registrationStatus===1?{installationEntry:i,registrationPromise:waitUntilFidRegistration(s)}:{installationEntry:i}}async function registerInstallation(s,i){try{const o=await createInstallationRequest(s,i);return set$1(s.appConfig,o)}catch(o){throw isServerError(o)&&o.customData.serverCode===409?await remove$1(s.appConfig):await set$1(s.appConfig,{fid:i.fid,registrationStatus:0}),o}}async function waitUntilFidRegistration(s){let i=await updateInstallationRequest(s.appConfig);for(;i.registrationStatus===1;)await sleep$2(100),i=await updateInstallationRequest(s.appConfig);if(i.registrationStatus===0){const{installationEntry:o,registrationPromise:et}=await getInstallationEntry(s);return et||o}return i}function updateInstallationRequest(s){return update$1(s,i=>{if(!i)throw ERROR_FACTORY$7.create("installation-not-found");return clearTimedOutRequest(i)})}function clearTimedOutRequest(s){return hasInstallationRequestTimedOut(s)?{fid:s.fid,registrationStatus:0}:s}function hasInstallationRequestTimedOut(s){return s.registrationStatus===1&&s.registrationTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:s,heartbeatServiceProvider:i},o){const et=getGenerateAuthTokenEndpoint(s,o),$l=getHeadersWithAuth(s,o),Nl=i.getImmediate({optional:!0});if(Nl){const Fl=await Nl.getHeartbeatsHeader();Fl&&$l.append("x-firebase-client",Fl)}const Ml={installation:{sdkVersion:PACKAGE_VERSION,appId:s.appId}},Ol={method:"POST",headers:$l,body:JSON.stringify(Ml)},Ll=await retryIfServerError(()=>fetch(et,Ol));if(Ll.ok){const Fl=await Ll.json();return extractAuthTokenInfoFromResponse(Fl)}else throw await getErrorFromResponse("Generate Auth Token",Ll)}function getGenerateAuthTokenEndpoint(s,{fid:i}){return`${getInstallationsEndpoint(s)}/${i}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken(s,i=!1){let o;const et=await update$1(s.appConfig,Nl=>{if(!isEntryRegistered(Nl))throw ERROR_FACTORY$7.create("not-registered");const Ml=Nl.authToken;if(!i&&isAuthTokenValid(Ml))return Nl;if(Ml.requestStatus===1)return o=waitUntilAuthTokenRequest(s,i),Nl;{if(!navigator.onLine)throw ERROR_FACTORY$7.create("app-offline");const Ol=makeAuthTokenRequestInProgressEntry(Nl);return o=fetchAuthTokenFromServer(s,Ol),Ol}});return o?await o:et.authToken}async function waitUntilAuthTokenRequest(s,i){let o=await updateAuthTokenRequest(s.appConfig);for(;o.authToken.requestStatus===1;)await sleep$2(100),o=await updateAuthTokenRequest(s.appConfig);const et=o.authToken;return et.requestStatus===0?refreshAuthToken(s,i):et}function updateAuthTokenRequest(s){return update$1(s,i=>{if(!isEntryRegistered(i))throw ERROR_FACTORY$7.create("not-registered");const o=i.authToken;return hasAuthTokenRequestTimedOut(o)?Object.assign(Object.assign({},i),{authToken:{requestStatus:0}}):i})}async function fetchAuthTokenFromServer(s,i){try{const o=await generateAuthTokenRequest(s,i),et=Object.assign(Object.assign({},i),{authToken:o});return await set$1(s.appConfig,et),o}catch(o){if(isServerError(o)&&(o.customData.serverCode===401||o.customData.serverCode===404))await remove$1(s.appConfig);else{const et=Object.assign(Object.assign({},i),{authToken:{requestStatus:0}});await set$1(s.appConfig,et)}throw o}}function isEntryRegistered(s){return s!==void 0&&s.registrationStatus===2}function isAuthTokenValid(s){return s.requestStatus===2&&!isAuthTokenExpired(s)}function isAuthTokenExpired(s){const i=Date.now();return i<s.creationTime||s.creationTime+s.expiresIn<i+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry(s){const i={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},s),{authToken:i})}function hasAuthTokenRequestTimedOut(s){return s.requestStatus===1&&s.requestTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId(s){const i=s,{installationEntry:o,registrationPromise:et}=await getInstallationEntry(i);return et?et.catch(console.error):refreshAuthToken(i).catch(console.error),o.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken$4(s,i=!1){const o=s;return await completeInstallationRegistration(o),(await refreshAuthToken(o,i)).token}async function completeInstallationRegistration(s){const{registrationPromise:i}=await getInstallationEntry(s);i&&await i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig$2(s){if(!s||!s.options)throw getMissingValueError$2("App Configuration");if(!s.name)throw getMissingValueError$2("App Name");const i=["projectId","apiKey","appId"];for(const o of i)if(!s.options[o])throw getMissingValueError$2(o);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function getMissingValueError$2(s){return ERROR_FACTORY$7.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=s=>{const i=s.getProvider("app").getImmediate(),o=extractAppConfig$2(i),et=_getProvider(i,"heartbeat");return{app:i,appConfig:o,heartbeatServiceProvider:et,_delete:()=>Promise.resolve()}},internalFactory$1=s=>{const i=s.getProvider("app").getImmediate(),o=_getProvider(i,INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId(o),getToken:$l=>getToken$4(o,$l)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory$1,"PRIVATE"))}registerInstallations();registerVersion(name$j,version$j);registerVersion(name$j,version$j,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANALYTICS_TYPE="analytics",GA_FID_KEY="firebase_id",ORIGIN_KEY="origin",FETCH_TIMEOUT_MILLIS=60*1e3,DYNAMIC_CONFIG_URL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GTAG_URL="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$3=new Logger("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function promiseAllSettled(s){return Promise.all(s.map(i=>i.catch(o=>o)))}function insertScriptTag(s,i){const o=document.createElement("script");o.src=`${GTAG_URL}?l=${s}&id=${i}`,o.async=!0,document.head.appendChild(o)}function getOrCreateDataLayer(s){let i=[];return Array.isArray(window[s])?i=window[s]:window[s]=i,i}async function gtagOnConfig(s,i,o,et,$l,Nl){const Ml=et[$l];try{if(Ml)await i[Ml];else{const Ll=(await promiseAllSettled(o)).find(Fl=>Fl.measurementId===$l);Ll&&await i[Ll.appId]}}catch(Ol){logger$3.error(Ol)}s("config",$l,Nl)}async function gtagOnEvent(s,i,o,et,$l){try{let Nl=[];if($l&&$l.send_to){let Ml=$l.send_to;Array.isArray(Ml)||(Ml=[Ml]);const Ol=await promiseAllSettled(o);for(const Ll of Ml){const Fl=Ol.find(Ul=>Ul.measurementId===Ll),Bl=Fl&&i[Fl.appId];if(Bl)Nl.push(Bl);else{Nl=[];break}}}Nl.length===0&&(Nl=Object.values(i)),await Promise.all(Nl),s("event",et,$l||{})}catch(Nl){logger$3.error(Nl)}}function wrapGtag(s,i,o,et){async function $l(Nl,Ml,Ol){try{Nl==="event"?await gtagOnEvent(s,i,o,Ml,Ol):Nl==="config"?await gtagOnConfig(s,i,o,et,Ml,Ol):Nl==="consent"?s("consent","update",Ol):s("set",Ml)}catch(Ll){logger$3.error(Ll)}}return $l}function wrapOrCreateGtag(s,i,o,et,$l){let Nl=function(...Ml){window[et].push(arguments)};return window[$l]&&typeof window[$l]=="function"&&(Nl=window[$l]),window[$l]=wrapGtag(Nl,s,i,o),{gtagCore:Nl,wrappedGtag:window[$l]}}function findGtagScriptOnPage(){const s=window.document.getElementsByTagName("script");for(const i of Object.values(s))if(i.src&&i.src.includes(GTAG_URL))return i;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$2={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},ERROR_FACTORY$6=new ErrorFactory("analytics","Analytics",ERRORS$2);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_RETRY_FACTOR=30,BASE_INTERVAL_MILLIS=1e3;class RetryData{constructor(i={},o=BASE_INTERVAL_MILLIS){this.throttleMetadata=i,this.intervalMillis=o}getThrottleMetadata(i){return this.throttleMetadata[i]}setThrottleMetadata(i,o){this.throttleMetadata[i]=o}deleteThrottleMetadata(i){delete this.throttleMetadata[i]}}const defaultRetryData=new RetryData;function getHeaders$2(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function fetchDynamicConfig(s){var i;const{appId:o,apiKey:et}=s,$l={method:"GET",headers:getHeaders$2(et)},Nl=DYNAMIC_CONFIG_URL.replace("{app-id}",o),Ml=await fetch(Nl,$l);if(Ml.status!==200&&Ml.status!==304){let Ol="";try{const Ll=await Ml.json();!((i=Ll.error)===null||i===void 0)&&i.message&&(Ol=Ll.error.message)}catch{}throw ERROR_FACTORY$6.create("config-fetch-failed",{httpStatus:Ml.status,responseMessage:Ol})}return Ml.json()}async function fetchDynamicConfigWithRetry(s,i=defaultRetryData,o){const{appId:et,apiKey:$l,measurementId:Nl}=s.options;if(!et)throw ERROR_FACTORY$6.create("no-app-id");if(!$l){if(Nl)return{measurementId:Nl,appId:et};throw ERROR_FACTORY$6.create("no-api-key")}const Ml=i.getThrottleMetadata(et)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ol=new AnalyticsAbortSignal;return setTimeout(async()=>{Ol.abort()},o!==void 0?o:FETCH_TIMEOUT_MILLIS),attemptFetchDynamicConfigWithRetry({appId:et,apiKey:$l,measurementId:Nl},Ml,Ol,i)}async function attemptFetchDynamicConfigWithRetry(s,{throttleEndTimeMillis:i,backoffCount:o},et,$l=defaultRetryData){var Nl,Ml;const{appId:Ol,measurementId:Ll}=s;try{await setAbortableTimeout$1(et,i)}catch(Fl){if(Ll)return logger$3.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ll} provided in the "measurementId" field in the local Firebase config. [${(Nl=Fl)===null||Nl===void 0?void 0:Nl.message}]`),{appId:Ol,measurementId:Ll};throw Fl}try{const Fl=await fetchDynamicConfig(s);return $l.deleteThrottleMetadata(Ol),Fl}catch(Fl){const Bl=Fl;if(!isRetriableError$1(Bl)){if($l.deleteThrottleMetadata(Ol),Ll)return logger$3.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ll} provided in the "measurementId" field in the local Firebase config. [${Bl==null?void 0:Bl.message}]`),{appId:Ol,measurementId:Ll};throw Fl}const Ul=Number((Ml=Bl==null?void 0:Bl.customData)===null||Ml===void 0?void 0:Ml.httpStatus)===503?calculateBackoffMillis(o,$l.intervalMillis,LONG_RETRY_FACTOR):calculateBackoffMillis(o,$l.intervalMillis),Gl={throttleEndTimeMillis:Date.now()+Ul,backoffCount:o+1};return $l.setThrottleMetadata(Ol,Gl),logger$3.debug(`Calling attemptFetch again in ${Ul} millis`),attemptFetchDynamicConfigWithRetry(s,Gl,et,$l)}}function setAbortableTimeout$1(s,i){return new Promise((o,et)=>{const $l=Math.max(i-Date.now(),0),Nl=setTimeout(o,$l);s.addEventListener(()=>{clearTimeout(Nl),et(ERROR_FACTORY$6.create("fetch-throttle",{throttleEndTimeMillis:i}))})})}function isRetriableError$1(s){if(!(s instanceof FirebaseError)||!s.customData)return!1;const i=Number(s.customData.httpStatus);return i===429||i===500||i===503||i===504}class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener(i){this.listeners.push(i)}abort(){this.listeners.forEach(i=>i())}}async function logEvent$1(s,i,o,et,$l){if($l&&$l.global){s("event",o,et);return}else{const Nl=await i,Ml=Object.assign(Object.assign({},et),{send_to:Nl});s("event",o,Ml)}}async function setCurrentScreen$1(s,i,o,et){if(et&&et.global)return s("set",{screen_name:o}),Promise.resolve();{const $l=await i;s("config",$l,{update:!0,screen_name:o})}}async function setUserId$1(s,i,o,et){if(et&&et.global)return s("set",{user_id:o}),Promise.resolve();{const $l=await i;s("config",$l,{update:!0,user_id:o})}}async function setUserProperties$1(s,i,o,et){if(et&&et.global){const $l={};for(const Nl of Object.keys(o))$l[`user_properties.${Nl}`]=o[Nl];return s("set",$l),Promise.resolve()}else{const $l=await i;s("config",$l,{update:!0,user_properties:o})}}async function setAnalyticsCollectionEnabled$1(s,i){const o=await s;window[`ga-disable-${o}`]=!i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function validateIndexedDB(){var s;if(isIndexedDBAvailable())try{await validateIndexedDBOpenable()}catch(i){return logger$3.warn(ERROR_FACTORY$6.create("indexeddb-unavailable",{errorInfo:(s=i)===null||s===void 0?void 0:s.toString()}).message),!1}else return logger$3.warn(ERROR_FACTORY$6.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _initializeAnalytics(s,i,o,et,$l,Nl,Ml){var Ol;const Ll=fetchDynamicConfigWithRetry(s);Ll.then(Wl=>{o[Wl.measurementId]=Wl.appId,s.options.measurementId&&Wl.measurementId!==s.options.measurementId&&logger$3.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${Wl.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wl=>logger$3.error(Wl)),i.push(Ll);const Fl=validateIndexedDB().then(Wl=>{if(Wl)return et.getId()}),[Bl,Ul]=await Promise.all([Ll,Fl]);findGtagScriptOnPage()||insertScriptTag(Nl,Bl.measurementId),$l("js",new Date);const Gl=(Ol=Ml==null?void 0:Ml.config)!==null&&Ol!==void 0?Ol:{};return Gl[ORIGIN_KEY]="firebase",Gl.update=!0,Ul!=null&&(Gl[GA_FID_KEY]=Ul),$l("config",Bl.measurementId,Gl),Bl.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AnalyticsService$1{constructor(i){this.app=i}_delete(){return delete initializationPromisesMap[this.app.options.appId],Promise.resolve()}}let initializationPromisesMap={},dynamicConfigPromisesList=[];const measurementIdToAppId={};let dataLayerName="dataLayer",gtagName="gtag",gtagCoreFunction,wrappedGtagFunction,globalInitDone=!1;function settings(s){if(globalInitDone)throw ERROR_FACTORY$6.create("already-initialized");s.dataLayerName&&(dataLayerName=s.dataLayerName),s.gtagName&&(gtagName=s.gtagName)}function warnOnBrowserContextMismatch(){const s=[];if(isBrowserExtension()&&s.push("This is a browser extension environment."),areCookiesEnabled()||s.push("Cookies are not available."),s.length>0){const i=s.map((et,$l)=>`(${$l+1}) ${et}`).join(" "),o=ERROR_FACTORY$6.create("invalid-analytics-context",{errorInfo:i});logger$3.warn(o.message)}}function factory$6(s,i,o){warnOnBrowserContextMismatch();const et=s.options.appId;if(!et)throw ERROR_FACTORY$6.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)logger$3.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ERROR_FACTORY$6.create("no-api-key");if(initializationPromisesMap[et]!=null)throw ERROR_FACTORY$6.create("already-exists",{id:et});if(!globalInitDone){getOrCreateDataLayer(dataLayerName);const{wrappedGtag:Nl,gtagCore:Ml}=wrapOrCreateGtag(initializationPromisesMap,dynamicConfigPromisesList,measurementIdToAppId,dataLayerName,gtagName);wrappedGtagFunction=Nl,gtagCoreFunction=Ml,globalInitDone=!0}return initializationPromisesMap[et]=_initializeAnalytics(s,dynamicConfigPromisesList,measurementIdToAppId,i,gtagCoreFunction,dataLayerName,o),new AnalyticsService$1(s)}async function isSupported$2(){if(isBrowserExtension()||!areCookiesEnabled()||!isIndexedDBAvailable())return!1;try{return await validateIndexedDBOpenable()}catch{return!1}}function setCurrentScreen(s,i,o){s=getModularInstance(s),setCurrentScreen$1(wrappedGtagFunction,initializationPromisesMap[s.app.options.appId],i,o).catch(et=>logger$3.error(et))}function setUserId(s,i,o){s=getModularInstance(s),setUserId$1(wrappedGtagFunction,initializationPromisesMap[s.app.options.appId],i,o).catch(et=>logger$3.error(et))}function setUserProperties(s,i,o){s=getModularInstance(s),setUserProperties$1(wrappedGtagFunction,initializationPromisesMap[s.app.options.appId],i,o).catch(et=>logger$3.error(et))}function setAnalyticsCollectionEnabled(s,i){s=getModularInstance(s),setAnalyticsCollectionEnabled$1(initializationPromisesMap[s.app.options.appId],i).catch(o=>logger$3.error(o))}function logEvent(s,i,o,et){s=getModularInstance(s),logEvent$1(wrappedGtagFunction,initializationPromisesMap[s.app.options.appId],i,o,et).catch($l=>logger$3.error($l))}const name$i="@firebase/analytics",version$i="0.8.0";function registerAnalytics$1(){_registerComponent(new Component(ANALYTICS_TYPE,(i,{options:o})=>{const et=i.getProvider("app").getImmediate(),$l=i.getProvider("installations-internal").getImmediate();return factory$6(et,$l,o)},"PUBLIC")),_registerComponent(new Component("analytics-internal",s,"PRIVATE")),registerVersion(name$i,version$i),registerVersion(name$i,version$i,"esm2017");function s(i){try{const o=i.getProvider(ANALYTICS_TYPE).getImmediate();return{logEvent:(et,$l,Nl)=>logEvent(o,et,$l,Nl)}}catch(o){throw ERROR_FACTORY$6.create("interop-component-reg-failed",{reason:o})}}}registerAnalytics$1();const name$h="@firebase/analytics-compat",version$h="0.1.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AnalyticsService{constructor(i,o){this.app=i,this._delegate=o}logEvent(i,o,et){logEvent(this._delegate,i,o,et)}setCurrentScreen(i,o){setCurrentScreen(this._delegate,i,o)}setUserId(i,o){setUserId(this._delegate,i,o)}setUserProperties(i,o){setUserProperties(this._delegate,i,o)}setAnalyticsCollectionEnabled(i){setAnalyticsCollectionEnabled(this._delegate,i)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EventName;(function(s){s.ADD_SHIPPING_INFO="add_shipping_info",s.ADD_PAYMENT_INFO="add_payment_info",s.ADD_TO_CART="add_to_cart",s.ADD_TO_WISHLIST="add_to_wishlist",s.BEGIN_CHECKOUT="begin_checkout",s.CHECKOUT_PROGRESS="checkout_progress",s.EXCEPTION="exception",s.GENERATE_LEAD="generate_lead",s.LOGIN="login",s.PAGE_VIEW="page_view",s.PURCHASE="purchase",s.REFUND="refund",s.REMOVE_FROM_CART="remove_from_cart",s.SCREEN_VIEW="screen_view",s.SEARCH="search",s.SELECT_CONTENT="select_content",s.SELECT_ITEM="select_item",s.SELECT_PROMOTION="select_promotion",s.SET_CHECKOUT_OPTION="set_checkout_option",s.SHARE="share",s.SIGN_UP="sign_up",s.TIMING_COMPLETE="timing_complete",s.VIEW_CART="view_cart",s.VIEW_ITEM="view_item",s.VIEW_ITEM_LIST="view_item_list",s.VIEW_PROMOTION="view_promotion",s.VIEW_SEARCH_RESULTS="view_search_results"})(EventName||(EventName={}));/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const factory$5=s=>{const i=s.getProvider("app-compat").getImmediate(),o=s.getProvider("analytics").getImmediate();return new AnalyticsService(i,o)};function registerAnalytics(){const s={Analytics:AnalyticsService,settings,isSupported:isSupported$2,EventName};firebase.INTERNAL.registerComponent(new Component("analytics-compat",factory$5,"PUBLIC").setServiceProps(s).setMultipleInstances(!0))}registerAnalytics();firebase.registerVersion(name$h,version$h);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const APP_CHECK_STATES=new Map,DEFAULT_STATE={activated:!1,tokenObservers:[]},DEBUG_STATE={initialized:!1,enabled:!1};function getState(s){return APP_CHECK_STATES.get(s)||DEFAULT_STATE}function setState(s,i){APP_CHECK_STATES.set(s,i)}function getDebugState(){return DEBUG_STATE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_ENDPOINT="https://content-firebaseappcheck.googleapis.com/v1",EXCHANGE_RECAPTCHA_TOKEN_METHOD="exchangeRecaptchaV3Token",EXCHANGE_RECAPTCHA_ENTERPRISE_TOKEN_METHOD="exchangeRecaptchaEnterpriseToken",EXCHANGE_DEBUG_TOKEN_METHOD="exchangeDebugToken",TOKEN_REFRESH_TIME={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ONE_DAY=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Refresher{constructor(i,o,et,$l,Nl){if(this.operation=i,this.retryPolicy=o,this.getWaitDuration=et,this.lowerBound=$l,this.upperBound=Nl,this.pending=null,this.nextErrorWaitInterval=$l,$l>Nl)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(i){this.stop();try{this.pending=new Deferred,await sleep$1(this.getNextRun(i)),this.pending.resolve(),await this.pending.promise,this.pending=new Deferred,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(o){this.retryPolicy(o)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(i){if(i)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const o=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),o}}}function sleep$1(s){return new Promise(i=>{setTimeout(i,s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={["already-initialized"]:"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.",["use-before-activation"]:"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.",["fetch-network-error"]:"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",["fetch-parse-error"]:"Fetch client could not parse response. Original error: {$originalErrorMessage}.",["fetch-status-error"]:"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["recaptcha-error"]:"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ERROR_FACTORY$5=new ErrorFactory("appCheck","AppCheck",ERRORS$1);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getRecaptcha(s=!1){var i;return s?(i=self.grecaptcha)===null||i===void 0?void 0:i.enterprise:self.grecaptcha}function ensureActivated(s){if(!getState(s).activated)throw ERROR_FACTORY$5.create("use-before-activation",{appName:s.name})}function getDurationString(s){const i=Math.round(s/1e3),o=Math.floor(i/(3600*24)),et=Math.floor((i-o*3600*24)/3600),$l=Math.floor((i-o*3600*24-et*3600)/60),Nl=i-o*3600*24-et*3600-$l*60;let Ml="";return o&&(Ml+=pad(o)+"d:"),et&&(Ml+=pad(et)+"h:"),Ml+=pad($l)+"m:"+pad(Nl)+"s",Ml}function pad(s){return s===0?"00":s>=10?s.toString():"0"+s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function exchangeToken({url:s,body:i},o){var et,$l;const Nl={"Content-Type":"application/json"},Ml=o.getImmediate({optional:!0});if(Ml){const Wl=await Ml.getHeartbeatsHeader();Wl&&(Nl["X-Firebase-Client"]=Wl)}const Ol={method:"POST",body:JSON.stringify(i),headers:Nl};let Ll;try{Ll=await fetch(s,Ol)}catch(Wl){throw ERROR_FACTORY$5.create("fetch-network-error",{originalErrorMessage:(et=Wl)===null||et===void 0?void 0:et.message})}if(Ll.status!==200)throw ERROR_FACTORY$5.create("fetch-status-error",{httpStatus:Ll.status});let Fl;try{Fl=await Ll.json()}catch(Wl){throw ERROR_FACTORY$5.create("fetch-parse-error",{originalErrorMessage:($l=Wl)===null||$l===void 0?void 0:$l.message})}const Bl=Fl.ttl.match(/^([\d.]+)(s)$/);if(!Bl||!Bl[2]||isNaN(Number(Bl[1])))throw ERROR_FACTORY$5.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Fl.ttl}`});const Ul=Number(Bl[1])*1e3,Gl=Date.now();return{token:Fl.token,expireTimeMillis:Gl+Ul,issuedAtTimeMillis:Gl}}function getExchangeRecaptchaV3TokenRequest(s,i){const{projectId:o,appId:et,apiKey:$l}=s.options;return{url:`${BASE_ENDPOINT}/projects/${o}/apps/${et}:${EXCHANGE_RECAPTCHA_TOKEN_METHOD}?key=${$l}`,body:{recaptcha_v3_token:i}}}function getExchangeRecaptchaEnterpriseTokenRequest(s,i){const{projectId:o,appId:et,apiKey:$l}=s.options;return{url:`${BASE_ENDPOINT}/projects/${o}/apps/${et}:${EXCHANGE_RECAPTCHA_ENTERPRISE_TOKEN_METHOD}?key=${$l}`,body:{recaptcha_enterprise_token:i}}}function getExchangeDebugTokenRequest(s,i){const{projectId:o,appId:et,apiKey:$l}=s.options;return{url:`${BASE_ENDPOINT}/projects/${o}/apps/${et}:${EXCHANGE_DEBUG_TOKEN_METHOD}?key=${$l}`,body:{debug_token:i}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-app-check-database",DB_VERSION$1=1,STORE_NAME="firebase-app-check-store",DEBUG_TOKEN_KEY="debug-token";let dbPromise$2=null;function getDBPromise(){return dbPromise$2||(dbPromise$2=new Promise((s,i)=>{var o;try{const et=indexedDB.open(DB_NAME$1,DB_VERSION$1);et.onsuccess=$l=>{s($l.target.result)},et.onerror=$l=>{var Nl;i(ERROR_FACTORY$5.create("storage-open",{originalErrorMessage:(Nl=$l.target.error)===null||Nl===void 0?void 0:Nl.message}))},et.onupgradeneeded=$l=>{const Nl=$l.target.result;switch($l.oldVersion){case 0:Nl.createObjectStore(STORE_NAME,{keyPath:"compositeKey"})}}}catch(et){i(ERROR_FACTORY$5.create("storage-open",{originalErrorMessage:(o=et)===null||o===void 0?void 0:o.message}))}}),dbPromise$2)}function readTokenFromIndexedDB(s){return read(computeKey(s))}function writeTokenToIndexedDB(s,i){return write(computeKey(s),i)}function writeDebugTokenToIndexedDB(s){return write(DEBUG_TOKEN_KEY,s)}function readDebugTokenFromIndexedDB(){return read(DEBUG_TOKEN_KEY)}async function write(s,i){const et=(await getDBPromise()).transaction(STORE_NAME,"readwrite"),Nl=et.objectStore(STORE_NAME).put({compositeKey:s,value:i});return new Promise((Ml,Ol)=>{Nl.onsuccess=Ll=>{Ml()},et.onerror=Ll=>{var Fl;Ol(ERROR_FACTORY$5.create("storage-set",{originalErrorMessage:(Fl=Ll.target.error)===null||Fl===void 0?void 0:Fl.message}))}})}async function read(s){const o=(await getDBPromise()).transaction(STORE_NAME,"readonly"),$l=o.objectStore(STORE_NAME).get(s);return new Promise((Nl,Ml)=>{$l.onsuccess=Ol=>{const Ll=Ol.target.result;Nl(Ll?Ll.value:void 0)},o.onerror=Ol=>{var Ll;Ml(ERROR_FACTORY$5.create("storage-get",{originalErrorMessage:(Ll=Ol.target.error)===null||Ll===void 0?void 0:Ll.message}))}})}function computeKey(s){return`${s.options.appId}-${s.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$2=new Logger("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function readTokenFromStorage(s){if(isIndexedDBAvailable()){let i;try{i=await readTokenFromIndexedDB(s)}catch(o){logger$2.warn(`Failed to read token from IndexedDB. Error: ${o}`)}return i}}function writeTokenToStorage(s,i){return isIndexedDBAvailable()?writeTokenToIndexedDB(s,i).catch(o=>{logger$2.warn(`Failed to write token to IndexedDB. Error: ${o}`)}):Promise.resolve()}async function readOrCreateDebugTokenFromStorage(){let s;try{s=await readDebugTokenFromIndexedDB()}catch{}if(s)return s;{const i=uuidv4();return writeDebugTokenToIndexedDB(i).catch(o=>logger$2.warn(`Failed to persist debug token to IndexedDB. Error: ${o}`)),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isDebugMode(){return getDebugState().enabled}async function getDebugToken(){const s=getDebugState();if(s.enabled&&s.token)return s.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function initializeDebugMode(){const s=getGlobal(),i=getDebugState();if(i.initialized=!0,typeof s.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&s.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;i.enabled=!0;const o=new Deferred;i.token=o,typeof s.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?o.resolve(s.FIREBASE_APPCHECK_DEBUG_TOKEN):o.resolve(readOrCreateDebugTokenFromStorage())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const defaultTokenErrorData={error:"UNKNOWN_ERROR"};function formatDummyToken(s){return base64.encodeString(JSON.stringify(s),!1)}async function getToken$2(s,i=!1){const o=s.app;ensureActivated(o);const et=getState(o);let $l=et.token,Nl;if(!$l){const Ll=await et.cachedTokenPromise;Ll&&isValid(Ll)&&($l=Ll)}if(!i&&$l&&isValid($l))return{token:$l.token};let Ml=!1;if(isDebugMode()){et.exchangeTokenPromise||(et.exchangeTokenPromise=exchangeToken(getExchangeDebugTokenRequest(o,await getDebugToken()),s.heartbeatServiceProvider).then(Fl=>(et.exchangeTokenPromise=void 0,Fl)),Ml=!0);const Ll=await et.exchangeTokenPromise;return await writeTokenToStorage(o,Ll),setState(o,Object.assign(Object.assign({},et),{token:Ll})),{token:Ll.token}}try{et.exchangeTokenPromise||(et.exchangeTokenPromise=et.provider.getToken().then(Ll=>(et.exchangeTokenPromise=void 0,Ll)),Ml=!0),$l=await et.exchangeTokenPromise}catch(Ll){Ll.code==="appCheck/throttled"?logger$2.warn(Ll.message):logger$2.error(Ll),Nl=Ll}let Ol;return $l?(Ol={token:$l.token},setState(o,Object.assign(Object.assign({},et),{token:$l})),await writeTokenToStorage(o,$l)):Ol=makeDummyTokenResult(Nl),Ml&&notifyTokenListeners(o,Ol),Ol}function addTokenListener(s,i,o,et){const{app:$l}=s,Nl=getState($l),Ml={next:o,error:et,type:i};if(setState($l,Object.assign(Object.assign({},Nl),{tokenObservers:[...Nl.tokenObservers,Ml]})),Nl.token&&isValid(Nl.token)){const Ol=Nl.token;Promise.resolve().then(()=>{o({token:Ol.token}),initTokenRefresher(s)}).catch(()=>{})}Nl.cachedTokenPromise.then(()=>initTokenRefresher(s))}function removeTokenListener(s,i){const o=getState(s),et=o.tokenObservers.filter($l=>$l.next!==i);et.length===0&&o.tokenRefresher&&o.tokenRefresher.isRunning()&&o.tokenRefresher.stop(),setState(s,Object.assign(Object.assign({},o),{tokenObservers:et}))}function initTokenRefresher(s){const{app:i}=s,o=getState(i);let et=o.tokenRefresher;et||(et=createTokenRefresher(s),setState(i,Object.assign(Object.assign({},o),{tokenRefresher:et}))),!et.isRunning()&&o.isTokenAutoRefreshEnabled&&et.start()}function createTokenRefresher(s){const{app:i}=s;return new Refresher(async()=>{const o=getState(i);let et;if(o.token?et=await getToken$2(s,!0):et=await getToken$2(s),et.error)throw et.error},()=>!0,()=>{const o=getState(i);if(o.token){let et=o.token.issuedAtTimeMillis+(o.token.expireTimeMillis-o.token.issuedAtTimeMillis)*.5+3e5;const $l=o.token.expireTimeMillis-5*60*1e3;return et=Math.min(et,$l),Math.max(0,et-Date.now())}else return 0},TOKEN_REFRESH_TIME.RETRIAL_MIN_WAIT,TOKEN_REFRESH_TIME.RETRIAL_MAX_WAIT)}function notifyTokenListeners(s,i){const o=getState(s).tokenObservers;for(const et of o)try{et.type==="EXTERNAL"&&i.error!=null?et.error(i.error):et.next(i)}catch{}}function isValid(s){return s.expireTimeMillis-Date.now()>0}function makeDummyTokenResult(s){return{token:formatDummyToken(defaultTokenErrorData),error:s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AppCheckService$1{constructor(i,o){this.app=i,this.heartbeatServiceProvider=o}_delete(){const{tokenObservers:i}=getState(this.app);for(const o of i)removeTokenListener(this.app,o.next);return Promise.resolve()}}function factory$4(s,i){return new AppCheckService$1(s,i)}function internalFactory(s){return{getToken:i=>getToken$2(s,i),addTokenListener:i=>addTokenListener(s,"INTERNAL",i),removeTokenListener:i=>removeTokenListener(s.app,i)}}const name$g="@firebase/app-check",version$g="0.5.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RECAPTCHA_URL="https://www.google.com/recaptcha/api.js",RECAPTCHA_ENTERPRISE_URL="https://www.google.com/recaptcha/enterprise.js";function initializeV3(s,i){const o=getState(s),et=new Deferred;setState(s,Object.assign(Object.assign({},o),{reCAPTCHAState:{initialized:et}}));const $l=makeDiv(s),Nl=getRecaptcha(!1);return Nl?queueWidgetRender(s,i,Nl,$l,et):loadReCAPTCHAV3Script(()=>{const Ml=getRecaptcha(!1);if(!Ml)throw new Error("no recaptcha");queueWidgetRender(s,i,Ml,$l,et)}),et.promise}function initializeEnterprise(s,i){const o=getState(s),et=new Deferred;setState(s,Object.assign(Object.assign({},o),{reCAPTCHAState:{initialized:et}}));const $l=makeDiv(s),Nl=getRecaptcha(!0);return Nl?queueWidgetRender(s,i,Nl,$l,et):loadReCAPTCHAEnterpriseScript(()=>{const Ml=getRecaptcha(!0);if(!Ml)throw new Error("no recaptcha");queueWidgetRender(s,i,Ml,$l,et)}),et.promise}function queueWidgetRender(s,i,o,et,$l){o.ready(()=>{renderInvisibleWidget(s,i,o,et),$l.resolve(o)})}function makeDiv(s){const i=`fire_app_check_${s.name}`,o=document.createElement("div");return o.id=i,o.style.display="none",document.body.appendChild(o),i}async function getToken$1$1(s){ensureActivated(s);const o=await getState(s).reCAPTCHAState.initialized.promise;return new Promise((et,$l)=>{const Nl=getState(s).reCAPTCHAState;o.ready(()=>{et(o.execute(Nl.widgetId,{action:"fire_app_check"}))})})}function renderInvisibleWidget(s,i,o,et){const $l=o.render(et,{sitekey:i,size:"invisible"}),Nl=getState(s);setState(s,Object.assign(Object.assign({},Nl),{reCAPTCHAState:Object.assign(Object.assign({},Nl.reCAPTCHAState),{widgetId:$l})}))}function loadReCAPTCHAV3Script(s){const i=document.createElement("script");i.src=RECAPTCHA_URL,i.onload=s,document.head.appendChild(i)}function loadReCAPTCHAEnterpriseScript(s){const i=document.createElement("script");i.src=RECAPTCHA_ENTERPRISE_URL,i.onload=s,document.head.appendChild(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ReCaptchaV3Provider{constructor(i){this._siteKey=i,this._throttleData=null}async getToken(){var i;throwIfThrottled(this._throttleData);const o=await getToken$1$1(this._app).catch($l=>{throw ERROR_FACTORY$5.create("recaptcha-error")});let et;try{et=await exchangeToken(getExchangeRecaptchaV3TokenRequest(this._app,o),this._heartbeatServiceProvider)}catch($l){throw $l.code==="fetch-status-error"?(this._throttleData=setBackoff(Number((i=$l.customData)===null||i===void 0?void 0:i.httpStatus),this._throttleData),ERROR_FACTORY$5.create("throttled",{time:getDurationString(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):$l}return this._throttleData=null,et}initialize(i){this._app=i,this._heartbeatServiceProvider=_getProvider(i,"heartbeat"),initializeV3(i,this._siteKey).catch(()=>{})}isEqual(i){return i instanceof ReCaptchaV3Provider?this._siteKey===i._siteKey:!1}}class ReCaptchaEnterpriseProvider{constructor(i){this._siteKey=i,this._throttleData=null}async getToken(){var i;throwIfThrottled(this._throttleData);const o=await getToken$1$1(this._app).catch($l=>{throw ERROR_FACTORY$5.create("recaptcha-error")});let et;try{et=await exchangeToken(getExchangeRecaptchaEnterpriseTokenRequest(this._app,o),this._heartbeatServiceProvider)}catch($l){throw $l.code==="fetch-status-error"?(this._throttleData=setBackoff(Number((i=$l.customData)===null||i===void 0?void 0:i.httpStatus),this._throttleData),ERROR_FACTORY$5.create("throttled",{time:getDurationString(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):$l}return this._throttleData=null,et}initialize(i){this._app=i,this._heartbeatServiceProvider=_getProvider(i,"heartbeat"),initializeEnterprise(i,this._siteKey).catch(()=>{})}isEqual(i){return i instanceof ReCaptchaEnterpriseProvider?this._siteKey===i._siteKey:!1}}class CustomProvider{constructor(i){this._customProviderOptions=i}async getToken(){const i=await this._customProviderOptions.getToken(),o=issuedAtTime(i.token),et=o!==null&&o<Date.now()&&o>0?o*1e3:Date.now();return Object.assign(Object.assign({},i),{issuedAtTimeMillis:et})}initialize(i){this._app=i}isEqual(i){return i instanceof CustomProvider?this._customProviderOptions.getToken.toString()===i._customProviderOptions.getToken.toString():!1}}function setBackoff(s,i){if(s===404||s===403)return{backoffCount:1,allowRequestsAfter:Date.now()+ONE_DAY,httpStatus:s};{const o=i?i.backoffCount:0,et=calculateBackoffMillis(o,1e3,2);return{backoffCount:o+1,allowRequestsAfter:Date.now()+et,httpStatus:s}}}function throwIfThrottled(s){if(s&&Date.now()-s.allowRequestsAfter<=0)throw ERROR_FACTORY$5.create("throttled",{time:getDurationString(s.allowRequestsAfter-Date.now()),httpStatus:s.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAppCheck(s=getApp(),i){s=getModularInstance(s);const o=_getProvider(s,"app-check");if(getDebugState().initialized||initializeDebugMode(),isDebugMode()&&getDebugToken().then($l=>console.log(`App Check debug token: ${$l}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),o.isInitialized()){const $l=o.getImmediate(),Nl=o.getOptions();if(Nl.isTokenAutoRefreshEnabled===i.isTokenAutoRefreshEnabled&&Nl.provider.isEqual(i.provider))return $l;throw ERROR_FACTORY$5.create("already-initialized",{appName:s.name})}const et=o.initialize({options:i});return _activate(s,i.provider,i.isTokenAutoRefreshEnabled),getState(s).isTokenAutoRefreshEnabled&&addTokenListener(et,"INTERNAL",()=>{}),et}function _activate(s,i,o){const et=getState(s),$l=Object.assign(Object.assign({},et),{activated:!0});$l.provider=i,$l.cachedTokenPromise=readTokenFromStorage(s).then(Nl=>(Nl&&isValid(Nl)&&(setState(s,Object.assign(Object.assign({},getState(s)),{token:Nl})),notifyTokenListeners(s,{token:Nl.token})),Nl)),$l.isTokenAutoRefreshEnabled=o===void 0?s.automaticDataCollectionEnabled:o,setState(s,$l),$l.provider.initialize(s)}function setTokenAutoRefreshEnabled(s,i){const o=s.app,et=getState(o);et.tokenRefresher&&(i===!0?et.tokenRefresher.start():et.tokenRefresher.stop()),setState(o,Object.assign(Object.assign({},et),{isTokenAutoRefreshEnabled:i}))}async function getToken$3(s,i){const o=await getToken$2(s,i);if(o.error)throw o.error;return{token:o.token}}function onTokenChanged(s,i,o,et){let $l=()=>{},Nl=()=>{};return i.next!=null?$l=i.next.bind(i):$l=i,i.error!=null?Nl=i.error.bind(i):o&&(Nl=o),addTokenListener(s,"EXTERNAL",$l,Nl),()=>removeTokenListener(s.app,$l)}const APP_CHECK_NAME="app-check",APP_CHECK_NAME_INTERNAL="app-check-internal";function registerAppCheck$1(){_registerComponent(new Component(APP_CHECK_NAME,s=>{const i=s.getProvider("app").getImmediate(),o=s.getProvider("heartbeat");return factory$4(i,o)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((s,i,o)=>{s.getProvider(APP_CHECK_NAME_INTERNAL).initialize()})),_registerComponent(new Component(APP_CHECK_NAME_INTERNAL,s=>{const i=s.getProvider("app-check").getImmediate();return internalFactory(i)},"PUBLIC").setInstantiationMode("EXPLICIT")),registerVersion(name$g,version$g)}registerAppCheck$1();const name$f="@firebase/app-check-compat",version$f="0.2.11";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["use-before-activation"]:"App Check is being used before activate() is called for FirebaseApp {$appName}. Call activate() before instantiating other Firebase services."},ERROR_FACTORY$4=new ErrorFactory("appCheck","AppCheck",ERRORS);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AppCheckService{constructor(i){this.app=i}activate(i,o){let et;typeof i=="string"?et=new ReCaptchaV3Provider(i):i instanceof ReCaptchaEnterpriseProvider||i instanceof ReCaptchaV3Provider||i instanceof CustomProvider?et=i:et=new CustomProvider({getToken:i.getToken}),this._delegate=initializeAppCheck(this.app,{provider:et,isTokenAutoRefreshEnabled:o})}setTokenAutoRefreshEnabled(i){if(!this._delegate)throw ERROR_FACTORY$4.create("use-before-activation",{appName:this.app.name});setTokenAutoRefreshEnabled(this._delegate,i)}getToken(i){if(!this._delegate)throw ERROR_FACTORY$4.create("use-before-activation",{appName:this.app.name});return getToken$3(this._delegate,i)}onTokenChanged(i,o,et){if(!this._delegate)throw ERROR_FACTORY$4.create("use-before-activation",{appName:this.app.name});return onTokenChanged(this._delegate,i,o)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const factory$3=s=>{const i=s.getProvider("app-compat").getImmediate();return new AppCheckService(i)};function registerAppCheck(){firebase.INTERNAL.registerComponent(new Component("appCheck-compat",factory$3,"PUBLIC").setServiceProps({ReCaptchaEnterpriseProvider,ReCaptchaV3Provider,CustomProvider}))}registerAppCheck();firebase.registerVersion(name$f,version$f);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _cordovaWindow(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const REDIRECT_TIMEOUT_MS=2e3;async function _generateHandlerUrl(s,i,o){var et;const{BuildInfo:$l}=_cordovaWindow();debugAssert(i.sessionId,"AuthEvent did not contain a session ID");const Nl=await computeSha256(i.sessionId),Ml={};return _isIOS()?Ml.ibi=$l.packageName:_isAndroid()?Ml.apn=$l.packageName:_fail(s,"operation-not-supported-in-this-environment"),$l.displayName&&(Ml.appDisplayName=$l.displayName),Ml.sessionId=Nl,_getRedirectUrl(s,o,i.type,void 0,(et=i.eventId)!==null&&et!==void 0?et:void 0,Ml)}async function _validateOrigin(s){const{BuildInfo:i}=_cordovaWindow(),o={};_isIOS()?o.iosBundleId=i.packageName:_isAndroid()?o.androidPackageName=i.packageName:_fail(s,"operation-not-supported-in-this-environment"),await _getProjectConfig(s,o)}function _performRedirect(s){const{cordova:i}=_cordovaWindow();return new Promise(o=>{i.plugins.browsertab.isAvailable(et=>{let $l=null;et?i.plugins.browsertab.openUrl(s):$l=i.InAppBrowser.open(s,_isIOS7Or8()?"_blank":"_system","location=yes"),o($l)})})}async function _waitForAppResume(s,i,o){const{cordova:et}=_cordovaWindow();let $l=()=>{};try{await new Promise((Nl,Ml)=>{let Ol=null;function Ll(){var Ul;Nl();const Gl=(Ul=et.plugins.browsertab)===null||Ul===void 0?void 0:Ul.close;typeof Gl=="function"&&Gl(),typeof(o==null?void 0:o.close)=="function"&&o.close()}function Fl(){Ol||(Ol=window.setTimeout(()=>{Ml(_createError(s,"redirect-cancelled-by-user"))},REDIRECT_TIMEOUT_MS))}function Bl(){(document==null?void 0:document.visibilityState)==="visible"&&Fl()}i.addPassiveListener(Ll),document.addEventListener("resume",Fl,!1),_isAndroid()&&document.addEventListener("visibilitychange",Bl,!1),$l=()=>{i.removePassiveListener(Ll),document.removeEventListener("resume",Fl,!1),document.removeEventListener("visibilitychange",Bl,!1),Ol&&window.clearTimeout(Ol)}})}finally{$l()}}function _checkCordovaConfiguration(s){var i,o,et,$l,Nl,Ml,Ol,Ll,Fl,Bl;const Ul=_cordovaWindow();_assert$4(typeof((i=Ul==null?void 0:Ul.universalLinks)===null||i===void 0?void 0:i.subscribe)=="function",s,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),_assert$4(typeof((o=Ul==null?void 0:Ul.BuildInfo)===null||o===void 0?void 0:o.packageName)!="undefined",s,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),_assert$4(typeof((Nl=($l=(et=Ul==null?void 0:Ul.cordova)===null||et===void 0?void 0:et.plugins)===null||$l===void 0?void 0:$l.browsertab)===null||Nl===void 0?void 0:Nl.openUrl)=="function",s,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_assert$4(typeof((Ll=(Ol=(Ml=Ul==null?void 0:Ul.cordova)===null||Ml===void 0?void 0:Ml.plugins)===null||Ol===void 0?void 0:Ol.browsertab)===null||Ll===void 0?void 0:Ll.isAvailable)=="function",s,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_assert$4(typeof((Bl=(Fl=Ul==null?void 0:Ul.cordova)===null||Fl===void 0?void 0:Fl.InAppBrowser)===null||Bl===void 0?void 0:Bl.open)=="function",s,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function computeSha256(s){const i=stringToArrayBuffer(s),o=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(o)).map($l=>$l.toString(16).padStart(2,"0")).join("")}function stringToArrayBuffer(s){if(debugAssert(/[0-9a-zA-Z]+/.test(s),"Can only convert alpha-numeric strings"),typeof TextEncoder!="undefined")return new TextEncoder().encode(s);const i=new ArrayBuffer(s.length),o=new Uint8Array(i);for(let et=0;et<s.length;et++)o[et]=s.charCodeAt(et);return o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SESSION_ID_LENGTH=20;class CordovaAuthEventManager extends AuthEventManager{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(i=>{this.resolveInialized=i})}addPassiveListener(i){this.passiveListeners.add(i)}removePassiveListener(i){this.passiveListeners.delete(i)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(i){return this.resolveInialized(),this.passiveListeners.forEach(o=>o(i)),super.onEvent(i)}async initialized(){await this.initPromise}}function _generateNewEvent(s,i,o=null){return{type:i,eventId:o,urlResponse:null,sessionId:generateSessionId(),postBody:null,tenantId:s.tenantId,error:_createError(s,"no-auth-event")}}function _savePartialEvent(s,i){return storage()._set(persistenceKey(s),i)}async function _getAndRemoveEvent(s){const i=await storage()._get(persistenceKey(s));return i&&await storage()._remove(persistenceKey(s)),i}function _eventFromPartialAndUrl(s,i){var o,et;const $l=_getDeepLinkFromCallback(i);if($l.includes("/__/auth/callback")){const Nl=searchParamsOrEmpty($l),Ml=Nl.firebaseError?parseJsonOrNull(decodeURIComponent(Nl.firebaseError)):null,Ol=(et=(o=Ml==null?void 0:Ml.code)===null||o===void 0?void 0:o.split("auth/"))===null||et===void 0?void 0:et[1],Ll=Ol?_createError(Ol):null;return Ll?{type:s.type,eventId:s.eventId,tenantId:s.tenantId,error:Ll,urlResponse:null,sessionId:null,postBody:null}:{type:s.type,eventId:s.eventId,tenantId:s.tenantId,sessionId:s.sessionId,urlResponse:$l,postBody:null}}return null}function generateSessionId(){const s=[],i="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let o=0;o<SESSION_ID_LENGTH;o++){const et=Math.floor(Math.random()*i.length);s.push(i.charAt(et))}return s.join("")}function storage(){return _getInstance(browserLocalPersistence)}function persistenceKey(s){return _persistenceKeyName("authEvent",s.config.apiKey,s.name)}function parseJsonOrNull(s){try{return JSON.parse(s)}catch{return null}}function _getDeepLinkFromCallback(s){const i=searchParamsOrEmpty(s),o=i.link?decodeURIComponent(i.link):void 0,et=searchParamsOrEmpty(o).link,$l=i.deep_link_id?decodeURIComponent(i.deep_link_id):void 0;return searchParamsOrEmpty($l).link||$l||et||o||s}function searchParamsOrEmpty(s){if(!(s!=null&&s.includes("?")))return{};const[i,...o]=s.split("?");return querystringDecode(o.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INITIAL_EVENT_TIMEOUT_MS=500;class CordovaPopupRedirectResolver{constructor(){this._redirectPersistence=browserSessionPersistence,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _initialize(i){const o=i._key();let et=this.eventManagers.get(o);return et||(et=new CordovaAuthEventManager(i),this.eventManagers.set(o,et),this.attachCallbackListeners(i,et)),et}_openPopup(i){_fail(i,"operation-not-supported-in-this-environment")}async _openRedirect(i,o,et,$l){_checkCordovaConfiguration(i);const Nl=await this._initialize(i);await Nl.initialized(),Nl.resetRedirect(),_clearRedirectOutcomes(),await this._originValidation(i);const Ml=_generateNewEvent(i,et,$l);await _savePartialEvent(i,Ml);const Ol=await _generateHandlerUrl(i,Ml,o),Ll=await _performRedirect(Ol);return _waitForAppResume(i,Nl,Ll)}_isIframeWebStorageSupported(i,o){throw new Error("Method not implemented.")}_originValidation(i){const o=i._key();return this.originValidationPromises[o]||(this.originValidationPromises[o]=_validateOrigin(i)),this.originValidationPromises[o]}attachCallbackListeners(i,o){const{universalLinks:et,handleOpenURL:$l,BuildInfo:Nl}=_cordovaWindow(),Ml=setTimeout(async()=>{await _getAndRemoveEvent(i),o.onEvent(generateNoEvent())},INITIAL_EVENT_TIMEOUT_MS),Ol=async Bl=>{clearTimeout(Ml);const Ul=await _getAndRemoveEvent(i);let Gl=null;Ul&&(Bl==null?void 0:Bl.url)&&(Gl=_eventFromPartialAndUrl(Ul,Bl.url)),o.onEvent(Gl||generateNoEvent())};typeof et!="undefined"&&typeof et.subscribe=="function"&&et.subscribe(null,Ol);const Ll=$l,Fl=`${Nl.packageName.toLowerCase()}://`;_cordovaWindow().handleOpenURL=async Bl=>{if(Bl.toLowerCase().startsWith(Fl)&&Ol({url:Bl}),typeof Ll=="function")try{Ll(Bl)}catch(Ul){console.error(Ul)}}}}const cordovaPopupRedirectResolver=CordovaPopupRedirectResolver;function generateNoEvent(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_createError("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function addFrameworkForLogging(s,i){_castAuth(s)._logFramework(i)}var name$e="@firebase/auth-compat",version$e="0.2.18";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CORDOVA_ONDEVICEREADY_TIMEOUT_MS=1e3;function _getCurrentScheme(){var s;return((s=self==null?void 0:self.location)===null||s===void 0?void 0:s.protocol)||null}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _isAndroidOrIosCordovaScheme(s=getUA()){return!!((_getCurrentScheme()==="file:"||_getCurrentScheme()==="ionic:"||_getCurrentScheme()==="capacitor:")&&s.toLowerCase().match(/iphone|ipad|ipod|android/))}function _isNativeEnvironment(){return isReactNative()||isNode()}function _isIe11(){return isIE()&&(document==null?void 0:document.documentMode)===11}function _isEdge(s=getUA()){return/Edge\/\d+/.test(s)}function _isLocalStorageNotSynchronized(s=getUA()){return _isIe11()||_isEdge(s)}function _isWebStorageSupported(){try{const s=self.localStorage,i=_generateEventId();if(s)return s.setItem(i,"1"),s.removeItem(i),_isLocalStorageNotSynchronized()?isIndexedDBAvailable():!0}catch{return _isWorker()&&isIndexedDBAvailable()}return!1}function _isWorker(){return typeof global!="undefined"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _isPopupRedirectSupported(){return(_isHttpOrHttps()||isBrowserExtension()||_isAndroidOrIosCordovaScheme())&&!_isNativeEnvironment()&&_isWebStorageSupported()&&!_isWorker()}function _isLikelyCordova(){return _isAndroidOrIosCordovaScheme()&&typeof document!="undefined"}async function _isCordova(){return _isLikelyCordova()?new Promise(s=>{const i=setTimeout(()=>{s(!1)},CORDOVA_ONDEVICEREADY_TIMEOUT_MS);document.addEventListener("deviceready",()=>{clearTimeout(i),s(!0)})}):!1}function _getSelfWindow(){return typeof window!="undefined"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Persistence={LOCAL:"local",NONE:"none",SESSION:"session"},_assert$3=_assert$4,PERSISTENCE_KEY="persistence";function _validatePersistenceArgument(s,i){if(_assert$3(Object.values(Persistence).includes(i),s,"invalid-persistence-type"),isReactNative()){_assert$3(i!==Persistence.SESSION,s,"unsupported-persistence-type");return}if(isNode()){_assert$3(i===Persistence.NONE,s,"unsupported-persistence-type");return}if(_isWorker()){_assert$3(i===Persistence.NONE||i===Persistence.LOCAL&&isIndexedDBAvailable(),s,"unsupported-persistence-type");return}_assert$3(i===Persistence.NONE||_isWebStorageSupported(),s,"unsupported-persistence-type")}async function _savePersistenceForRedirect(s){await s._initializationPromise;const i=getSessionStorageIfAvailable(),o=_persistenceKeyName(PERSISTENCE_KEY,s.config.apiKey,s.name);i&&i.setItem(o,s._getPersistence())}function _getPersistencesFromRedirect(s,i){const o=getSessionStorageIfAvailable();if(!o)return[];const et=_persistenceKeyName(PERSISTENCE_KEY,s,i);switch(o.getItem(et)){case Persistence.NONE:return[inMemoryPersistence];case Persistence.LOCAL:return[indexedDBLocalPersistence,browserSessionPersistence];case Persistence.SESSION:return[browserSessionPersistence];default:return[]}}function getSessionStorageIfAvailable(){var s;try{return((s=_getSelfWindow())===null||s===void 0?void 0:s.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _assert$2=_assert$4;class CompatPopupRedirectResolver{constructor(){this.browserResolver=_getInstance(browserPopupRedirectResolver),this.cordovaResolver=_getInstance(cordovaPopupRedirectResolver),this.underlyingResolver=null,this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _initialize(i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(i)}async _openPopup(i,o,et,$l){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(i,o,et,$l)}async _openRedirect(i,o,et,$l){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(i,o,et,$l)}_isIframeWebStorageSupported(i,o){this.assertedUnderlyingResolver._isIframeWebStorageSupported(i,o)}_originValidation(i){return this.assertedUnderlyingResolver._originValidation(i)}get _shouldInitProactively(){return _isLikelyCordova()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _assert$2(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const i=await _isCordova();this.underlyingResolver=i?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function unwrap(s){return s.unwrap()}function wrapped(s){return s.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function credentialFromResponse(s){return credentialFromObject(s)}function attachExtraErrorFields(s,i){var o,et;const $l=(o=i.customData)===null||o===void 0?void 0:o._tokenResponse;if(((et=i)===null||et===void 0?void 0:et.code)==="auth/multi-factor-auth-required"){const Nl=i;Nl.resolver=new MultiFactorResolver(s,getMultiFactorResolver(s,i))}else if($l){const Nl=credentialFromObject(i),Ml=i;Nl&&(Ml.credential=Nl,Ml.tenantId=$l.tenantId||void 0,Ml.email=$l.email||void 0,Ml.phoneNumber=$l.phoneNumber||void 0)}}function credentialFromObject(s){const{_tokenResponse:i}=s instanceof FirebaseError?s.customData:s;if(!i)return null;if(!(s instanceof FirebaseError)&&"temporaryProof"in i&&"phoneNumber"in i)return PhoneAuthProvider$1.credentialFromResult(s);const o=i.providerId;if(!o||o===ProviderId.PASSWORD)return null;let et;switch(o){case ProviderId.GOOGLE:et=GoogleAuthProvider;break;case ProviderId.FACEBOOK:et=FacebookAuthProvider;break;case ProviderId.GITHUB:et=GithubAuthProvider;break;case ProviderId.TWITTER:et=TwitterAuthProvider;break;default:const{oauthIdToken:$l,oauthAccessToken:Nl,oauthTokenSecret:Ml,pendingToken:Ol,nonce:Ll}=i;return!Nl&&!Ml&&!$l&&!Ol?null:Ol?o.startsWith("saml.")?SAMLAuthCredential._create(o,Ol):OAuthCredential._fromParams({providerId:o,signInMethod:o,pendingToken:Ol,idToken:$l,accessToken:Nl}):new OAuthProvider(o).credential({idToken:$l,accessToken:Nl,rawNonce:Ll})}return s instanceof FirebaseError?et.credentialFromError(s):et.credentialFromResult(s)}function convertCredential(s,i){return i.catch(o=>{throw o instanceof FirebaseError&&attachExtraErrorFields(s,o),o}).then(o=>{const et=o.operationType,$l=o.user;return{operationType:et,credential:credentialFromResponse(o),additionalUserInfo:getAdditionalUserInfo(o),user:User.getOrCreate($l)}})}async function convertConfirmationResult(s,i){const o=await i;return{verificationId:o.verificationId,confirm:et=>convertCredential(s,o.confirm(et))}}class MultiFactorResolver{constructor(i,o){this.resolver=o,this.auth=wrapped(i)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(i){return convertCredential(unwrap(this.auth),this.resolver.resolveSignIn(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(i){this._delegate=i,this.multiFactor=multiFactor(i)}static getOrCreate(i){return User.USER_MAP.has(i)||User.USER_MAP.set(i,new User(i)),User.USER_MAP.get(i)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(i){return this._delegate.getIdTokenResult(i)}getIdToken(i){return this._delegate.getIdToken(i)}linkAndRetrieveDataWithCredential(i){return this.linkWithCredential(i)}async linkWithCredential(i){return convertCredential(this.auth,linkWithCredential(this._delegate,i))}async linkWithPhoneNumber(i,o){return convertConfirmationResult(this.auth,linkWithPhoneNumber(this._delegate,i,o))}async linkWithPopup(i){return convertCredential(this.auth,linkWithPopup(this._delegate,i,CompatPopupRedirectResolver))}async linkWithRedirect(i){return await _savePersistenceForRedirect(_castAuth(this.auth)),linkWithRedirect(this._delegate,i,CompatPopupRedirectResolver)}reauthenticateAndRetrieveDataWithCredential(i){return this.reauthenticateWithCredential(i)}async reauthenticateWithCredential(i){return convertCredential(this.auth,reauthenticateWithCredential(this._delegate,i))}reauthenticateWithPhoneNumber(i,o){return convertConfirmationResult(this.auth,reauthenticateWithPhoneNumber(this._delegate,i,o))}reauthenticateWithPopup(i){return convertCredential(this.auth,reauthenticateWithPopup(this._delegate,i,CompatPopupRedirectResolver))}async reauthenticateWithRedirect(i){return await _savePersistenceForRedirect(_castAuth(this.auth)),reauthenticateWithRedirect(this._delegate,i,CompatPopupRedirectResolver)}sendEmailVerification(i){return sendEmailVerification(this._delegate,i)}async unlink(i){return await unlink(this._delegate,i),this}updateEmail(i){return updateEmail(this._delegate,i)}updatePassword(i){return updatePassword(this._delegate,i)}updatePhoneNumber(i){return updatePhoneNumber(this._delegate,i)}updateProfile(i){return updateProfile(this._delegate,i)}verifyBeforeUpdateEmail(i,o){return verifyBeforeUpdateEmail(this._delegate,i,o)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}User.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _assert$1=_assert$4;class Auth{constructor(i,o){if(this.app=i,o.isInitialized()){this._delegate=o.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:et}=i.options;_assert$1(et,"invalid-api-key",{appName:i.name}),_assert$1(et,"invalid-api-key",{appName:i.name});const $l=typeof window!="undefined"?CompatPopupRedirectResolver:void 0;this._delegate=o.initialize({options:{persistence:buildPersistenceHierarchy(et,i.name),popupRedirectResolver:$l}}),this._delegate._updateErrorMap(debugErrorMap),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?User.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(i){this._delegate.languageCode=i}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(i){this._delegate.tenantId=i}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(i,o){connectAuthEmulator(this._delegate,i,o)}applyActionCode(i){return applyActionCode(this._delegate,i)}checkActionCode(i){return checkActionCode(this._delegate,i)}confirmPasswordReset(i,o){return confirmPasswordReset(this._delegate,i,o)}async createUserWithEmailAndPassword(i,o){return convertCredential(this._delegate,createUserWithEmailAndPassword(this._delegate,i,o))}fetchProvidersForEmail(i){return this.fetchSignInMethodsForEmail(i)}fetchSignInMethodsForEmail(i){return fetchSignInMethodsForEmail(this._delegate,i)}isSignInWithEmailLink(i){return isSignInWithEmailLink(this._delegate,i)}async getRedirectResult(){_assert$1(_isPopupRedirectSupported(),this._delegate,"operation-not-supported-in-this-environment");const i=await getRedirectResult(this._delegate,CompatPopupRedirectResolver);return i?convertCredential(this._delegate,Promise.resolve(i)):{credential:null,user:null}}addFrameworkForLogging(i){addFrameworkForLogging(this._delegate,i)}onAuthStateChanged(i,o,et){const{next:$l,error:Nl,complete:Ml}=wrapObservers(i,o,et);return this._delegate.onAuthStateChanged($l,Nl,Ml)}onIdTokenChanged(i,o,et){const{next:$l,error:Nl,complete:Ml}=wrapObservers(i,o,et);return this._delegate.onIdTokenChanged($l,Nl,Ml)}sendSignInLinkToEmail(i,o){return sendSignInLinkToEmail(this._delegate,i,o)}sendPasswordResetEmail(i,o){return sendPasswordResetEmail(this._delegate,i,o||void 0)}async setPersistence(i){_validatePersistenceArgument(this._delegate,i);let o;switch(i){case Persistence.SESSION:o=browserSessionPersistence;break;case Persistence.LOCAL:o=await _getInstance(indexedDBLocalPersistence)._isAvailable()?indexedDBLocalPersistence:browserLocalPersistence;break;case Persistence.NONE:o=inMemoryPersistence;break;default:return _fail("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(o)}signInAndRetrieveDataWithCredential(i){return this.signInWithCredential(i)}signInAnonymously(){return convertCredential(this._delegate,signInAnonymously(this._delegate))}signInWithCredential(i){return convertCredential(this._delegate,signInWithCredential(this._delegate,i))}signInWithCustomToken(i){return convertCredential(this._delegate,signInWithCustomToken(this._delegate,i))}signInWithEmailAndPassword(i,o){return convertCredential(this._delegate,signInWithEmailAndPassword(this._delegate,i,o))}signInWithEmailLink(i,o){return convertCredential(this._delegate,signInWithEmailLink(this._delegate,i,o))}signInWithPhoneNumber(i,o){return convertConfirmationResult(this._delegate,signInWithPhoneNumber(this._delegate,i,o))}async signInWithPopup(i){return _assert$1(_isPopupRedirectSupported(),this._delegate,"operation-not-supported-in-this-environment"),convertCredential(this._delegate,signInWithPopup(this._delegate,i,CompatPopupRedirectResolver))}async signInWithRedirect(i){return _assert$1(_isPopupRedirectSupported(),this._delegate,"operation-not-supported-in-this-environment"),await _savePersistenceForRedirect(this._delegate),signInWithRedirect(this._delegate,i,CompatPopupRedirectResolver)}updateCurrentUser(i){return this._delegate.updateCurrentUser(i)}verifyPasswordResetCode(i){return verifyPasswordResetCode(this._delegate,i)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Auth.Persistence=Persistence;function wrapObservers(s,i,o){let et=s;typeof s!="function"&&({next:et,error:i,complete:o}=s);const $l=et;return{next:Ml=>$l(Ml&&User.getOrCreate(Ml)),error:i,complete:o}}function buildPersistenceHierarchy(s,i){const o=_getPersistencesFromRedirect(s,i);if(typeof self!="undefined"&&!o.includes(indexedDBLocalPersistence)&&o.push(indexedDBLocalPersistence),typeof window!="undefined")for(const et of[browserLocalPersistence,browserSessionPersistence])o.includes(et)||o.push(et);return o.includes(inMemoryPersistence)||o.push(inMemoryPersistence),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PhoneAuthProvider{constructor(){this.providerId="phone",this._delegate=new PhoneAuthProvider$1(unwrap(firebase.auth()))}static credential(i,o){return PhoneAuthProvider$1.credential(i,o)}verifyPhoneNumber(i,o){return this._delegate.verifyPhoneNumber(i,o)}unwrap(){return this._delegate}}PhoneAuthProvider.PHONE_SIGN_IN_METHOD=PhoneAuthProvider$1.PHONE_SIGN_IN_METHOD;PhoneAuthProvider.PROVIDER_ID=PhoneAuthProvider$1.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _assert=_assert$4;class RecaptchaVerifier{constructor(i,o,et=firebase.app()){var $l;_assert(($l=et.options)===null||$l===void 0?void 0:$l.apiKey,"invalid-api-key",{appName:et.name}),this._delegate=new RecaptchaVerifier$1(i,o,et.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AUTH_TYPE="auth-compat";function registerAuthCompat(s){s.INTERNAL.registerComponent(new Component(AUTH_TYPE,i=>{const o=i.getProvider("app-compat").getImmediate(),et=i.getProvider("auth");return new Auth(o,et)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ActionCodeOperation.EMAIL_SIGNIN,PASSWORD_RESET:ActionCodeOperation.PASSWORD_RESET,RECOVER_EMAIL:ActionCodeOperation.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ActionCodeOperation.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ActionCodeOperation.VERIFY_EMAIL}},EmailAuthProvider,FacebookAuthProvider,GithubAuthProvider,GoogleAuthProvider,OAuthProvider,SAMLAuthProvider,PhoneAuthProvider,PhoneMultiFactorGenerator,RecaptchaVerifier,TwitterAuthProvider,Auth,AuthCredential,Error:FirebaseError}).setInstantiationMode("LAZY").setMultipleInstances(!1)),s.registerVersion(name$e,version$e)}registerAuthCompat(firebase);const name$d="@firebase/database",version$d="0.13.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SDK_VERSION$1="";function setSDKVersion(s){SDK_VERSION$1=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DOMStorageWrapper{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,o){o==null?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),stringify(o))}get(i){const o=this.domStorage_.getItem(this.prefixedName_(i));return o==null?null:jsonEval(o)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MemoryStorage{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,o){o==null?delete this.cache_[i]:this.cache_[i]=o}get(i){return contains(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const createStoragefor=function(s){try{if(typeof window!="undefined"&&typeof window[s]!="undefined"){const i=window[s];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new DOMStorageWrapper(i)}}catch{}return new MemoryStorage},PersistentStorage=createStoragefor("localStorage"),SessionStorage=createStoragefor("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient$1=new Logger("@firebase/database"),LUIDGenerator=function(){let s=1;return function(){return s++}}(),sha1=function(s){const i=stringToByteArray(s),o=new Sha1;o.update(i);const et=o.digest();return base64.encodeByteArray(et)},buildLogMessage_=function(...s){let i="";for(let o=0;o<s.length;o++){const et=s[o];Array.isArray(et)||et&&typeof et=="object"&&typeof et.length=="number"?i+=buildLogMessage_.apply(null,et):typeof et=="object"?i+=stringify(et):i+=et,i+=" "}return i};let logger$1=null,firstLog_=!0;const enableLogging$1=function(s,i){assert(!i||s===!0||s===!1,"Can't turn on custom loggers persistently."),s===!0?(logClient$1.logLevel=LogLevel.VERBOSE,logger$1=logClient$1.log.bind(logClient$1),i&&SessionStorage.set("logging_enabled",!0)):typeof s=="function"?logger$1=s:(logger$1=null,SessionStorage.remove("logging_enabled"))},log=function(...s){if(firstLog_===!0&&(firstLog_=!1,logger$1===null&&SessionStorage.get("logging_enabled")===!0&&enableLogging$1(!0)),logger$1){const i=buildLogMessage_.apply(null,s);logger$1(i)}},logWrapper=function(s){return function(...i){log(s,...i)}},error=function(...s){const i="FIREBASE INTERNAL ERROR: "+buildLogMessage_(...s);logClient$1.error(i)},fatal=function(...s){const i=`FIREBASE FATAL ERROR: ${buildLogMessage_(...s)}`;throw logClient$1.error(i),new Error(i)},warn$1=function(...s){const i="FIREBASE WARNING: "+buildLogMessage_(...s);logClient$1.warn(i)},warnIfPageIsSecure=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&warn$1("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},isInvalidJSONNumber=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},executeWhenDOMReady=function(s){if(document.readyState==="complete")s();else{let i=!1;const o=function(){if(!document.body){setTimeout(o,Math.floor(10));return}i||(i=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&o()}),window.attachEvent("onload",o))}},MIN_NAME="[MIN_NAME]",MAX_NAME="[MAX_NAME]",nameCompare=function(s,i){if(s===i)return 0;if(s===MIN_NAME||i===MAX_NAME)return-1;if(i===MIN_NAME||s===MAX_NAME)return 1;{const o=tryParseInt(s),et=tryParseInt(i);return o!==null?et!==null?o-et===0?s.length-i.length:o-et:-1:et!==null?1:s<i?-1:1}},stringCompare=function(s,i){return s===i?0:s<i?-1:1},requireKey=function(s,i){if(i&&s in i)return i[s];throw new Error("Missing required key ("+s+") in object: "+stringify(i))},ObjectToUniqueKey=function(s){if(typeof s!="object"||s===null)return stringify(s);const i=[];for(const et in s)i.push(et);i.sort();let o="{";for(let et=0;et<i.length;et++)et!==0&&(o+=","),o+=stringify(i[et]),o+=":",o+=ObjectToUniqueKey(s[i[et]]);return o+="}",o},splitStringBySize=function(s,i){const o=s.length;if(o<=i)return[s];const et=[];for(let $l=0;$l<o;$l+=i)$l+i>o?et.push(s.substring($l,o)):et.push(s.substring($l,$l+i));return et};function each(s,i){for(const o in s)s.hasOwnProperty(o)&&i(o,s[o])}const doubleToIEEE754String=function(s){assert(!isInvalidJSONNumber(s),"Invalid JSON number");const i=11,o=52,et=(1<<i-1)-1;let $l,Nl,Ml,Ol,Ll;s===0?(Nl=0,Ml=0,$l=1/s===-1/0?1:0):($l=s<0,s=Math.abs(s),s>=Math.pow(2,1-et)?(Ol=Math.min(Math.floor(Math.log(s)/Math.LN2),et),Nl=Ol+et,Ml=Math.round(s*Math.pow(2,o-Ol)-Math.pow(2,o))):(Nl=0,Ml=Math.round(s/Math.pow(2,1-et-o))));const Fl=[];for(Ll=o;Ll;Ll-=1)Fl.push(Ml%2?1:0),Ml=Math.floor(Ml/2);for(Ll=i;Ll;Ll-=1)Fl.push(Nl%2?1:0),Nl=Math.floor(Nl/2);Fl.push($l?1:0),Fl.reverse();const Bl=Fl.join("");let Ul="";for(Ll=0;Ll<64;Ll+=8){let Gl=parseInt(Bl.substr(Ll,8),2).toString(16);Gl.length===1&&(Gl="0"+Gl),Ul=Ul+Gl}return Ul.toLowerCase()},isChromeExtensionContentScript=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},isWindowsStoreApp=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function errorForServerCode(s,i){let o="Unknown Error";s==="too_big"?o="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?o="Client doesn't have permission to access the desired data.":s==="unavailable"&&(o="The service is unavailable");const et=new Error(s+" at "+i._path.toString()+": "+o);return et.code=s.toUpperCase(),et}const INTEGER_REGEXP_=new RegExp("^-?(0*)\\d{1,10}$"),INTEGER_32_MIN=-2147483648,INTEGER_32_MAX=2147483647,tryParseInt=function(s){if(INTEGER_REGEXP_.test(s)){const i=Number(s);if(i>=INTEGER_32_MIN&&i<=INTEGER_32_MAX)return i}return null},exceptionGuard=function(s){try{s()}catch(i){setTimeout(()=>{const o=i.stack||"";throw warn$1("Exception was thrown by user callback.",o),i},Math.floor(0))}},beingCrawled=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},setTimeoutNonBlocking=function(s,i){const o=setTimeout(s,i);return typeof o=="object"&&o.unref&&o.unref(),o};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AppCheckTokenProvider{constructor(i,o){this.appName_=i,this.appCheckProvider=o,this.appCheck=o==null?void 0:o.getImmediate({optional:!0}),this.appCheck||o==null||o.get().then(et=>this.appCheck=et)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((o,et)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(o,et):o(null)},0)})}addTokenChangeListener(i){var o;(o=this.appCheckProvider)===null||o===void 0||o.get().then(et=>et.addTokenListener(i))}notifyForInvalidToken(){warn$1(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAuthTokenProvider{constructor(i,o,et){this.appName_=i,this.firebaseOptions_=o,this.authProvider_=et,this.auth_=null,this.auth_=et.getImmediate({optional:!0}),this.auth_||et.onInit($l=>this.auth_=$l)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(o=>o&&o.code==="auth/token-not-initialized"?(log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,et)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(o,et):o(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(o=>o.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(o=>o.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?i+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?i+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':i+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',warn$1(i)}}class EmulatorTokenProvider{constructor(i){this.accessToken=i}getToken(i){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(i){i(this.accessToken)}removeTokenChangeListener(i){}notifyForInvalidToken(){}}EmulatorTokenProvider.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PROTOCOL_VERSION="5",VERSION_PARAM="v",TRANSPORT_SESSION_PARAM="s",REFERER_PARAM="r",FORGE_REF="f",FORGE_DOMAIN_RE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LAST_SESSION_PARAM="ls",APPLICATION_ID_PARAM="p",APP_CHECK_TOKEN_PARAM="ac",WEBSOCKET="websocket",LONG_POLLING="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RepoInfo{constructor(i,o,et,$l,Nl=!1,Ml="",Ol=!1){this.secure=o,this.namespace=et,this.webSocketOnly=$l,this.nodeAdmin=Nl,this.persistenceKey=Ml,this.includeNamespaceInQueryParams=Ol,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=PersistentStorage.get("host:"+i)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&PersistentStorage.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){const i=this.secure?"https://":"http://",o=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${i}${this.host}/${o}`}}function repoInfoNeedsQueryParam(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function repoInfoConnectionURL(s,i,o){assert(typeof i=="string","typeof type must == string"),assert(typeof o=="object","typeof params must == object");let et;if(i===WEBSOCKET)et=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(i===LONG_POLLING)et=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+i);repoInfoNeedsQueryParam(s)&&(o.ns=s.namespace);const $l=[];return each(o,(Nl,Ml)=>{$l.push(Nl+"="+Ml)}),et+$l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsCollection{constructor(){this.counters_={}}incrementCounter(i,o=1){contains(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=o}get(){return deepCopy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const collections={},reporters={};function statsManagerGetCollection(s){const i=s.toString();return collections[i]||(collections[i]=new StatsCollection),collections[i]}function statsManagerGetOrCreateReporter(s,i){const o=s.toString();return reporters[o]||(reporters[o]=i()),reporters[o]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PacketReceiver{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,o){this.closeAfterResponse=i,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,o){for(this.pendingResponses[i]=o;this.pendingResponses[this.currentResponseNum];){const et=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let $l=0;$l<et.length;++$l)et[$l]&&exceptionGuard(()=>{this.onMessage_(et[$l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_LONGPOLL_START_PARAM="start",FIREBASE_LONGPOLL_CLOSE_COMMAND="close",FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",FIREBASE_LONGPOLL_ID_PARAM="id",FIREBASE_LONGPOLL_PW_PARAM="pw",FIREBASE_LONGPOLL_SERIAL_PARAM="ser",FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",FIREBASE_LONGPOLL_DATA_PARAM="d",FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",MAX_URL_DATA_SIZE=1870,SEG_HEADER_SIZE=30,MAX_PAYLOAD_SIZE=MAX_URL_DATA_SIZE-SEG_HEADER_SIZE,KEEPALIVE_REQUEST_INTERVAL=25e3,LP_CONNECT_TIMEOUT=3e4;class BrowserPollConnection{constructor(i,o,et,$l,Nl,Ml,Ol){this.connId=i,this.repoInfo=o,this.applicationId=et,this.appCheckToken=$l,this.authToken=Nl,this.transportSessionId=Ml,this.lastSessionId=Ol,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=logWrapper(i),this.stats_=statsManagerGetCollection(o),this.urlFn=Ll=>(this.appCheckToken&&(Ll[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),repoInfoConnectionURL(o,LONG_POLLING,Ll))}open(i,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new PacketReceiver(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LP_CONNECT_TIMEOUT)),executeWhenDOMReady(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FirebaseIFrameScriptHolder((...Nl)=>{const[Ml,Ol,Ll,Fl,Bl]=Nl;if(this.incrementIncomingBytes_(Nl),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,Ml===FIREBASE_LONGPOLL_START_PARAM)this.id=Ol,this.password=Ll;else if(Ml===FIREBASE_LONGPOLL_CLOSE_COMMAND)Ol?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Ol,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+Ml)},(...Nl)=>{const[Ml,Ol]=Nl;this.incrementIncomingBytes_(Nl),this.myPacketOrderer.handleResponse(Ml,Ol)},()=>{this.onClosed_()},this.urlFn);const et={};et[FIREBASE_LONGPOLL_START_PARAM]="t",et[FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(et[FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=this.scriptTagHolder.uniqueCallbackIdentifier),et[VERSION_PARAM]=PROTOCOL_VERSION,this.transportSessionId&&(et[TRANSPORT_SESSION_PARAM]=this.transportSessionId),this.lastSessionId&&(et[LAST_SESSION_PARAM]=this.lastSessionId),this.applicationId&&(et[APPLICATION_ID_PARAM]=this.applicationId),this.appCheckToken&&(et[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(et[REFERER_PARAM]=FORGE_REF);const $l=this.urlFn(et);this.log_("Connecting via long-poll to "+$l),this.scriptTagHolder.addTag($l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){BrowserPollConnection.forceAllow_=!0}static forceDisallow(){BrowserPollConnection.forceDisallow_=!0}static isAvailable(){return BrowserPollConnection.forceAllow_?!0:!BrowserPollConnection.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!isChromeExtensionContentScript()&&!isWindowsStoreApp()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const o=stringify(i);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const et=base64Encode(o),$l=splitStringBySize(et,MAX_PAYLOAD_SIZE);for(let Nl=0;Nl<$l.length;Nl++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,$l.length,$l[Nl]),this.curSegmentNum++}addDisconnectPingFrame(i,o){this.myDisconnFrame=document.createElement("iframe");const et={};et[FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",et[FIREBASE_LONGPOLL_ID_PARAM]=i,et[FIREBASE_LONGPOLL_PW_PARAM]=o,this.myDisconnFrame.src=this.urlFn(et),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const o=stringify(i).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class FirebaseIFrameScriptHolder{constructor(i,o,et,$l){this.onDisconnect=et,this.urlFn=$l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LUIDGenerator(),window[FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=i,window[FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=o,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();let Nl="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const Ol=document.domain;Nl='<script>document.domain="'+Ol+'";<\/script>'}const Ml="<html><body>"+Nl+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Ml),this.myIFrame.doc.close()}catch(Ol){log("frame writing exception"),Ol.stack&&log(Ol.stack),log(Ol)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",document.body){document.body.appendChild(i);try{i.contentWindow.document||log("No IE domain setting required")}catch{const et=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+et+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,o){for(this.myID=i,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i[FIREBASE_LONGPOLL_ID_PARAM]=this.myID,i[FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,i[FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;let o=this.urlFn(i),et="",$l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+SEG_HEADER_SIZE+et.length<=MAX_URL_DATA_SIZE;){const Ml=this.pendingSegs.shift();et=et+"&"+FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+$l+"="+Ml.seg+"&"+FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+$l+"="+Ml.ts+"&"+FIREBASE_LONGPOLL_DATA_PARAM+$l+"="+Ml.d,$l++}return o=o+et,this.addLongPollTag_(o,this.currentSerial),!0}else return!1}enqueueSegment(i,o,et){this.pendingSegs.push({seg:i,ts:o,d:et}),this.alive&&this.newRequest_()}addLongPollTag_(i,o){this.outstandingRequests.add(o);const et=()=>{this.outstandingRequests.delete(o),this.newRequest_()},$l=setTimeout(et,Math.floor(KEEPALIVE_REQUEST_INTERVAL)),Nl=()=>{clearTimeout($l),et()};this.addTag(i,Nl)}addTag(i,o){setTimeout(()=>{try{if(!this.sendNewPolls)return;const et=this.myIFrame.doc.createElement("script");et.type="text/javascript",et.async=!0,et.src=i,et.onload=et.onreadystatechange=function(){const $l=et.readyState;(!$l||$l==="loaded"||$l==="complete")&&(et.onload=et.onreadystatechange=null,et.parentNode&&et.parentNode.removeChild(et),o())},et.onerror=()=>{log("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(et)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEBSOCKET_MAX_FRAME_SIZE=16384,WEBSOCKET_KEEPALIVE_INTERVAL=45e3;let WebSocketImpl=null;typeof MozWebSocket!="undefined"?WebSocketImpl=MozWebSocket:typeof WebSocket!="undefined"&&(WebSocketImpl=WebSocket);class WebSocketConnection{constructor(i,o,et,$l,Nl,Ml,Ol){this.connId=i,this.applicationId=et,this.appCheckToken=$l,this.authToken=Nl,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=logWrapper(this.connId),this.stats_=statsManagerGetCollection(o),this.connURL=WebSocketConnection.connectionURL_(o,Ml,Ol,$l,et),this.nodeAdmin=o.nodeAdmin}static connectionURL_(i,o,et,$l,Nl){const Ml={};return Ml[VERSION_PARAM]=PROTOCOL_VERSION,typeof location!="undefined"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(Ml[REFERER_PARAM]=FORGE_REF),o&&(Ml[TRANSPORT_SESSION_PARAM]=o),et&&(Ml[LAST_SESSION_PARAM]=et),$l&&(Ml[APP_CHECK_TOKEN_PARAM]=$l),Nl&&(Ml[APPLICATION_ID_PARAM]=Nl),repoInfoConnectionURL(i,WEBSOCKET,Ml)}open(i,o){this.onDisconnect=o,this.onMessage=i,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,PersistentStorage.set("previous_websocket_failure",!0);try{let et;isNodeSdk(),this.mySock=new WebSocketImpl(this.connURL,[],et)}catch(et){this.log_("Error instantiating WebSocket.");const $l=et.message||et.data;$l&&this.log_($l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=et=>{this.handleIncomingFrame(et)},this.mySock.onerror=et=>{this.log_("WebSocket error.  Closing connection.");const $l=et.message||et.data;$l&&this.log_($l),this.onClosed_()}}start(){}static forceDisallow(){WebSocketConnection.forceDisallow_=!0}static isAvailable(){let i=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const o=/Android ([0-9]{0,}\.[0-9]{0,})/,et=navigator.userAgent.match(o);et&&et.length>1&&parseFloat(et[1])<4.4&&(i=!0)}return!i&&WebSocketImpl!==null&&!WebSocketConnection.forceDisallow_}static previouslyFailed(){return PersistentStorage.isInMemoryStorage||PersistentStorage.get("previous_websocket_failure")===!0}markConnectionHealthy(){PersistentStorage.remove("previous_websocket_failure")}appendFrame_(i){if(this.frames.push(i),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const et=jsonEval(o);this.onMessage(et)}}handleNewFrameCount_(i){this.totalFrames=i,this.frames=[]}extractFrameCount_(i){if(assert(this.frames===null,"We already have a frame buffer"),i.length<=6){const o=Number(i);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),i}handleIncomingFrame(i){if(this.mySock===null)return;const o=i.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(o);else{const et=this.extractFrameCount_(o);et!==null&&this.appendFrame_(et)}}send(i){this.resetKeepAlive();const o=stringify(i);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const et=splitStringBySize(o,WEBSOCKET_MAX_FRAME_SIZE);et.length>1&&this.sendString_(String(et.length));for(let $l=0;$l<et.length;$l++)this.sendString_(et[$l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WEBSOCKET_KEEPALIVE_INTERVAL))}sendString_(i){try{this.mySock.send(i)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}WebSocketConnection.responsesRequiredToBeHealthy=2;WebSocketConnection.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransportManager{constructor(i){this.initTransports_(i)}static get ALL_TRANSPORTS(){return[BrowserPollConnection,WebSocketConnection]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(i){const o=WebSocketConnection&&WebSocketConnection.isAvailable();let et=o&&!WebSocketConnection.previouslyFailed();if(i.webSocketOnly&&(o||warn$1("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),et=!0),et)this.transports_=[WebSocketConnection];else{const $l=this.transports_=[];for(const Nl of TransportManager.ALL_TRANSPORTS)Nl&&Nl.isAvailable()&&$l.push(Nl);TransportManager.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}TransportManager.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UPGRADE_TIMEOUT=6e4,DELAY_BEFORE_SENDING_EXTRA_REQUESTS=5e3,BYTES_SENT_HEALTHY_OVERRIDE=10*1024,BYTES_RECEIVED_HEALTHY_OVERRIDE=100*1024,MESSAGE_TYPE="t",MESSAGE_DATA="d",CONTROL_SHUTDOWN="s",CONTROL_RESET="r",CONTROL_ERROR="e",CONTROL_PONG="o",SWITCH_ACK="a",END_TRANSMISSION="n",PING="p",SERVER_HELLO="h";class Connection{constructor(i,o,et,$l,Nl,Ml,Ol,Ll,Fl,Bl){this.id=i,this.repoInfo_=o,this.applicationId_=et,this.appCheckToken_=$l,this.authToken_=Nl,this.onMessage_=Ml,this.onReady_=Ol,this.onDisconnect_=Ll,this.onKill_=Fl,this.lastSessionId=Bl,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=logWrapper("c:"+this.id+":"),this.transportManager_=new TransportManager(o),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),et=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,et)},Math.floor(0));const $l=i.healthyTimeout||0;$l>0&&(this.healthyTimeout_=setTimeoutNonBlocking(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BYTES_RECEIVED_HEALTHY_OVERRIDE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BYTES_SENT_HEALTHY_OVERRIDE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor($l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return o=>{i===this.conn_?this.onConnectionLost_(o):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return o=>{this.state_!==2&&(i===this.rx_?this.onPrimaryMessageReceived_(o):i===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(i){const o={t:"d",d:i};this.sendData_(o)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if(MESSAGE_TYPE in i){const o=i[MESSAGE_TYPE];o===SWITCH_ACK?this.upgradeIfSecondaryHealthy_():o===CONTROL_RESET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):o===CONTROL_PONG&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const o=requireKey("t",i),et=requireKey("d",i);if(o==="c")this.onSecondaryControl_(et);else if(o==="d")this.pendingDataMessages.push(et);else throw new Error("Unknown protocol layer: "+o)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PING,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SWITCH_ACK,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:END_TRANSMISSION,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const o=requireKey("t",i),et=requireKey("d",i);o==="c"?this.onControl_(et):o==="d"&&this.onDataMessage_(et)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const o=requireKey(MESSAGE_TYPE,i);if(MESSAGE_DATA in i){const et=i[MESSAGE_DATA];if(o===SERVER_HELLO)this.onHandshake_(et);else if(o===END_TRANSMISSION){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let $l=0;$l<this.pendingDataMessages.length;++$l)this.onDataMessage_(this.pendingDataMessages[$l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else o===CONTROL_SHUTDOWN?this.onConnectionShutdown_(et):o===CONTROL_RESET?this.onReset_(et):o===CONTROL_ERROR?error("Server Error: "+et):o===CONTROL_PONG?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):error("Unknown control packet command: "+o)}}onHandshake_(i){const o=i.ts,et=i.v,$l=i.h;this.sessionId=i.s,this.repoInfo_.host=$l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),PROTOCOL_VERSION!==et&&warn$1("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),et=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,et),setTimeoutNonBlocking(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UPGRADE_TIMEOUT))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,o){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):setTimeoutNonBlocking(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DELAY_BEFORE_SENDING_EXTRA_REQUESTS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PING,d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,!i&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(i)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ServerActions{put(i,o,et,$l){}merge(i,o,et,$l){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,o,et){}onDisconnectMerge(i,o,et){}onDisconnectCancel(i,o){}reportStats(i){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventEmitter{constructor(i){this.allowedEvents_=i,this.listeners_={},assert(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...o){if(Array.isArray(this.listeners_[i])){const et=[...this.listeners_[i]];for(let $l=0;$l<et.length;$l++)et[$l].callback.apply(et[$l].context,o)}}on(i,o,et){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:o,context:et});const $l=this.getInitialEvent(i);$l&&o.apply(et,$l)}off(i,o,et){this.validateEventType_(i);const $l=this.listeners_[i]||[];for(let Nl=0;Nl<$l.length;Nl++)if($l[Nl].callback===o&&(!et||et===$l[Nl].context)){$l.splice(Nl,1);return}}validateEventType_(i){assert(this.allowedEvents_.find(o=>o===i),"Unknown event: "+i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OnlineMonitor extends EventEmitter{constructor(){super(["online"]),this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!isMobileCordova()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new OnlineMonitor}getInitialEvent(i){return assert(i==="online","Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_PATH_DEPTH=32,MAX_PATH_LENGTH_BYTES=768;class Path{constructor(i,o){if(o===void 0){this.pieces_=i.split("/");let et=0;for(let $l=0;$l<this.pieces_.length;$l++)this.pieces_[$l].length>0&&(this.pieces_[et]=this.pieces_[$l],et++);this.pieces_.length=et,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=o}toString(){let i="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)this.pieces_[o]!==""&&(i+="/"+this.pieces_[o]);return i||"/"}}function newEmptyPath(){return new Path("")}function pathGetFront(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function pathGetLength(s){return s.pieces_.length-s.pieceNum_}function pathPopFront(s){let i=s.pieceNum_;return i<s.pieces_.length&&i++,new Path(s.pieces_,i)}function pathGetBack(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function pathToUrlEncodedString(s){let i="";for(let o=s.pieceNum_;o<s.pieces_.length;o++)s.pieces_[o]!==""&&(i+="/"+encodeURIComponent(String(s.pieces_[o])));return i||"/"}function pathSlice(s,i=0){return s.pieces_.slice(s.pieceNum_+i)}function pathParent(s){if(s.pieceNum_>=s.pieces_.length)return null;const i=[];for(let o=s.pieceNum_;o<s.pieces_.length-1;o++)i.push(s.pieces_[o]);return new Path(i,0)}function pathChild(s,i){const o=[];for(let et=s.pieceNum_;et<s.pieces_.length;et++)o.push(s.pieces_[et]);if(i instanceof Path)for(let et=i.pieceNum_;et<i.pieces_.length;et++)o.push(i.pieces_[et]);else{const et=i.split("/");for(let $l=0;$l<et.length;$l++)et[$l].length>0&&o.push(et[$l])}return new Path(o,0)}function pathIsEmpty(s){return s.pieceNum_>=s.pieces_.length}function newRelativePath(s,i){const o=pathGetFront(s),et=pathGetFront(i);if(o===null)return i;if(o===et)return newRelativePath(pathPopFront(s),pathPopFront(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+s+")")}function pathCompare(s,i){const o=pathSlice(s,0),et=pathSlice(i,0);for(let $l=0;$l<o.length&&$l<et.length;$l++){const Nl=nameCompare(o[$l],et[$l]);if(Nl!==0)return Nl}return o.length===et.length?0:o.length<et.length?-1:1}function pathEquals(s,i){if(pathGetLength(s)!==pathGetLength(i))return!1;for(let o=s.pieceNum_,et=i.pieceNum_;o<=s.pieces_.length;o++,et++)if(s.pieces_[o]!==i.pieces_[et])return!1;return!0}function pathContains(s,i){let o=s.pieceNum_,et=i.pieceNum_;if(pathGetLength(s)>pathGetLength(i))return!1;for(;o<s.pieces_.length;){if(s.pieces_[o]!==i.pieces_[et])return!1;++o,++et}return!0}class ValidationPath{constructor(i,o){this.errorPrefix_=o,this.parts_=pathSlice(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let et=0;et<this.parts_.length;et++)this.byteLength_+=stringLength(this.parts_[et]);validationPathCheckValid(this)}}function validationPathPush(s,i){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(i),s.byteLength_+=stringLength(i),validationPathCheckValid(s)}function validationPathPop(s){const i=s.parts_.pop();s.byteLength_-=stringLength(i),s.parts_.length>0&&(s.byteLength_-=1)}function validationPathCheckValid(s){if(s.byteLength_>MAX_PATH_LENGTH_BYTES)throw new Error(s.errorPrefix_+"has a key path longer than "+MAX_PATH_LENGTH_BYTES+" bytes ("+s.byteLength_+").");if(s.parts_.length>MAX_PATH_DEPTH)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MAX_PATH_DEPTH+") or object contains a cycle "+validationPathToErrorString(s))}function validationPathToErrorString(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VisibilityMonitor extends EventEmitter{constructor(){super(["visible"]);let i,o;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(o="visibilitychange",i="hidden"):typeof document.mozHidden!="undefined"?(o="mozvisibilitychange",i="mozHidden"):typeof document.msHidden!="undefined"?(o="msvisibilitychange",i="msHidden"):typeof document.webkitHidden!="undefined"&&(o="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const et=!document[i];et!==this.visible_&&(this.visible_=et,this.trigger("visible",et))},!1)}static getInstance(){return new VisibilityMonitor}getInitialEvent(i){return assert(i==="visible","Unknown event type: "+i),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RECONNECT_MIN_DELAY=1e3,RECONNECT_MAX_DELAY_DEFAULT=60*5*1e3,RECONNECT_MAX_DELAY_FOR_ADMINS=30*1e3,RECONNECT_DELAY_MULTIPLIER=1.3,RECONNECT_DELAY_RESET_TIMEOUT=3e4,SERVER_KILL_INTERRUPT_REASON="server_kill",INVALID_TOKEN_THRESHOLD=3;class PersistentConnection extends ServerActions{constructor(i,o,et,$l,Nl,Ml,Ol,Ll){if(super(),this.repoInfo_=i,this.applicationId_=o,this.onDataUpdate_=et,this.onConnectStatus_=$l,this.onServerInfoUpdate_=Nl,this.authTokenProvider_=Ml,this.appCheckTokenProvider_=Ol,this.authOverride_=Ll,this.id=PersistentConnection.nextPersistentConnectionId_++,this.log_=logWrapper("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=RECONNECT_MIN_DELAY,this.maxReconnectDelay_=RECONNECT_MAX_DELAY_DEFAULT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Ll&&!isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VisibilityMonitor.getInstance().on("visible",this.onVisible_,this),i.host.indexOf("fblocal")===-1&&OnlineMonitor.getInstance().on("online",this.onOnline_,this)}sendRequest(i,o,et){const $l=++this.requestNumber_,Nl={r:$l,a:i,b:o};this.log_(stringify(Nl)),assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(Nl),et&&(this.requestCBHash_[$l]=et)}get(i){this.initConnection_();const o=new Deferred,et={p:i._path.toString(),q:i._queryObject},$l={action:"g",request:et,onComplete:Ml=>{const Ol=Ml.d;Ml.s==="ok"?o.resolve(Ol):o.reject(Ol)}};this.outstandingGets_.push($l),this.outstandingGetCount_++;const Nl=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(Nl),o.promise}listen(i,o,et,$l){this.initConnection_();const Nl=i._queryIdentifier,Ml=i._path.toString();this.log_("Listen called for "+Ml+" "+Nl),this.listens.has(Ml)||this.listens.set(Ml,new Map),assert(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"listen() called for non-default but complete query"),assert(!this.listens.get(Ml).has(Nl),"listen() called twice for same path/queryId.");const Ol={onComplete:$l,hashFn:o,query:i,tag:et};this.listens.get(Ml).set(Nl,Ol),this.connected_&&this.sendListen_(Ol)}sendGet_(i){const o=this.outstandingGets_[i];this.sendRequest("g",o.request,et=>{delete this.outstandingGets_[i],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(et)})}sendListen_(i){const o=i.query,et=o._path.toString(),$l=o._queryIdentifier;this.log_("Listen on "+et+" for "+$l);const Nl={p:et},Ml="q";i.tag&&(Nl.q=o._queryObject,Nl.t=i.tag),Nl.h=i.hashFn(),this.sendRequest(Ml,Nl,Ol=>{const Ll=Ol.d,Fl=Ol.s;PersistentConnection.warnOnListenWarnings_(Ll,o),(this.listens.get(et)&&this.listens.get(et).get($l))===i&&(this.log_("listen response",Ol),Fl!=="ok"&&this.removeListen_(et,$l),i.onComplete&&i.onComplete(Fl,Ll))})}static warnOnListenWarnings_(i,o){if(i&&typeof i=="object"&&contains(i,"w")){const et=safeGet(i,"w");if(Array.isArray(et)&&~et.indexOf("no_index")){const $l='".indexOn": "'+o._queryParams.getIndex().toString()+'"',Nl=o._path.toString();warn$1(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${$l} at ${Nl} to your security rules for better performance.`)}}}refreshAuthToken(i){this.authToken_=i,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(i)}reduceReconnectDelayIfAdminCredential_(i){(i&&i.length===40||isAdmin(i))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS)}refreshAppCheckToken(i){this.appCheckToken_=i,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const i=this.authToken_,o=isValidFormat(i)?"auth":"gauth",et={cred:i};this.authOverride_===null?et.noauth=!0:typeof this.authOverride_=="object"&&(et.authvar=this.authOverride_),this.sendRequest(o,et,$l=>{const Nl=$l.s,Ml=$l.d||"error";this.authToken_===i&&(Nl==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(Nl,Ml))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},i=>{const o=i.s,et=i.d||"error";o==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,et)})}unlisten(i,o){const et=i._path.toString(),$l=i._queryIdentifier;this.log_("Unlisten called for "+et+" "+$l),assert(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(et,$l)&&this.connected_&&this.sendUnlisten_(et,$l,i._queryObject,o)}sendUnlisten_(i,o,et,$l){this.log_("Unlisten on "+i+" for "+o);const Nl={p:i},Ml="n";$l&&(Nl.q=et,Nl.t=$l),this.sendRequest(Ml,Nl)}onDisconnectPut(i,o,et){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",i,o,et):this.onDisconnectRequestQueue_.push({pathString:i,action:"o",data:o,onComplete:et})}onDisconnectMerge(i,o,et){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",i,o,et):this.onDisconnectRequestQueue_.push({pathString:i,action:"om",data:o,onComplete:et})}onDisconnectCancel(i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",i,null,o):this.onDisconnectRequestQueue_.push({pathString:i,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(i,o,et,$l){const Nl={p:o,d:et};this.log_("onDisconnect "+i,Nl),this.sendRequest(i,Nl,Ml=>{$l&&setTimeout(()=>{$l(Ml.s,Ml.d)},Math.floor(0))})}put(i,o,et,$l){this.putInternal("p",i,o,et,$l)}merge(i,o,et,$l){this.putInternal("m",i,o,et,$l)}putInternal(i,o,et,$l,Nl){this.initConnection_();const Ml={p:o,d:et};Nl!==void 0&&(Ml.h=Nl),this.outstandingPuts_.push({action:i,request:Ml,onComplete:$l}),this.outstandingPutCount_++;const Ol=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(Ol):this.log_("Buffering put: "+o)}sendPut_(i){const o=this.outstandingPuts_[i].action,et=this.outstandingPuts_[i].request,$l=this.outstandingPuts_[i].onComplete;this.outstandingPuts_[i].queued=this.connected_,this.sendRequest(o,et,Nl=>{this.log_(o+" response",Nl),delete this.outstandingPuts_[i],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),$l&&$l(Nl.s,Nl.d)})}reportStats(i){if(this.connected_){const o={c:i};this.log_("reportStats",o),this.sendRequest("s",o,et=>{if(et.s!=="ok"){const Nl=et.d;this.log_("reportStats","Error sending stats: "+Nl)}})}}onDataMessage_(i){if("r"in i){this.log_("from server: "+stringify(i));const o=i.r,et=this.requestCBHash_[o];et&&(delete this.requestCBHash_[o],et(i.b))}else{if("error"in i)throw"A server-side error has occurred: "+i.error;"a"in i&&this.onDataPush_(i.a,i.b)}}onDataPush_(i,o){this.log_("handleServerMessage",i,o),i==="d"?this.onDataUpdate_(o.p,o.d,!1,o.t):i==="m"?this.onDataUpdate_(o.p,o.d,!0,o.t):i==="c"?this.onListenRevoked_(o.p,o.q):i==="ac"?this.onAuthRevoked_(o.s,o.d):i==="apc"?this.onAppCheckRevoked_(o.s,o.d):i==="sd"?this.onSecurityDebugPacket_(o):error("Unrecognized action received from server: "+stringify(i)+`
Are you using the latest client?`)}onReady_(i,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(i),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(i){assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(i))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(i){i&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)),this.visible_=i}onOnline_(i){i?(this.log_("Browser went online."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RECONNECT_DELAY_RESET_TIMEOUT&&(this.reconnectDelay_=RECONNECT_MIN_DELAY),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const i=new Date().getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-i);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RECONNECT_DELAY_MULTIPLIER)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const i=this.onDataMessage_.bind(this),o=this.onReady_.bind(this),et=this.onRealtimeDisconnect_.bind(this),$l=this.id+":"+PersistentConnection.nextConnectionId_++,Nl=this.lastSessionId;let Ml=!1,Ol=null;const Ll=function(){Ol?Ol.close():(Ml=!0,et())},Fl=function(Ul){assert(Ol,"sendRequest call when we're not connected not allowed."),Ol.sendRequest(Ul)};this.realtime_={close:Ll,sendRequest:Fl};const Bl=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[Ul,Gl]=await Promise.all([this.authTokenProvider_.getToken(Bl),this.appCheckTokenProvider_.getToken(Bl)]);Ml?log("getToken() completed but was canceled"):(log("getToken() completed. Creating connection."),this.authToken_=Ul&&Ul.accessToken,this.appCheckToken_=Gl&&Gl.token,Ol=new Connection($l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,i,o,et,Wl=>{warn$1(Wl+" ("+this.repoInfo_.toString()+")"),this.interrupt(SERVER_KILL_INTERRUPT_REASON)},Nl))}catch(Ul){this.log_("Failed to get token: "+Ul),Ml||(this.repoInfo_.nodeAdmin&&warn$1(Ul),Ll())}}}interrupt(i){log("Interrupting connection for reason: "+i),this.interruptReasons_[i]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(i){log("Resuming connection for reason: "+i),delete this.interruptReasons_[i],isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(i){const o=i-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let i=0;i<this.outstandingPuts_.length;i++){const o=this.outstandingPuts_[i];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(i,o){let et;o?et=o.map(Nl=>ObjectToUniqueKey(Nl)).join("$"):et="default";const $l=this.removeListen_(i,et);$l&&$l.onComplete&&$l.onComplete("permission_denied")}removeListen_(i,o){const et=new Path(i).toString();let $l;if(this.listens.has(et)){const Nl=this.listens.get(et);$l=Nl.get(o),Nl.delete(o),Nl.size===0&&this.listens.delete(et)}else $l=void 0;return $l}onAuthRevoked_(i,o){log("Auth token revoked: "+i+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(i==="invalid_token"||i==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=INVALID_TOKEN_THRESHOLD&&(this.reconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(i,o){log("App check token revoked: "+i+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(i==="invalid_token"||i==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=INVALID_TOKEN_THRESHOLD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(i){this.securityDebugCallback_?this.securityDebugCallback_(i):"msg"in i&&console.log("FIREBASE: "+i.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const i of this.listens.values())for(const o of i.values())this.sendListen_(o);for(let i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){const i=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(i.action,i.pathString,i.data,i.onComplete)}for(let i=0;i<this.outstandingGets_.length;i++)this.outstandingGets_[i]&&this.sendGet_(i)}sendConnectStats_(){const i={};let o="js";i["sdk."+o+"."+SDK_VERSION$1.replace(/\./g,"-")]=1,isMobileCordova()?i["framework.cordova"]=1:isReactNative()&&(i["framework.reactnative"]=1),this.reportStats(i)}shouldReconnect_(){const i=OnlineMonitor.getInstance().currentlyOnline();return isEmpty(this.interruptReasons_)&&i}}PersistentConnection.nextPersistentConnectionId_=0;PersistentConnection.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NamedNode{constructor(i,o){this.name=i,this.node=o}static Wrap(i,o){return new NamedNode(i,o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Index{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,o){const et=new NamedNode(MIN_NAME,i),$l=new NamedNode(MIN_NAME,o);return this.compare(et,$l)!==0}minPost(){return NamedNode.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __EMPTY_NODE;class KeyIndex extends Index{static get __EMPTY_NODE(){return __EMPTY_NODE}static set __EMPTY_NODE(i){__EMPTY_NODE=i}compare(i,o){return nameCompare(i.name,o.name)}isDefinedOn(i){throw assertionError("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,o){return!1}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,__EMPTY_NODE)}makePost(i,o){return assert(typeof i=="string","KeyIndex indexValue must always be a string."),new NamedNode(i,__EMPTY_NODE)}toString(){return".key"}}const KEY_INDEX=new KeyIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMapIterator{constructor(i,o,et,$l,Nl=null){this.isReverse_=$l,this.resultGenerator_=Nl,this.nodeStack_=[];let Ml=1;for(;!i.isEmpty();)if(i=i,Ml=o?et(i.key,o):1,$l&&(Ml*=-1),Ml<0)this.isReverse_?i=i.left:i=i.right;else if(Ml===0){this.nodeStack_.push(i);break}else this.nodeStack_.push(i),this.isReverse_?i=i.right:i=i.left}getNext(){if(this.nodeStack_.length===0)return null;let i=this.nodeStack_.pop(),o;if(this.resultGenerator_?o=this.resultGenerator_(i.key,i.value):o={key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}class LLRBNode{constructor(i,o,et,$l,Nl){this.key=i,this.value=o,this.color=et!=null?et:LLRBNode.RED,this.left=$l!=null?$l:SortedMap.EMPTY_NODE,this.right=Nl!=null?Nl:SortedMap.EMPTY_NODE}copy(i,o,et,$l,Nl){return new LLRBNode(i!=null?i:this.key,o!=null?o:this.value,et!=null?et:this.color,$l!=null?$l:this.left,Nl!=null?Nl:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||!!i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,o,et){let $l=this;const Nl=et(i,$l.key);return Nl<0?$l=$l.copy(null,null,null,$l.left.insert(i,o,et),null):Nl===0?$l=$l.copy(null,o,null,null,null):$l=$l.copy(null,null,null,null,$l.right.insert(i,o,et)),$l.fixUp_()}removeMin_(){if(this.left.isEmpty())return SortedMap.EMPTY_NODE;let i=this;return!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.removeMin_(),null),i.fixUp_()}remove(i,o){let et,$l;if(et=this,o(i,et.key)<0)!et.left.isEmpty()&&!et.left.isRed_()&&!et.left.left.isRed_()&&(et=et.moveRedLeft_()),et=et.copy(null,null,null,et.left.remove(i,o),null);else{if(et.left.isRed_()&&(et=et.rotateRight_()),!et.right.isEmpty()&&!et.right.isRed_()&&!et.right.left.isRed_()&&(et=et.moveRedRight_()),o(i,et.key)===0){if(et.right.isEmpty())return SortedMap.EMPTY_NODE;$l=et.right.min_(),et=et.copy($l.key,$l.value,null,null,et.right.removeMin_())}et=et.copy(null,null,null,null,et.right.remove(i,o))}return et.fixUp_()}isRed_(){return this.color}fixUp_(){let i=this;return i.right.isRed_()&&!i.left.isRed_()&&(i=i.rotateLeft_()),i.left.isRed_()&&i.left.left.isRed_()&&(i=i.rotateRight_()),i.left.isRed_()&&i.right.isRed_()&&(i=i.colorFlip_()),i}moveRedLeft_(){let i=this.colorFlip_();return i.right.left.isRed_()&&(i=i.copy(null,null,null,null,i.right.rotateRight_()),i=i.rotateLeft_(),i=i.colorFlip_()),i}moveRedRight_(){let i=this.colorFlip_();return i.left.left.isRed_()&&(i=i.rotateRight_(),i=i.colorFlip_()),i}rotateLeft_(){const i=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight_(){const i=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip_(){const i=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,o)}checkMaxDepth_(){const i=this.check_();return Math.pow(2,i)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const i=this.left.check_();if(i!==this.right.check_())throw new Error("Black depths differ");return i+(this.isRed_()?0:1)}}LLRBNode.RED=!0;LLRBNode.BLACK=!1;class LLRBEmptyNode{copy(i,o,et,$l,Nl){return this}insert(i,o,et){return new LLRBNode(i,o,null)}remove(i,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class SortedMap{constructor(i,o=SortedMap.EMPTY_NODE){this.comparator_=i,this.root_=o}insert(i,o){return new SortedMap(this.comparator_,this.root_.insert(i,o,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}remove(i){return new SortedMap(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}get(i){let o,et=this.root_;for(;!et.isEmpty();){if(o=this.comparator_(i,et.key),o===0)return et.value;o<0?et=et.left:o>0&&(et=et.right)}return null}getPredecessorKey(i){let o,et=this.root_,$l=null;for(;!et.isEmpty();)if(o=this.comparator_(i,et.key),o===0){if(et.left.isEmpty())return $l?$l.key:null;for(et=et.left;!et.right.isEmpty();)et=et.right;return et.key}else o<0?et=et.left:o>0&&($l=et,et=et.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new SortedMapIterator(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,o){return new SortedMapIterator(this.root_,i,this.comparator_,!1,o)}getReverseIteratorFrom(i,o){return new SortedMapIterator(this.root_,i,this.comparator_,!0,o)}getReverseIterator(i){return new SortedMapIterator(this.root_,null,this.comparator_,!0,i)}}SortedMap.EMPTY_NODE=new LLRBEmptyNode;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NAME_ONLY_COMPARATOR(s,i){return nameCompare(s.name,i.name)}function NAME_COMPARATOR(s,i){return nameCompare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MAX_NODE$2;function setMaxNode$1(s){MAX_NODE$2=s}const priorityHashText=function(s){return typeof s=="number"?"number:"+doubleToIEEE754String(s):"string:"+s},validatePriorityNode=function(s){if(s.isLeafNode()){const i=s.val();assert(typeof i=="string"||typeof i=="number"||typeof i=="object"&&contains(i,".sv"),"Priority must be a string or number.")}else assert(s===MAX_NODE$2||s.isEmpty(),"priority of unexpected type.");assert(s===MAX_NODE$2||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __childrenNodeConstructor;class LeafNode{constructor(i,o=LeafNode.__childrenNodeConstructor.EMPTY_NODE){this.value_=i,this.priorityNode_=o,this.lazyHash_=null,assert(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),validatePriorityNode(this.priorityNode_)}static set __childrenNodeConstructor(i){__childrenNodeConstructor=i}static get __childrenNodeConstructor(){return __childrenNodeConstructor}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(i){return new LeafNode(this.value_,i)}getImmediateChild(i){return i===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}getChild(i){return pathIsEmpty(i)?this:pathGetFront(i)===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(i,o){return null}updateImmediateChild(i,o){return i===".priority"?this.updatePriority(o):o.isEmpty()&&i!==".priority"?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(i,o).updatePriority(this.priorityNode_)}updateChild(i,o){const et=pathGetFront(i);return et===null?o:o.isEmpty()&&et!==".priority"?this:(assert(et!==".priority"||pathGetLength(i)===1,".priority must be the last token in a path"),this.updateImmediateChild(et,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(pathPopFront(i),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(i,o){return!1}val(i){return i&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let i="";this.priorityNode_.isEmpty()||(i+="priority:"+priorityHashText(this.priorityNode_.val())+":");const o=typeof this.value_;i+=o+":",o==="number"?i+=doubleToIEEE754String(this.value_):i+=this.value_,this.lazyHash_=sha1(i)}return this.lazyHash_}getValue(){return this.value_}compareTo(i){return i===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:i instanceof LeafNode.__childrenNodeConstructor?-1:(assert(i.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(i))}compareToLeafNode_(i){const o=typeof i.value_,et=typeof this.value_,$l=LeafNode.VALUE_TYPE_ORDER.indexOf(o),Nl=LeafNode.VALUE_TYPE_ORDER.indexOf(et);return assert($l>=0,"Unknown leaf type: "+o),assert(Nl>=0,"Unknown leaf type: "+et),$l===Nl?et==="object"?0:this.value_<i.value_?-1:this.value_===i.value_?0:1:Nl-$l}withIndex(){return this}isIndexed(){return!0}equals(i){if(i===this)return!0;if(i.isLeafNode()){const o=i;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}else return!1}}LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nodeFromJSON$1,MAX_NODE$1;function setNodeFromJSON(s){nodeFromJSON$1=s}function setMaxNode(s){MAX_NODE$1=s}class PriorityIndex extends Index{compare(i,o){const et=i.node.getPriority(),$l=o.node.getPriority(),Nl=et.compareTo($l);return Nl===0?nameCompare(i.name,o.name):Nl}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,o){return!i.getPriority().equals(o.getPriority())}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,new LeafNode("[PRIORITY-POST]",MAX_NODE$1))}makePost(i,o){const et=nodeFromJSON$1(i);return new NamedNode(o,new LeafNode("[PRIORITY-POST]",et))}toString(){return".priority"}}const PRIORITY_INDEX=new PriorityIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LOG_2=Math.log(2);class Base12Num{constructor(i){const o=Nl=>parseInt(Math.log(Nl)/LOG_2,10),et=Nl=>parseInt(Array(Nl+1).join("1"),2);this.count=o(i+1),this.current_=this.count-1;const $l=et(this.count);this.bits_=i+1&$l}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const buildChildSet=function(s,i,o,et){s.sort(i);const $l=function(Ll,Fl){const Bl=Fl-Ll;let Ul,Gl;if(Bl===0)return null;if(Bl===1)return Ul=s[Ll],Gl=o?o(Ul):Ul,new LLRBNode(Gl,Ul.node,LLRBNode.BLACK,null,null);{const Wl=parseInt(Bl/2,10)+Ll,zl=$l(Ll,Wl),Ql=$l(Wl+1,Fl);return Ul=s[Wl],Gl=o?o(Ul):Ul,new LLRBNode(Gl,Ul.node,LLRBNode.BLACK,zl,Ql)}},Nl=function(Ll){let Fl=null,Bl=null,Ul=s.length;const Gl=function(zl,Ql){const Jl=Ul-zl,Kl=Ul;Ul-=zl;const Hl=$l(Jl+1,Kl),Yl=s[Jl],Xl=o?o(Yl):Yl;Wl(new LLRBNode(Xl,Yl.node,Ql,null,Hl))},Wl=function(zl){Fl?(Fl.left=zl,Fl=zl):(Bl=zl,Fl=zl)};for(let zl=0;zl<Ll.count;++zl){const Ql=Ll.nextBitIsOne(),Jl=Math.pow(2,Ll.count-(zl+1));Ql?Gl(Jl,LLRBNode.BLACK):(Gl(Jl,LLRBNode.BLACK),Gl(Jl,LLRBNode.RED))}return Bl},Ml=new Base12Num(s.length),Ol=Nl(Ml);return new SortedMap(et||i,Ol)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _defaultIndexMap;const fallbackObject={};class IndexMap{constructor(i,o){this.indexes_=i,this.indexSet_=o}static get Default(){return assert(fallbackObject&&PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),_defaultIndexMap=_defaultIndexMap||new IndexMap({".priority":fallbackObject},{".priority":PRIORITY_INDEX}),_defaultIndexMap}get(i){const o=safeGet(this.indexes_,i);if(!o)throw new Error("No index defined for "+i);return o instanceof SortedMap?o:null}hasIndex(i){return contains(this.indexSet_,i.toString())}addIndex(i,o){assert(i!==KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const et=[];let $l=!1;const Nl=o.getIterator(NamedNode.Wrap);let Ml=Nl.getNext();for(;Ml;)$l=$l||i.isDefinedOn(Ml.node),et.push(Ml),Ml=Nl.getNext();let Ol;$l?Ol=buildChildSet(et,i.getCompare()):Ol=fallbackObject;const Ll=i.toString(),Fl=Object.assign({},this.indexSet_);Fl[Ll]=i;const Bl=Object.assign({},this.indexes_);return Bl[Ll]=Ol,new IndexMap(Bl,Fl)}addToIndexes(i,o){const et=map(this.indexes_,($l,Nl)=>{const Ml=safeGet(this.indexSet_,Nl);if(assert(Ml,"Missing index implementation for "+Nl),$l===fallbackObject)if(Ml.isDefinedOn(i.node)){const Ol=[],Ll=o.getIterator(NamedNode.Wrap);let Fl=Ll.getNext();for(;Fl;)Fl.name!==i.name&&Ol.push(Fl),Fl=Ll.getNext();return Ol.push(i),buildChildSet(Ol,Ml.getCompare())}else return fallbackObject;else{const Ol=o.get(i.name);let Ll=$l;return Ol&&(Ll=Ll.remove(new NamedNode(i.name,Ol))),Ll.insert(i,i.node)}});return new IndexMap(et,this.indexSet_)}removeFromIndexes(i,o){const et=map(this.indexes_,$l=>{if($l===fallbackObject)return $l;{const Nl=o.get(i.name);return Nl?$l.remove(new NamedNode(i.name,Nl)):$l}});return new IndexMap(et,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EMPTY_NODE;class ChildrenNode{constructor(i,o,et){this.children_=i,this.priorityNode_=o,this.indexMap_=et,this.lazyHash_=null,this.priorityNode_&&validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return EMPTY_NODE||(EMPTY_NODE=new ChildrenNode(new SortedMap(NAME_COMPARATOR),null,IndexMap.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||EMPTY_NODE}updatePriority(i){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,i,this.indexMap_)}getImmediateChild(i){if(i===".priority")return this.getPriority();{const o=this.children_.get(i);return o===null?EMPTY_NODE:o}}getChild(i){const o=pathGetFront(i);return o===null?this:this.getImmediateChild(o).getChild(pathPopFront(i))}hasChild(i){return this.children_.get(i)!==null}updateImmediateChild(i,o){if(assert(o,"We should always be passing snapshot nodes"),i===".priority")return this.updatePriority(o);{const et=new NamedNode(i,o);let $l,Nl;o.isEmpty()?($l=this.children_.remove(i),Nl=this.indexMap_.removeFromIndexes(et,this.children_)):($l=this.children_.insert(i,o),Nl=this.indexMap_.addToIndexes(et,this.children_));const Ml=$l.isEmpty()?EMPTY_NODE:this.priorityNode_;return new ChildrenNode($l,Ml,Nl)}}updateChild(i,o){const et=pathGetFront(i);if(et===null)return o;{assert(pathGetFront(i)!==".priority"||pathGetLength(i)===1,".priority must be the last token in a path");const $l=this.getImmediateChild(et).updateChild(pathPopFront(i),o);return this.updateImmediateChild(et,$l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(i){if(this.isEmpty())return null;const o={};let et=0,$l=0,Nl=!0;if(this.forEachChild(PRIORITY_INDEX,(Ml,Ol)=>{o[Ml]=Ol.val(i),et++,Nl&&ChildrenNode.INTEGER_REGEXP_.test(Ml)?$l=Math.max($l,Number(Ml)):Nl=!1}),!i&&Nl&&$l<2*et){const Ml=[];for(const Ol in o)Ml[Ol]=o[Ol];return Ml}else return i&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(this.lazyHash_===null){let i="";this.getPriority().isEmpty()||(i+="priority:"+priorityHashText(this.getPriority().val())+":"),this.forEachChild(PRIORITY_INDEX,(o,et)=>{const $l=et.hash();$l!==""&&(i+=":"+o+":"+$l)}),this.lazyHash_=i===""?"":sha1(i)}return this.lazyHash_}getPredecessorChildName(i,o,et){const $l=this.resolveIndex_(et);if($l){const Nl=$l.getPredecessorKey(new NamedNode(i,o));return Nl?Nl.name:null}else return this.children_.getPredecessorKey(i)}getFirstChildName(i){const o=this.resolveIndex_(i);if(o){const et=o.minKey();return et&&et.name}else return this.children_.minKey()}getFirstChild(i){const o=this.getFirstChildName(i);return o?new NamedNode(o,this.children_.get(o)):null}getLastChildName(i){const o=this.resolveIndex_(i);if(o){const et=o.maxKey();return et&&et.name}else return this.children_.maxKey()}getLastChild(i){const o=this.getLastChildName(i);return o?new NamedNode(o,this.children_.get(o)):null}forEachChild(i,o){const et=this.resolveIndex_(i);return et?et.inorderTraversal($l=>o($l.name,$l.node)):this.children_.inorderTraversal(o)}getIterator(i){return this.getIteratorFrom(i.minPost(),i)}getIteratorFrom(i,o){const et=this.resolveIndex_(o);if(et)return et.getIteratorFrom(i,$l=>$l);{const $l=this.children_.getIteratorFrom(i.name,NamedNode.Wrap);let Nl=$l.peek();for(;Nl!=null&&o.compare(Nl,i)<0;)$l.getNext(),Nl=$l.peek();return $l}}getReverseIterator(i){return this.getReverseIteratorFrom(i.maxPost(),i)}getReverseIteratorFrom(i,o){const et=this.resolveIndex_(o);if(et)return et.getReverseIteratorFrom(i,$l=>$l);{const $l=this.children_.getReverseIteratorFrom(i.name,NamedNode.Wrap);let Nl=$l.peek();for(;Nl!=null&&o.compare(Nl,i)>0;)$l.getNext(),Nl=$l.peek();return $l}}compareTo(i){return this.isEmpty()?i.isEmpty()?0:-1:i.isLeafNode()||i.isEmpty()?1:i===MAX_NODE?-1:0}withIndex(i){if(i===KEY_INDEX||this.indexMap_.hasIndex(i))return this;{const o=this.indexMap_.addIndex(i,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,o)}}isIndexed(i){return i===KEY_INDEX||this.indexMap_.hasIndex(i)}equals(i){if(i===this)return!0;if(i.isLeafNode())return!1;{const o=i;if(this.getPriority().equals(o.getPriority()))if(this.children_.count()===o.children_.count()){const et=this.getIterator(PRIORITY_INDEX),$l=o.getIterator(PRIORITY_INDEX);let Nl=et.getNext(),Ml=$l.getNext();for(;Nl&&Ml;){if(Nl.name!==Ml.name||!Nl.node.equals(Ml.node))return!1;Nl=et.getNext(),Ml=$l.getNext()}return Nl===null&&Ml===null}else return!1;else return!1}}resolveIndex_(i){return i===KEY_INDEX?null:this.indexMap_.get(i.toString())}}ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MaxNode extends ChildrenNode{constructor(){super(new SortedMap(NAME_COMPARATOR),ChildrenNode.EMPTY_NODE,IndexMap.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return ChildrenNode.EMPTY_NODE}isEmpty(){return!1}}const MAX_NODE=new MaxNode;Object.defineProperties(NamedNode,{MIN:{value:new NamedNode(MIN_NAME,ChildrenNode.EMPTY_NODE)},MAX:{value:new NamedNode(MAX_NAME,MAX_NODE)}});KeyIndex.__EMPTY_NODE=ChildrenNode.EMPTY_NODE;LeafNode.__childrenNodeConstructor=ChildrenNode;setMaxNode$1(MAX_NODE);setMaxNode(MAX_NODE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const USE_HINZE=!0;function nodeFromJSON(s,i=null){if(s===null)return ChildrenNode.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(i=s[".priority"]),assert(i===null||typeof i=="string"||typeof i=="number"||typeof i=="object"&&".sv"in i,"Invalid priority type found: "+typeof i),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const o=s;return new LeafNode(o,nodeFromJSON(i))}if(!(s instanceof Array)&&USE_HINZE){const o=[];let et=!1;if(each(s,(Ml,Ol)=>{if(Ml.substring(0,1)!=="."){const Ll=nodeFromJSON(Ol);Ll.isEmpty()||(et=et||!Ll.getPriority().isEmpty(),o.push(new NamedNode(Ml,Ll)))}}),o.length===0)return ChildrenNode.EMPTY_NODE;const Nl=buildChildSet(o,NAME_ONLY_COMPARATOR,Ml=>Ml.name,NAME_COMPARATOR);if(et){const Ml=buildChildSet(o,PRIORITY_INDEX.getCompare());return new ChildrenNode(Nl,nodeFromJSON(i),new IndexMap({".priority":Ml},{".priority":PRIORITY_INDEX}))}else return new ChildrenNode(Nl,nodeFromJSON(i),IndexMap.Default)}else{let o=ChildrenNode.EMPTY_NODE;return each(s,(et,$l)=>{if(contains(s,et)&&et.substring(0,1)!=="."){const Nl=nodeFromJSON($l);(Nl.isLeafNode()||!Nl.isEmpty())&&(o=o.updateImmediateChild(et,Nl))}}),o.updatePriority(nodeFromJSON(i))}}setNodeFromJSON(nodeFromJSON);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PathIndex extends Index{constructor(i){super(),this.indexPath_=i,assert(!pathIsEmpty(i)&&pathGetFront(i)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,o){const et=this.extractChild(i.node),$l=this.extractChild(o.node),Nl=et.compareTo($l);return Nl===0?nameCompare(i.name,o.name):Nl}makePost(i,o){const et=nodeFromJSON(i),$l=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,et);return new NamedNode(o,$l)}maxPost(){const i=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,MAX_NODE);return new NamedNode(MAX_NAME,i)}toString(){return pathSlice(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ValueIndex extends Index{compare(i,o){const et=i.node.compareTo(o.node);return et===0?nameCompare(i.name,o.name):et}isDefinedOn(i){return!0}indexedValueChanged(i,o){return!i.equals(o)}minPost(){return NamedNode.MIN}maxPost(){return NamedNode.MAX}makePost(i,o){const et=nodeFromJSON(i);return new NamedNode(o,et)}toString(){return".value"}}const VALUE_INDEX=new ValueIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PUSH_CHARS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",MIN_PUSH_CHAR="-",MAX_PUSH_CHAR="z",MAX_KEY_LEN=786,nextPushId=function(){let s=0;const i=[];return function(o){const et=o===s;s=o;let $l;const Nl=new Array(8);for($l=7;$l>=0;$l--)Nl[$l]=PUSH_CHARS.charAt(o%64),o=Math.floor(o/64);assert(o===0,"Cannot push at time == 0");let Ml=Nl.join("");if(et){for($l=11;$l>=0&&i[$l]===63;$l--)i[$l]=0;i[$l]++}else for($l=0;$l<12;$l++)i[$l]=Math.floor(Math.random()*64);for($l=0;$l<12;$l++)Ml+=PUSH_CHARS.charAt(i[$l]);return assert(Ml.length===20,"nextPushId: Length should be 20."),Ml}}(),successor=function(s){if(s===""+INTEGER_32_MAX)return MIN_PUSH_CHAR;const i=tryParseInt(s);if(i!=null)return""+(i+1);const o=new Array(s.length);for(let Ml=0;Ml<o.length;Ml++)o[Ml]=s.charAt(Ml);if(o.length<MAX_KEY_LEN)return o.push(MIN_PUSH_CHAR),o.join("");let et=o.length-1;for(;et>=0&&o[et]===MAX_PUSH_CHAR;)et--;if(et===-1)return MAX_NAME;const $l=o[et],Nl=PUSH_CHARS.charAt(PUSH_CHARS.indexOf($l)+1);return o[et]=Nl,o.slice(0,et+1).join("")},predecessor=function(s){if(s===""+INTEGER_32_MIN)return MIN_NAME;const i=tryParseInt(s);if(i!=null)return""+(i-1);const o=new Array(s.length);for(let et=0;et<o.length;et++)o[et]=s.charAt(et);return o[o.length-1]===MIN_PUSH_CHAR?o.length===1?""+INTEGER_32_MAX:(delete o[o.length-1],o.join("")):(o[o.length-1]=PUSH_CHARS.charAt(PUSH_CHARS.indexOf(o[o.length-1])-1),o.join("")+MAX_PUSH_CHAR.repeat(MAX_KEY_LEN-o.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function changeValue(s){return{type:"value",snapshotNode:s}}function changeChildAdded(s,i){return{type:"child_added",snapshotNode:i,childName:s}}function changeChildRemoved(s,i){return{type:"child_removed",snapshotNode:i,childName:s}}function changeChildChanged(s,i,o){return{type:"child_changed",snapshotNode:i,childName:s,oldSnap:o}}function changeChildMoved(s,i){return{type:"child_moved",snapshotNode:i,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IndexedFilter{constructor(i){this.index_=i}updateChild(i,o,et,$l,Nl,Ml){assert(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Ol=i.getImmediateChild(o);return Ol.getChild($l).equals(et.getChild($l))&&Ol.isEmpty()===et.isEmpty()||(Ml!=null&&(et.isEmpty()?i.hasChild(o)?Ml.trackChildChange(changeChildRemoved(o,Ol)):assert(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Ol.isEmpty()?Ml.trackChildChange(changeChildAdded(o,et)):Ml.trackChildChange(changeChildChanged(o,et,Ol))),i.isLeafNode()&&et.isEmpty())?i:i.updateImmediateChild(o,et).withIndex(this.index_)}updateFullNode(i,o,et){return et!=null&&(i.isLeafNode()||i.forEachChild(PRIORITY_INDEX,($l,Nl)=>{o.hasChild($l)||et.trackChildChange(changeChildRemoved($l,Nl))}),o.isLeafNode()||o.forEachChild(PRIORITY_INDEX,($l,Nl)=>{if(i.hasChild($l)){const Ml=i.getImmediateChild($l);Ml.equals(Nl)||et.trackChildChange(changeChildChanged($l,Nl,Ml))}else et.trackChildChange(changeChildAdded($l,Nl))})),o.withIndex(this.index_)}updatePriority(i,o){return i.isEmpty()?ChildrenNode.EMPTY_NODE:i.updatePriority(o)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RangedFilter{constructor(i){this.indexedFilter_=new IndexedFilter(i.getIndex()),this.index_=i.getIndex(),this.startPost_=RangedFilter.getStartPost_(i),this.endPost_=RangedFilter.getEndPost_(i)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){return this.index_.compare(this.getStartPost(),i)<=0&&this.index_.compare(i,this.getEndPost())<=0}updateChild(i,o,et,$l,Nl,Ml){return this.matches(new NamedNode(o,et))||(et=ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(i,o,et,$l,Nl,Ml)}updateFullNode(i,o,et){o.isLeafNode()&&(o=ChildrenNode.EMPTY_NODE);let $l=o.withIndex(this.index_);$l=$l.updatePriority(ChildrenNode.EMPTY_NODE);const Nl=this;return o.forEachChild(PRIORITY_INDEX,(Ml,Ol)=>{Nl.matches(new NamedNode(Ml,Ol))||($l=$l.updateImmediateChild(Ml,ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,$l,et)}updatePriority(i,o){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const o=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),o)}else return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const o=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),o)}else return i.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LimitedFilter{constructor(i){this.rangedFilter_=new RangedFilter(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft()}updateChild(i,o,et,$l,Nl,Ml){return this.rangedFilter_.matches(new NamedNode(o,et))||(et=ChildrenNode.EMPTY_NODE),i.getImmediateChild(o).equals(et)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,o,et,$l,Nl,Ml):this.fullLimitUpdateChild_(i,o,et,Nl,Ml)}updateFullNode(i,o,et){let $l;if(o.isLeafNode()||o.isEmpty())$l=ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<o.numChildren()&&o.isIndexed(this.index_)){$l=ChildrenNode.EMPTY_NODE.withIndex(this.index_);let Nl;this.reverse_?Nl=o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):Nl=o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let Ml=0;for(;Nl.hasNext()&&Ml<this.limit_;){const Ol=Nl.getNext();let Ll;if(this.reverse_?Ll=this.index_.compare(this.rangedFilter_.getStartPost(),Ol)<=0:Ll=this.index_.compare(Ol,this.rangedFilter_.getEndPost())<=0,Ll)$l=$l.updateImmediateChild(Ol.name,Ol.node),Ml++;else break}}else{$l=o.withIndex(this.index_),$l=$l.updatePriority(ChildrenNode.EMPTY_NODE);let Nl,Ml,Ol,Ll;if(this.reverse_){Ll=$l.getReverseIterator(this.index_),Nl=this.rangedFilter_.getEndPost(),Ml=this.rangedFilter_.getStartPost();const Ul=this.index_.getCompare();Ol=(Gl,Wl)=>Ul(Wl,Gl)}else Ll=$l.getIterator(this.index_),Nl=this.rangedFilter_.getStartPost(),Ml=this.rangedFilter_.getEndPost(),Ol=this.index_.getCompare();let Fl=0,Bl=!1;for(;Ll.hasNext();){const Ul=Ll.getNext();!Bl&&Ol(Nl,Ul)<=0&&(Bl=!0),Bl&&Fl<this.limit_&&Ol(Ul,Ml)<=0?Fl++:$l=$l.updateImmediateChild(Ul.name,ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,$l,et)}updatePriority(i,o){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,o,et,$l,Nl){let Ml;if(this.reverse_){const Ul=this.index_.getCompare();Ml=(Gl,Wl)=>Ul(Wl,Gl)}else Ml=this.index_.getCompare();const Ol=i;assert(Ol.numChildren()===this.limit_,"");const Ll=new NamedNode(o,et),Fl=this.reverse_?Ol.getFirstChild(this.index_):Ol.getLastChild(this.index_),Bl=this.rangedFilter_.matches(Ll);if(Ol.hasChild(o)){const Ul=Ol.getImmediateChild(o);let Gl=$l.getChildAfterChild(this.index_,Fl,this.reverse_);for(;Gl!=null&&(Gl.name===o||Ol.hasChild(Gl.name));)Gl=$l.getChildAfterChild(this.index_,Gl,this.reverse_);const Wl=Gl==null?1:Ml(Gl,Ll);if(Bl&&!et.isEmpty()&&Wl>=0)return Nl!=null&&Nl.trackChildChange(changeChildChanged(o,et,Ul)),Ol.updateImmediateChild(o,et);{Nl!=null&&Nl.trackChildChange(changeChildRemoved(o,Ul));const Ql=Ol.updateImmediateChild(o,ChildrenNode.EMPTY_NODE);return Gl!=null&&this.rangedFilter_.matches(Gl)?(Nl!=null&&Nl.trackChildChange(changeChildAdded(Gl.name,Gl.node)),Ql.updateImmediateChild(Gl.name,Gl.node)):Ql}}else return et.isEmpty()?i:Bl&&Ml(Fl,Ll)>=0?(Nl!=null&&(Nl.trackChildChange(changeChildRemoved(Fl.name,Fl.node)),Nl.trackChildChange(changeChildAdded(o,et))),Ol.updateImmediateChild(o,et).updateImmediateChild(Fl.name,ChildrenNode.EMPTY_NODE)):i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryParams{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=PRIORITY_INDEX}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:MIN_NAME}hasEnd(){return this.endSet_}getIndexEndValue(){return assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:MAX_NAME}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return assert(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===PRIORITY_INDEX}copy(){const i=new QueryParams;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function queryParamsGetNodeFilter(s){return s.loadsAllData()?new IndexedFilter(s.getIndex()):s.hasLimit()?new LimitedFilter(s):new RangedFilter(s)}function queryParamsLimitToFirst(s,i){const o=s.copy();return o.limitSet_=!0,o.limit_=i,o.viewFrom_="l",o}function queryParamsLimitToLast(s,i){const o=s.copy();return o.limitSet_=!0,o.limit_=i,o.viewFrom_="r",o}function queryParamsStartAt(s,i,o){const et=s.copy();return et.startSet_=!0,i===void 0&&(i=null),et.indexStartValue_=i,o!=null?(et.startNameSet_=!0,et.indexStartName_=o):(et.startNameSet_=!1,et.indexStartName_=""),et}function queryParamsStartAfter(s,i,o){let et;if(s.index_===KEY_INDEX)typeof i=="string"&&(i=successor(i)),et=queryParamsStartAt(s,i,o);else{let $l;o==null?$l=MAX_NAME:$l=successor(o),et=queryParamsStartAt(s,i,$l)}return et.startAfterSet_=!0,et}function queryParamsEndAt(s,i,o){const et=s.copy();return et.endSet_=!0,i===void 0&&(i=null),et.indexEndValue_=i,o!==void 0?(et.endNameSet_=!0,et.indexEndName_=o):(et.endNameSet_=!1,et.indexEndName_=""),et}function queryParamsEndBefore(s,i,o){let et,$l;return s.index_===KEY_INDEX?(typeof i=="string"&&(i=predecessor(i)),$l=queryParamsEndAt(s,i,o)):(o==null?et=MIN_NAME:et=predecessor(o),$l=queryParamsEndAt(s,i,et)),$l.endBeforeSet_=!0,$l}function queryParamsOrderBy(s,i){const o=s.copy();return o.index_=i,o}function queryParamsToRestQueryStringParameters(s){const i={};if(s.isDefault())return i;let o;return s.index_===PRIORITY_INDEX?o="$priority":s.index_===VALUE_INDEX?o="$value":s.index_===KEY_INDEX?o="$key":(assert(s.index_ instanceof PathIndex,"Unrecognized index type!"),o=s.index_.toString()),i.orderBy=stringify(o),s.startSet_&&(i.startAt=stringify(s.indexStartValue_),s.startNameSet_&&(i.startAt+=","+stringify(s.indexStartName_))),s.endSet_&&(i.endAt=stringify(s.indexEndValue_),s.endNameSet_&&(i.endAt+=","+stringify(s.indexEndName_))),s.limitSet_&&(s.isViewFromLeft()?i.limitToFirst=s.limit_:i.limitToLast=s.limit_),i}function queryParamsGetQueryObject(s){const i={};if(s.startSet_&&(i.sp=s.indexStartValue_,s.startNameSet_&&(i.sn=s.indexStartName_)),s.endSet_&&(i.ep=s.indexEndValue_,s.endNameSet_&&(i.en=s.indexEndName_)),s.limitSet_){i.l=s.limit_;let o=s.viewFrom_;o===""&&(s.isViewFromLeft()?o="l":o="r"),i.vf=o}return s.index_!==PRIORITY_INDEX&&(i.i=s.index_.toString()),i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ReadonlyRestClient extends ServerActions{constructor(i,o,et,$l){super(),this.repoInfo_=i,this.onDataUpdate_=o,this.authTokenProvider_=et,this.appCheckTokenProvider_=$l,this.log_=logWrapper("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,o){return o!==void 0?"tag$"+o:(assert(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,o,et,$l){const Nl=i._path.toString();this.log_("Listen called for "+Nl+" "+i._queryIdentifier);const Ml=ReadonlyRestClient.getListenId_(i,et),Ol={};this.listens_[Ml]=Ol;const Ll=queryParamsToRestQueryStringParameters(i._queryParams);this.restRequest_(Nl+".json",Ll,(Fl,Bl)=>{let Ul=Bl;if(Fl===404&&(Ul=null,Fl=null),Fl===null&&this.onDataUpdate_(Nl,Ul,!1,et),safeGet(this.listens_,Ml)===Ol){let Gl;Fl?Fl===401?Gl="permission_denied":Gl="rest_error:"+Fl:Gl="ok",$l(Gl,null)}})}unlisten(i,o){const et=ReadonlyRestClient.getListenId_(i,o);delete this.listens_[et]}get(i){const o=queryParamsToRestQueryStringParameters(i._queryParams),et=i._path.toString(),$l=new Deferred;return this.restRequest_(et+".json",o,(Nl,Ml)=>{let Ol=Ml;Nl===404&&(Ol=null,Nl=null),Nl===null?(this.onDataUpdate_(et,Ol,!1,null),$l.resolve(Ol)):$l.reject(new Error(Ol))}),$l.promise}refreshAuthToken(i){}restRequest_(i,o={},et){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([$l,Nl])=>{$l&&$l.accessToken&&(o.auth=$l.accessToken),Nl&&Nl.token&&(o.ac=Nl.token);const Ml=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+querystring(o);this.log_("Sending REST request for "+Ml);const Ol=new XMLHttpRequest;Ol.onreadystatechange=()=>{if(et&&Ol.readyState===4){this.log_("REST Response for "+Ml+" received. status:",Ol.status,"response:",Ol.responseText);let Ll=null;if(Ol.status>=200&&Ol.status<300){try{Ll=jsonEval(Ol.responseText)}catch{warn$1("Failed to parse JSON response for "+Ml+": "+Ol.responseText)}et(null,Ll)}else Ol.status!==401&&Ol.status!==404&&warn$1("Got unsuccessful REST response for "+Ml+" Status: "+Ol.status),et(Ol.status);et=null}},Ol.open("GET",Ml,!0),Ol.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotHolder{constructor(){this.rootNode_=ChildrenNode.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,o){this.rootNode_=this.rootNode_.updateChild(i,o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newSparseSnapshotTree(){return{value:null,children:new Map}}function sparseSnapshotTreeRemember(s,i,o){if(pathIsEmpty(i))s.value=o,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(i,o);else{const et=pathGetFront(i);s.children.has(et)||s.children.set(et,newSparseSnapshotTree());const $l=s.children.get(et);i=pathPopFront(i),sparseSnapshotTreeRemember($l,i,o)}}function sparseSnapshotTreeForget(s,i){if(pathIsEmpty(i))return s.value=null,s.children.clear(),!0;if(s.value!==null){if(s.value.isLeafNode())return!1;{const o=s.value;return s.value=null,o.forEachChild(PRIORITY_INDEX,(et,$l)=>{sparseSnapshotTreeRemember(s,new Path(et),$l)}),sparseSnapshotTreeForget(s,i)}}else if(s.children.size>0){const o=pathGetFront(i);return i=pathPopFront(i),s.children.has(o)&&sparseSnapshotTreeForget(s.children.get(o),i)&&s.children.delete(o),s.children.size===0}else return!0}function sparseSnapshotTreeForEachTree(s,i,o){s.value!==null?o(i,s.value):sparseSnapshotTreeForEachChild(s,(et,$l)=>{const Nl=new Path(i.toString()+"/"+et);sparseSnapshotTreeForEachTree($l,Nl,o)})}function sparseSnapshotTreeForEachChild(s,i){s.children.forEach((o,et)=>{i(et,o)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsListener{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),o=Object.assign({},i);return this.last_&&each(this.last_,(et,$l)=>{o[et]=o[et]-$l}),this.last_=i,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIRST_STATS_MIN_TIME=10*1e3,FIRST_STATS_MAX_TIME=30*1e3,REPORT_STATS_INTERVAL=5*60*1e3;class StatsReporter{constructor(i,o){this.server_=o,this.statsToReport_={},this.statsListener_=new StatsListener(i);const et=FIRST_STATS_MIN_TIME+(FIRST_STATS_MAX_TIME-FIRST_STATS_MIN_TIME)*Math.random();setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(et))}reportStats_(){const i=this.statsListener_.get(),o={};let et=!1;each(i,($l,Nl)=>{Nl>0&&contains(this.statsToReport_,$l)&&(o[$l]=Nl,et=!0)}),et&&this.server_.reportStats(o),setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(Math.random()*2*REPORT_STATS_INTERVAL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OperationType;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(OperationType||(OperationType={}));function newOperationSourceUser(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function newOperationSourceServer(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function newOperationSourceServerTaggedQuery(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AckUserWrite{constructor(i,o,et){this.path=i,this.affectedTree=o,this.revert=et,this.type=OperationType.ACK_USER_WRITE,this.source=newOperationSourceUser()}operationForChild(i){if(pathIsEmpty(this.path)){if(this.affectedTree.value!=null)return assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new Path(i));return new AckUserWrite(newEmptyPath(),o,this.revert)}}else return assert(pathGetFront(this.path)===i,"operationForChild called for unrelated child."),new AckUserWrite(pathPopFront(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ListenComplete{constructor(i,o){this.source=i,this.path=o,this.type=OperationType.LISTEN_COMPLETE}operationForChild(i){return pathIsEmpty(this.path)?new ListenComplete(this.source,newEmptyPath()):new ListenComplete(this.source,pathPopFront(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overwrite{constructor(i,o,et){this.source=i,this.path=o,this.snap=et,this.type=OperationType.OVERWRITE}operationForChild(i){return pathIsEmpty(this.path)?new Overwrite(this.source,newEmptyPath(),this.snap.getImmediateChild(i)):new Overwrite(this.source,pathPopFront(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Merge{constructor(i,o,et){this.source=i,this.path=o,this.children=et,this.type=OperationType.MERGE}operationForChild(i){if(pathIsEmpty(this.path)){const o=this.children.subtree(new Path(i));return o.isEmpty()?null:o.value?new Overwrite(this.source,newEmptyPath(),o.value):new Merge(this.source,newEmptyPath(),o)}else return assert(pathGetFront(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,pathPopFront(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CacheNode{constructor(i,o,et){this.node_=i,this.fullyInitialized_=o,this.filtered_=et}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(pathIsEmpty(i))return this.isFullyInitialized()&&!this.filtered_;const o=pathGetFront(i);return this.isCompleteForChild(o)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventGenerator{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function eventGeneratorGenerateEventsForChanges(s,i,o,et){const $l=[],Nl=[];return i.forEach(Ml=>{Ml.type==="child_changed"&&s.index_.indexedValueChanged(Ml.oldSnap,Ml.snapshotNode)&&Nl.push(changeChildMoved(Ml.childName,Ml.snapshotNode))}),eventGeneratorGenerateEventsForType(s,$l,"child_removed",i,et,o),eventGeneratorGenerateEventsForType(s,$l,"child_added",i,et,o),eventGeneratorGenerateEventsForType(s,$l,"child_moved",Nl,et,o),eventGeneratorGenerateEventsForType(s,$l,"child_changed",i,et,o),eventGeneratorGenerateEventsForType(s,$l,"value",i,et,o),$l}function eventGeneratorGenerateEventsForType(s,i,o,et,$l,Nl){const Ml=et.filter(Ol=>Ol.type===o);Ml.sort((Ol,Ll)=>eventGeneratorCompareChanges(s,Ol,Ll)),Ml.forEach(Ol=>{const Ll=eventGeneratorMaterializeSingleChange(s,Ol,Nl);$l.forEach(Fl=>{Fl.respondsTo(Ol.type)&&i.push(Fl.createEvent(Ll,s.query_))})})}function eventGeneratorMaterializeSingleChange(s,i,o){return i.type==="value"||i.type==="child_removed"||(i.prevName=o.getPredecessorChildName(i.childName,i.snapshotNode,s.index_)),i}function eventGeneratorCompareChanges(s,i,o){if(i.childName==null||o.childName==null)throw assertionError("Should only compare child_ events.");const et=new NamedNode(i.childName,i.snapshotNode),$l=new NamedNode(o.childName,o.snapshotNode);return s.index_.compare(et,$l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewCache(s,i){return{eventCache:s,serverCache:i}}function viewCacheUpdateEventSnap(s,i,o,et){return newViewCache(new CacheNode(i,o,et),s.serverCache)}function viewCacheUpdateServerSnap(s,i,o,et){return newViewCache(s.eventCache,new CacheNode(i,o,et))}function viewCacheGetCompleteEventSnap(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function viewCacheGetCompleteServerSnap(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let emptyChildrenSingleton;const EmptyChildren=()=>(emptyChildrenSingleton||(emptyChildrenSingleton=new SortedMap(stringCompare)),emptyChildrenSingleton);class ImmutableTree{constructor(i,o=EmptyChildren()){this.value=i,this.children=o}static fromObject(i){let o=new ImmutableTree(null);return each(i,(et,$l)=>{o=o.set(new Path(et),$l)}),o}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,o){if(this.value!=null&&o(this.value))return{path:newEmptyPath(),value:this.value};if(pathIsEmpty(i))return null;{const et=pathGetFront(i),$l=this.children.get(et);if($l!==null){const Nl=$l.findRootMostMatchingPathAndValue(pathPopFront(i),o);return Nl!=null?{path:pathChild(new Path(et),Nl.path),value:Nl.value}:null}else return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(pathIsEmpty(i))return this;{const o=pathGetFront(i),et=this.children.get(o);return et!==null?et.subtree(pathPopFront(i)):new ImmutableTree(null)}}set(i,o){if(pathIsEmpty(i))return new ImmutableTree(o,this.children);{const et=pathGetFront(i),Nl=(this.children.get(et)||new ImmutableTree(null)).set(pathPopFront(i),o),Ml=this.children.insert(et,Nl);return new ImmutableTree(this.value,Ml)}}remove(i){if(pathIsEmpty(i))return this.children.isEmpty()?new ImmutableTree(null):new ImmutableTree(null,this.children);{const o=pathGetFront(i),et=this.children.get(o);if(et){const $l=et.remove(pathPopFront(i));let Nl;return $l.isEmpty()?Nl=this.children.remove(o):Nl=this.children.insert(o,$l),this.value===null&&Nl.isEmpty()?new ImmutableTree(null):new ImmutableTree(this.value,Nl)}else return this}}get(i){if(pathIsEmpty(i))return this.value;{const o=pathGetFront(i),et=this.children.get(o);return et?et.get(pathPopFront(i)):null}}setTree(i,o){if(pathIsEmpty(i))return o;{const et=pathGetFront(i),Nl=(this.children.get(et)||new ImmutableTree(null)).setTree(pathPopFront(i),o);let Ml;return Nl.isEmpty()?Ml=this.children.remove(et):Ml=this.children.insert(et,Nl),new ImmutableTree(this.value,Ml)}}fold(i){return this.fold_(newEmptyPath(),i)}fold_(i,o){const et={};return this.children.inorderTraversal(($l,Nl)=>{et[$l]=Nl.fold_(pathChild(i,$l),o)}),o(i,this.value,et)}findOnPath(i,o){return this.findOnPath_(i,newEmptyPath(),o)}findOnPath_(i,o,et){const $l=this.value?et(o,this.value):!1;if($l)return $l;if(pathIsEmpty(i))return null;{const Nl=pathGetFront(i),Ml=this.children.get(Nl);return Ml?Ml.findOnPath_(pathPopFront(i),pathChild(o,Nl),et):null}}foreachOnPath(i,o){return this.foreachOnPath_(i,newEmptyPath(),o)}foreachOnPath_(i,o,et){if(pathIsEmpty(i))return this;{this.value&&et(o,this.value);const $l=pathGetFront(i),Nl=this.children.get($l);return Nl?Nl.foreachOnPath_(pathPopFront(i),pathChild(o,$l),et):new ImmutableTree(null)}}foreach(i){this.foreach_(newEmptyPath(),i)}foreach_(i,o){this.children.inorderTraversal((et,$l)=>{$l.foreach_(pathChild(i,et),o)}),this.value&&o(i,this.value)}foreachChild(i){this.children.inorderTraversal((o,et)=>{et.value&&i(o,et.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CompoundWrite{constructor(i){this.writeTree_=i}static empty(){return new CompoundWrite(new ImmutableTree(null))}}function compoundWriteAddWrite(s,i,o){if(pathIsEmpty(i))return new CompoundWrite(new ImmutableTree(o));{const et=s.writeTree_.findRootMostValueAndPath(i);if(et!=null){const $l=et.path;let Nl=et.value;const Ml=newRelativePath($l,i);return Nl=Nl.updateChild(Ml,o),new CompoundWrite(s.writeTree_.set($l,Nl))}else{const $l=new ImmutableTree(o),Nl=s.writeTree_.setTree(i,$l);return new CompoundWrite(Nl)}}}function compoundWriteAddWrites(s,i,o){let et=s;return each(o,($l,Nl)=>{et=compoundWriteAddWrite(et,pathChild(i,$l),Nl)}),et}function compoundWriteRemoveWrite(s,i){if(pathIsEmpty(i))return CompoundWrite.empty();{const o=s.writeTree_.setTree(i,new ImmutableTree(null));return new CompoundWrite(o)}}function compoundWriteHasCompleteWrite(s,i){return compoundWriteGetCompleteNode(s,i)!=null}function compoundWriteGetCompleteNode(s,i){const o=s.writeTree_.findRootMostValueAndPath(i);return o!=null?s.writeTree_.get(o.path).getChild(newRelativePath(o.path,i)):null}function compoundWriteGetCompleteChildren(s){const i=[],o=s.writeTree_.value;return o!=null?o.isLeafNode()||o.forEachChild(PRIORITY_INDEX,(et,$l)=>{i.push(new NamedNode(et,$l))}):s.writeTree_.children.inorderTraversal((et,$l)=>{$l.value!=null&&i.push(new NamedNode(et,$l.value))}),i}function compoundWriteChildCompoundWrite(s,i){if(pathIsEmpty(i))return s;{const o=compoundWriteGetCompleteNode(s,i);return o!=null?new CompoundWrite(new ImmutableTree(o)):new CompoundWrite(s.writeTree_.subtree(i))}}function compoundWriteIsEmpty(s){return s.writeTree_.isEmpty()}function compoundWriteApply(s,i){return applySubtreeWrite(newEmptyPath(),s.writeTree_,i)}function applySubtreeWrite(s,i,o){if(i.value!=null)return o.updateChild(s,i.value);{let et=null;return i.children.inorderTraversal(($l,Nl)=>{$l===".priority"?(assert(Nl.value!==null,"Priority writes must always be leaf nodes"),et=Nl.value):o=applySubtreeWrite(pathChild(s,$l),Nl,o)}),!o.getChild(s).isEmpty()&&et!==null&&(o=o.updateChild(pathChild(s,".priority"),et)),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeTreeChildWrites(s,i){return newWriteTreeRef(i,s)}function writeTreeAddOverwrite(s,i,o,et,$l){assert(et>s.lastWriteId,"Stacking an older write on top of newer ones"),$l===void 0&&($l=!0),s.allWrites.push({path:i,snap:o,writeId:et,visible:$l}),$l&&(s.visibleWrites=compoundWriteAddWrite(s.visibleWrites,i,o)),s.lastWriteId=et}function writeTreeAddMerge(s,i,o,et){assert(et>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:i,children:o,writeId:et,visible:!0}),s.visibleWrites=compoundWriteAddWrites(s.visibleWrites,i,o),s.lastWriteId=et}function writeTreeGetWrite(s,i){for(let o=0;o<s.allWrites.length;o++){const et=s.allWrites[o];if(et.writeId===i)return et}return null}function writeTreeRemoveWrite(s,i){const o=s.allWrites.findIndex(Ol=>Ol.writeId===i);assert(o>=0,"removeWrite called with nonexistent writeId.");const et=s.allWrites[o];s.allWrites.splice(o,1);let $l=et.visible,Nl=!1,Ml=s.allWrites.length-1;for(;$l&&Ml>=0;){const Ol=s.allWrites[Ml];Ol.visible&&(Ml>=o&&writeTreeRecordContainsPath_(Ol,et.path)?$l=!1:pathContains(et.path,Ol.path)&&(Nl=!0)),Ml--}if($l){if(Nl)return writeTreeResetTree_(s),!0;if(et.snap)s.visibleWrites=compoundWriteRemoveWrite(s.visibleWrites,et.path);else{const Ol=et.children;each(Ol,Ll=>{s.visibleWrites=compoundWriteRemoveWrite(s.visibleWrites,pathChild(et.path,Ll))})}return!0}else return!1}function writeTreeRecordContainsPath_(s,i){if(s.snap)return pathContains(s.path,i);for(const o in s.children)if(s.children.hasOwnProperty(o)&&pathContains(pathChild(s.path,o),i))return!0;return!1}function writeTreeResetTree_(s){s.visibleWrites=writeTreeLayerTree_(s.allWrites,writeTreeDefaultFilter_,newEmptyPath()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function writeTreeDefaultFilter_(s){return s.visible}function writeTreeLayerTree_(s,i,o){let et=CompoundWrite.empty();for(let $l=0;$l<s.length;++$l){const Nl=s[$l];if(i(Nl)){const Ml=Nl.path;let Ol;if(Nl.snap)pathContains(o,Ml)?(Ol=newRelativePath(o,Ml),et=compoundWriteAddWrite(et,Ol,Nl.snap)):pathContains(Ml,o)&&(Ol=newRelativePath(Ml,o),et=compoundWriteAddWrite(et,newEmptyPath(),Nl.snap.getChild(Ol)));else if(Nl.children){if(pathContains(o,Ml))Ol=newRelativePath(o,Ml),et=compoundWriteAddWrites(et,Ol,Nl.children);else if(pathContains(Ml,o))if(Ol=newRelativePath(Ml,o),pathIsEmpty(Ol))et=compoundWriteAddWrites(et,newEmptyPath(),Nl.children);else{const Ll=safeGet(Nl.children,pathGetFront(Ol));if(Ll){const Fl=Ll.getChild(pathPopFront(Ol));et=compoundWriteAddWrite(et,newEmptyPath(),Fl)}}}else throw assertionError("WriteRecord should have .snap or .children")}}return et}function writeTreeCalcCompleteEventCache(s,i,o,et,$l){if(!et&&!$l){const Nl=compoundWriteGetCompleteNode(s.visibleWrites,i);if(Nl!=null)return Nl;{const Ml=compoundWriteChildCompoundWrite(s.visibleWrites,i);if(compoundWriteIsEmpty(Ml))return o;if(o==null&&!compoundWriteHasCompleteWrite(Ml,newEmptyPath()))return null;{const Ol=o||ChildrenNode.EMPTY_NODE;return compoundWriteApply(Ml,Ol)}}}else{const Nl=compoundWriteChildCompoundWrite(s.visibleWrites,i);if(!$l&&compoundWriteIsEmpty(Nl))return o;if(!$l&&o==null&&!compoundWriteHasCompleteWrite(Nl,newEmptyPath()))return null;{const Ml=function(Fl){return(Fl.visible||$l)&&(!et||!~et.indexOf(Fl.writeId))&&(pathContains(Fl.path,i)||pathContains(i,Fl.path))},Ol=writeTreeLayerTree_(s.allWrites,Ml,i),Ll=o||ChildrenNode.EMPTY_NODE;return compoundWriteApply(Ol,Ll)}}}function writeTreeCalcCompleteEventChildren(s,i,o){let et=ChildrenNode.EMPTY_NODE;const $l=compoundWriteGetCompleteNode(s.visibleWrites,i);if($l)return $l.isLeafNode()||$l.forEachChild(PRIORITY_INDEX,(Nl,Ml)=>{et=et.updateImmediateChild(Nl,Ml)}),et;if(o){const Nl=compoundWriteChildCompoundWrite(s.visibleWrites,i);return o.forEachChild(PRIORITY_INDEX,(Ml,Ol)=>{const Ll=compoundWriteApply(compoundWriteChildCompoundWrite(Nl,new Path(Ml)),Ol);et=et.updateImmediateChild(Ml,Ll)}),compoundWriteGetCompleteChildren(Nl).forEach(Ml=>{et=et.updateImmediateChild(Ml.name,Ml.node)}),et}else{const Nl=compoundWriteChildCompoundWrite(s.visibleWrites,i);return compoundWriteGetCompleteChildren(Nl).forEach(Ml=>{et=et.updateImmediateChild(Ml.name,Ml.node)}),et}}function writeTreeCalcEventCacheAfterServerOverwrite(s,i,o,et,$l){assert(et||$l,"Either existingEventSnap or existingServerSnap must exist");const Nl=pathChild(i,o);if(compoundWriteHasCompleteWrite(s.visibleWrites,Nl))return null;{const Ml=compoundWriteChildCompoundWrite(s.visibleWrites,Nl);return compoundWriteIsEmpty(Ml)?$l.getChild(o):compoundWriteApply(Ml,$l.getChild(o))}}function writeTreeCalcCompleteChild(s,i,o,et){const $l=pathChild(i,o),Nl=compoundWriteGetCompleteNode(s.visibleWrites,$l);if(Nl!=null)return Nl;if(et.isCompleteForChild(o)){const Ml=compoundWriteChildCompoundWrite(s.visibleWrites,$l);return compoundWriteApply(Ml,et.getNode().getImmediateChild(o))}else return null}function writeTreeShadowingWrite(s,i){return compoundWriteGetCompleteNode(s.visibleWrites,i)}function writeTreeCalcIndexedSlice(s,i,o,et,$l,Nl,Ml){let Ol;const Ll=compoundWriteChildCompoundWrite(s.visibleWrites,i),Fl=compoundWriteGetCompleteNode(Ll,newEmptyPath());if(Fl!=null)Ol=Fl;else if(o!=null)Ol=compoundWriteApply(Ll,o);else return[];if(Ol=Ol.withIndex(Ml),!Ol.isEmpty()&&!Ol.isLeafNode()){const Bl=[],Ul=Ml.getCompare(),Gl=Nl?Ol.getReverseIteratorFrom(et,Ml):Ol.getIteratorFrom(et,Ml);let Wl=Gl.getNext();for(;Wl&&Bl.length<$l;)Ul(Wl,et)!==0&&Bl.push(Wl),Wl=Gl.getNext();return Bl}else return[]}function newWriteTree(){return{visibleWrites:CompoundWrite.empty(),allWrites:[],lastWriteId:-1}}function writeTreeRefCalcCompleteEventCache(s,i,o,et){return writeTreeCalcCompleteEventCache(s.writeTree,s.treePath,i,o,et)}function writeTreeRefCalcCompleteEventChildren(s,i){return writeTreeCalcCompleteEventChildren(s.writeTree,s.treePath,i)}function writeTreeRefCalcEventCacheAfterServerOverwrite(s,i,o,et){return writeTreeCalcEventCacheAfterServerOverwrite(s.writeTree,s.treePath,i,o,et)}function writeTreeRefShadowingWrite(s,i){return writeTreeShadowingWrite(s.writeTree,pathChild(s.treePath,i))}function writeTreeRefCalcIndexedSlice(s,i,o,et,$l,Nl){return writeTreeCalcIndexedSlice(s.writeTree,s.treePath,i,o,et,$l,Nl)}function writeTreeRefCalcCompleteChild(s,i,o){return writeTreeCalcCompleteChild(s.writeTree,s.treePath,i,o)}function writeTreeRefChild(s,i){return newWriteTreeRef(pathChild(s.treePath,i),s.writeTree)}function newWriteTreeRef(s,i){return{treePath:s,writeTree:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ChildChangeAccumulator{constructor(){this.changeMap=new Map}trackChildChange(i){const o=i.type,et=i.childName;assert(o==="child_added"||o==="child_changed"||o==="child_removed","Only child changes supported for tracking"),assert(et!==".priority","Only non-priority child changes can be tracked.");const $l=this.changeMap.get(et);if($l){const Nl=$l.type;if(o==="child_added"&&Nl==="child_removed")this.changeMap.set(et,changeChildChanged(et,i.snapshotNode,$l.snapshotNode));else if(o==="child_removed"&&Nl==="child_added")this.changeMap.delete(et);else if(o==="child_removed"&&Nl==="child_changed")this.changeMap.set(et,changeChildRemoved(et,$l.oldSnap));else if(o==="child_changed"&&Nl==="child_added")this.changeMap.set(et,changeChildAdded(et,i.snapshotNode));else if(o==="child_changed"&&Nl==="child_changed")this.changeMap.set(et,changeChildChanged(et,i.snapshotNode,$l.oldSnap));else throw assertionError("Illegal combination of changes: "+i+" occurred after "+$l)}else this.changeMap.set(et,i)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NoCompleteChildSource_{getCompleteChild(i){return null}getChildAfterChild(i,o,et){return null}}const NO_COMPLETE_CHILD_SOURCE=new NoCompleteChildSource_;class WriteTreeCompleteChildSource{constructor(i,o,et=null){this.writes_=i,this.viewCache_=o,this.optCompleteServerCache_=et}getCompleteChild(i){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(i))return o.getNode().getImmediateChild(i);{const et=this.optCompleteServerCache_!=null?new CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return writeTreeRefCalcCompleteChild(this.writes_,i,et)}}getChildAfterChild(i,o,et){const $l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:viewCacheGetCompleteServerSnap(this.viewCache_),Nl=writeTreeRefCalcIndexedSlice(this.writes_,$l,o,1,et,i);return Nl.length===0?null:Nl[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewProcessor(s){return{filter:s}}function viewProcessorAssertIndexed(s,i){assert(i.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),assert(i.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function viewProcessorApplyOperation(s,i,o,et,$l){const Nl=new ChildChangeAccumulator;let Ml,Ol;if(o.type===OperationType.OVERWRITE){const Fl=o;Fl.source.fromUser?Ml=viewProcessorApplyUserOverwrite(s,i,Fl.path,Fl.snap,et,$l,Nl):(assert(Fl.source.fromServer,"Unknown source."),Ol=Fl.source.tagged||i.serverCache.isFiltered()&&!pathIsEmpty(Fl.path),Ml=viewProcessorApplyServerOverwrite(s,i,Fl.path,Fl.snap,et,$l,Ol,Nl))}else if(o.type===OperationType.MERGE){const Fl=o;Fl.source.fromUser?Ml=viewProcessorApplyUserMerge(s,i,Fl.path,Fl.children,et,$l,Nl):(assert(Fl.source.fromServer,"Unknown source."),Ol=Fl.source.tagged||i.serverCache.isFiltered(),Ml=viewProcessorApplyServerMerge(s,i,Fl.path,Fl.children,et,$l,Ol,Nl))}else if(o.type===OperationType.ACK_USER_WRITE){const Fl=o;Fl.revert?Ml=viewProcessorRevertUserWrite(s,i,Fl.path,et,$l,Nl):Ml=viewProcessorAckUserWrite(s,i,Fl.path,Fl.affectedTree,et,$l,Nl)}else if(o.type===OperationType.LISTEN_COMPLETE)Ml=viewProcessorListenComplete(s,i,o.path,et,Nl);else throw assertionError("Unknown operation type: "+o.type);const Ll=Nl.getChanges();return viewProcessorMaybeAddValueEvent(i,Ml,Ll),{viewCache:Ml,changes:Ll}}function viewProcessorMaybeAddValueEvent(s,i,o){const et=i.eventCache;if(et.isFullyInitialized()){const $l=et.getNode().isLeafNode()||et.getNode().isEmpty(),Nl=viewCacheGetCompleteEventSnap(s);(o.length>0||!s.eventCache.isFullyInitialized()||$l&&!et.getNode().equals(Nl)||!et.getNode().getPriority().equals(Nl.getPriority()))&&o.push(changeValue(viewCacheGetCompleteEventSnap(i)))}}function viewProcessorGenerateEventCacheAfterServerEvent(s,i,o,et,$l,Nl){const Ml=i.eventCache;if(writeTreeRefShadowingWrite(et,o)!=null)return i;{let Ol,Ll;if(pathIsEmpty(o))if(assert(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const Fl=viewCacheGetCompleteServerSnap(i),Bl=Fl instanceof ChildrenNode?Fl:ChildrenNode.EMPTY_NODE,Ul=writeTreeRefCalcCompleteEventChildren(et,Bl);Ol=s.filter.updateFullNode(i.eventCache.getNode(),Ul,Nl)}else{const Fl=writeTreeRefCalcCompleteEventCache(et,viewCacheGetCompleteServerSnap(i));Ol=s.filter.updateFullNode(i.eventCache.getNode(),Fl,Nl)}else{const Fl=pathGetFront(o);if(Fl===".priority"){assert(pathGetLength(o)===1,"Can't have a priority with additional path components");const Bl=Ml.getNode();Ll=i.serverCache.getNode();const Ul=writeTreeRefCalcEventCacheAfterServerOverwrite(et,o,Bl,Ll);Ul!=null?Ol=s.filter.updatePriority(Bl,Ul):Ol=Ml.getNode()}else{const Bl=pathPopFront(o);let Ul;if(Ml.isCompleteForChild(Fl)){Ll=i.serverCache.getNode();const Gl=writeTreeRefCalcEventCacheAfterServerOverwrite(et,o,Ml.getNode(),Ll);Gl!=null?Ul=Ml.getNode().getImmediateChild(Fl).updateChild(Bl,Gl):Ul=Ml.getNode().getImmediateChild(Fl)}else Ul=writeTreeRefCalcCompleteChild(et,Fl,i.serverCache);Ul!=null?Ol=s.filter.updateChild(Ml.getNode(),Fl,Ul,Bl,$l,Nl):Ol=Ml.getNode()}}return viewCacheUpdateEventSnap(i,Ol,Ml.isFullyInitialized()||pathIsEmpty(o),s.filter.filtersNodes())}}function viewProcessorApplyServerOverwrite(s,i,o,et,$l,Nl,Ml,Ol){const Ll=i.serverCache;let Fl;const Bl=Ml?s.filter:s.filter.getIndexedFilter();if(pathIsEmpty(o))Fl=Bl.updateFullNode(Ll.getNode(),et,null);else if(Bl.filtersNodes()&&!Ll.isFiltered()){const Wl=Ll.getNode().updateChild(o,et);Fl=Bl.updateFullNode(Ll.getNode(),Wl,null)}else{const Wl=pathGetFront(o);if(!Ll.isCompleteForPath(o)&&pathGetLength(o)>1)return i;const zl=pathPopFront(o),Jl=Ll.getNode().getImmediateChild(Wl).updateChild(zl,et);Wl===".priority"?Fl=Bl.updatePriority(Ll.getNode(),Jl):Fl=Bl.updateChild(Ll.getNode(),Wl,Jl,zl,NO_COMPLETE_CHILD_SOURCE,null)}const Ul=viewCacheUpdateServerSnap(i,Fl,Ll.isFullyInitialized()||pathIsEmpty(o),Bl.filtersNodes()),Gl=new WriteTreeCompleteChildSource($l,Ul,Nl);return viewProcessorGenerateEventCacheAfterServerEvent(s,Ul,o,$l,Gl,Ol)}function viewProcessorApplyUserOverwrite(s,i,o,et,$l,Nl,Ml){const Ol=i.eventCache;let Ll,Fl;const Bl=new WriteTreeCompleteChildSource($l,i,Nl);if(pathIsEmpty(o))Fl=s.filter.updateFullNode(i.eventCache.getNode(),et,Ml),Ll=viewCacheUpdateEventSnap(i,Fl,!0,s.filter.filtersNodes());else{const Ul=pathGetFront(o);if(Ul===".priority")Fl=s.filter.updatePriority(i.eventCache.getNode(),et),Ll=viewCacheUpdateEventSnap(i,Fl,Ol.isFullyInitialized(),Ol.isFiltered());else{const Gl=pathPopFront(o),Wl=Ol.getNode().getImmediateChild(Ul);let zl;if(pathIsEmpty(Gl))zl=et;else{const Ql=Bl.getCompleteChild(Ul);Ql!=null?pathGetBack(Gl)===".priority"&&Ql.getChild(pathParent(Gl)).isEmpty()?zl=Ql:zl=Ql.updateChild(Gl,et):zl=ChildrenNode.EMPTY_NODE}if(Wl.equals(zl))Ll=i;else{const Ql=s.filter.updateChild(Ol.getNode(),Ul,zl,Gl,Bl,Ml);Ll=viewCacheUpdateEventSnap(i,Ql,Ol.isFullyInitialized(),s.filter.filtersNodes())}}}return Ll}function viewProcessorCacheHasChild(s,i){return s.eventCache.isCompleteForChild(i)}function viewProcessorApplyUserMerge(s,i,o,et,$l,Nl,Ml){let Ol=i;return et.foreach((Ll,Fl)=>{const Bl=pathChild(o,Ll);viewProcessorCacheHasChild(i,pathGetFront(Bl))&&(Ol=viewProcessorApplyUserOverwrite(s,Ol,Bl,Fl,$l,Nl,Ml))}),et.foreach((Ll,Fl)=>{const Bl=pathChild(o,Ll);viewProcessorCacheHasChild(i,pathGetFront(Bl))||(Ol=viewProcessorApplyUserOverwrite(s,Ol,Bl,Fl,$l,Nl,Ml))}),Ol}function viewProcessorApplyMerge(s,i,o){return o.foreach((et,$l)=>{i=i.updateChild(et,$l)}),i}function viewProcessorApplyServerMerge(s,i,o,et,$l,Nl,Ml,Ol){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let Ll=i,Fl;pathIsEmpty(o)?Fl=et:Fl=new ImmutableTree(null).setTree(o,et);const Bl=i.serverCache.getNode();return Fl.children.inorderTraversal((Ul,Gl)=>{if(Bl.hasChild(Ul)){const Wl=i.serverCache.getNode().getImmediateChild(Ul),zl=viewProcessorApplyMerge(s,Wl,Gl);Ll=viewProcessorApplyServerOverwrite(s,Ll,new Path(Ul),zl,$l,Nl,Ml,Ol)}}),Fl.children.inorderTraversal((Ul,Gl)=>{const Wl=!i.serverCache.isCompleteForChild(Ul)&&Gl.value===void 0;if(!Bl.hasChild(Ul)&&!Wl){const zl=i.serverCache.getNode().getImmediateChild(Ul),Ql=viewProcessorApplyMerge(s,zl,Gl);Ll=viewProcessorApplyServerOverwrite(s,Ll,new Path(Ul),Ql,$l,Nl,Ml,Ol)}}),Ll}function viewProcessorAckUserWrite(s,i,o,et,$l,Nl,Ml){if(writeTreeRefShadowingWrite($l,o)!=null)return i;const Ol=i.serverCache.isFiltered(),Ll=i.serverCache;if(et.value!=null){if(pathIsEmpty(o)&&Ll.isFullyInitialized()||Ll.isCompleteForPath(o))return viewProcessorApplyServerOverwrite(s,i,o,Ll.getNode().getChild(o),$l,Nl,Ol,Ml);if(pathIsEmpty(o)){let Fl=new ImmutableTree(null);return Ll.getNode().forEachChild(KEY_INDEX,(Bl,Ul)=>{Fl=Fl.set(new Path(Bl),Ul)}),viewProcessorApplyServerMerge(s,i,o,Fl,$l,Nl,Ol,Ml)}else return i}else{let Fl=new ImmutableTree(null);return et.foreach((Bl,Ul)=>{const Gl=pathChild(o,Bl);Ll.isCompleteForPath(Gl)&&(Fl=Fl.set(Bl,Ll.getNode().getChild(Gl)))}),viewProcessorApplyServerMerge(s,i,o,Fl,$l,Nl,Ol,Ml)}}function viewProcessorListenComplete(s,i,o,et,$l){const Nl=i.serverCache,Ml=viewCacheUpdateServerSnap(i,Nl.getNode(),Nl.isFullyInitialized()||pathIsEmpty(o),Nl.isFiltered());return viewProcessorGenerateEventCacheAfterServerEvent(s,Ml,o,et,NO_COMPLETE_CHILD_SOURCE,$l)}function viewProcessorRevertUserWrite(s,i,o,et,$l,Nl){let Ml;if(writeTreeRefShadowingWrite(et,o)!=null)return i;{const Ol=new WriteTreeCompleteChildSource(et,i,$l),Ll=i.eventCache.getNode();let Fl;if(pathIsEmpty(o)||pathGetFront(o)===".priority"){let Bl;if(i.serverCache.isFullyInitialized())Bl=writeTreeRefCalcCompleteEventCache(et,viewCacheGetCompleteServerSnap(i));else{const Ul=i.serverCache.getNode();assert(Ul instanceof ChildrenNode,"serverChildren would be complete if leaf node"),Bl=writeTreeRefCalcCompleteEventChildren(et,Ul)}Bl=Bl,Fl=s.filter.updateFullNode(Ll,Bl,Nl)}else{const Bl=pathGetFront(o);let Ul=writeTreeRefCalcCompleteChild(et,Bl,i.serverCache);Ul==null&&i.serverCache.isCompleteForChild(Bl)&&(Ul=Ll.getImmediateChild(Bl)),Ul!=null?Fl=s.filter.updateChild(Ll,Bl,Ul,pathPopFront(o),Ol,Nl):i.eventCache.getNode().hasChild(Bl)?Fl=s.filter.updateChild(Ll,Bl,ChildrenNode.EMPTY_NODE,pathPopFront(o),Ol,Nl):Fl=Ll,Fl.isEmpty()&&i.serverCache.isFullyInitialized()&&(Ml=writeTreeRefCalcCompleteEventCache(et,viewCacheGetCompleteServerSnap(i)),Ml.isLeafNode()&&(Fl=s.filter.updateFullNode(Fl,Ml,Nl)))}return Ml=i.serverCache.isFullyInitialized()||writeTreeRefShadowingWrite(et,newEmptyPath())!=null,viewCacheUpdateEventSnap(i,Fl,Ml,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class View{constructor(i,o){this.query_=i,this.eventRegistrations_=[];const et=this.query_._queryParams,$l=new IndexedFilter(et.getIndex()),Nl=queryParamsGetNodeFilter(et);this.processor_=newViewProcessor(Nl);const Ml=o.serverCache,Ol=o.eventCache,Ll=$l.updateFullNode(ChildrenNode.EMPTY_NODE,Ml.getNode(),null),Fl=Nl.updateFullNode(ChildrenNode.EMPTY_NODE,Ol.getNode(),null),Bl=new CacheNode(Ll,Ml.isFullyInitialized(),$l.filtersNodes()),Ul=new CacheNode(Fl,Ol.isFullyInitialized(),Nl.filtersNodes());this.viewCache_=newViewCache(Ul,Bl),this.eventGenerator_=new EventGenerator(this.query_)}get query(){return this.query_}}function viewGetServerCache(s){return s.viewCache_.serverCache.getNode()}function viewGetCompleteNode(s){return viewCacheGetCompleteEventSnap(s.viewCache_)}function viewGetCompleteServerCache(s,i){const o=viewCacheGetCompleteServerSnap(s.viewCache_);return o&&(s.query._queryParams.loadsAllData()||!pathIsEmpty(i)&&!o.getImmediateChild(pathGetFront(i)).isEmpty())?o.getChild(i):null}function viewIsEmpty(s){return s.eventRegistrations_.length===0}function viewAddEventRegistration(s,i){s.eventRegistrations_.push(i)}function viewRemoveEventRegistration(s,i,o){const et=[];if(o){assert(i==null,"A cancel should cancel all event registrations.");const $l=s.query._path;s.eventRegistrations_.forEach(Nl=>{const Ml=Nl.createCancelEvent(o,$l);Ml&&et.push(Ml)})}if(i){let $l=[];for(let Nl=0;Nl<s.eventRegistrations_.length;++Nl){const Ml=s.eventRegistrations_[Nl];if(!Ml.matches(i))$l.push(Ml);else if(i.hasAnyCallback()){$l=$l.concat(s.eventRegistrations_.slice(Nl+1));break}}s.eventRegistrations_=$l}else s.eventRegistrations_=[];return et}function viewApplyOperation(s,i,o,et){i.type===OperationType.MERGE&&i.source.queryId!==null&&(assert(viewCacheGetCompleteServerSnap(s.viewCache_),"We should always have a full cache before handling merges"),assert(viewCacheGetCompleteEventSnap(s.viewCache_),"Missing event cache, even though we have a server cache"));const $l=s.viewCache_,Nl=viewProcessorApplyOperation(s.processor_,$l,i,o,et);return viewProcessorAssertIndexed(s.processor_,Nl.viewCache),assert(Nl.viewCache.serverCache.isFullyInitialized()||!$l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=Nl.viewCache,viewGenerateEventsForChanges_(s,Nl.changes,Nl.viewCache.eventCache.getNode(),null)}function viewGetInitialEvents(s,i){const o=s.viewCache_.eventCache,et=[];return o.getNode().isLeafNode()||o.getNode().forEachChild(PRIORITY_INDEX,(Nl,Ml)=>{et.push(changeChildAdded(Nl,Ml))}),o.isFullyInitialized()&&et.push(changeValue(o.getNode())),viewGenerateEventsForChanges_(s,et,o.getNode(),i)}function viewGenerateEventsForChanges_(s,i,o,et){const $l=et?[et]:s.eventRegistrations_;return eventGeneratorGenerateEventsForChanges(s.eventGenerator_,i,o,$l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor$1;class SyncPoint{constructor(){this.views=new Map}}function syncPointSetReferenceConstructor(s){assert(!referenceConstructor$1,"__referenceConstructor has already been defined"),referenceConstructor$1=s}function syncPointGetReferenceConstructor(){return assert(referenceConstructor$1,"Reference.ts has not been loaded"),referenceConstructor$1}function syncPointIsEmpty(s){return s.views.size===0}function syncPointApplyOperation(s,i,o,et){const $l=i.source.queryId;if($l!==null){const Nl=s.views.get($l);return assert(Nl!=null,"SyncTree gave us an op for an invalid query."),viewApplyOperation(Nl,i,o,et)}else{let Nl=[];for(const Ml of s.views.values())Nl=Nl.concat(viewApplyOperation(Ml,i,o,et));return Nl}}function syncPointGetView(s,i,o,et,$l){const Nl=i._queryIdentifier,Ml=s.views.get(Nl);if(!Ml){let Ol=writeTreeRefCalcCompleteEventCache(o,$l?et:null),Ll=!1;Ol?Ll=!0:et instanceof ChildrenNode?(Ol=writeTreeRefCalcCompleteEventChildren(o,et),Ll=!1):(Ol=ChildrenNode.EMPTY_NODE,Ll=!1);const Fl=newViewCache(new CacheNode(Ol,Ll,!1),new CacheNode(et,$l,!1));return new View(i,Fl)}return Ml}function syncPointAddEventRegistration(s,i,o,et,$l,Nl){const Ml=syncPointGetView(s,i,et,$l,Nl);return s.views.has(i._queryIdentifier)||s.views.set(i._queryIdentifier,Ml),viewAddEventRegistration(Ml,o),viewGetInitialEvents(Ml,o)}function syncPointRemoveEventRegistration(s,i,o,et){const $l=i._queryIdentifier,Nl=[];let Ml=[];const Ol=syncPointHasCompleteView(s);if($l==="default")for(const[Ll,Fl]of s.views.entries())Ml=Ml.concat(viewRemoveEventRegistration(Fl,o,et)),viewIsEmpty(Fl)&&(s.views.delete(Ll),Fl.query._queryParams.loadsAllData()||Nl.push(Fl.query));else{const Ll=s.views.get($l);Ll&&(Ml=Ml.concat(viewRemoveEventRegistration(Ll,o,et)),viewIsEmpty(Ll)&&(s.views.delete($l),Ll.query._queryParams.loadsAllData()||Nl.push(Ll.query)))}return Ol&&!syncPointHasCompleteView(s)&&Nl.push(new(syncPointGetReferenceConstructor())(i._repo,i._path)),{removed:Nl,events:Ml}}function syncPointGetQueryViews(s){const i=[];for(const o of s.views.values())o.query._queryParams.loadsAllData()||i.push(o);return i}function syncPointGetCompleteServerCache(s,i){let o=null;for(const et of s.views.values())o=o||viewGetCompleteServerCache(et,i);return o}function syncPointViewForQuery(s,i){if(i._queryParams.loadsAllData())return syncPointGetCompleteView(s);{const et=i._queryIdentifier;return s.views.get(et)}}function syncPointViewExistsForQuery(s,i){return syncPointViewForQuery(s,i)!=null}function syncPointHasCompleteView(s){return syncPointGetCompleteView(s)!=null}function syncPointGetCompleteView(s){for(const i of s.views.values())if(i.query._queryParams.loadsAllData())return i;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor;function syncTreeSetReferenceConstructor(s){assert(!referenceConstructor,"__referenceConstructor has already been defined"),referenceConstructor=s}function syncTreeGetReferenceConstructor(){return assert(referenceConstructor,"Reference.ts has not been loaded"),referenceConstructor}let syncTreeNextQueryTag_=1;class SyncTree{constructor(i){this.listenProvider_=i,this.syncPointTree_=new ImmutableTree(null),this.pendingWriteTree_=newWriteTree(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function syncTreeApplyUserOverwrite(s,i,o,et,$l){return writeTreeAddOverwrite(s.pendingWriteTree_,i,o,et,$l),$l?syncTreeApplyOperationToSyncPoints_(s,new Overwrite(newOperationSourceUser(),i,o)):[]}function syncTreeApplyUserMerge(s,i,o,et){writeTreeAddMerge(s.pendingWriteTree_,i,o,et);const $l=ImmutableTree.fromObject(o);return syncTreeApplyOperationToSyncPoints_(s,new Merge(newOperationSourceUser(),i,$l))}function syncTreeAckUserWrite(s,i,o=!1){const et=writeTreeGetWrite(s.pendingWriteTree_,i);if(writeTreeRemoveWrite(s.pendingWriteTree_,i)){let Nl=new ImmutableTree(null);return et.snap!=null?Nl=Nl.set(newEmptyPath(),!0):each(et.children,Ml=>{Nl=Nl.set(new Path(Ml),!0)}),syncTreeApplyOperationToSyncPoints_(s,new AckUserWrite(et.path,Nl,o))}else return[]}function syncTreeApplyServerOverwrite(s,i,o){return syncTreeApplyOperationToSyncPoints_(s,new Overwrite(newOperationSourceServer(),i,o))}function syncTreeApplyServerMerge(s,i,o){const et=ImmutableTree.fromObject(o);return syncTreeApplyOperationToSyncPoints_(s,new Merge(newOperationSourceServer(),i,et))}function syncTreeApplyListenComplete(s,i){return syncTreeApplyOperationToSyncPoints_(s,new ListenComplete(newOperationSourceServer(),i))}function syncTreeApplyTaggedListenComplete(s,i,o){const et=syncTreeQueryKeyForTag_(s,o);if(et){const $l=syncTreeParseQueryKey_(et),Nl=$l.path,Ml=$l.queryId,Ol=newRelativePath(Nl,i),Ll=new ListenComplete(newOperationSourceServerTaggedQuery(Ml),Ol);return syncTreeApplyTaggedOperation_(s,Nl,Ll)}else return[]}function syncTreeRemoveEventRegistration(s,i,o,et){const $l=i._path,Nl=s.syncPointTree_.get($l);let Ml=[];if(Nl&&(i._queryIdentifier==="default"||syncPointViewExistsForQuery(Nl,i))){const Ol=syncPointRemoveEventRegistration(Nl,i,o,et);syncPointIsEmpty(Nl)&&(s.syncPointTree_=s.syncPointTree_.remove($l));const Ll=Ol.removed;Ml=Ol.events;const Fl=Ll.findIndex(Ul=>Ul._queryParams.loadsAllData())!==-1,Bl=s.syncPointTree_.findOnPath($l,(Ul,Gl)=>syncPointHasCompleteView(Gl));if(Fl&&!Bl){const Ul=s.syncPointTree_.subtree($l);if(!Ul.isEmpty()){const Gl=syncTreeCollectDistinctViewsForSubTree_(Ul);for(let Wl=0;Wl<Gl.length;++Wl){const zl=Gl[Wl],Ql=zl.query,Jl=syncTreeCreateListenerForView_(s,zl);s.listenProvider_.startListening(syncTreeQueryForListening_(Ql),syncTreeTagForQuery_(s,Ql),Jl.hashFn,Jl.onComplete)}}}!Bl&&Ll.length>0&&!et&&(Fl?s.listenProvider_.stopListening(syncTreeQueryForListening_(i),null):Ll.forEach(Ul=>{const Gl=s.queryToTagMap.get(syncTreeMakeQueryKey_(Ul));s.listenProvider_.stopListening(syncTreeQueryForListening_(Ul),Gl)})),syncTreeRemoveTags_(s,Ll)}return Ml}function syncTreeRegisterQuery(s,i){const{syncPoint:o,serverCache:et,writesCache:$l,serverCacheComplete:Nl}=syncTreeRegisterSyncPoint(i,s),Ml=syncPointGetView(o,i,$l,et,Nl);return o.views.has(i._queryIdentifier)||o.views.set(i._queryIdentifier,Ml),i._queryParams.loadsAllData()?null:syncTreeTagForQuery_(s,i)}function syncTreeApplyTaggedQueryOverwrite(s,i,o,et){const $l=syncTreeQueryKeyForTag_(s,et);if($l!=null){const Nl=syncTreeParseQueryKey_($l),Ml=Nl.path,Ol=Nl.queryId,Ll=newRelativePath(Ml,i),Fl=new Overwrite(newOperationSourceServerTaggedQuery(Ol),Ll,o);return syncTreeApplyTaggedOperation_(s,Ml,Fl)}else return[]}function syncTreeApplyTaggedQueryMerge(s,i,o,et){const $l=syncTreeQueryKeyForTag_(s,et);if($l){const Nl=syncTreeParseQueryKey_($l),Ml=Nl.path,Ol=Nl.queryId,Ll=newRelativePath(Ml,i),Fl=ImmutableTree.fromObject(o),Bl=new Merge(newOperationSourceServerTaggedQuery(Ol),Ll,Fl);return syncTreeApplyTaggedOperation_(s,Ml,Bl)}else return[]}function syncTreeRegisterSyncPoint(s,i){const o=s._path;let et=null,$l=!1;i.syncPointTree_.foreachOnPath(o,(Fl,Bl)=>{const Ul=newRelativePath(Fl,o);et=et||syncPointGetCompleteServerCache(Bl,Ul),$l=$l||syncPointHasCompleteView(Bl)});let Nl=i.syncPointTree_.get(o);Nl?($l=$l||syncPointHasCompleteView(Nl),et=et||syncPointGetCompleteServerCache(Nl,newEmptyPath())):(Nl=new SyncPoint,i.syncPointTree_=i.syncPointTree_.set(o,Nl));let Ml;et!=null?Ml=!0:(Ml=!1,et=ChildrenNode.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((Bl,Ul)=>{const Gl=syncPointGetCompleteServerCache(Ul,newEmptyPath());Gl&&(et=et.updateImmediateChild(Bl,Gl))}));const Ol=syncPointViewExistsForQuery(Nl,s);if(!Ol&&!s._queryParams.loadsAllData()){const Fl=syncTreeMakeQueryKey_(s);assert(!i.queryToTagMap.has(Fl),"View does not exist, but we have a tag");const Bl=syncTreeGetNextQueryTag_();i.queryToTagMap.set(Fl,Bl),i.tagToQueryMap.set(Bl,Fl)}const Ll=writeTreeChildWrites(i.pendingWriteTree_,o);return{syncPoint:Nl,writesCache:Ll,serverCache:et,serverCacheComplete:Ml,foundAncestorDefaultView:$l,viewAlreadyExists:Ol}}function syncTreeAddEventRegistration(s,i,o){const{syncPoint:et,serverCache:$l,writesCache:Nl,serverCacheComplete:Ml,viewAlreadyExists:Ol,foundAncestorDefaultView:Ll}=syncTreeRegisterSyncPoint(i,s);let Fl=syncPointAddEventRegistration(et,i,o,Nl,$l,Ml);if(!Ol&&!Ll){const Bl=syncPointViewForQuery(et,i);Fl=Fl.concat(syncTreeSetupListener_(s,i,Bl))}return Fl}function syncTreeCalcCompleteEventCache(s,i,o){const $l=s.pendingWriteTree_,Nl=s.syncPointTree_.findOnPath(i,(Ml,Ol)=>{const Ll=newRelativePath(Ml,i),Fl=syncPointGetCompleteServerCache(Ol,Ll);if(Fl)return Fl});return writeTreeCalcCompleteEventCache($l,i,Nl,o,!0)}function syncTreeGetServerValue(s,i){const o=i._path;let et=null;s.syncPointTree_.foreachOnPath(o,(Fl,Bl)=>{const Ul=newRelativePath(Fl,o);et=et||syncPointGetCompleteServerCache(Bl,Ul)});let $l=s.syncPointTree_.get(o);$l?et=et||syncPointGetCompleteServerCache($l,newEmptyPath()):($l=new SyncPoint,s.syncPointTree_=s.syncPointTree_.set(o,$l));const Nl=et!=null,Ml=Nl?new CacheNode(et,!0,!1):null,Ol=writeTreeChildWrites(s.pendingWriteTree_,i._path),Ll=syncPointGetView($l,i,Ol,Nl?Ml.getNode():ChildrenNode.EMPTY_NODE,Nl);return viewGetCompleteNode(Ll)}function syncTreeApplyOperationToSyncPoints_(s,i){return syncTreeApplyOperationHelper_(i,s.syncPointTree_,null,writeTreeChildWrites(s.pendingWriteTree_,newEmptyPath()))}function syncTreeApplyOperationHelper_(s,i,o,et){if(pathIsEmpty(s.path))return syncTreeApplyOperationDescendantsHelper_(s,i,o,et);{const $l=i.get(newEmptyPath());o==null&&$l!=null&&(o=syncPointGetCompleteServerCache($l,newEmptyPath()));let Nl=[];const Ml=pathGetFront(s.path),Ol=s.operationForChild(Ml),Ll=i.children.get(Ml);if(Ll&&Ol){const Fl=o?o.getImmediateChild(Ml):null,Bl=writeTreeRefChild(et,Ml);Nl=Nl.concat(syncTreeApplyOperationHelper_(Ol,Ll,Fl,Bl))}return $l&&(Nl=Nl.concat(syncPointApplyOperation($l,s,et,o))),Nl}}function syncTreeApplyOperationDescendantsHelper_(s,i,o,et){const $l=i.get(newEmptyPath());o==null&&$l!=null&&(o=syncPointGetCompleteServerCache($l,newEmptyPath()));let Nl=[];return i.children.inorderTraversal((Ml,Ol)=>{const Ll=o?o.getImmediateChild(Ml):null,Fl=writeTreeRefChild(et,Ml),Bl=s.operationForChild(Ml);Bl&&(Nl=Nl.concat(syncTreeApplyOperationDescendantsHelper_(Bl,Ol,Ll,Fl)))}),$l&&(Nl=Nl.concat(syncPointApplyOperation($l,s,et,o))),Nl}function syncTreeCreateListenerForView_(s,i){const o=i.query,et=syncTreeTagForQuery_(s,o);return{hashFn:()=>(viewGetServerCache(i)||ChildrenNode.EMPTY_NODE).hash(),onComplete:$l=>{if($l==="ok")return et?syncTreeApplyTaggedListenComplete(s,o._path,et):syncTreeApplyListenComplete(s,o._path);{const Nl=errorForServerCode($l,o);return syncTreeRemoveEventRegistration(s,o,null,Nl)}}}}function syncTreeTagForQuery_(s,i){const o=syncTreeMakeQueryKey_(i);return s.queryToTagMap.get(o)}function syncTreeMakeQueryKey_(s){return s._path.toString()+"$"+s._queryIdentifier}function syncTreeQueryKeyForTag_(s,i){return s.tagToQueryMap.get(i)}function syncTreeParseQueryKey_(s){const i=s.indexOf("$");return assert(i!==-1&&i<s.length-1,"Bad queryKey."),{queryId:s.substr(i+1),path:new Path(s.substr(0,i))}}function syncTreeApplyTaggedOperation_(s,i,o){const et=s.syncPointTree_.get(i);assert(et,"Missing sync point for query tag that we're tracking");const $l=writeTreeChildWrites(s.pendingWriteTree_,i);return syncPointApplyOperation(et,o,$l,null)}function syncTreeCollectDistinctViewsForSubTree_(s){return s.fold((i,o,et)=>{if(o&&syncPointHasCompleteView(o))return[syncPointGetCompleteView(o)];{let $l=[];return o&&($l=syncPointGetQueryViews(o)),each(et,(Nl,Ml)=>{$l=$l.concat(Ml)}),$l}})}function syncTreeQueryForListening_(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(syncTreeGetReferenceConstructor())(s._repo,s._path):s}function syncTreeRemoveTags_(s,i){for(let o=0;o<i.length;++o){const et=i[o];if(!et._queryParams.loadsAllData()){const $l=syncTreeMakeQueryKey_(et),Nl=s.queryToTagMap.get($l);s.queryToTagMap.delete($l),s.tagToQueryMap.delete(Nl)}}}function syncTreeGetNextQueryTag_(){return syncTreeNextQueryTag_++}function syncTreeSetupListener_(s,i,o){const et=i._path,$l=syncTreeTagForQuery_(s,i),Nl=syncTreeCreateListenerForView_(s,o),Ml=s.listenProvider_.startListening(syncTreeQueryForListening_(i),$l,Nl.hashFn,Nl.onComplete),Ol=s.syncPointTree_.subtree(et);if($l)assert(!syncPointHasCompleteView(Ol.value),"If we're adding a query, it shouldn't be shadowed");else{const Ll=Ol.fold((Fl,Bl,Ul)=>{if(!pathIsEmpty(Fl)&&Bl&&syncPointHasCompleteView(Bl))return[syncPointGetCompleteView(Bl).query];{let Gl=[];return Bl&&(Gl=Gl.concat(syncPointGetQueryViews(Bl).map(Wl=>Wl.query))),each(Ul,(Wl,zl)=>{Gl=Gl.concat(zl)}),Gl}});for(let Fl=0;Fl<Ll.length;++Fl){const Bl=Ll[Fl];s.listenProvider_.stopListening(syncTreeQueryForListening_(Bl),syncTreeTagForQuery_(s,Bl))}}return Ml}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistingValueProvider{constructor(i){this.node_=i}getImmediateChild(i){const o=this.node_.getImmediateChild(i);return new ExistingValueProvider(o)}node(){return this.node_}}class DeferredValueProvider{constructor(i,o){this.syncTree_=i,this.path_=o}getImmediateChild(i){const o=pathChild(this.path_,i);return new DeferredValueProvider(this.syncTree_,o)}node(){return syncTreeCalcCompleteEventCache(this.syncTree_,this.path_)}}const generateWithValues=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},resolveDeferredLeafValue=function(s,i,o){if(!s||typeof s!="object")return s;if(assert(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return resolveScalarDeferredValue(s[".sv"],i,o);if(typeof s[".sv"]=="object")return resolveComplexDeferredValue(s[".sv"],i);assert(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},resolveScalarDeferredValue=function(s,i,o){switch(s){case"timestamp":return o.timestamp;default:assert(!1,"Unexpected server value: "+s)}},resolveComplexDeferredValue=function(s,i,o){s.hasOwnProperty("increment")||assert(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const et=s.increment;typeof et!="number"&&assert(!1,"Unexpected increment value: "+et);const $l=i.node();if(assert($l!==null&&typeof $l!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!$l.isLeafNode())return et;const Ml=$l.getValue();return typeof Ml!="number"?et:Ml+et},resolveDeferredValueTree=function(s,i,o,et){return resolveDeferredValue(i,new DeferredValueProvider(o,s),et)},resolveDeferredValueSnapshot=function(s,i,o){return resolveDeferredValue(s,new ExistingValueProvider(i),o)};function resolveDeferredValue(s,i,o){const et=s.getPriority().val(),$l=resolveDeferredLeafValue(et,i.getImmediateChild(".priority"),o);let Nl;if(s.isLeafNode()){const Ml=s,Ol=resolveDeferredLeafValue(Ml.getValue(),i,o);return Ol!==Ml.getValue()||$l!==Ml.getPriority().val()?new LeafNode(Ol,nodeFromJSON($l)):s}else{const Ml=s;return Nl=Ml,$l!==Ml.getPriority().val()&&(Nl=Nl.updatePriority(new LeafNode($l))),Ml.forEachChild(PRIORITY_INDEX,(Ol,Ll)=>{const Fl=resolveDeferredValue(Ll,i.getImmediateChild(Ol),o);Fl!==Ll&&(Nl=Nl.updateImmediateChild(Ol,Fl))}),Nl}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tree{constructor(i="",o=null,et={children:{},childCount:0}){this.name=i,this.parent=o,this.node=et}}function treeSubTree(s,i){let o=i instanceof Path?i:new Path(i),et=s,$l=pathGetFront(o);for(;$l!==null;){const Nl=safeGet(et.node.children,$l)||{children:{},childCount:0};et=new Tree($l,et,Nl),o=pathPopFront(o),$l=pathGetFront(o)}return et}function treeGetValue(s){return s.node.value}function treeSetValue(s,i){s.node.value=i,treeUpdateParents(s)}function treeHasChildren(s){return s.node.childCount>0}function treeIsEmpty(s){return treeGetValue(s)===void 0&&!treeHasChildren(s)}function treeForEachChild(s,i){each(s.node.children,(o,et)=>{i(new Tree(o,s,et))})}function treeForEachDescendant(s,i,o,et){o&&!et&&i(s),treeForEachChild(s,$l=>{treeForEachDescendant($l,i,!0,et)}),o&&et&&i(s)}function treeForEachAncestor(s,i,o){let et=o?s:s.parent;for(;et!==null;){if(i(et))return!0;et=et.parent}return!1}function treeGetPath(s){return new Path(s.parent===null?s.name:treeGetPath(s.parent)+"/"+s.name)}function treeUpdateParents(s){s.parent!==null&&treeUpdateChild(s.parent,s.name,s)}function treeUpdateChild(s,i,o){const et=treeIsEmpty(o),$l=contains(s.node.children,i);et&&$l?(delete s.node.children[i],s.node.childCount--,treeUpdateParents(s)):!et&&!$l&&(s.node.children[i]=o.node,s.node.childCount++,treeUpdateParents(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,MAX_LEAF_SIZE_=10*1024*1024,isValidKey=function(s){return typeof s=="string"&&s.length!==0&&!INVALID_KEY_REGEX_.test(s)},isValidPathString=function(s){return typeof s=="string"&&s.length!==0&&!INVALID_PATH_REGEX_.test(s)},isValidRootPathString=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),isValidPathString(s)},isValidPriority=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!isInvalidJSONNumber(s)||s&&typeof s=="object"&&contains(s,".sv")},validateFirebaseDataArg=function(s,i,o,et){et&&i===void 0||validateFirebaseData(errorPrefix(s,"value"),i,o)},validateFirebaseData=function(s,i,o){const et=o instanceof Path?new ValidationPath(o,s):o;if(i===void 0)throw new Error(s+"contains undefined "+validationPathToErrorString(et));if(typeof i=="function")throw new Error(s+"contains a function "+validationPathToErrorString(et)+" with contents = "+i.toString());if(isInvalidJSONNumber(i))throw new Error(s+"contains "+i.toString()+" "+validationPathToErrorString(et));if(typeof i=="string"&&i.length>MAX_LEAF_SIZE_/3&&stringLength(i)>MAX_LEAF_SIZE_)throw new Error(s+"contains a string greater than "+MAX_LEAF_SIZE_+" utf8 bytes "+validationPathToErrorString(et)+" ('"+i.substring(0,50)+"...')");if(i&&typeof i=="object"){let $l=!1,Nl=!1;if(each(i,(Ml,Ol)=>{if(Ml===".value")$l=!0;else if(Ml!==".priority"&&Ml!==".sv"&&(Nl=!0,!isValidKey(Ml)))throw new Error(s+" contains an invalid key ("+Ml+") "+validationPathToErrorString(et)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);validationPathPush(et,Ml),validateFirebaseData(s,Ol,et),validationPathPop(et)}),$l&&Nl)throw new Error(s+' contains ".value" child '+validationPathToErrorString(et)+" in addition to actual children.")}},validateFirebaseMergePaths=function(s,i){let o,et;for(o=0;o<i.length;o++){et=i[o];const Nl=pathSlice(et);for(let Ml=0;Ml<Nl.length;Ml++)if(!(Nl[Ml]===".priority"&&Ml===Nl.length-1)){if(!isValidKey(Nl[Ml]))throw new Error(s+"contains an invalid key ("+Nl[Ml]+") in path "+et.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}i.sort(pathCompare);let $l=null;for(o=0;o<i.length;o++){if(et=i[o],$l!==null&&pathContains($l,et))throw new Error(s+"contains a path "+$l.toString()+" that is ancestor of another path "+et.toString());$l=et}},validateFirebaseMergeDataArg=function(s,i,o,et){if(et&&i===void 0)return;const $l=errorPrefix(s,"values");if(!(i&&typeof i=="object")||Array.isArray(i))throw new Error($l+" must be an object containing the children to replace.");const Nl=[];each(i,(Ml,Ol)=>{const Ll=new Path(Ml);if(validateFirebaseData($l,Ol,pathChild(o,Ll)),pathGetBack(Ll)===".priority"&&!isValidPriority(Ol))throw new Error($l+"contains an invalid value for '"+Ll.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");Nl.push(Ll)}),validateFirebaseMergePaths($l,Nl)},validatePriority=function(s,i,o){if(!(o&&i===void 0)){if(isInvalidJSONNumber(i))throw new Error(errorPrefix(s,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!isValidPriority(i))throw new Error(errorPrefix(s,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},validateKey=function(s,i,o,et){if(!(et&&o===void 0)&&!isValidKey(o))throw new Error(errorPrefix(s,i)+'was an invalid key = "'+o+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},validatePathString=function(s,i,o,et){if(!(et&&o===void 0)&&!isValidPathString(o))throw new Error(errorPrefix(s,i)+'was an invalid path = "'+o+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},validateRootPathString=function(s,i,o,et){o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),validatePathString(s,i,o,et)},validateWritablePath=function(s,i){if(pathGetFront(i)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},validateUrl=function(s,i){const o=i.path.toString();if(typeof i.repoInfo.host!="string"||i.repoInfo.host.length===0||!isValidKey(i.repoInfo.namespace)&&i.repoInfo.host.split(":")[0]!=="localhost"||o.length!==0&&!isValidRootPathString(o))throw new Error(errorPrefix(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventQueue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eventQueueQueueEvents(s,i){let o=null;for(let et=0;et<i.length;et++){const $l=i[et],Nl=$l.getPath();o!==null&&!pathEquals(Nl,o.path)&&(s.eventLists_.push(o),o=null),o===null&&(o={events:[],path:Nl}),o.events.push($l)}o&&s.eventLists_.push(o)}function eventQueueRaiseEventsAtPath(s,i,o){eventQueueQueueEvents(s,o),eventQueueRaiseQueuedEventsMatchingPredicate(s,et=>pathEquals(et,i))}function eventQueueRaiseEventsForChangedPath(s,i,o){eventQueueQueueEvents(s,o),eventQueueRaiseQueuedEventsMatchingPredicate(s,et=>pathContains(et,i)||pathContains(i,et))}function eventQueueRaiseQueuedEventsMatchingPredicate(s,i){s.recursionDepth_++;let o=!0;for(let et=0;et<s.eventLists_.length;et++){const $l=s.eventLists_[et];if($l){const Nl=$l.path;i(Nl)?(eventListRaise(s.eventLists_[et]),s.eventLists_[et]=null):o=!1}}o&&(s.eventLists_=[]),s.recursionDepth_--}function eventListRaise(s){for(let i=0;i<s.events.length;i++){const o=s.events[i];if(o!==null){s.events[i]=null;const et=o.getEventRunner();logger$1&&log("event: "+o.toString()),exceptionGuard(et)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INTERRUPT_REASON="repo_interrupt",MAX_TRANSACTION_RETRIES=25;class Repo{constructor(i,o,et,$l){this.repoInfo_=i,this.forceRestClient_=o,this.authTokenProvider_=et,this.appCheckProvider_=$l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=newSparseSnapshotTree(),this.transactionQueueTree_=new Tree,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function repoStart(s,i,o){if(s.stats_=statsManagerGetCollection(s.repoInfo_),s.forceRestClient_||beingCrawled())s.server_=new ReadonlyRestClient(s.repoInfo_,(et,$l,Nl,Ml)=>{repoOnDataUpdate(s,et,$l,Nl,Ml)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>repoOnConnectStatus(s,!0),0);else{if(typeof o!="undefined"&&o!==null){if(typeof o!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{stringify(o)}catch(et){throw new Error("Invalid authOverride provided: "+et)}}s.persistentConnection_=new PersistentConnection(s.repoInfo_,i,(et,$l,Nl,Ml)=>{repoOnDataUpdate(s,et,$l,Nl,Ml)},et=>{repoOnConnectStatus(s,et)},et=>{repoOnServerInfoUpdate(s,et)},s.authTokenProvider_,s.appCheckProvider_,o),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(et=>{s.server_.refreshAuthToken(et)}),s.appCheckProvider_.addTokenChangeListener(et=>{s.server_.refreshAppCheckToken(et.token)}),s.statsReporter_=statsManagerGetOrCreateReporter(s.repoInfo_,()=>new StatsReporter(s.stats_,s.server_)),s.infoData_=new SnapshotHolder,s.infoSyncTree_=new SyncTree({startListening:(et,$l,Nl,Ml)=>{let Ol=[];const Ll=s.infoData_.getNode(et._path);return Ll.isEmpty()||(Ol=syncTreeApplyServerOverwrite(s.infoSyncTree_,et._path,Ll),setTimeout(()=>{Ml("ok")},0)),Ol},stopListening:()=>{}}),repoUpdateInfo(s,"connected",!1),s.serverSyncTree_=new SyncTree({startListening:(et,$l,Nl,Ml)=>(s.server_.listen(et,Nl,$l,(Ol,Ll)=>{const Fl=Ml(Ol,Ll);eventQueueRaiseEventsForChangedPath(s.eventQueue_,et._path,Fl)}),[]),stopListening:(et,$l)=>{s.server_.unlisten(et,$l)}})}function repoServerTime(s){const o=s.infoData_.getNode(new Path(".info/serverTimeOffset")).val()||0;return new Date().getTime()+o}function repoGenerateServerValues(s){return generateWithValues({timestamp:repoServerTime(s)})}function repoOnDataUpdate(s,i,o,et,$l){s.dataUpdateCount++;const Nl=new Path(i);o=s.interceptServerDataCallback_?s.interceptServerDataCallback_(i,o):o;let Ml=[];if($l)if(et){const Ll=map(o,Fl=>nodeFromJSON(Fl));Ml=syncTreeApplyTaggedQueryMerge(s.serverSyncTree_,Nl,Ll,$l)}else{const Ll=nodeFromJSON(o);Ml=syncTreeApplyTaggedQueryOverwrite(s.serverSyncTree_,Nl,Ll,$l)}else if(et){const Ll=map(o,Fl=>nodeFromJSON(Fl));Ml=syncTreeApplyServerMerge(s.serverSyncTree_,Nl,Ll)}else{const Ll=nodeFromJSON(o);Ml=syncTreeApplyServerOverwrite(s.serverSyncTree_,Nl,Ll)}let Ol=Nl;Ml.length>0&&(Ol=repoRerunTransactions(s,Nl)),eventQueueRaiseEventsForChangedPath(s.eventQueue_,Ol,Ml)}function repoOnConnectStatus(s,i){repoUpdateInfo(s,"connected",i),i===!1&&repoRunOnDisconnectEvents(s)}function repoOnServerInfoUpdate(s,i){each(i,(o,et)=>{repoUpdateInfo(s,o,et)})}function repoUpdateInfo(s,i,o){const et=new Path("/.info/"+i),$l=nodeFromJSON(o);s.infoData_.updateSnapshot(et,$l);const Nl=syncTreeApplyServerOverwrite(s.infoSyncTree_,et,$l);eventQueueRaiseEventsForChangedPath(s.eventQueue_,et,Nl)}function repoGetNextWriteId(s){return s.nextWriteId_++}function repoGetValue(s,i){const o=syncTreeGetServerValue(s.serverSyncTree_,i);return o!=null?Promise.resolve(o):s.server_.get(i).then(et=>{const $l=nodeFromJSON(et).withIndex(i._queryParams.getIndex());if(i._queryParams.loadsAllData())syncTreeApplyServerOverwrite(s.serverSyncTree_,i._path,$l);else{const Ml=syncTreeRegisterQuery(s.serverSyncTree_,i);syncTreeApplyTaggedQueryOverwrite(s.serverSyncTree_,i._path,$l,Ml)}return syncTreeRemoveEventRegistration(s.serverSyncTree_,i,null).length>0&&repoLog(s,"unexpected cancel events in repoGetValue"),$l},et=>(repoLog(s,"get for query "+stringify(i)+" failed: "+et),Promise.reject(new Error(et))))}function repoSetWithPriority(s,i,o,et,$l){repoLog(s,"set",{path:i.toString(),value:o,priority:et});const Nl=repoGenerateServerValues(s),Ml=nodeFromJSON(o,et),Ol=syncTreeCalcCompleteEventCache(s.serverSyncTree_,i),Ll=resolveDeferredValueSnapshot(Ml,Ol,Nl),Fl=repoGetNextWriteId(s),Bl=syncTreeApplyUserOverwrite(s.serverSyncTree_,i,Ll,Fl,!0);eventQueueQueueEvents(s.eventQueue_,Bl),s.server_.put(i.toString(),Ml.val(!0),(Gl,Wl)=>{const zl=Gl==="ok";zl||warn$1("set at "+i+" failed: "+Gl);const Ql=syncTreeAckUserWrite(s.serverSyncTree_,Fl,!zl);eventQueueRaiseEventsForChangedPath(s.eventQueue_,i,Ql),repoCallOnCompleteCallback(s,$l,Gl,Wl)});const Ul=repoAbortTransactions(s,i);repoRerunTransactions(s,Ul),eventQueueRaiseEventsForChangedPath(s.eventQueue_,Ul,[])}function repoUpdate(s,i,o,et){repoLog(s,"update",{path:i.toString(),value:o});let $l=!0;const Nl=repoGenerateServerValues(s),Ml={};if(each(o,(Ol,Ll)=>{$l=!1,Ml[Ol]=resolveDeferredValueTree(pathChild(i,Ol),nodeFromJSON(Ll),s.serverSyncTree_,Nl)}),$l)log("update() called with empty data.  Don't do anything."),repoCallOnCompleteCallback(s,et,"ok",void 0);else{const Ol=repoGetNextWriteId(s),Ll=syncTreeApplyUserMerge(s.serverSyncTree_,i,Ml,Ol);eventQueueQueueEvents(s.eventQueue_,Ll),s.server_.merge(i.toString(),o,(Fl,Bl)=>{const Ul=Fl==="ok";Ul||warn$1("update at "+i+" failed: "+Fl);const Gl=syncTreeAckUserWrite(s.serverSyncTree_,Ol,!Ul),Wl=Gl.length>0?repoRerunTransactions(s,i):i;eventQueueRaiseEventsForChangedPath(s.eventQueue_,Wl,Gl),repoCallOnCompleteCallback(s,et,Fl,Bl)}),each(o,Fl=>{const Bl=repoAbortTransactions(s,pathChild(i,Fl));repoRerunTransactions(s,Bl)}),eventQueueRaiseEventsForChangedPath(s.eventQueue_,i,[])}}function repoRunOnDisconnectEvents(s){repoLog(s,"onDisconnectEvents");const i=repoGenerateServerValues(s),o=newSparseSnapshotTree();sparseSnapshotTreeForEachTree(s.onDisconnect_,newEmptyPath(),($l,Nl)=>{const Ml=resolveDeferredValueTree($l,Nl,s.serverSyncTree_,i);sparseSnapshotTreeRemember(o,$l,Ml)});let et=[];sparseSnapshotTreeForEachTree(o,newEmptyPath(),($l,Nl)=>{et=et.concat(syncTreeApplyServerOverwrite(s.serverSyncTree_,$l,Nl));const Ml=repoAbortTransactions(s,$l);repoRerunTransactions(s,Ml)}),s.onDisconnect_=newSparseSnapshotTree(),eventQueueRaiseEventsForChangedPath(s.eventQueue_,newEmptyPath(),et)}function repoOnDisconnectCancel(s,i,o){s.server_.onDisconnectCancel(i.toString(),(et,$l)=>{et==="ok"&&sparseSnapshotTreeForget(s.onDisconnect_,i),repoCallOnCompleteCallback(s,o,et,$l)})}function repoOnDisconnectSet(s,i,o,et){const $l=nodeFromJSON(o);s.server_.onDisconnectPut(i.toString(),$l.val(!0),(Nl,Ml)=>{Nl==="ok"&&sparseSnapshotTreeRemember(s.onDisconnect_,i,$l),repoCallOnCompleteCallback(s,et,Nl,Ml)})}function repoOnDisconnectSetWithPriority(s,i,o,et,$l){const Nl=nodeFromJSON(o,et);s.server_.onDisconnectPut(i.toString(),Nl.val(!0),(Ml,Ol)=>{Ml==="ok"&&sparseSnapshotTreeRemember(s.onDisconnect_,i,Nl),repoCallOnCompleteCallback(s,$l,Ml,Ol)})}function repoOnDisconnectUpdate(s,i,o,et){if(isEmpty(o)){log("onDisconnect().update() called with empty data.  Don't do anything."),repoCallOnCompleteCallback(s,et,"ok",void 0);return}s.server_.onDisconnectMerge(i.toString(),o,($l,Nl)=>{$l==="ok"&&each(o,(Ml,Ol)=>{const Ll=nodeFromJSON(Ol);sparseSnapshotTreeRemember(s.onDisconnect_,pathChild(i,Ml),Ll)}),repoCallOnCompleteCallback(s,et,$l,Nl)})}function repoAddEventCallbackForQuery(s,i,o){let et;pathGetFront(i._path)===".info"?et=syncTreeAddEventRegistration(s.infoSyncTree_,i,o):et=syncTreeAddEventRegistration(s.serverSyncTree_,i,o),eventQueueRaiseEventsAtPath(s.eventQueue_,i._path,et)}function repoRemoveEventCallbackForQuery(s,i,o){let et;pathGetFront(i._path)===".info"?et=syncTreeRemoveEventRegistration(s.infoSyncTree_,i,o):et=syncTreeRemoveEventRegistration(s.serverSyncTree_,i,o),eventQueueRaiseEventsAtPath(s.eventQueue_,i._path,et)}function repoInterrupt(s){s.persistentConnection_&&s.persistentConnection_.interrupt(INTERRUPT_REASON)}function repoResume(s){s.persistentConnection_&&s.persistentConnection_.resume(INTERRUPT_REASON)}function repoLog(s,...i){let o="";s.persistentConnection_&&(o=s.persistentConnection_.id+":"),log(o,...i)}function repoCallOnCompleteCallback(s,i,o,et){i&&exceptionGuard(()=>{if(o==="ok")i(null);else{const $l=(o||"error").toUpperCase();let Nl=$l;et&&(Nl+=": "+et);const Ml=new Error(Nl);Ml.code=$l,i(Ml)}})}function repoStartTransaction(s,i,o,et,$l,Nl){repoLog(s,"transaction on "+i);const Ml={path:i,update:o,onComplete:et,status:null,order:LUIDGenerator(),applyLocally:Nl,retryCount:0,unwatcher:$l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Ol=repoGetLatestState(s,i,void 0);Ml.currentInputSnapshot=Ol;const Ll=Ml.update(Ol.val());if(Ll===void 0)Ml.unwatcher(),Ml.currentOutputSnapshotRaw=null,Ml.currentOutputSnapshotResolved=null,Ml.onComplete&&Ml.onComplete(null,!1,Ml.currentInputSnapshot);else{validateFirebaseData("transaction failed: Data returned ",Ll,Ml.path),Ml.status=0;const Fl=treeSubTree(s.transactionQueueTree_,i),Bl=treeGetValue(Fl)||[];Bl.push(Ml),treeSetValue(Fl,Bl);let Ul;typeof Ll=="object"&&Ll!==null&&contains(Ll,".priority")?(Ul=safeGet(Ll,".priority"),assert(isValidPriority(Ul),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Ul=(syncTreeCalcCompleteEventCache(s.serverSyncTree_,i)||ChildrenNode.EMPTY_NODE).getPriority().val();const Gl=repoGenerateServerValues(s),Wl=nodeFromJSON(Ll,Ul),zl=resolveDeferredValueSnapshot(Wl,Ol,Gl);Ml.currentOutputSnapshotRaw=Wl,Ml.currentOutputSnapshotResolved=zl,Ml.currentWriteId=repoGetNextWriteId(s);const Ql=syncTreeApplyUserOverwrite(s.serverSyncTree_,i,zl,Ml.currentWriteId,Ml.applyLocally);eventQueueRaiseEventsForChangedPath(s.eventQueue_,i,Ql),repoSendReadyTransactions(s,s.transactionQueueTree_)}}function repoGetLatestState(s,i,o){return syncTreeCalcCompleteEventCache(s.serverSyncTree_,i,o)||ChildrenNode.EMPTY_NODE}function repoSendReadyTransactions(s,i=s.transactionQueueTree_){if(i||repoPruneCompletedTransactionsBelowNode(s,i),treeGetValue(i)){const o=repoBuildTransactionQueue(s,i);assert(o.length>0,"Sending zero length transaction queue"),o.every($l=>$l.status===0)&&repoSendTransactionQueue(s,treeGetPath(i),o)}else treeHasChildren(i)&&treeForEachChild(i,o=>{repoSendReadyTransactions(s,o)})}function repoSendTransactionQueue(s,i,o){const et=o.map(Fl=>Fl.currentWriteId),$l=repoGetLatestState(s,i,et);let Nl=$l;const Ml=$l.hash();for(let Fl=0;Fl<o.length;Fl++){const Bl=o[Fl];assert(Bl.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),Bl.status=1,Bl.retryCount++;const Ul=newRelativePath(i,Bl.path);Nl=Nl.updateChild(Ul,Bl.currentOutputSnapshotRaw)}const Ol=Nl.val(!0),Ll=i;s.server_.put(Ll.toString(),Ol,Fl=>{repoLog(s,"transaction put response",{path:Ll.toString(),status:Fl});let Bl=[];if(Fl==="ok"){const Ul=[];for(let Gl=0;Gl<o.length;Gl++)o[Gl].status=2,Bl=Bl.concat(syncTreeAckUserWrite(s.serverSyncTree_,o[Gl].currentWriteId)),o[Gl].onComplete&&Ul.push(()=>o[Gl].onComplete(null,!0,o[Gl].currentOutputSnapshotResolved)),o[Gl].unwatcher();repoPruneCompletedTransactionsBelowNode(s,treeSubTree(s.transactionQueueTree_,i)),repoSendReadyTransactions(s,s.transactionQueueTree_),eventQueueRaiseEventsForChangedPath(s.eventQueue_,i,Bl);for(let Gl=0;Gl<Ul.length;Gl++)exceptionGuard(Ul[Gl])}else{if(Fl==="datastale")for(let Ul=0;Ul<o.length;Ul++)o[Ul].status===3?o[Ul].status=4:o[Ul].status=0;else{warn$1("transaction at "+Ll.toString()+" failed: "+Fl);for(let Ul=0;Ul<o.length;Ul++)o[Ul].status=4,o[Ul].abortReason=Fl}repoRerunTransactions(s,i)}},Ml)}function repoRerunTransactions(s,i){const o=repoGetAncestorTransactionNode(s,i),et=treeGetPath(o),$l=repoBuildTransactionQueue(s,o);return repoRerunTransactionQueue(s,$l,et),et}function repoRerunTransactionQueue(s,i,o){if(i.length===0)return;const et=[];let $l=[];const Ml=i.filter(Ol=>Ol.status===0).map(Ol=>Ol.currentWriteId);for(let Ol=0;Ol<i.length;Ol++){const Ll=i[Ol],Fl=newRelativePath(o,Ll.path);let Bl=!1,Ul;if(assert(Fl!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),Ll.status===4)Bl=!0,Ul=Ll.abortReason,$l=$l.concat(syncTreeAckUserWrite(s.serverSyncTree_,Ll.currentWriteId,!0));else if(Ll.status===0)if(Ll.retryCount>=MAX_TRANSACTION_RETRIES)Bl=!0,Ul="maxretry",$l=$l.concat(syncTreeAckUserWrite(s.serverSyncTree_,Ll.currentWriteId,!0));else{const Gl=repoGetLatestState(s,Ll.path,Ml);Ll.currentInputSnapshot=Gl;const Wl=i[Ol].update(Gl.val());if(Wl!==void 0){validateFirebaseData("transaction failed: Data returned ",Wl,Ll.path);let zl=nodeFromJSON(Wl);typeof Wl=="object"&&Wl!=null&&contains(Wl,".priority")||(zl=zl.updatePriority(Gl.getPriority()));const Jl=Ll.currentWriteId,Kl=repoGenerateServerValues(s),Hl=resolveDeferredValueSnapshot(zl,Gl,Kl);Ll.currentOutputSnapshotRaw=zl,Ll.currentOutputSnapshotResolved=Hl,Ll.currentWriteId=repoGetNextWriteId(s),Ml.splice(Ml.indexOf(Jl),1),$l=$l.concat(syncTreeApplyUserOverwrite(s.serverSyncTree_,Ll.path,Hl,Ll.currentWriteId,Ll.applyLocally)),$l=$l.concat(syncTreeAckUserWrite(s.serverSyncTree_,Jl,!0))}else Bl=!0,Ul="nodata",$l=$l.concat(syncTreeAckUserWrite(s.serverSyncTree_,Ll.currentWriteId,!0))}eventQueueRaiseEventsForChangedPath(s.eventQueue_,o,$l),$l=[],Bl&&(i[Ol].status=2,function(Gl){setTimeout(Gl,Math.floor(0))}(i[Ol].unwatcher),i[Ol].onComplete&&(Ul==="nodata"?et.push(()=>i[Ol].onComplete(null,!1,i[Ol].currentInputSnapshot)):et.push(()=>i[Ol].onComplete(new Error(Ul),!1,null))))}repoPruneCompletedTransactionsBelowNode(s,s.transactionQueueTree_);for(let Ol=0;Ol<et.length;Ol++)exceptionGuard(et[Ol]);repoSendReadyTransactions(s,s.transactionQueueTree_)}function repoGetAncestorTransactionNode(s,i){let o,et=s.transactionQueueTree_;for(o=pathGetFront(i);o!==null&&treeGetValue(et)===void 0;)et=treeSubTree(et,o),i=pathPopFront(i),o=pathGetFront(i);return et}function repoBuildTransactionQueue(s,i){const o=[];return repoAggregateTransactionQueuesForNode(s,i,o),o.sort((et,$l)=>et.order-$l.order),o}function repoAggregateTransactionQueuesForNode(s,i,o){const et=treeGetValue(i);if(et)for(let $l=0;$l<et.length;$l++)o.push(et[$l]);treeForEachChild(i,$l=>{repoAggregateTransactionQueuesForNode(s,$l,o)})}function repoPruneCompletedTransactionsBelowNode(s,i){const o=treeGetValue(i);if(o){let et=0;for(let $l=0;$l<o.length;$l++)o[$l].status!==2&&(o[et]=o[$l],et++);o.length=et,treeSetValue(i,o.length>0?o:void 0)}treeForEachChild(i,et=>{repoPruneCompletedTransactionsBelowNode(s,et)})}function repoAbortTransactions(s,i){const o=treeGetPath(repoGetAncestorTransactionNode(s,i)),et=treeSubTree(s.transactionQueueTree_,i);return treeForEachAncestor(et,$l=>{repoAbortTransactionsOnNode(s,$l)}),repoAbortTransactionsOnNode(s,et),treeForEachDescendant(et,$l=>{repoAbortTransactionsOnNode(s,$l)}),o}function repoAbortTransactionsOnNode(s,i){const o=treeGetValue(i);if(o){const et=[];let $l=[],Nl=-1;for(let Ml=0;Ml<o.length;Ml++)o[Ml].status===3||(o[Ml].status===1?(assert(Nl===Ml-1,"All SENT items should be at beginning of queue."),Nl=Ml,o[Ml].status=3,o[Ml].abortReason="set"):(assert(o[Ml].status===0,"Unexpected transaction status in abort"),o[Ml].unwatcher(),$l=$l.concat(syncTreeAckUserWrite(s.serverSyncTree_,o[Ml].currentWriteId,!0)),o[Ml].onComplete&&et.push(o[Ml].onComplete.bind(null,new Error("set"),!1,null))));Nl===-1?treeSetValue(i,void 0):o.length=Nl+1,eventQueueRaiseEventsForChangedPath(s.eventQueue_,treeGetPath(i),$l);for(let Ml=0;Ml<et.length;Ml++)exceptionGuard(et[Ml])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodePath(s){let i="";const o=s.split("/");for(let et=0;et<o.length;et++)if(o[et].length>0){let $l=o[et];try{$l=decodeURIComponent($l.replace(/\+/g," "))}catch{}i+="/"+$l}return i}function decodeQuery(s){const i={};s.charAt(0)==="?"&&(s=s.substring(1));for(const o of s.split("&")){if(o.length===0)continue;const et=o.split("=");et.length===2?i[decodeURIComponent(et[0])]=decodeURIComponent(et[1]):warn$1(`Invalid query segment '${o}' in query '${s}'`)}return i}const parseRepoInfo=function(s,i){const o=parseDatabaseURL(s),et=o.namespace;o.domain==="firebase.com"&&fatal(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!et||et==="undefined")&&o.domain!=="localhost"&&fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||warnIfPageIsSecure();const $l=o.scheme==="ws"||o.scheme==="wss";return{repoInfo:new RepoInfo(o.host,o.secure,et,$l,i,"",et!==o.subdomain),path:new Path(o.pathString)}},parseDatabaseURL=function(s){let i="",o="",et="",$l="",Nl="",Ml=!0,Ol="https",Ll=443;if(typeof s=="string"){let Fl=s.indexOf("//");Fl>=0&&(Ol=s.substring(0,Fl-1),s=s.substring(Fl+2));let Bl=s.indexOf("/");Bl===-1&&(Bl=s.length);let Ul=s.indexOf("?");Ul===-1&&(Ul=s.length),i=s.substring(0,Math.min(Bl,Ul)),Bl<Ul&&($l=decodePath(s.substring(Bl,Ul)));const Gl=decodeQuery(s.substring(Math.min(s.length,Ul)));Fl=i.indexOf(":"),Fl>=0?(Ml=Ol==="https"||Ol==="wss",Ll=parseInt(i.substring(Fl+1),10)):Fl=i.length;const Wl=i.slice(0,Fl);if(Wl.toLowerCase()==="localhost")o="localhost";else if(Wl.split(".").length<=2)o=Wl;else{const zl=i.indexOf(".");et=i.substring(0,zl).toLowerCase(),o=i.substring(zl+1),Nl=et}"ns"in Gl&&(Nl=Gl.ns)}return{host:i,port:Ll,domain:o,subdomain:et,secure:Ml,scheme:Ol,pathString:$l,namespace:Nl}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DataEvent{constructor(i,o,et,$l){this.eventType=i,this.eventRegistration=o,this.snapshot=et,this.prevName=$l}getPath(){const i=this.snapshot.ref;return this.eventType==="value"?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+stringify(this.snapshot.exportVal())}}class CancelEvent{constructor(i,o,et){this.eventRegistration=i,this.error=o,this.path=et}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CallbackContext{constructor(i,o){this.snapshotCallback=i,this.cancelCallback=o}onValue(i,o){this.snapshotCallback.call(null,i,o)}onCancel(i){return assert(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OnDisconnect$1{constructor(i,o){this._repo=i,this._path=o}cancel(){const i=new Deferred;return repoOnDisconnectCancel(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){validateWritablePath("OnDisconnect.remove",this._path);const i=new Deferred;return repoOnDisconnectSet(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){validateWritablePath("OnDisconnect.set",this._path),validateFirebaseDataArg("OnDisconnect.set",i,this._path,!1);const o=new Deferred;return repoOnDisconnectSet(this._repo,this._path,i,o.wrapCallback(()=>{})),o.promise}setWithPriority(i,o){validateWritablePath("OnDisconnect.setWithPriority",this._path),validateFirebaseDataArg("OnDisconnect.setWithPriority",i,this._path,!1),validatePriority("OnDisconnect.setWithPriority",o,!1);const et=new Deferred;return repoOnDisconnectSetWithPriority(this._repo,this._path,i,o,et.wrapCallback(()=>{})),et.promise}update(i){validateWritablePath("OnDisconnect.update",this._path),validateFirebaseMergeDataArg("OnDisconnect.update",i,this._path,!1);const o=new Deferred;return repoOnDisconnectUpdate(this._repo,this._path,i,o.wrapCallback(()=>{})),o.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryImpl{constructor(i,o,et,$l){this._repo=i,this._path=o,this._queryParams=et,this._orderByCalled=$l}get key(){return pathIsEmpty(this._path)?null:pathGetBack(this._path)}get ref(){return new ReferenceImpl(this._repo,this._path)}get _queryIdentifier(){const i=queryParamsGetQueryObject(this._queryParams),o=ObjectToUniqueKey(i);return o==="{}"?"default":o}get _queryObject(){return queryParamsGetQueryObject(this._queryParams)}isEqual(i){if(i=getModularInstance(i),!(i instanceof QueryImpl))return!1;const o=this._repo===i._repo,et=pathEquals(this._path,i._path),$l=this._queryIdentifier===i._queryIdentifier;return o&&et&&$l}toJSON(){return this.toString()}toString(){return this._repo.toString()+pathToUrlEncodedString(this._path)}}function validateNoPreviousOrderByCall(s,i){if(s._orderByCalled===!0)throw new Error(i+": You can't combine multiple orderBy calls.")}function validateQueryEndpoints(s){let i=null,o=null;if(s.hasStart()&&(i=s.getIndexStartValue()),s.hasEnd()&&(o=s.getIndexEndValue()),s.getIndex()===KEY_INDEX){const et="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",$l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(s.hasStart()){if(s.getIndexStartName()!==MIN_NAME)throw new Error(et);if(typeof i!="string")throw new Error($l)}if(s.hasEnd()){if(s.getIndexEndName()!==MAX_NAME)throw new Error(et);if(typeof o!="string")throw new Error($l)}}else if(s.getIndex()===PRIORITY_INDEX){if(i!=null&&!isValidPriority(i)||o!=null&&!isValidPriority(o))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(assert(s.getIndex()instanceof PathIndex||s.getIndex()===VALUE_INDEX,"unknown index type."),i!=null&&typeof i=="object"||o!=null&&typeof o=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function validateLimit(s){if(s.hasStart()&&s.hasEnd()&&s.hasLimit()&&!s.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ReferenceImpl extends QueryImpl{constructor(i,o){super(i,o,new QueryParams,!1)}get parent(){const i=pathParent(this._path);return i===null?null:new ReferenceImpl(this._repo,i)}get root(){let i=this;for(;i.parent!==null;)i=i.parent;return i}}class DataSnapshot$1{constructor(i,o,et){this._node=i,this.ref=o,this._index=et}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const o=new Path(i),et=child(this.ref,i);return new DataSnapshot$1(this._node.getChild(o),et,PRIORITY_INDEX)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(et,$l)=>i(new DataSnapshot$1($l,child(this.ref,et),PRIORITY_INDEX)))}hasChild(i){const o=new Path(i);return!this._node.getChild(o).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ref(s,i){return s=getModularInstance(s),s._checkNotDeleted("ref"),i!==void 0?child(s._root,i):s._root}function refFromURL(s,i){s=getModularInstance(s),s._checkNotDeleted("refFromURL");const o=parseRepoInfo(i,s._repo.repoInfo_.nodeAdmin);validateUrl("refFromURL",o);const et=o.repoInfo;return!s._repo.repoInfo_.isCustomHost()&&et.host!==s._repo.repoInfo_.host&&fatal("refFromURL: Host name does not match the current database: (found "+et.host+" but expected "+s._repo.repoInfo_.host+")"),ref(s,o.path.toString())}function child(s,i){return s=getModularInstance(s),pathGetFront(s._path)===null?validateRootPathString("child","path",i,!1):validatePathString("child","path",i,!1),new ReferenceImpl(s._repo,pathChild(s._path,i))}function push(s,i){s=getModularInstance(s),validateWritablePath("push",s._path),validateFirebaseDataArg("push",i,s._path,!0);const o=repoServerTime(s._repo),et=nextPushId(o),$l=child(s,et),Nl=child(s,et);let Ml;return i!=null?Ml=set(Nl,i).then(()=>Nl):Ml=Promise.resolve(Nl),$l.then=Ml.then.bind(Ml),$l.catch=Ml.then.bind(Ml,void 0),$l}function remove(s){return validateWritablePath("remove",s._path),set(s,null)}function set(s,i){s=getModularInstance(s),validateWritablePath("set",s._path),validateFirebaseDataArg("set",i,s._path,!1);const o=new Deferred;return repoSetWithPriority(s._repo,s._path,i,null,o.wrapCallback(()=>{})),o.promise}function setPriority(s,i){s=getModularInstance(s),validateWritablePath("setPriority",s._path),validatePriority("setPriority",i,!1);const o=new Deferred;return repoSetWithPriority(s._repo,pathChild(s._path,".priority"),i,null,o.wrapCallback(()=>{})),o.promise}function setWithPriority(s,i,o){if(validateWritablePath("setWithPriority",s._path),validateFirebaseDataArg("setWithPriority",i,s._path,!1),validatePriority("setWithPriority",o,!1),s.key===".length"||s.key===".keys")throw"setWithPriority failed: "+s.key+" is a read-only object.";const et=new Deferred;return repoSetWithPriority(s._repo,s._path,i,o,et.wrapCallback(()=>{})),et.promise}function update(s,i){validateFirebaseMergeDataArg("update",i,s._path,!1);const o=new Deferred;return repoUpdate(s._repo,s._path,i,o.wrapCallback(()=>{})),o.promise}function get(s){return s=getModularInstance(s),repoGetValue(s._repo,s).then(i=>new DataSnapshot$1(i,new ReferenceImpl(s._repo,s._path),s._queryParams.getIndex()))}class ValueEventRegistration{constructor(i){this.callbackContext=i}respondsTo(i){return i==="value"}createEvent(i,o){const et=o._queryParams.getIndex();return new DataEvent("value",this,new DataSnapshot$1(i.snapshotNode,new ReferenceImpl(o._repo,o._path),et))}getEventRunner(i){return i.getEventType()==="cancel"?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,o){return this.callbackContext.hasCancelCallback?new CancelEvent(this,i,o):null}matches(i){return i instanceof ValueEventRegistration?!i.callbackContext||!this.callbackContext?!0:i.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ChildEventRegistration{constructor(i,o){this.eventType=i,this.callbackContext=o}respondsTo(i){let o=i==="children_added"?"child_added":i;return o=o==="children_removed"?"child_removed":o,this.eventType===o}createCancelEvent(i,o){return this.callbackContext.hasCancelCallback?new CancelEvent(this,i,o):null}createEvent(i,o){assert(i.childName!=null,"Child events should have a childName.");const et=child(new ReferenceImpl(o._repo,o._path),i.childName),$l=o._queryParams.getIndex();return new DataEvent(i.type,this,new DataSnapshot$1(i.snapshotNode,et,$l),i.prevName)}getEventRunner(i){return i.getEventType()==="cancel"?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof ChildEventRegistration?this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function addEventListener(s,i,o,et,$l){let Nl;if(typeof et=="object"&&(Nl=void 0,$l=et),typeof et=="function"&&(Nl=et),$l&&$l.onlyOnce){const Ll=o,Fl=(Bl,Ul)=>{repoRemoveEventCallbackForQuery(s._repo,s,Ol),Ll(Bl,Ul)};Fl.userCallback=o.userCallback,Fl.context=o.context,o=Fl}const Ml=new CallbackContext(o,Nl||void 0),Ol=i==="value"?new ValueEventRegistration(Ml):new ChildEventRegistration(i,Ml);return repoAddEventCallbackForQuery(s._repo,s,Ol),()=>repoRemoveEventCallbackForQuery(s._repo,s,Ol)}function onValue(s,i,o,et){return addEventListener(s,"value",i,o,et)}function onChildAdded(s,i,o,et){return addEventListener(s,"child_added",i,o,et)}function onChildChanged(s,i,o,et){return addEventListener(s,"child_changed",i,o,et)}function onChildMoved(s,i,o,et){return addEventListener(s,"child_moved",i,o,et)}function onChildRemoved(s,i,o,et){return addEventListener(s,"child_removed",i,o,et)}function off(s,i,o){let et=null;const $l=o?new CallbackContext(o):null;i==="value"?et=new ValueEventRegistration($l):i&&(et=new ChildEventRegistration(i,$l)),repoRemoveEventCallbackForQuery(s._repo,s,et)}class QueryConstraint{}class QueryEndAtConstraint extends QueryConstraint{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){validateFirebaseDataArg("endAt",this._value,i._path,!0);const o=queryParamsEndAt(i._queryParams,this._value,this._key);if(validateLimit(o),validateQueryEndpoints(o),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new QueryImpl(i._repo,i._path,o,i._orderByCalled)}}function endAt(s,i){return validateKey("endAt","key",i,!0),new QueryEndAtConstraint(s,i)}class QueryEndBeforeConstraint extends QueryConstraint{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){validateFirebaseDataArg("endBefore",this._value,i._path,!1);const o=queryParamsEndBefore(i._queryParams,this._value,this._key);if(validateLimit(o),validateQueryEndpoints(o),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new QueryImpl(i._repo,i._path,o,i._orderByCalled)}}function endBefore(s,i){return validateKey("endBefore","key",i,!0),new QueryEndBeforeConstraint(s,i)}class QueryStartAtConstraint extends QueryConstraint{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){validateFirebaseDataArg("startAt",this._value,i._path,!0);const o=queryParamsStartAt(i._queryParams,this._value,this._key);if(validateLimit(o),validateQueryEndpoints(o),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new QueryImpl(i._repo,i._path,o,i._orderByCalled)}}function startAt(s=null,i){return validateKey("startAt","key",i,!0),new QueryStartAtConstraint(s,i)}class QueryStartAfterConstraint extends QueryConstraint{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){validateFirebaseDataArg("startAfter",this._value,i._path,!1);const o=queryParamsStartAfter(i._queryParams,this._value,this._key);if(validateLimit(o),validateQueryEndpoints(o),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new QueryImpl(i._repo,i._path,o,i._orderByCalled)}}function startAfter(s,i){return validateKey("startAfter","key",i,!0),new QueryStartAfterConstraint(s,i)}class QueryLimitToFirstConstraint extends QueryConstraint{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new QueryImpl(i._repo,i._path,queryParamsLimitToFirst(i._queryParams,this._limit),i._orderByCalled)}}function limitToFirst(s){if(typeof s!="number"||Math.floor(s)!==s||s<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new QueryLimitToFirstConstraint(s)}class QueryLimitToLastConstraint extends QueryConstraint{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new QueryImpl(i._repo,i._path,queryParamsLimitToLast(i._queryParams,this._limit),i._orderByCalled)}}function limitToLast(s){if(typeof s!="number"||Math.floor(s)!==s||s<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new QueryLimitToLastConstraint(s)}class QueryOrderByChildConstraint extends QueryConstraint{constructor(i){super(),this._path=i}_apply(i){validateNoPreviousOrderByCall(i,"orderByChild");const o=new Path(this._path);if(pathIsEmpty(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const et=new PathIndex(o),$l=queryParamsOrderBy(i._queryParams,et);return validateQueryEndpoints($l),new QueryImpl(i._repo,i._path,$l,!0)}}function orderByChild(s){if(s==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(s==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(s==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return validatePathString("orderByChild","path",s,!1),new QueryOrderByChildConstraint(s)}class QueryOrderByKeyConstraint extends QueryConstraint{_apply(i){validateNoPreviousOrderByCall(i,"orderByKey");const o=queryParamsOrderBy(i._queryParams,KEY_INDEX);return validateQueryEndpoints(o),new QueryImpl(i._repo,i._path,o,!0)}}function orderByKey(){return new QueryOrderByKeyConstraint}class QueryOrderByPriorityConstraint extends QueryConstraint{_apply(i){validateNoPreviousOrderByCall(i,"orderByPriority");const o=queryParamsOrderBy(i._queryParams,PRIORITY_INDEX);return validateQueryEndpoints(o),new QueryImpl(i._repo,i._path,o,!0)}}function orderByPriority(){return new QueryOrderByPriorityConstraint}class QueryOrderByValueConstraint extends QueryConstraint{_apply(i){validateNoPreviousOrderByCall(i,"orderByValue");const o=queryParamsOrderBy(i._queryParams,VALUE_INDEX);return validateQueryEndpoints(o),new QueryImpl(i._repo,i._path,o,!0)}}function orderByValue(){return new QueryOrderByValueConstraint}class QueryEqualToValueConstraint extends QueryConstraint{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){if(validateFirebaseDataArg("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new QueryEndAtConstraint(this._value,this._key)._apply(new QueryStartAtConstraint(this._value,this._key)._apply(i))}}function equalTo(s,i){return validateKey("equalTo","key",i,!0),new QueryEqualToValueConstraint(s,i)}function query(s,...i){let o=getModularInstance(s);for(const et of i)o=et._apply(o);return o}syncPointSetReferenceConstructor(ReferenceImpl);syncTreeSetReferenceConstructor(ReferenceImpl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_DATABASE_EMULATOR_HOST_VAR="FIREBASE_DATABASE_EMULATOR_HOST",repos={};let useRestClient=!1;function repoManagerApplyEmulatorSettings(s,i,o,et){s.repoInfo_=new RepoInfo(`${i}:${o}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams),et&&(s.authTokenProvider_=et)}function repoManagerDatabaseFromApp(s,i,o,et,$l){let Nl=et||s.options.databaseURL;Nl===void 0&&(s.options.projectId||fatal("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),log("Using default host for project ",s.options.projectId),Nl=`${s.options.projectId}-default-rtdb.firebaseio.com`);let Ml=parseRepoInfo(Nl,$l),Ol=Ml.repoInfo,Ll,Fl;typeof process!="undefined"&&process.env&&(Fl=process.env[FIREBASE_DATABASE_EMULATOR_HOST_VAR]),Fl?(Ll=!0,Nl=`http://${Fl}?ns=${Ol.namespace}`,Ml=parseRepoInfo(Nl,$l),Ol=Ml.repoInfo):Ll=!Ml.repoInfo.secure;const Bl=$l&&Ll?new EmulatorTokenProvider(EmulatorTokenProvider.OWNER):new FirebaseAuthTokenProvider(s.name,s.options,i);validateUrl("Invalid Firebase Database URL",Ml),pathIsEmpty(Ml.path)||fatal("Database URL must point to the root of a Firebase Database (not including a child path).");const Ul=repoManagerCreateRepo(Ol,s,Bl,new AppCheckTokenProvider(s.name,o));return new Database$1(Ul,s)}function repoManagerDeleteRepo(s,i){const o=repos[i];(!o||o[s.key]!==s)&&fatal(`Database ${i}(${s.repoInfo_}) has already been deleted.`),repoInterrupt(s),delete o[s.key]}function repoManagerCreateRepo(s,i,o,et){let $l=repos[i.name];$l||($l={},repos[i.name]=$l);let Nl=$l[s.toURLString()];return Nl&&fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),Nl=new Repo(s,useRestClient,o,et),$l[s.toURLString()]=Nl,Nl}class Database$1{constructor(i,o){this._repoInternal=i,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(repoStart(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ReferenceImpl(this._repo,newEmptyPath())),this._rootInternal}_delete(){return this._rootInternal!==null&&(repoManagerDeleteRepo(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){this._rootInternal===null&&fatal("Cannot call "+i+" on a deleted database.")}}function checkTransportInit(){TransportManager.IS_TRANSPORT_INITIALIZED&&warn$1("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function forceWebSockets(){checkTransportInit(),BrowserPollConnection.forceDisallow()}function forceLongPolling(){checkTransportInit(),WebSocketConnection.forceDisallow(),BrowserPollConnection.forceAllow()}function connectDatabaseEmulator(s,i,o,et={}){s=getModularInstance(s),s._checkNotDeleted("useEmulator"),s._instanceStarted&&fatal("Cannot call useEmulator() after instance has already been initialized.");const $l=s._repoInternal;let Nl;if($l.repoInfo_.nodeAdmin)et.mockUserToken&&fatal('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),Nl=new EmulatorTokenProvider(EmulatorTokenProvider.OWNER);else if(et.mockUserToken){const Ml=typeof et.mockUserToken=="string"?et.mockUserToken:createMockUserToken(et.mockUserToken,s.app.options.projectId);Nl=new EmulatorTokenProvider(Ml)}repoManagerApplyEmulatorSettings($l,i,o,Nl)}function goOffline(s){s=getModularInstance(s),s._checkNotDeleted("goOffline"),repoInterrupt(s._repo)}function goOnline(s){s=getModularInstance(s),s._checkNotDeleted("goOnline"),repoResume(s._repo)}function enableLogging(s,i){enableLogging$1(s,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerDatabase$1(s){setSDKVersion(SDK_VERSION$2),_registerComponent(new Component("database",(i,{instanceIdentifier:o})=>{const et=i.getProvider("app").getImmediate(),$l=i.getProvider("auth-internal"),Nl=i.getProvider("app-check-internal");return repoManagerDatabaseFromApp(et,$l,Nl,o)},"PUBLIC").setMultipleInstances(!0)),registerVersion(name$d,version$d,s),registerVersion(name$d,version$d,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_TIMESTAMP={".sv":"timestamp"};function serverTimestamp(){return SERVER_TIMESTAMP}function increment(s){return{".sv":{increment:s}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransactionResult$1{constructor(i,o){this.committed=i,this.snapshot=o}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function runTransaction(s,i,o){var et;if(s=getModularInstance(s),validateWritablePath("Reference.transaction",s._path),s.key===".length"||s.key===".keys")throw"Reference.transaction failed: "+s.key+" is a read-only object.";const $l=(et=o==null?void 0:o.applyLocally)!==null&&et!==void 0?et:!0,Nl=new Deferred,Ml=(Ll,Fl,Bl)=>{let Ul=null;Ll?Nl.reject(Ll):(Ul=new DataSnapshot$1(Bl,new ReferenceImpl(s._repo,s._path),PRIORITY_INDEX),Nl.resolve(new TransactionResult$1(Fl,Ul)))},Ol=onValue(s,()=>{});return repoStartTransaction(s._repo,s._path,i,Ml,Ol,$l),Nl.promise}PersistentConnection.prototype.simpleListen=function(s,i){this.sendRequest("q",{p:s},i)};PersistentConnection.prototype.echo=function(s,i){this.sendRequest("echo",{d:s},i)};registerDatabase$1();const name$c="@firebase/database-compat",version$c="0.2.3";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/database-compat"),warn=function(s){const i="FIREBASE WARNING: "+s;logClient.warn(i)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const validateBoolean=function(s,i,o,et){if(!(et&&o===void 0)&&typeof o!="boolean")throw new Error(errorPrefix(s,i)+"must be a boolean.")},validateEventType=function(s,i,o){if(!(o&&i===void 0))switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(errorPrefix(s,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OnDisconnect{constructor(i){this._delegate=i}cancel(i){validateArgCount("OnDisconnect.cancel",0,1,arguments.length),validateCallback("OnDisconnect.cancel","onComplete",i,!0);const o=this._delegate.cancel();return i&&o.then(()=>i(null),et=>i(et)),o}remove(i){validateArgCount("OnDisconnect.remove",0,1,arguments.length),validateCallback("OnDisconnect.remove","onComplete",i,!0);const o=this._delegate.remove();return i&&o.then(()=>i(null),et=>i(et)),o}set(i,o){validateArgCount("OnDisconnect.set",1,2,arguments.length),validateCallback("OnDisconnect.set","onComplete",o,!0);const et=this._delegate.set(i);return o&&et.then(()=>o(null),$l=>o($l)),et}setWithPriority(i,o,et){validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),validateCallback("OnDisconnect.setWithPriority","onComplete",et,!0);const $l=this._delegate.setWithPriority(i,o);return et&&$l.then(()=>et(null),Nl=>et(Nl)),$l}update(i,o){if(validateArgCount("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const $l={};for(let Nl=0;Nl<i.length;++Nl)$l[""+Nl]=i[Nl];i=$l,warn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}validateCallback("OnDisconnect.update","onComplete",o,!0);const et=this._delegate.update(i);return o&&et.then(()=>o(null),$l=>o($l)),et}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransactionResult{constructor(i,o){this.committed=i,this.snapshot=o}toJSON(){return validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DataSnapshot{constructor(i,o){this._database=i,this._delegate=o}val(){return validateArgCount("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return validateArgCount("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return validateArgCount("DataSnapshot.child",0,1,arguments.length),i=String(i),validatePathString("DataSnapshot.child","path",i,!1),new DataSnapshot(this._database,this._delegate.child(i))}hasChild(i){return validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),validatePathString("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return validateArgCount("DataSnapshot.forEach",1,1,arguments.length),validateCallback("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(o=>i(new DataSnapshot(this._database,o)))}hasChildren(){return validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return validateArgCount("DataSnapshot.ref",0,0,arguments.length),new Reference(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Query$1{constructor(i,o){this.database=i,this._delegate=o}on(i,o,et,$l){var Nl;validateArgCount("Query.on",2,4,arguments.length),validateCallback("Query.on","callback",o,!1);const Ml=Query$1.getCancelAndContextArgs_("Query.on",et,$l),Ol=(Fl,Bl)=>{o.call(Ml.context,new DataSnapshot(this.database,Fl),Bl)};Ol.userCallback=o,Ol.context=Ml.context;const Ll=(Nl=Ml.cancel)===null||Nl===void 0?void 0:Nl.bind(Ml.context);switch(i){case"value":return onValue(this._delegate,Ol,Ll),o;case"child_added":return onChildAdded(this._delegate,Ol,Ll),o;case"child_removed":return onChildRemoved(this._delegate,Ol,Ll),o;case"child_changed":return onChildChanged(this._delegate,Ol,Ll),o;case"child_moved":return onChildMoved(this._delegate,Ol,Ll),o;default:throw new Error(errorPrefix("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,o,et){if(validateArgCount("Query.off",0,3,arguments.length),validateEventType("Query.off",i,!0),validateCallback("Query.off","callback",o,!0),validateContextObject("Query.off","context",et,!0),o){const $l=()=>{};$l.userCallback=o,$l.context=et,off(this._delegate,i,$l)}else off(this._delegate,i)}get(){return get(this._delegate).then(i=>new DataSnapshot(this.database,i))}once(i,o,et,$l){validateArgCount("Query.once",1,4,arguments.length),validateCallback("Query.once","callback",o,!0);const Nl=Query$1.getCancelAndContextArgs_("Query.once",et,$l),Ml=new Deferred,Ol=(Fl,Bl)=>{const Ul=new DataSnapshot(this.database,Fl);o&&o.call(Nl.context,Ul,Bl),Ml.resolve(Ul)};Ol.userCallback=o,Ol.context=Nl.context;const Ll=Fl=>{Nl.cancel&&Nl.cancel.call(Nl.context,Fl),Ml.reject(Fl)};switch(i){case"value":onValue(this._delegate,Ol,Ll,{onlyOnce:!0});break;case"child_added":onChildAdded(this._delegate,Ol,Ll,{onlyOnce:!0});break;case"child_removed":onChildRemoved(this._delegate,Ol,Ll,{onlyOnce:!0});break;case"child_changed":onChildChanged(this._delegate,Ol,Ll,{onlyOnce:!0});break;case"child_moved":onChildMoved(this._delegate,Ol,Ll,{onlyOnce:!0});break;default:throw new Error(errorPrefix("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return Ml.promise}limitToFirst(i){return validateArgCount("Query.limitToFirst",1,1,arguments.length),new Query$1(this.database,query(this._delegate,limitToFirst(i)))}limitToLast(i){return validateArgCount("Query.limitToLast",1,1,arguments.length),new Query$1(this.database,query(this._delegate,limitToLast(i)))}orderByChild(i){return validateArgCount("Query.orderByChild",1,1,arguments.length),new Query$1(this.database,query(this._delegate,orderByChild(i)))}orderByKey(){return validateArgCount("Query.orderByKey",0,0,arguments.length),new Query$1(this.database,query(this._delegate,orderByKey()))}orderByPriority(){return validateArgCount("Query.orderByPriority",0,0,arguments.length),new Query$1(this.database,query(this._delegate,orderByPriority()))}orderByValue(){return validateArgCount("Query.orderByValue",0,0,arguments.length),new Query$1(this.database,query(this._delegate,orderByValue()))}startAt(i=null,o){return validateArgCount("Query.startAt",0,2,arguments.length),new Query$1(this.database,query(this._delegate,startAt(i,o)))}startAfter(i=null,o){return validateArgCount("Query.startAfter",0,2,arguments.length),new Query$1(this.database,query(this._delegate,startAfter(i,o)))}endAt(i=null,o){return validateArgCount("Query.endAt",0,2,arguments.length),new Query$1(this.database,query(this._delegate,endAt(i,o)))}endBefore(i=null,o){return validateArgCount("Query.endBefore",0,2,arguments.length),new Query$1(this.database,query(this._delegate,endBefore(i,o)))}equalTo(i,o){return validateArgCount("Query.equalTo",1,2,arguments.length),new Query$1(this.database,query(this._delegate,equalTo(i,o)))}toString(){return validateArgCount("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return validateArgCount("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if(validateArgCount("Query.isEqual",1,1,arguments.length),!(i instanceof Query$1)){const o="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(o)}return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,o,et){const $l={cancel:void 0,context:void 0};if(o&&et)$l.cancel=o,validateCallback(i,"cancel",$l.cancel,!0),$l.context=et,validateContextObject(i,"context",$l.context,!0);else if(o)if(typeof o=="object"&&o!==null)$l.context=o;else if(typeof o=="function")$l.cancel=o;else throw new Error(errorPrefix(i,"cancelOrContext")+" must either be a cancel callback or a context object.");return $l}get ref(){return new Reference(this.database,new ReferenceImpl(this._delegate._repo,this._delegate._path))}}class Reference extends Query$1{constructor(i,o){super(i,new QueryImpl(o._repo,o._path,new QueryParams,!1)),this.database=i,this._delegate=o}getKey(){return validateArgCount("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return validateArgCount("Reference.child",1,1,arguments.length),typeof i=="number"&&(i=String(i)),new Reference(this.database,child(this._delegate,i))}getParent(){validateArgCount("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new Reference(this.database,i):null}getRoot(){return validateArgCount("Reference.root",0,0,arguments.length),new Reference(this.database,this._delegate.root)}set(i,o){validateArgCount("Reference.set",1,2,arguments.length),validateCallback("Reference.set","onComplete",o,!0);const et=set(this._delegate,i);return o&&et.then(()=>o(null),$l=>o($l)),et}update(i,o){if(validateArgCount("Reference.update",1,2,arguments.length),Array.isArray(i)){const $l={};for(let Nl=0;Nl<i.length;++Nl)$l[""+Nl]=i[Nl];i=$l,warn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}validateWritablePath("Reference.update",this._delegate._path),validateCallback("Reference.update","onComplete",o,!0);const et=update(this._delegate,i);return o&&et.then(()=>o(null),$l=>o($l)),et}setWithPriority(i,o,et){validateArgCount("Reference.setWithPriority",2,3,arguments.length),validateCallback("Reference.setWithPriority","onComplete",et,!0);const $l=setWithPriority(this._delegate,i,o);return et&&$l.then(()=>et(null),Nl=>et(Nl)),$l}remove(i){validateArgCount("Reference.remove",0,1,arguments.length),validateCallback("Reference.remove","onComplete",i,!0);const o=remove(this._delegate);return i&&o.then(()=>i(null),et=>i(et)),o}transaction(i,o,et){validateArgCount("Reference.transaction",1,3,arguments.length),validateCallback("Reference.transaction","transactionUpdate",i,!1),validateCallback("Reference.transaction","onComplete",o,!0),validateBoolean("Reference.transaction","applyLocally",et,!0);const $l=runTransaction(this._delegate,i,{applyLocally:et}).then(Nl=>new TransactionResult(Nl.committed,new DataSnapshot(this.database,Nl.snapshot)));return o&&$l.then(Nl=>o(null,Nl.committed,Nl.snapshot),Nl=>o(Nl,!1,null)),$l}setPriority(i,o){validateArgCount("Reference.setPriority",1,2,arguments.length),validateCallback("Reference.setPriority","onComplete",o,!0);const et=setPriority(this._delegate,i);return o&&et.then(()=>o(null),$l=>o($l)),et}push(i,o){validateArgCount("Reference.push",0,2,arguments.length),validateCallback("Reference.push","onComplete",o,!0);const et=push(this._delegate,i),$l=et.then(Ml=>new Reference(this.database,Ml));o&&$l.then(()=>o(null),Ml=>o(Ml));const Nl=new Reference(this.database,et);return Nl.then=$l.then.bind($l),Nl.catch=$l.catch.bind($l,void 0),Nl}onDisconnect(){return validateWritablePath("Reference.onDisconnect",this._delegate._path),new OnDisconnect(new OnDisconnect$1(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Database{constructor(i,o){this._delegate=i,this.app=o,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets,forceLongPolling}}useEmulator(i,o,et={}){connectDatabaseEmulator(this._delegate,i,o,et)}ref(i){if(validateArgCount("database.ref",0,1,arguments.length),i instanceof Reference){const o=refFromURL(this._delegate,i.toString());return new Reference(this,o)}else{const o=ref(this._delegate,i);return new Reference(this,o)}}refFromURL(i){validateArgCount("database.refFromURL",1,1,arguments.length);const et=refFromURL(this._delegate,i);return new Reference(this,et)}goOffline(){return validateArgCount("database.goOffline",0,0,arguments.length),goOffline(this._delegate)}goOnline(){return validateArgCount("database.goOnline",0,0,arguments.length),goOnline(this._delegate)}}Database.ServerValue={TIMESTAMP:serverTimestamp(),increment:s=>increment(s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initStandalone({app:s,url:i,version:o,customAuthImpl:et,namespace:$l,nodeAdmin:Nl=!1}){setSDKVersion(o);const Ml=new Provider("auth-internal",new ComponentContainer("database-standalone"));return Ml.setComponent(new Component("auth-internal",()=>et,"PRIVATE")),{instance:new Database(repoManagerDatabaseFromApp(s,Ml,void 0,i,Nl),s),namespace:$l}}var INTERNAL=Object.freeze({__proto__:null,initStandalone});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ServerValue=Database.ServerValue;function registerDatabase(s){s.INTERNAL.registerComponent(new Component("database-compat",(i,{instanceIdentifier:o})=>{const et=i.getProvider("app-compat").getImmediate(),$l=i.getProvider("database").getImmediate({identifier:o});return new Database($l,et)},"PUBLIC").setServiceProps({Reference,Query:Query$1,Database,DataSnapshot,enableLogging,INTERNAL,ServerValue}).setMultipleInstances(!0)),s.registerVersion(name$c,version$c)}registerDatabase(firebase);const name$b="@firebase/firestore-compat",version$b="0.1.21";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function validateSetOptions(s,i){if(i===void 0)return{merge:!1};if(i.mergeFields!==void 0&&i.merge!==void 0)throw new Q("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertUint8ArrayAvailable(){if(typeof Uint8Array=="undefined")throw new Q("unimplemented","Uint8Arrays are not available in this environment.")}function assertBase64Available(){if(!Ht())throw new Q("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Blob$1{constructor(i){this._delegate=i}static fromBase64String(i){return assertBase64Available(),new Blob$1(eh.fromBase64String(i))}static fromUint8Array(i){return assertUint8ArrayAvailable(),new Blob$1(eh.fromUint8Array(i))}toBase64(){return assertBase64Available(),this._delegate.toBase64()}toUint8Array(){return assertUint8ArrayAvailable(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isPartialObserver(s){return implementsAnyMethods(s,["next","error","complete"])}function implementsAnyMethods(s,i){if(typeof s!="object"||s===null)return!1;const o=s;for(const et of i)if(et in o&&typeof o[et]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IndexedDbPersistenceProvider{enableIndexedDbPersistence(i,o){return qa(i._delegate,{forceOwnership:o})}enableMultiTabIndexedDbPersistence(i){return Ka(i._delegate)}clearIndexedDbPersistence(i){return Qa(i._delegate)}}class Firestore{constructor(i,o,et){this._delegate=o,this._persistenceProvider=et,this.INTERNAL={delete:()=>this.terminate()},i instanceof re||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const o=this._delegate._getSettings();!i.merge&&o.host!==i.host&&$("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&(i=Object.assign(Object.assign({},o),i),delete i.merge),this._delegate._setSettings(i)}useEmulator(i,o,et={}){Ra(this._delegate,i,o,et)}enableNetwork(){return Wa(this._delegate)}disableNetwork(){return za(this._delegate)}enablePersistence(i){let o=!1,et=!1;return i&&(o=!!i.synchronizeTabs,et=!!i.experimentalForceOwningTab,ma("synchronizeTabs",o,"experimentalForceOwningTab",et)),o?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,et)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return ja(this._delegate)}onSnapshotsInSync(i){return Al(this._delegate,i)}get app(){if(!this._appCompat)throw new Q("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new CollectionReference(this,Va(this._delegate,i))}catch(o){throw replaceFunctionName(o,"collection()","Firestore.collection()")}}doc(i){try{return new DocumentReference(this,Da(this._delegate,i))}catch(o){throw replaceFunctionName(o,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new Query(this,Sa(this._delegate,i))}catch(o){throw replaceFunctionName(o,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return vl(this._delegate,o=>i(new Transaction(this,o)))}batch(){return La(this._delegate),new WriteBatch(new al(this._delegate,i=>Rl(this._delegate,i)))}loadBundle(i){return Ja(this._delegate,i)}namedQuery(i){return Ya(this._delegate,i).then(o=>o?new Query(this,o):null)}}class UserDataWriter extends ol{constructor(i){super(),this.firestore=i}convertBytes(i){return new Blob$1(new eh(i))}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return DocumentReference.forKey(o,this.firestore,null)}}function setLogLevel$1(s){O(s)}class Transaction{constructor(i,o){this._firestore=i,this._delegate=o,this._userDataWriter=new UserDataWriter(i)}get(i){const o=castReference(i);return this._delegate.get(o).then(et=>new DocumentSnapshot(this._firestore,new kh(this._firestore._delegate,this._userDataWriter,et._key,et._document,et.metadata,o.converter)))}set(i,o,et){const $l=castReference(i);return et?(validateSetOptions("Transaction.set",et),this._delegate.set($l,o,et)):this._delegate.set($l,o),this}update(i,o,et,...$l){const Nl=castReference(i);return arguments.length===2?this._delegate.update(Nl,o):this._delegate.update(Nl,o,et,...$l),this}delete(i){const o=castReference(i);return this._delegate.delete(o),this}}class WriteBatch{constructor(i){this._delegate=i}set(i,o,et){const $l=castReference(i);return et?(validateSetOptions("WriteBatch.set",et),this._delegate.set($l,o,et)):this._delegate.set($l,o),this}update(i,o,et,...$l){const Nl=castReference(i);return arguments.length===2?this._delegate.update(Nl,o):this._delegate.update(Nl,o,et,...$l),this}delete(i){const o=castReference(i);return this._delegate.delete(o),this}commit(){return this._delegate.commit()}}class FirestoreDataConverter{constructor(i,o,et){this._firestore=i,this._userDataWriter=o,this._delegate=et}fromFirestore(i,o){const et=new Oh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new QueryDocumentSnapshot(this._firestore,et),o!=null?o:{})}toFirestore(i,o){return o?this._delegate.toFirestore(i,o):this._delegate.toFirestore(i)}static getInstance(i,o){const et=FirestoreDataConverter.INSTANCES;let $l=et.get(i);$l||($l=new WeakMap,et.set(i,$l));let Nl=$l.get(o);return Nl||(Nl=new FirestoreDataConverter(i,new UserDataWriter(i),o),$l.set(o,Nl)),Nl}}FirestoreDataConverter.INSTANCES=new WeakMap;class DocumentReference{constructor(i,o){this.firestore=i,this._delegate=o,this._userDataWriter=new UserDataWriter(i)}static forPath(i,o,et){if(i.length%2!==0)throw new Q("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new DocumentReference(o,new ba(o._delegate,et,new dt(i)))}static forKey(i,o,et){return new DocumentReference(o,new ba(o._delegate,et,i))}get id(){return this._delegate.id}get parent(){return new CollectionReference(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new CollectionReference(this.firestore,Va(this._delegate,i))}catch(o){throw replaceFunctionName(o,"collection()","DocumentReference.collection()")}}isEqual(i){return i=getModularInstance(i),i instanceof ba?Ca(this._delegate,i):!1}set(i,o){o=validateSetOptions("DocumentReference.set",o);try{return o?yl(this._delegate,i,o):yl(this._delegate,i)}catch(et){throw replaceFunctionName(et,"setDoc()","DocumentReference.set()")}}update(i,o,...et){try{return arguments.length===1?pl(this._delegate,i):pl(this._delegate,i,o,...et)}catch($l){throw replaceFunctionName($l,"updateDoc()","DocumentReference.update()")}}delete(){return Il(this._delegate)}onSnapshot(...i){const o=extractSnapshotOptions(i),et=wrapObserver(i,$l=>new DocumentSnapshot(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,$l._key,$l._document,$l.metadata,this._delegate.converter)));return El(this._delegate,o,et)}get(i){let o;return(i==null?void 0:i.source)==="cache"?o=dl(this._delegate):(i==null?void 0:i.source)==="server"?o=_l(this._delegate):o=ll(this._delegate),o.then(et=>new DocumentSnapshot(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,et._key,et._document,et.metadata,this._delegate.converter)))}withConverter(i){return new DocumentReference(this.firestore,i?this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore,i)):this._delegate.withConverter(null))}}function replaceFunctionName(s,i,o){return s.message=s.message.replace(i,o),s}function extractSnapshotOptions(s){for(const i of s)if(typeof i=="object"&&!isPartialObserver(i))return i;return{}}function wrapObserver(s,i){var o,et;let $l;return isPartialObserver(s[0])?$l=s[0]:isPartialObserver(s[1])?$l=s[1]:typeof s[0]=="function"?$l={next:s[0],error:s[1],complete:s[2]}:$l={next:s[1],error:s[2],complete:s[3]},{next:Nl=>{$l.next&&$l.next(i(Nl))},error:(o=$l.error)===null||o===void 0?void 0:o.bind($l),complete:(et=$l.complete)===null||et===void 0?void 0:et.bind($l)}}class DocumentSnapshot{constructor(i,o){this._firestore=i,this._delegate=o}get ref(){return new DocumentReference(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,o){return this._delegate.get(i,o)}isEqual(i){return $h(this._delegate,i._delegate)}}class QueryDocumentSnapshot extends DocumentSnapshot{data(i){const o=this._delegate.data(i);return q(o!==void 0),o}}class Query{constructor(i,o){this.firestore=i,this._delegate=o,this._userDataWriter=new UserDataWriter(i)}where(i,o,et){try{return new Query(this.firestore,Uh(this._delegate,Kh(i,o,et)))}catch($l){throw replaceFunctionName($l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,o){try{return new Query(this.firestore,Uh(this._delegate,Qh(i,o)))}catch(et){throw replaceFunctionName(et,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new Query(this.firestore,Uh(this._delegate,Wh(i)))}catch(o){throw replaceFunctionName(o,"limit()","Query.limit()")}}limitToLast(i){try{return new Query(this.firestore,Uh(this._delegate,zh(i)))}catch(o){throw replaceFunctionName(o,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new Query(this.firestore,Uh(this._delegate,Jh(...i)))}catch(o){throw replaceFunctionName(o,"startAt()","Query.startAt()")}}startAfter(...i){try{return new Query(this.firestore,Uh(this._delegate,Yh(...i)))}catch(o){throw replaceFunctionName(o,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new Query(this.firestore,Uh(this._delegate,Zh(...i)))}catch(o){throw replaceFunctionName(o,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new Query(this.firestore,Uh(this._delegate,tl(...i)))}catch(o){throw replaceFunctionName(o,"endAt()","Query.endAt()")}}isEqual(i){return xa(this._delegate,i._delegate)}get(i){let o;return(i==null?void 0:i.source)==="cache"?o=ml(this._delegate):(i==null?void 0:i.source)==="server"?o=gl(this._delegate):o=wl(this._delegate),o.then(et=>new QuerySnapshot(this.firestore,new Mh(this.firestore._delegate,this._userDataWriter,this._delegate,et._snapshot)))}onSnapshot(...i){const o=extractSnapshotOptions(i),et=wrapObserver(i,$l=>new QuerySnapshot(this.firestore,new Mh(this.firestore._delegate,this._userDataWriter,this._delegate,$l._snapshot)));return El(this._delegate,o,et)}withConverter(i){return new Query(this.firestore,i?this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore,i)):this._delegate.withConverter(null))}}class DocumentChange{constructor(i,o){this._firestore=i,this._delegate=o}get type(){return this._delegate.type}get doc(){return new QueryDocumentSnapshot(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class QuerySnapshot{constructor(i,o){this._firestore=i,this._delegate=o}get query(){return new Query(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new QueryDocumentSnapshot(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(o=>new DocumentChange(this._firestore,o))}forEach(i,o){this._delegate.forEach(et=>{i.call(o,new QueryDocumentSnapshot(this._firestore,et))})}isEqual(i){return $h(this._delegate,i._delegate)}}class CollectionReference extends Query{constructor(i,o){super(i,o),this.firestore=i,this._delegate=o}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new DocumentReference(this.firestore,i):null}doc(i){try{return i===void 0?new DocumentReference(this.firestore,Da(this._delegate)):new DocumentReference(this.firestore,Da(this._delegate,i))}catch(o){throw replaceFunctionName(o,"doc()","CollectionReference.doc()")}}add(i){return Tl(this._delegate,i).then(o=>new DocumentReference(this.firestore,o))}isEqual(i){return Ca(this._delegate,i._delegate)}withConverter(i){return new CollectionReference(this.firestore,i?this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore,i)):this._delegate.withConverter(null))}}function castReference(s){return Ia(s,ba)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...i){this._delegate=new Za(...i)}static documentId(){return new FieldPath(ft.keyField().canonicalString())}isEqual(i){return i=getModularInstance(i),i instanceof Za?this._delegate._internalPath.isEqual(i._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(i){this._delegate=i}static serverTimestamp(){const i=Sl();return i._methodName="FieldValue.serverTimestamp",new FieldValue(i)}static delete(){const i=Vl();return i._methodName="FieldValue.delete",new FieldValue(i)}static arrayUnion(...i){const o=Dl(...i);return o._methodName="FieldValue.arrayUnion",new FieldValue(o)}static arrayRemove(...i){const o=Cl(...i);return o._methodName="FieldValue.arrayRemove",new FieldValue(o)}static increment(i){const o=xl(i);return o._methodName="FieldValue.increment",new FieldValue(o)}isEqual(i){return this._delegate.isEqual(i._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const firestoreNamespace={Firestore,GeoPoint:sh,Timestamp:ut,Blob:Blob$1,Transaction,WriteBatch,DocumentReference,DocumentSnapshot,Query,QueryDocumentSnapshot,QuerySnapshot,CollectionReference,FieldPath,FieldValue,setLogLevel:setLogLevel$1,CACHE_SIZE_UNLIMITED:Ma};function configureForFirebase(s,i){s.INTERNAL.registerComponent(new Component("firestore-compat",o=>{const et=o.getProvider("app-compat").getImmediate(),$l=o.getProvider("firestore").getImmediate();return i(et,$l)},"PUBLIC").setServiceProps(Object.assign({},firestoreNamespace)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerFirestore(s){configureForFirebase(s,(i,o)=>new Firestore(i,o,new IndexedDbPersistenceProvider)),s.registerVersion(name$b,version$b)}registerFirestore(firebase);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_TYPE="type.googleapis.com/google.protobuf.Int64Value",UNSIGNED_LONG_TYPE="type.googleapis.com/google.protobuf.UInt64Value";function mapValues(s,i){const o={};for(const et in s)s.hasOwnProperty(et)&&(o[et]=i(s[et]));return o}function encode(s){if(s==null)return null;if(s instanceof Number&&(s=s.valueOf()),typeof s=="number"&&isFinite(s)||s===!0||s===!1||Object.prototype.toString.call(s)==="[object String]")return s;if(s instanceof Date)return s.toISOString();if(Array.isArray(s))return s.map(i=>encode(i));if(typeof s=="function"||typeof s=="object")return mapValues(s,i=>encode(i));throw new Error("Data cannot be encoded in JSON: "+s)}function decode(s){if(s==null)return s;if(s["@type"])switch(s["@type"]){case LONG_TYPE:case UNSIGNED_LONG_TYPE:{const i=Number(s.value);if(isNaN(i))throw new Error("Data cannot be decoded from JSON: "+s);return i}default:throw new Error("Data cannot be decoded from JSON: "+s)}return Array.isArray(s)?s.map(i=>decode(i)):typeof s=="function"||typeof s=="object"?mapValues(s,i=>decode(i)):s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FUNCTIONS_TYPE="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const errorCodeMap={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FunctionsError extends FirebaseError{constructor(i,o,et){super(`${FUNCTIONS_TYPE}/${i}`,o||""),this.details=et}}function codeForHTTPStatus(s){if(s>=200&&s<300)return"ok";switch(s){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function _errorForResponse(s,i){let o=codeForHTTPStatus(s),et=o,$l;try{const Nl=i&&i.error;if(Nl){const Ml=Nl.status;if(typeof Ml=="string"){if(!errorCodeMap[Ml])return new FunctionsError("internal","internal");o=errorCodeMap[Ml],et=Ml}const Ol=Nl.message;typeof Ol=="string"&&(et=Ol),$l=Nl.details,$l!==void 0&&($l=decode($l))}}catch{}return o==="ok"?null:new FunctionsError(o,et,$l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ContextProvider{constructor(i,o,et){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=i.getImmediate({optional:!0}),this.messaging=o.getImmediate({optional:!0}),this.auth||i.get().then($l=>this.auth=$l,()=>{}),this.messaging||o.get().then($l=>this.messaging=$l,()=>{}),this.appCheck||et.get().then($l=>this.appCheck=$l,()=>{})}async getAuthToken(){if(!!this.auth)try{const i=await this.auth.getToken();return i==null?void 0:i.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(){if(this.appCheck){const i=await this.appCheck.getToken();return i.error?null:i.token}return null}async getContext(){const i=await this.getAuthToken(),o=await this.getMessagingToken(),et=await this.getAppCheckToken();return{authToken:i,messagingToken:o,appCheckToken:et}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_REGION$1="us-central1";function failAfter(s){let i=null;return{promise:new Promise((o,et)=>{i=setTimeout(()=>{et(new FunctionsError("deadline-exceeded","deadline-exceeded"))},s)}),cancel:()=>{i&&clearTimeout(i)}}}class FunctionsService$1{constructor(i,o,et,$l,Nl=DEFAULT_REGION$1,Ml){this.app=i,this.fetchImpl=Ml,this.emulatorOrigin=null,this.contextProvider=new ContextProvider(o,et,$l),this.cancelAllRequests=new Promise(Ol=>{this.deleteService=()=>Promise.resolve(Ol())});try{const Ol=new URL(Nl);this.customDomain=Ol.origin,this.region=DEFAULT_REGION$1}catch{this.customDomain=null,this.region=Nl}}_delete(){return this.deleteService()}_url(i){const o=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${o}/${this.region}/${i}`:this.customDomain!==null?`${this.customDomain}/${i}`:`https://${this.region}-${o}.cloudfunctions.net/${i}`}}function connectFunctionsEmulator$1(s,i,o){s.emulatorOrigin=`http://${i}:${o}`}function httpsCallable$1(s,i,o){return et=>call(s,i,et,o||{})}function httpsCallableFromURL$1(s,i,o){return et=>callAtURL(s,i,et,o||{})}async function postJSON(s,i,o,et){o["Content-Type"]="application/json";let $l;try{$l=await et(s,{method:"POST",body:JSON.stringify(i),headers:o})}catch{return{status:0,json:null}}let Nl=null;try{Nl=await $l.json()}catch{}return{status:$l.status,json:Nl}}function call(s,i,o,et){const $l=s._url(i);return callAtURL(s,$l,o,et)}async function callAtURL(s,i,o,et){o=encode(o);const $l={data:o},Nl={},Ml=await s.contextProvider.getContext();Ml.authToken&&(Nl.Authorization="Bearer "+Ml.authToken),Ml.messagingToken&&(Nl["Firebase-Instance-ID-Token"]=Ml.messagingToken),Ml.appCheckToken!==null&&(Nl["X-Firebase-AppCheck"]=Ml.appCheckToken);const Ol=et.timeout||7e4,Ll=failAfter(Ol),Fl=await Promise.race([postJSON(i,$l,Nl,s.fetchImpl),Ll.promise,s.cancelAllRequests]);if(Ll.cancel(),!Fl)throw new FunctionsError("cancelled","Firebase Functions instance was deleted.");const Bl=_errorForResponse(Fl.status,Fl.json);if(Bl)throw Bl;if(!Fl.json)throw new FunctionsError("internal","Response is not valid JSON object.");let Ul=Fl.json.data;if(typeof Ul=="undefined"&&(Ul=Fl.json.result),typeof Ul=="undefined")throw new FunctionsError("internal","Response is missing data field.");return{data:decode(Ul)}}const name$a="@firebase/functions",version$a="0.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AUTH_INTERNAL_NAME="auth-internal",APP_CHECK_INTERNAL_NAME="app-check-internal",MESSAGING_INTERNAL_NAME="messaging-internal";function registerFunctions$1(s,i){const o=(et,{instanceIdentifier:$l})=>{const Nl=et.getProvider("app").getImmediate(),Ml=et.getProvider(AUTH_INTERNAL_NAME),Ol=et.getProvider(MESSAGING_INTERNAL_NAME),Ll=et.getProvider(APP_CHECK_INTERNAL_NAME);return new FunctionsService$1(Nl,Ml,Ol,Ll,$l,s)};_registerComponent(new Component(FUNCTIONS_TYPE,o,"PUBLIC").setMultipleInstances(!0)),registerVersion(name$a,version$a,i),registerVersion(name$a,version$a,"esm2017")}function connectFunctionsEmulator(s,i,o){connectFunctionsEmulator$1(getModularInstance(s),i,o)}function httpsCallable(s,i,o){return httpsCallable$1(getModularInstance(s),i,o)}function httpsCallableFromURL(s,i,o){return httpsCallableFromURL$1(getModularInstance(s),i,o)}registerFunctions$1(fetch.bind(self));const name$9="@firebase/functions-compat",version$9="0.2.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FunctionsService{constructor(i,o){this.app=i,this._delegate=o,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(i,o){return httpsCallable(this._delegate,i,o)}httpsCallableFromURL(i,o){return httpsCallableFromURL(this._delegate,i,o)}useFunctionsEmulator(i){const o=i.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(o==null)throw new FirebaseError("functions","No origin provided to useFunctionsEmulator()");if(o[2]==null)throw new FirebaseError("functions","Port missing in origin provided to useFunctionsEmulator()");return connectFunctionsEmulator(this._delegate,o[1],Number(o[2]))}useEmulator(i,o){return connectFunctionsEmulator(this._delegate,i,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_REGION="us-central1",factory$2=(s,{instanceIdentifier:i})=>{const o=s.getProvider("app-compat").getImmediate(),et=s.getProvider("functions").getImmediate({identifier:i!=null?i:DEFAULT_REGION});return new FunctionsService(o,et)};function registerFunctions(){const s={Functions:FunctionsService};firebase.INTERNAL.registerComponent(new Component("functions-compat",factory$2,"PUBLIC").setServiceProps(s).setMultipleInstances(!0))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerFunctions();firebase.registerVersion(name$9,version$9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_SW_PATH="/firebase-messaging-sw.js",DEFAULT_SW_SCOPE="/firebase-cloud-messaging-push-scope",DEFAULT_VAPID_KEY$1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ENDPOINT$1="https://fcmregistrations.googleapis.com/v1",CONSOLE_CAMPAIGN_ID$1="google.c.a.c_id",CONSOLE_CAMPAIGN_NAME="google.c.a.c_l",CONSOLE_CAMPAIGN_TIME="google.c.a.ts",CONSOLE_CAMPAIGN_ANALYTICS_ENABLED="google.c.a.e";var MessageType$1$1;(function(s){s[s.DATA_MESSAGE=1]="DATA_MESSAGE",s[s.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(MessageType$1$1||(MessageType$1$1={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var MessageType$2;(function(s){s.PUSH_RECEIVED="push-received",s.NOTIFICATION_CLICKED="notification-clicked"})(MessageType$2||(MessageType$2={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function arrayToBase64$1(s){const i=new Uint8Array(s);return btoa(String.fromCharCode(...i)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function base64ToArray$1(s){const i="=".repeat((4-s.length%4)%4),o=(s+i).replace(/\-/g,"+").replace(/_/g,"/"),et=atob(o),$l=new Uint8Array(et.length);for(let Nl=0;Nl<et.length;++Nl)$l[Nl]=et.charCodeAt(Nl);return $l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OLD_DB_NAME$1="fcm_token_details_db",OLD_DB_VERSION$1=5,OLD_OBJECT_STORE_NAME$1="fcm_token_object_Store";async function migrateOldDatabase$1(s){if("databases"in indexedDB&&!(await indexedDB.databases()).map(Nl=>Nl.name).includes(OLD_DB_NAME$1))return null;let i=null;return(await openDB(OLD_DB_NAME$1,OLD_DB_VERSION$1,{upgrade:async(et,$l,Nl,Ml)=>{var Ol;if($l<2||!et.objectStoreNames.contains(OLD_OBJECT_STORE_NAME$1))return;const Ll=Ml.objectStore(OLD_OBJECT_STORE_NAME$1),Fl=await Ll.index("fcmSenderId").get(s);if(await Ll.clear(),!!Fl){if($l===2){const Bl=Fl;if(!Bl.auth||!Bl.p256dh||!Bl.endpoint)return;i={token:Bl.fcmToken,createTime:(Ol=Bl.createTime)!==null&&Ol!==void 0?Ol:Date.now(),subscriptionOptions:{auth:Bl.auth,p256dh:Bl.p256dh,endpoint:Bl.endpoint,swScope:Bl.swScope,vapidKey:typeof Bl.vapidKey=="string"?Bl.vapidKey:arrayToBase64$1(Bl.vapidKey)}}}else if($l===3){const Bl=Fl;i={token:Bl.fcmToken,createTime:Bl.createTime,subscriptionOptions:{auth:arrayToBase64$1(Bl.auth),p256dh:arrayToBase64$1(Bl.p256dh),endpoint:Bl.endpoint,swScope:Bl.swScope,vapidKey:arrayToBase64$1(Bl.vapidKey)}}}else if($l===4){const Bl=Fl;i={token:Bl.fcmToken,createTime:Bl.createTime,subscriptionOptions:{auth:arrayToBase64$1(Bl.auth),p256dh:arrayToBase64$1(Bl.p256dh),endpoint:Bl.endpoint,swScope:Bl.swScope,vapidKey:arrayToBase64$1(Bl.vapidKey)}}}}}})).close(),await deleteDB(OLD_DB_NAME$1),await deleteDB("fcm_vapid_details_db"),await deleteDB("undefined"),checkTokenDetails$1(i)?i:null}function checkTokenDetails$1(s){if(!s||!s.subscriptionOptions)return!1;const{subscriptionOptions:i}=s;return typeof s.createTime=="number"&&s.createTime>0&&typeof s.token=="string"&&s.token.length>0&&typeof i.auth=="string"&&i.auth.length>0&&typeof i.p256dh=="string"&&i.p256dh.length>0&&typeof i.endpoint=="string"&&i.endpoint.length>0&&typeof i.swScope=="string"&&i.swScope.length>0&&typeof i.vapidKey=="string"&&i.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME$1="firebase-messaging-database",DATABASE_VERSION$1=1,OBJECT_STORE_NAME$1="firebase-messaging-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DATABASE_NAME$1,DATABASE_VERSION$1,{upgrade:(s,i)=>{switch(i){case 0:s.createObjectStore(OBJECT_STORE_NAME$1)}}})),dbPromise$1}async function dbGet$1(s){const i=getKey$1(s),et=await(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1).objectStore(OBJECT_STORE_NAME$1).get(i);if(et)return et;{const $l=await migrateOldDatabase$1(s.appConfig.senderId);if($l)return await dbSet$1(s,$l),$l}}async function dbSet$1(s,i){const o=getKey$1(s),$l=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite");return await $l.objectStore(OBJECT_STORE_NAME$1).put(i,o),await $l.done,i}async function dbRemove$1(s){const i=getKey$1(s),et=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite");await et.objectStore(OBJECT_STORE_NAME$1).delete(i),await et.done}function getKey$1({appConfig:s}){return s.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_MAP$1={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["only-available-in-window"]:"This method is available in a Window context.",["only-available-in-sw"]:"This method is available in a service worker context.",["permission-default"]:"The notification permission was not granted and dismissed instead.",["permission-blocked"]:"The notification permission was not granted and blocked instead.",["unsupported-browser"]:"This browser doesn't support the API's required to use the Firebase SDK.",["indexed-db-unsupported"]:"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)",["failed-service-worker-registration"]:"We are unable to register the default service worker. {$browserErrorMessage}",["token-subscribe-failed"]:"A problem occurred while subscribing the user to FCM: {$errorInfo}",["token-subscribe-no-token"]:"FCM returned no token when subscribing the user to push.",["token-unsubscribe-failed"]:"A problem occurred while unsubscribing the user from FCM: {$errorInfo}",["token-update-failed"]:"A problem occurred while updating the user from FCM: {$errorInfo}",["token-update-no-token"]:"FCM returned no token when updating the user to push.",["use-sw-after-get-token"]:"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",["invalid-sw-registration"]:"The input to useServiceWorker() must be a ServiceWorkerRegistration.",["invalid-bg-handler"]:"The input to setBackgroundMessageHandler() must be a function.",["invalid-vapid-key"]:"The public VAPID key must be a string.",["use-vapid-key-after-get-token"]:"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ERROR_FACTORY$3=new ErrorFactory("messaging","Messaging",ERROR_MAP$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestGetToken$1(s,i){var o;const et=await getHeaders$1(s),$l=getBody$1(i),Nl={method:"POST",headers:et,body:JSON.stringify($l)};let Ml;try{Ml=await(await fetch(getEndpoint$1(s.appConfig),Nl)).json()}catch(Ol){throw ERROR_FACTORY$3.create("token-subscribe-failed",{errorInfo:(o=Ol)===null||o===void 0?void 0:o.toString()})}if(Ml.error){const Ol=Ml.error.message;throw ERROR_FACTORY$3.create("token-subscribe-failed",{errorInfo:Ol})}if(!Ml.token)throw ERROR_FACTORY$3.create("token-subscribe-no-token");return Ml.token}async function requestUpdateToken$1(s,i){var o;const et=await getHeaders$1(s),$l=getBody$1(i.subscriptionOptions),Nl={method:"PATCH",headers:et,body:JSON.stringify($l)};let Ml;try{Ml=await(await fetch(`${getEndpoint$1(s.appConfig)}/${i.token}`,Nl)).json()}catch(Ol){throw ERROR_FACTORY$3.create("token-update-failed",{errorInfo:(o=Ol)===null||o===void 0?void 0:o.toString()})}if(Ml.error){const Ol=Ml.error.message;throw ERROR_FACTORY$3.create("token-update-failed",{errorInfo:Ol})}if(!Ml.token)throw ERROR_FACTORY$3.create("token-update-no-token");return Ml.token}async function requestDeleteToken$1(s,i){var o;const et=await getHeaders$1(s),$l={method:"DELETE",headers:et};try{const Ml=await(await fetch(`${getEndpoint$1(s.appConfig)}/${i}`,$l)).json();if(Ml.error){const Ol=Ml.error.message;throw ERROR_FACTORY$3.create("token-unsubscribe-failed",{errorInfo:Ol})}}catch(Nl){throw ERROR_FACTORY$3.create("token-unsubscribe-failed",{errorInfo:(o=Nl)===null||o===void 0?void 0:o.toString()})}}function getEndpoint$1({projectId:s}){return`${ENDPOINT$1}/projects/${s}/registrations`}async function getHeaders$1({appConfig:s,installations:i}){const o=await i.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s.apiKey,"x-goog-firebase-installations-auth":`FIS ${o}`})}function getBody$1({p256dh:s,auth:i,endpoint:o,vapidKey:et}){const $l={web:{endpoint:o,auth:i,p256dh:s}};return et!==DEFAULT_VAPID_KEY$1&&($l.web.applicationPubKey=et),$l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TOKEN_EXPIRATION_MS$1=7*24*60*60*1e3;async function getTokenInternal$1(s){const i=await getPushSubscription$1(s.swRegistration,s.vapidKey),o={vapidKey:s.vapidKey,swScope:s.swRegistration.scope,endpoint:i.endpoint,auth:arrayToBase64$1(i.getKey("auth")),p256dh:arrayToBase64$1(i.getKey("p256dh"))},et=await dbGet$1(s.firebaseDependencies);if(et){if(isTokenValid$1(et.subscriptionOptions,o))return Date.now()>=et.createTime+TOKEN_EXPIRATION_MS$1?updateToken$1(s,{token:et.token,createTime:Date.now(),subscriptionOptions:o}):et.token;try{await requestDeleteToken$1(s.firebaseDependencies,et.token)}catch($l){console.warn($l)}return getNewToken$1(s.firebaseDependencies,o)}else return getNewToken$1(s.firebaseDependencies,o)}async function deleteTokenInternal$1(s){const i=await dbGet$1(s.firebaseDependencies);i&&(await requestDeleteToken$1(s.firebaseDependencies,i.token),await dbRemove$1(s.firebaseDependencies));const o=await s.swRegistration.pushManager.getSubscription();return o?o.unsubscribe():!0}async function updateToken$1(s,i){try{const o=await requestUpdateToken$1(s.firebaseDependencies,i),et=Object.assign(Object.assign({},i),{token:o,createTime:Date.now()});return await dbSet$1(s.firebaseDependencies,et),o}catch(o){throw await deleteTokenInternal$1(s),o}}async function getNewToken$1(s,i){const et={token:await requestGetToken$1(s,i),createTime:Date.now(),subscriptionOptions:i};return await dbSet$1(s,et),et.token}async function getPushSubscription$1(s,i){const o=await s.pushManager.getSubscription();return o||s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:base64ToArray$1(i)})}function isTokenValid$1(s,i){const o=i.vapidKey===s.vapidKey,et=i.endpoint===s.endpoint,$l=i.auth===s.auth,Nl=i.p256dh===s.p256dh;return o&&et&&$l&&Nl}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function externalizePayload$1(s){const i={from:s.from,collapseKey:s.collapse_key,messageId:s.fcmMessageId};return propagateNotificationPayload$1(i,s),propagateDataPayload$1(i,s),propagateFcmOptions$1(i,s),i}function propagateNotificationPayload$1(s,i){if(!i.notification)return;s.notification={};const o=i.notification.title;o&&(s.notification.title=o);const et=i.notification.body;et&&(s.notification.body=et);const $l=i.notification.image;$l&&(s.notification.image=$l)}function propagateDataPayload$1(s,i){!i.data||(s.data=i.data)}function propagateFcmOptions$1(s,i){var o,et,$l,Nl,Ml;if(!i.fcmOptions&&!(!((o=i.notification)===null||o===void 0)&&o.click_action))return;s.fcmOptions={};const Ol=($l=(et=i.fcmOptions)===null||et===void 0?void 0:et.link)!==null&&$l!==void 0?$l:(Nl=i.notification)===null||Nl===void 0?void 0:Nl.click_action;Ol&&(s.fcmOptions.link=Ol);const Ll=(Ml=i.fcmOptions)===null||Ml===void 0?void 0:Ml.analytics_label;Ll&&(s.fcmOptions.analyticsLabel=Ll)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isConsoleMessage$1(s){return typeof s=="object"&&!!s&&CONSOLE_CAMPAIGN_ID$1 in s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_mergeStrings$1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");_mergeStrings$1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function _mergeStrings$1(s,i){const o=[];for(let et=0;et<s.length;et++)o.push(s.charAt(et)),et<i.length&&o.push(i.charAt(et));return o.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig$1(s){if(!s||!s.options)throw getMissingValueError$1("App Configuration Object");if(!s.name)throw getMissingValueError$1("App Name");const i=["projectId","apiKey","appId","messagingSenderId"],{options:o}=s;for(const et of i)if(!o[et])throw getMissingValueError$1(et);return{appName:s.name,projectId:o.projectId,apiKey:o.apiKey,appId:o.appId,senderId:o.messagingSenderId}}function getMissingValueError$1(s){return ERROR_FACTORY$3.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MessagingService$1{constructor(i,o,et){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $l=extractAppConfig$1(i);this.firebaseDependencies={app:i,appConfig:$l,installations:o,analyticsProvider:et}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function registerDefaultSw(s){var i;try{s.swRegistration=await navigator.serviceWorker.register(DEFAULT_SW_PATH,{scope:DEFAULT_SW_SCOPE}),s.swRegistration.update().catch(()=>{})}catch(o){throw ERROR_FACTORY$3.create("failed-service-worker-registration",{browserErrorMessage:(i=o)===null||i===void 0?void 0:i.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateSwReg(s,i){if(!i&&!s.swRegistration&&await registerDefaultSw(s),!(!i&&!!s.swRegistration)){if(!(i instanceof ServiceWorkerRegistration))throw ERROR_FACTORY$3.create("invalid-sw-registration");s.swRegistration=i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateVapidKey(s,i){i?s.vapidKey=i:s.vapidKey||(s.vapidKey=DEFAULT_VAPID_KEY$1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken$1(s,i){if(!navigator)throw ERROR_FACTORY$3.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ERROR_FACTORY$3.create("permission-blocked");return await updateVapidKey(s,i==null?void 0:i.vapidKey),await updateSwReg(s,i==null?void 0:i.serviceWorkerRegistration),getTokenInternal$1(s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function logToScion(s,i,o){const et=getEventType(i);(await s.firebaseDependencies.analyticsProvider.get()).logEvent(et,{message_id:o[CONSOLE_CAMPAIGN_ID$1],message_name:o[CONSOLE_CAMPAIGN_NAME],message_time:o[CONSOLE_CAMPAIGN_TIME],message_device_time:Math.floor(Date.now()/1e3)})}function getEventType(s){switch(s){case MessageType$2.NOTIFICATION_CLICKED:return"notification_open";case MessageType$2.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function messageEventListener(s,i){const o=i.data;if(!o.isFirebaseMessaging)return;s.onMessageHandler&&o.messageType===MessageType$2.PUSH_RECEIVED&&(typeof s.onMessageHandler=="function"?s.onMessageHandler(externalizePayload$1(o)):s.onMessageHandler.next(externalizePayload$1(o)));const et=o.data;isConsoleMessage$1(et)&&et[CONSOLE_CAMPAIGN_ANALYTICS_ENABLED]==="1"&&await logToScion(s,o.messageType,et)}const name$8="@firebase/messaging",version$8="0.9.16";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WindowMessagingFactory=s=>{const i=new MessagingService$1(s.getProvider("app").getImmediate(),s.getProvider("installations-internal").getImmediate(),s.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",o=>messageEventListener(i,o)),i},WindowMessagingInternalFactory=s=>{const i=s.getProvider("messaging").getImmediate();return{getToken:et=>getToken$1(i,et)}};function registerMessagingInWindow(){_registerComponent(new Component("messaging",WindowMessagingFactory,"PUBLIC")),_registerComponent(new Component("messaging-internal",WindowMessagingInternalFactory,"PRIVATE")),registerVersion(name$8,version$8),registerVersion(name$8,version$8,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteToken$1(s){if(!navigator)throw ERROR_FACTORY$3.create("only-available-in-window");return s.swRegistration||await registerDefaultSw(s),deleteTokenInternal$1(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function onMessage$1(s,i){if(!navigator)throw ERROR_FACTORY$3.create("only-available-in-window");return s.onMessageHandler=i,()=>{s.onMessageHandler=null}}async function getToken(s,i){return s=getModularInstance(s),getToken$1(s,i)}function deleteToken(s){return s=getModularInstance(s),deleteToken$1(s)}function onMessage(s,i){return s=getModularInstance(s),onMessage$1(s,i)}registerMessagingInWindow();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_VAPID_KEY="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ENDPOINT="https://fcmregistrations.googleapis.com/v1",FCM_MSG="FCM_MSG",CONSOLE_CAMPAIGN_ID="google.c.a.c_id",SDK_PLATFORM_WEB=3,EVENT_MESSAGE_DELIVERED=1;var MessageType$1;(function(s){s[s.DATA_MESSAGE=1]="DATA_MESSAGE",s[s.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(MessageType$1||(MessageType$1={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var MessageType;(function(s){s.PUSH_RECEIVED="push-received",s.NOTIFICATION_CLICKED="notification-clicked"})(MessageType||(MessageType={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function arrayToBase64(s){const i=new Uint8Array(s);return btoa(String.fromCharCode(...i)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function base64ToArray(s){const i="=".repeat((4-s.length%4)%4),o=(s+i).replace(/\-/g,"+").replace(/_/g,"/"),et=atob(o),$l=new Uint8Array(et.length);for(let Nl=0;Nl<et.length;++Nl)$l[Nl]=et.charCodeAt(Nl);return $l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OLD_DB_NAME="fcm_token_details_db",OLD_DB_VERSION=5,OLD_OBJECT_STORE_NAME="fcm_token_object_Store";async function migrateOldDatabase(s){if("databases"in indexedDB&&!(await indexedDB.databases()).map(Nl=>Nl.name).includes(OLD_DB_NAME))return null;let i=null;return(await openDB(OLD_DB_NAME,OLD_DB_VERSION,{upgrade:async(et,$l,Nl,Ml)=>{var Ol;if($l<2||!et.objectStoreNames.contains(OLD_OBJECT_STORE_NAME))return;const Ll=Ml.objectStore(OLD_OBJECT_STORE_NAME),Fl=await Ll.index("fcmSenderId").get(s);if(await Ll.clear(),!!Fl){if($l===2){const Bl=Fl;if(!Bl.auth||!Bl.p256dh||!Bl.endpoint)return;i={token:Bl.fcmToken,createTime:(Ol=Bl.createTime)!==null&&Ol!==void 0?Ol:Date.now(),subscriptionOptions:{auth:Bl.auth,p256dh:Bl.p256dh,endpoint:Bl.endpoint,swScope:Bl.swScope,vapidKey:typeof Bl.vapidKey=="string"?Bl.vapidKey:arrayToBase64(Bl.vapidKey)}}}else if($l===3){const Bl=Fl;i={token:Bl.fcmToken,createTime:Bl.createTime,subscriptionOptions:{auth:arrayToBase64(Bl.auth),p256dh:arrayToBase64(Bl.p256dh),endpoint:Bl.endpoint,swScope:Bl.swScope,vapidKey:arrayToBase64(Bl.vapidKey)}}}else if($l===4){const Bl=Fl;i={token:Bl.fcmToken,createTime:Bl.createTime,subscriptionOptions:{auth:arrayToBase64(Bl.auth),p256dh:arrayToBase64(Bl.p256dh),endpoint:Bl.endpoint,swScope:Bl.swScope,vapidKey:arrayToBase64(Bl.vapidKey)}}}}}})).close(),await deleteDB(OLD_DB_NAME),await deleteDB("fcm_vapid_details_db"),await deleteDB("undefined"),checkTokenDetails(i)?i:null}function checkTokenDetails(s){if(!s||!s.subscriptionOptions)return!1;const{subscriptionOptions:i}=s;return typeof s.createTime=="number"&&s.createTime>0&&typeof s.token=="string"&&s.token.length>0&&typeof i.auth=="string"&&i.auth.length>0&&typeof i.p256dh=="string"&&i.p256dh.length>0&&typeof i.endpoint=="string"&&i.endpoint.length>0&&typeof i.swScope=="string"&&i.swScope.length>0&&typeof i.vapidKey=="string"&&i.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME="firebase-messaging-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-messaging-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,{upgrade:(s,i)=>{switch(i){case 0:s.createObjectStore(OBJECT_STORE_NAME)}}})),dbPromise}async function dbGet(s){const i=getKey(s),et=await(await getDbPromise()).transaction(OBJECT_STORE_NAME).objectStore(OBJECT_STORE_NAME).get(i);if(et)return et;{const $l=await migrateOldDatabase(s.appConfig.senderId);if($l)return await dbSet(s,$l),$l}}async function dbSet(s,i){const o=getKey(s),$l=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");return await $l.objectStore(OBJECT_STORE_NAME).put(i,o),await $l.done,i}async function dbRemove(s){const i=getKey(s),et=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");await et.objectStore(OBJECT_STORE_NAME).delete(i),await et.done}function getKey({appConfig:s}){return s.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_MAP={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["only-available-in-window"]:"This method is available in a Window context.",["only-available-in-sw"]:"This method is available in a service worker context.",["permission-default"]:"The notification permission was not granted and dismissed instead.",["permission-blocked"]:"The notification permission was not granted and blocked instead.",["unsupported-browser"]:"This browser doesn't support the API's required to use the Firebase SDK.",["indexed-db-unsupported"]:"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)",["failed-service-worker-registration"]:"We are unable to register the default service worker. {$browserErrorMessage}",["token-subscribe-failed"]:"A problem occurred while subscribing the user to FCM: {$errorInfo}",["token-subscribe-no-token"]:"FCM returned no token when subscribing the user to push.",["token-unsubscribe-failed"]:"A problem occurred while unsubscribing the user from FCM: {$errorInfo}",["token-update-failed"]:"A problem occurred while updating the user from FCM: {$errorInfo}",["token-update-no-token"]:"FCM returned no token when updating the user to push.",["use-sw-after-get-token"]:"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",["invalid-sw-registration"]:"The input to useServiceWorker() must be a ServiceWorkerRegistration.",["invalid-bg-handler"]:"The input to setBackgroundMessageHandler() must be a function.",["invalid-vapid-key"]:"The public VAPID key must be a string.",["use-vapid-key-after-get-token"]:"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ERROR_FACTORY$2=new ErrorFactory("messaging","Messaging",ERROR_MAP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestGetToken(s,i){var o;const et=await getHeaders(s),$l=getBody(i),Nl={method:"POST",headers:et,body:JSON.stringify($l)};let Ml;try{Ml=await(await fetch(getEndpoint(s.appConfig),Nl)).json()}catch(Ol){throw ERROR_FACTORY$2.create("token-subscribe-failed",{errorInfo:(o=Ol)===null||o===void 0?void 0:o.toString()})}if(Ml.error){const Ol=Ml.error.message;throw ERROR_FACTORY$2.create("token-subscribe-failed",{errorInfo:Ol})}if(!Ml.token)throw ERROR_FACTORY$2.create("token-subscribe-no-token");return Ml.token}async function requestUpdateToken(s,i){var o;const et=await getHeaders(s),$l=getBody(i.subscriptionOptions),Nl={method:"PATCH",headers:et,body:JSON.stringify($l)};let Ml;try{Ml=await(await fetch(`${getEndpoint(s.appConfig)}/${i.token}`,Nl)).json()}catch(Ol){throw ERROR_FACTORY$2.create("token-update-failed",{errorInfo:(o=Ol)===null||o===void 0?void 0:o.toString()})}if(Ml.error){const Ol=Ml.error.message;throw ERROR_FACTORY$2.create("token-update-failed",{errorInfo:Ol})}if(!Ml.token)throw ERROR_FACTORY$2.create("token-update-no-token");return Ml.token}async function requestDeleteToken(s,i){var o;const et=await getHeaders(s),$l={method:"DELETE",headers:et};try{const Ml=await(await fetch(`${getEndpoint(s.appConfig)}/${i}`,$l)).json();if(Ml.error){const Ol=Ml.error.message;throw ERROR_FACTORY$2.create("token-unsubscribe-failed",{errorInfo:Ol})}}catch(Nl){throw ERROR_FACTORY$2.create("token-unsubscribe-failed",{errorInfo:(o=Nl)===null||o===void 0?void 0:o.toString()})}}function getEndpoint({projectId:s}){return`${ENDPOINT}/projects/${s}/registrations`}async function getHeaders({appConfig:s,installations:i}){const o=await i.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s.apiKey,"x-goog-firebase-installations-auth":`FIS ${o}`})}function getBody({p256dh:s,auth:i,endpoint:o,vapidKey:et}){const $l={web:{endpoint:o,auth:i,p256dh:s}};return et!==DEFAULT_VAPID_KEY&&($l.web.applicationPubKey=et),$l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TOKEN_EXPIRATION_MS=7*24*60*60*1e3;async function getTokenInternal(s){const i=await getPushSubscription(s.swRegistration,s.vapidKey),o={vapidKey:s.vapidKey,swScope:s.swRegistration.scope,endpoint:i.endpoint,auth:arrayToBase64(i.getKey("auth")),p256dh:arrayToBase64(i.getKey("p256dh"))},et=await dbGet(s.firebaseDependencies);if(et){if(isTokenValid(et.subscriptionOptions,o))return Date.now()>=et.createTime+TOKEN_EXPIRATION_MS?updateToken(s,{token:et.token,createTime:Date.now(),subscriptionOptions:o}):et.token;try{await requestDeleteToken(s.firebaseDependencies,et.token)}catch($l){console.warn($l)}return getNewToken(s.firebaseDependencies,o)}else return getNewToken(s.firebaseDependencies,o)}async function deleteTokenInternal(s){const i=await dbGet(s.firebaseDependencies);i&&(await requestDeleteToken(s.firebaseDependencies,i.token),await dbRemove(s.firebaseDependencies));const o=await s.swRegistration.pushManager.getSubscription();return o?o.unsubscribe():!0}async function updateToken(s,i){try{const o=await requestUpdateToken(s.firebaseDependencies,i),et=Object.assign(Object.assign({},i),{token:o,createTime:Date.now()});return await dbSet(s.firebaseDependencies,et),o}catch(o){throw await deleteTokenInternal(s),o}}async function getNewToken(s,i){const et={token:await requestGetToken(s,i),createTime:Date.now(),subscriptionOptions:i};return await dbSet(s,et),et.token}async function getPushSubscription(s,i){const o=await s.pushManager.getSubscription();return o||s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:base64ToArray(i)})}function isTokenValid(s,i){const o=i.vapidKey===s.vapidKey,et=i.endpoint===s.endpoint,$l=i.auth===s.auth,Nl=i.p256dh===s.p256dh;return o&&et&&$l&&Nl}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function externalizePayload(s){const i={from:s.from,collapseKey:s.collapse_key,messageId:s.fcmMessageId};return propagateNotificationPayload(i,s),propagateDataPayload(i,s),propagateFcmOptions(i,s),i}function propagateNotificationPayload(s,i){if(!i.notification)return;s.notification={};const o=i.notification.title;o&&(s.notification.title=o);const et=i.notification.body;et&&(s.notification.body=et);const $l=i.notification.image;$l&&(s.notification.image=$l)}function propagateDataPayload(s,i){!i.data||(s.data=i.data)}function propagateFcmOptions(s,i){var o,et,$l,Nl,Ml;if(!i.fcmOptions&&!(!((o=i.notification)===null||o===void 0)&&o.click_action))return;s.fcmOptions={};const Ol=($l=(et=i.fcmOptions)===null||et===void 0?void 0:et.link)!==null&&$l!==void 0?$l:(Nl=i.notification)===null||Nl===void 0?void 0:Nl.click_action;Ol&&(s.fcmOptions.link=Ol);const Ll=(Ml=i.fcmOptions)===null||Ml===void 0?void 0:Ml.analytics_label;Ll&&(s.fcmOptions.analyticsLabel=Ll)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isConsoleMessage(s){return typeof s=="object"&&!!s&&CONSOLE_CAMPAIGN_ID in s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep(s){return new Promise(i=>{setTimeout(i,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_mergeStrings("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");_mergeStrings("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");async function stageLog(s,i){const o=createFcmEvent(i,await s.firebaseDependencies.installations.getId());createAndEnqueueLogEvent(s,o)}function createFcmEvent(s,i){var o,et;const $l={};return s.from&&($l.project_number=s.from),s.fcmMessageId&&($l.message_id=s.fcmMessageId),$l.instance_id=i,s.notification?$l.message_type=MessageType$1.DISPLAY_NOTIFICATION.toString():$l.message_type=MessageType$1.DATA_MESSAGE.toString(),$l.sdk_platform=SDK_PLATFORM_WEB.toString(),$l.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),s.collapse_key&&($l.collapse_key=s.collapse_key),$l.event=EVENT_MESSAGE_DELIVERED.toString(),!((o=s.fcmOptions)===null||o===void 0)&&o.analytics_label&&($l.analytics_label=(et=s.fcmOptions)===null||et===void 0?void 0:et.analytics_label),$l}function createAndEnqueueLogEvent(s,i){const o={};o.event_time_ms=Math.floor(Date.now()).toString(),o.source_extension_json_proto3=JSON.stringify(i),s.logEvents.push(o)}function _mergeStrings(s,i){const o=[];for(let et=0;et<s.length;et++)o.push(s.charAt(et)),et<i.length&&o.push(i.charAt(et));return o.join("")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function onSubChange(s,i){var o,et;const{newSubscription:$l}=s;if(!$l){await deleteTokenInternal(i);return}const Nl=await dbGet(i.firebaseDependencies);await deleteTokenInternal(i),i.vapidKey=(et=(o=Nl==null?void 0:Nl.subscriptionOptions)===null||o===void 0?void 0:o.vapidKey)!==null&&et!==void 0?et:DEFAULT_VAPID_KEY,await getTokenInternal(i)}async function onPush(s,i){const o=getMessagePayloadInternal(s);if(!o)return;i.deliveryMetricsExportedToBigQueryEnabled&&await stageLog(i,o);const et=await getClientList();if(hasVisibleClients(et))return sendMessagePayloadInternalToWindows(et,o);if(o.notification&&await showNotification(wrapInternalPayload(o)),!!i&&i.onBackgroundMessageHandler){const $l=externalizePayload(o);typeof i.onBackgroundMessageHandler=="function"?await i.onBackgroundMessageHandler($l):i.onBackgroundMessageHandler.next($l)}}async function onNotificationClick(s){var i,o;const et=(o=(i=s.notification)===null||i===void 0?void 0:i.data)===null||o===void 0?void 0:o[FCM_MSG];if(et){if(s.action)return}else return;s.stopImmediatePropagation(),s.notification.close();const $l=getLink(et);if(!$l)return;const Nl=new URL($l,self.location.href),Ml=new URL(self.location.origin);if(Nl.host!==Ml.host)return;let Ol=await getWindowClient(Nl);if(Ol?Ol=await Ol.focus():(Ol=await self.clients.openWindow($l),await sleep(3e3)),!!Ol)return et.messageType=MessageType.NOTIFICATION_CLICKED,et.isFirebaseMessaging=!0,Ol.postMessage(et)}function wrapInternalPayload(s){const i=Object.assign({},s.notification);return i.data={[FCM_MSG]:s},i}function getMessagePayloadInternal({data:s}){if(!s)return null;try{return s.json()}catch{return null}}async function getWindowClient(s){const i=await getClientList();for(const o of i){const et=new URL(o.url,self.location.href);if(s.host===et.host)return o}return null}function hasVisibleClients(s){return s.some(i=>i.visibilityState==="visible"&&!i.url.startsWith("chrome-extension://"))}function sendMessagePayloadInternalToWindows(s,i){i.isFirebaseMessaging=!0,i.messageType=MessageType.PUSH_RECEIVED;for(const o of s)o.postMessage(i)}function getClientList(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function showNotification(s){var i;const{actions:o}=s,{maxActions:et}=Notification;return o&&et&&o.length>et&&console.warn(`This browser only supports ${et} actions. The remaining actions will not be displayed.`),self.registration.showNotification((i=s.title)!==null&&i!==void 0?i:"",s)}function getLink(s){var i,o,et;const $l=(o=(i=s.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&o!==void 0?o:(et=s.notification)===null||et===void 0?void 0:et.click_action;return $l||(isConsoleMessage(s.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig(s){if(!s||!s.options)throw getMissingValueError("App Configuration Object");if(!s.name)throw getMissingValueError("App Name");const i=["projectId","apiKey","appId","messagingSenderId"],{options:o}=s;for(const et of i)if(!o[et])throw getMissingValueError(et);return{appName:s.name,projectId:o.projectId,apiKey:o.apiKey,appId:o.appId,senderId:o.messagingSenderId}}function getMissingValueError(s){return ERROR_FACTORY$2.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MessagingService{constructor(i,o,et){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $l=extractAppConfig(i);this.firebaseDependencies={app:i,appConfig:$l,installations:o,analyticsProvider:et}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SwMessagingFactory=s=>{const i=new MessagingService(s.getProvider("app").getImmediate(),s.getProvider("installations-internal").getImmediate(),s.getProvider("analytics-internal"));return self.addEventListener("push",o=>{o.waitUntil(onPush(o,i))}),self.addEventListener("pushsubscriptionchange",o=>{o.waitUntil(onSubChange(o,i))}),self.addEventListener("notificationclick",o=>{o.waitUntil(onNotificationClick(o))}),i};function registerMessagingInSw(){_registerComponent(new Component("messaging-sw",SwMessagingFactory,"PUBLIC"))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function onBackgroundMessage$1(s,i){if(self.document!==void 0)throw ERROR_FACTORY$2.create("only-available-in-sw");return s.onBackgroundMessageHandler=i,()=>{s.onBackgroundMessageHandler=null}}function onBackgroundMessage(s,i){return s=getModularInstance(s),onBackgroundMessage$1(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerMessagingInSw();const name$7="@firebase/messaging-compat",version$7="0.1.16";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isSupported$1(){return self&&"ServiceWorkerGlobalScope"in self?isSwSupported():isWindowSupported()}function isWindowSupported(){return typeof window!="undefined"&&isIndexedDBAvailable()&&areCookiesEnabled()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function isSwSupported(){return isIndexedDBAvailable()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}class MessagingCompatImpl{constructor(i,o){this.app=i,this._delegate=o,this.app=i,this._delegate=o}async getToken(i){return getToken(this._delegate,i)}async deleteToken(){return deleteToken(this._delegate)}onMessage(i){return onMessage(this._delegate,i)}onBackgroundMessage(i){return onBackgroundMessage(this._delegate,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const messagingCompatFactory=s=>self&&"ServiceWorkerGlobalScope"in self?new MessagingCompatImpl(s.getProvider("app-compat").getImmediate(),s.getProvider("messaging-sw").getImmediate()):new MessagingCompatImpl(s.getProvider("app-compat").getImmediate(),s.getProvider("messaging").getImmediate()),NAMESPACE_EXPORTS={isSupported:isSupported$1};function registerMessagingCompat(){firebase.INTERNAL.registerComponent(new Component("messaging-compat",messagingCompatFactory,"PUBLIC").setServiceProps(NAMESPACE_EXPORTS))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerMessagingCompat();firebase.registerVersion(name$7,version$7);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UploadTaskSnapshotCompat{constructor(i,o,et){this._delegate=i,this.task=o,this.ref=et}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UploadTaskCompat{constructor(i,o){this._delegate=i,this._ref=o,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new UploadTaskSnapshotCompat(this._delegate.snapshot,this,this._ref)}then(i,o){return this._delegate.then(et=>{if(i)return i(new UploadTaskSnapshotCompat(et,this,this._ref))},o)}on(i,o,et,$l){let Nl;return o&&(typeof o=="function"?Nl=Ml=>o(new UploadTaskSnapshotCompat(Ml,this,this._ref)):Nl={next:o.next?Ml=>o.next(new UploadTaskSnapshotCompat(Ml,this,this._ref)):void 0,complete:o.complete||void 0,error:o.error||void 0}),this._delegate.on(i,Nl,et||void 0,$l||void 0)}}class ListResultCompat{constructor(i,o){this._delegate=i,this._service=o}get prefixes(){return this._delegate.prefixes.map(i=>new ReferenceCompat(i,this._service))}get items(){return this._delegate.items.map(i=>new ReferenceCompat(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ReferenceCompat{constructor(i,o){this._delegate=i,this.storage=o}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const o=_getChild(this._delegate,i);return new ReferenceCompat(o,this.storage)}get root(){return new ReferenceCompat(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return i==null?null:new ReferenceCompat(i,this.storage)}put(i,o){return this._throwIfRoot("put"),new UploadTaskCompat(uploadBytesResumable(this._delegate,i,o),this)}putString(i,o=StringFormat.RAW,et){this._throwIfRoot("putString");const $l=dataFromString(o,i),Nl=Object.assign({},et);return Nl.contentType==null&&$l.contentType!=null&&(Nl.contentType=$l.contentType),new UploadTaskCompat(new UploadTask(this._delegate,new FbsBlob($l.data,!0),Nl),this)}listAll(){return listAll(this._delegate).then(i=>new ListResultCompat(i,this.storage))}list(i){return list(this._delegate,i||void 0).then(o=>new ListResultCompat(o,this.storage))}getMetadata(){return getMetadata(this._delegate)}updateMetadata(i){return updateMetadata(this._delegate,i)}getDownloadURL(){return getDownloadURL(this._delegate)}delete(){return this._throwIfRoot("delete"),deleteObject(this._delegate)}_throwIfRoot(i){if(this._delegate._location.path==="")throw invalidRootOperation(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageServiceCompat{constructor(i,o){this.app=i,this._delegate=o}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(isUrl(i))throw invalidArgument("ref() expected a child path but got a URL, use refFromURL instead.");return new ReferenceCompat(ref$2(this._delegate,i),this)}refFromURL(i){if(!isUrl(i))throw invalidArgument("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Location.makeFromUrl(i,this._delegate.host)}catch{throw invalidArgument("refFromUrl() expected a valid full URL but got an invalid one.")}return new ReferenceCompat(ref$2(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,o,et={}){connectStorageEmulator(this._delegate,i,o,et)}}function isUrl(s){return/^[A-Za-z]+:\/\//.test(s)}const name$6="@firebase/storage-compat",version$6="0.1.17";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage-compat";function factory$1(s,{instanceIdentifier:i}){const o=s.getProvider("app-compat").getImmediate(),et=s.getProvider("storage").getImmediate({identifier:i});return new StorageServiceCompat(o,et)}function registerStorage(s){const i={TaskState,TaskEvent,StringFormat,Storage:StorageServiceCompat,Reference:ReferenceCompat};s.INTERNAL.registerComponent(new Component(STORAGE_TYPE,factory$1,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),s.registerVersion(name$6,version$6)}registerStorage(firebase);const name$5="@firebase/performance",version$5="0.5.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$5,TRACE_START_MARK_PREFIX="FB-PERF-TRACE-START",TRACE_STOP_MARK_PREFIX="FB-PERF-TRACE-STOP",TRACE_MEASURE_PREFIX="FB-PERF-TRACE-MEASURE",OOB_TRACE_PAGE_LOAD_PREFIX="_wt_",FIRST_PAINT_COUNTER_NAME="_fp",FIRST_CONTENTFUL_PAINT_COUNTER_NAME="_fcp",FIRST_INPUT_DELAY_COUNTER_NAME="_fid",CONFIG_LOCAL_STORAGE_KEY="@firebase/performance/config",CONFIG_EXPIRY_LOCAL_STORAGE_KEY="@firebase/performance/configexpire",SERVICE="performance",SERVICE_NAME="Performance";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP$1={["trace started"]:"Trace {$traceName} was started before.",["trace stopped"]:"Trace {$traceName} is not running.",["nonpositive trace startTime"]:"Trace {$traceName} startTime should be positive.",["nonpositive trace duration"]:"Trace {$traceName} duration should be positive.",["no window"]:"Window is not available.",["no app id"]:"App id is not available.",["no project id"]:"Project id is not available.",["no api key"]:"Api key is not available.",["invalid cc log"]:"Attempted to queue invalid cc event",["FB not default"]:"Performance can only start when Firebase app instance is the default one.",["RC response not ok"]:"RC response is not ok",["invalid attribute name"]:"Attribute name {$attributeName} is invalid.",["invalid attribute value"]:"Attribute value {$attributeValue} is invalid.",["invalid custom metric name"]:"Custom metric name {$customMetricName} is invalid",["invalid String merger input"]:"Input for String merger is invalid, contact support team to resolve.",["already initialized"]:"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},ERROR_FACTORY$1=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP$1);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const consoleLogger=new Logger(SERVICE_NAME);consoleLogger.logLevel=LogLevel.INFO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let apiInstance,windowInstance;class Api{constructor(i){if(this.window=i,!i)throw ERROR_FACTORY$1.create("no window");this.performance=i.performance,this.PerformanceObserver=i.PerformanceObserver,this.windowLocation=i.location,this.navigator=i.navigator,this.document=i.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=i.localStorage),i.perfMetrics&&i.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=i.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(i){!this.performance||!this.performance.mark||this.performance.mark(i)}measure(i,o,et){!this.performance||!this.performance.measure||this.performance.measure(i,o,et)}getEntriesByType(i){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(i)}getEntriesByName(i){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(i)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!areCookiesEnabled()?(consoleLogger.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):isIndexedDBAvailable()?!0:(consoleLogger.info("IndexedDB is not supported by current browswer"),!1)}setupObserver(i,o){if(!this.PerformanceObserver)return;new this.PerformanceObserver($l=>{for(const Nl of $l.getEntries())o(Nl)}).observe({entryTypes:[i]})}static getInstance(){return apiInstance===void 0&&(apiInstance=new Api(windowInstance)),apiInstance}}function setupApi(s){windowInstance=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iid;function getIidPromise(s){const i=s.getId();return i.then(o=>{iid=o}),i}function getIid(){return iid}function getAuthTokenPromise(s){const i=s.getToken();return i.then(o=>{}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mergeStrings(s,i){const o=s.length-i.length;if(o<0||o>1)throw ERROR_FACTORY$1.create("invalid String merger input");const et=[];for(let $l=0;$l<s.length;$l++)et.push(s.charAt($l)),i.length>$l&&et.push(i.charAt($l));return et.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let settingsServiceInstance;class SettingsService{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=mergeStrings("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=mergeStrings("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return settingsServiceInstance===void 0&&(settingsServiceInstance=new SettingsService),settingsServiceInstance}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VisibilityState;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.VISIBLE=1]="VISIBLE",s[s.HIDDEN=2]="HIDDEN"})(VisibilityState||(VisibilityState={}));const RESERVED_ATTRIBUTE_PREFIXES=["firebase_","google_","ga_"],ATTRIBUTE_FORMAT_REGEX=new RegExp("^[a-zA-Z]\\w*$"),MAX_ATTRIBUTE_NAME_LENGTH=40,MAX_ATTRIBUTE_VALUE_LENGTH=100;function getServiceWorkerStatus(){const s=Api.getInstance().navigator;return"serviceWorker"in s?s.serviceWorker.controller?2:3:1}function getVisibilityState(){switch(Api.getInstance().document.visibilityState){case"visible":return VisibilityState.VISIBLE;case"hidden":return VisibilityState.HIDDEN;default:return VisibilityState.UNKNOWN}}function getEffectiveConnectionType(){const i=Api.getInstance().navigator.connection;switch(i&&i.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function isValidCustomAttributeName(s){return s.length===0||s.length>MAX_ATTRIBUTE_NAME_LENGTH?!1:!RESERVED_ATTRIBUTE_PREFIXES.some(o=>s.startsWith(o))&&!!s.match(ATTRIBUTE_FORMAT_REGEX)}function isValidCustomAttributeValue(s){return s.length!==0&&s.length<=MAX_ATTRIBUTE_VALUE_LENGTH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getAppId(s){var i;const o=(i=s.options)===null||i===void 0?void 0:i.appId;if(!o)throw ERROR_FACTORY$1.create("no app id");return o}function getProjectId(s){var i;const o=(i=s.options)===null||i===void 0?void 0:i.projectId;if(!o)throw ERROR_FACTORY$1.create("no project id");return o}function getApiKey(s){var i;const o=(i=s.options)===null||i===void 0?void 0:i.apiKey;if(!o)throw ERROR_FACTORY$1.create("no api key");return o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const REMOTE_CONFIG_SDK_VERSION="0.0.1",DEFAULT_CONFIGS={loggingEnabled:!0},FIS_AUTH_PREFIX="FIREBASE_INSTALLATIONS_AUTH";function getConfig(s,i){const o=getStoredConfig();return o?(processConfig(o),Promise.resolve()):getRemoteConfig(s,i).then(processConfig).then(et=>storeConfig(et),()=>{})}function getStoredConfig(){const s=Api.getInstance().localStorage;if(!s)return;const i=s.getItem(CONFIG_EXPIRY_LOCAL_STORAGE_KEY);if(!i||!configValid(i))return;const o=s.getItem(CONFIG_LOCAL_STORAGE_KEY);if(!!o)try{return JSON.parse(o)}catch{return}}function storeConfig(s){const i=Api.getInstance().localStorage;!s||!i||(i.setItem(CONFIG_LOCAL_STORAGE_KEY,JSON.stringify(s)),i.setItem(CONFIG_EXPIRY_LOCAL_STORAGE_KEY,String(Date.now()+SettingsService.getInstance().configTimeToLive*60*60*1e3)))}const COULD_NOT_GET_CONFIG_MSG="Could not fetch config, will use default configs";function getRemoteConfig(s,i){return getAuthTokenPromise(s.installations).then(o=>{const et=getProjectId(s.app),$l=getApiKey(s.app),Nl=`https://firebaseremoteconfig.googleapis.com/v1/projects/${et}/namespaces/fireperf:fetch?key=${$l}`,Ml=new Request(Nl,{method:"POST",headers:{Authorization:`${FIS_AUTH_PREFIX} ${o}`},body:JSON.stringify({app_instance_id:i,app_instance_id_token:o,app_id:getAppId(s.app),app_version:SDK_VERSION,sdk_version:REMOTE_CONFIG_SDK_VERSION})});return fetch(Ml).then(Ol=>{if(Ol.ok)return Ol.json();throw ERROR_FACTORY$1.create("RC response not ok")})}).catch(()=>{consoleLogger.info(COULD_NOT_GET_CONFIG_MSG)})}function processConfig(s){if(!s)return s;const i=SettingsService.getInstance(),o=s.entries||{};return o.fpr_enabled!==void 0?i.loggingEnabled=String(o.fpr_enabled)==="true":i.loggingEnabled=DEFAULT_CONFIGS.loggingEnabled,o.fpr_log_source?i.logSource=Number(o.fpr_log_source):DEFAULT_CONFIGS.logSource&&(i.logSource=DEFAULT_CONFIGS.logSource),o.fpr_log_endpoint_url?i.logEndPointUrl=o.fpr_log_endpoint_url:DEFAULT_CONFIGS.logEndPointUrl&&(i.logEndPointUrl=DEFAULT_CONFIGS.logEndPointUrl),o.fpr_log_transport_key?i.transportKey=o.fpr_log_transport_key:DEFAULT_CONFIGS.transportKey&&(i.transportKey=DEFAULT_CONFIGS.transportKey),o.fpr_vc_network_request_sampling_rate!==void 0?i.networkRequestsSamplingRate=Number(o.fpr_vc_network_request_sampling_rate):DEFAULT_CONFIGS.networkRequestsSamplingRate!==void 0&&(i.networkRequestsSamplingRate=DEFAULT_CONFIGS.networkRequestsSamplingRate),o.fpr_vc_trace_sampling_rate!==void 0?i.tracesSamplingRate=Number(o.fpr_vc_trace_sampling_rate):DEFAULT_CONFIGS.tracesSamplingRate!==void 0&&(i.tracesSamplingRate=DEFAULT_CONFIGS.tracesSamplingRate),i.logTraceAfterSampling=shouldLogAfterSampling(i.tracesSamplingRate),i.logNetworkAfterSampling=shouldLogAfterSampling(i.networkRequestsSamplingRate),s}function configValid(s){return Number(s)>Date.now()}function shouldLogAfterSampling(s){return Math.random()<=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let initializationStatus=1,initializationPromise;function getInitializationPromise(s){return initializationStatus=2,initializationPromise=initializationPromise||initializePerf(s),initializationPromise}function isPerfInitialized(){return initializationStatus===3}function initializePerf(s){return getDocumentReadyComplete().then(()=>getIidPromise(s.installations)).then(i=>getConfig(s,i)).then(()=>changeInitializationStatus(),()=>changeInitializationStatus())}function getDocumentReadyComplete(){const s=Api.getInstance().document;return new Promise(i=>{if(s&&s.readyState!=="complete"){const o=()=>{s.readyState==="complete"&&(s.removeEventListener("readystatechange",o),i())};s.addEventListener("readystatechange",o)}else i()})}function changeInitializationStatus(){initializationStatus=3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_SEND_INTERVAL_MS=10*1e3,INITIAL_SEND_TIME_DELAY_MS=5.5*1e3,DEFAULT_REMAINING_TRIES=3,MAX_EVENT_COUNT_PER_REQUEST=1e3;let remainingTries=DEFAULT_REMAINING_TRIES,queue=[],isTransportSetup=!1;function setupTransportService(){isTransportSetup||(processQueue(INITIAL_SEND_TIME_DELAY_MS),isTransportSetup=!0)}function processQueue(s){setTimeout(()=>{if(remainingTries!==0){if(!queue.length)return processQueue(DEFAULT_SEND_INTERVAL_MS);dispatchQueueEvents()}},s)}function dispatchQueueEvents(){const s=queue.splice(0,MAX_EVENT_COUNT_PER_REQUEST),i=s.map(et=>({source_extension_json_proto3:et.message,event_time_ms:String(et.eventTime)})),o={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:SettingsService.getInstance().logSource,log_event:i};sendEventsToFl(o,s).catch(()=>{queue=[...s,...queue],remainingTries--,consoleLogger.info(`Tries left: ${remainingTries}.`),processQueue(DEFAULT_SEND_INTERVAL_MS)})}function sendEventsToFl(s,i){return postToFlEndpoint(s).then(o=>(o.ok||consoleLogger.info("Call to Firebase backend failed."),o.json())).then(o=>{const et=Number(o.nextRequestWaitMillis);let $l=DEFAULT_SEND_INTERVAL_MS;isNaN(et)||($l=Math.max(et,$l));const Nl=o.logResponseDetails;Array.isArray(Nl)&&Nl.length>0&&Nl[0].responseAction==="RETRY_REQUEST_LATER"&&(queue=[...i,...queue],consoleLogger.info("Retry transport request later.")),remainingTries=DEFAULT_REMAINING_TRIES,processQueue($l)})}function postToFlEndpoint(s){const i=SettingsService.getInstance().getFlTransportFullUrl();return fetch(i,{method:"POST",body:JSON.stringify(s)})}function addToQueue(s){if(!s.eventTime||!s.message)throw ERROR_FACTORY$1.create("invalid cc log");queue=[...queue,s]}function transportHandler(s){return(...i)=>{const o=s(...i);addToQueue({message:o,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let logger;function sendLog(s,i){logger||(logger=transportHandler(serializer)),logger(s,i)}function logTrace(s){const i=SettingsService.getInstance();!i.instrumentationEnabled&&s.isAuto||!i.dataCollectionEnabled&&!s.isAuto||!Api.getInstance().requiredApisAvailable()||s.isAuto&&getVisibilityState()!==VisibilityState.VISIBLE||(isPerfInitialized()?sendTraceLog(s):getInitializationPromise(s.performanceController).then(()=>sendTraceLog(s),()=>sendTraceLog(s)))}function sendTraceLog(s){if(!getIid())return;const i=SettingsService.getInstance();!i.loggingEnabled||!i.logTraceAfterSampling||setTimeout(()=>sendLog(s,1),0)}function logNetworkRequest(s){const i=SettingsService.getInstance();if(!i.instrumentationEnabled)return;const o=s.url,et=i.logEndPointUrl.split("?")[0],$l=i.flTransportEndpointUrl.split("?")[0];o===et||o===$l||!i.loggingEnabled||!i.logNetworkAfterSampling||setTimeout(()=>sendLog(s,0),0)}function serializer(s,i){return i===0?serializeNetworkRequest(s):serializeTrace(s)}function serializeNetworkRequest(s){const i={url:s.url,http_method:s.httpMethod||0,http_response_code:200,response_payload_bytes:s.responsePayloadBytes,client_start_time_us:s.startTimeUs,time_to_response_initiated_us:s.timeToResponseInitiatedUs,time_to_response_completed_us:s.timeToResponseCompletedUs},o={application_info:getApplicationInfo(s.performanceController.app),network_request_metric:i};return JSON.stringify(o)}function serializeTrace(s){const i={name:s.name,is_auto:s.isAuto,client_start_time_us:s.startTimeUs,duration_us:s.durationUs};Object.keys(s.counters).length!==0&&(i.counters=s.counters);const o=s.getAttributes();Object.keys(o).length!==0&&(i.custom_attributes=o);const et={application_info:getApplicationInfo(s.performanceController.app),trace_metric:i};return JSON.stringify(et)}function getApplicationInfo(s){return{google_app_id:getAppId(s),app_instance_id:getIid(),web_app_info:{sdk_version:SDK_VERSION,page_url:Api.getInstance().getUrl(),service_worker_status:getServiceWorkerStatus(),visibility_state:getVisibilityState(),effective_connection_type:getEffectiveConnectionType()},application_process_state:0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_METRIC_NAME_LENGTH=100,RESERVED_AUTO_PREFIX="_",oobMetrics=[FIRST_PAINT_COUNTER_NAME,FIRST_CONTENTFUL_PAINT_COUNTER_NAME,FIRST_INPUT_DELAY_COUNTER_NAME];function isValidMetricName(s,i){return s.length===0||s.length>MAX_METRIC_NAME_LENGTH?!1:i&&i.startsWith(OOB_TRACE_PAGE_LOAD_PREFIX)&&oobMetrics.indexOf(s)>-1||!s.startsWith(RESERVED_AUTO_PREFIX)}function convertMetricValueToInteger(s){const i=Math.floor(s);return i<s&&consoleLogger.info(`Metric value should be an Integer, setting the value as : ${i}.`),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Trace{constructor(i,o,et=!1,$l){this.performanceController=i,this.name=o,this.isAuto=et,this.state=1,this.customAttributes={},this.counters={},this.api=Api.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${TRACE_START_MARK_PREFIX}-${this.randomId}-${this.name}`,this.traceStopMark=`${TRACE_STOP_MARK_PREFIX}-${this.randomId}-${this.name}`,this.traceMeasure=$l||`${TRACE_MEASURE_PREFIX}-${this.randomId}-${this.name}`,$l&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw ERROR_FACTORY$1.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw ERROR_FACTORY$1.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),logTrace(this)}record(i,o,et){if(i<=0)throw ERROR_FACTORY$1.create("nonpositive trace startTime",{traceName:this.name});if(o<=0)throw ERROR_FACTORY$1.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(o*1e3),this.startTimeUs=Math.floor(i*1e3),et&&et.attributes&&(this.customAttributes=Object.assign({},et.attributes)),et&&et.metrics)for(const $l of Object.keys(et.metrics))isNaN(Number(et.metrics[$l]))||(this.counters[$l]=Math.floor(Number(et.metrics[$l])));logTrace(this)}incrementMetric(i,o=1){this.counters[i]===void 0?this.putMetric(i,o):this.putMetric(i,this.counters[i]+o)}putMetric(i,o){if(isValidMetricName(i,this.name))this.counters[i]=convertMetricValueToInteger(o!=null?o:0);else throw ERROR_FACTORY$1.create("invalid custom metric name",{customMetricName:i})}getMetric(i){return this.counters[i]||0}putAttribute(i,o){const et=isValidCustomAttributeName(i),$l=isValidCustomAttributeValue(o);if(et&&$l){this.customAttributes[i]=o;return}if(!et)throw ERROR_FACTORY$1.create("invalid attribute name",{attributeName:i});if(!$l)throw ERROR_FACTORY$1.create("invalid attribute value",{attributeValue:o})}getAttribute(i){return this.customAttributes[i]}removeAttribute(i){this.customAttributes[i]!==void 0&&delete this.customAttributes[i]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(i){this.startTimeUs=i}setDuration(i){this.durationUs=i}calculateTraceMetrics(){const i=this.api.getEntriesByName(this.traceMeasure),o=i&&i[0];o&&(this.durationUs=Math.floor(o.duration*1e3),this.startTimeUs=Math.floor((o.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(i,o,et,$l){const Nl=Api.getInstance().getUrl();if(!Nl)return;const Ml=new Trace(i,OOB_TRACE_PAGE_LOAD_PREFIX+Nl,!0),Ol=Math.floor(Api.getInstance().getTimeOrigin()*1e3);Ml.setStartTime(Ol),o&&o[0]&&(Ml.setDuration(Math.floor(o[0].duration*1e3)),Ml.putMetric("domInteractive",Math.floor(o[0].domInteractive*1e3)),Ml.putMetric("domContentLoadedEventEnd",Math.floor(o[0].domContentLoadedEventEnd*1e3)),Ml.putMetric("loadEventEnd",Math.floor(o[0].loadEventEnd*1e3)));const Ll="first-paint",Fl="first-contentful-paint";if(et){const Bl=et.find(Gl=>Gl.name===Ll);Bl&&Bl.startTime&&Ml.putMetric(FIRST_PAINT_COUNTER_NAME,Math.floor(Bl.startTime*1e3));const Ul=et.find(Gl=>Gl.name===Fl);Ul&&Ul.startTime&&Ml.putMetric(FIRST_CONTENTFUL_PAINT_COUNTER_NAME,Math.floor(Ul.startTime*1e3)),$l&&Ml.putMetric(FIRST_INPUT_DELAY_COUNTER_NAME,Math.floor($l*1e3))}logTrace(Ml)}static createUserTimingTrace(i,o){const et=new Trace(i,o,!1,o);logTrace(et)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createNetworkRequestEntry(s,i){const o=i;if(!o||o.responseStart===void 0)return;const et=Api.getInstance().getTimeOrigin(),$l=Math.floor((o.startTime+et)*1e3),Nl=o.responseStart?Math.floor((o.responseStart-o.startTime)*1e3):void 0,Ml=Math.floor((o.responseEnd-o.startTime)*1e3),Ol=o.name&&o.name.split("?")[0],Ll={performanceController:s,url:Ol,responsePayloadBytes:o.transferSize,startTimeUs:$l,timeToResponseInitiatedUs:Nl,timeToResponseCompletedUs:Ml};logNetworkRequest(Ll)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FID_WAIT_TIME_MS=5e3;function setupOobResources(s){!getIid()||(setTimeout(()=>setupOobTraces(s),0),setTimeout(()=>setupNetworkRequests(s),0),setTimeout(()=>setupUserTimingTraces(s),0))}function setupNetworkRequests(s){const i=Api.getInstance(),o=i.getEntriesByType("resource");for(const et of o)createNetworkRequestEntry(s,et);i.setupObserver("resource",et=>createNetworkRequestEntry(s,et))}function setupOobTraces(s){const i=Api.getInstance(),o=i.getEntriesByType("navigation"),et=i.getEntriesByType("paint");if(i.onFirstInputDelay){let $l=setTimeout(()=>{Trace.createOobTrace(s,o,et),$l=void 0},FID_WAIT_TIME_MS);i.onFirstInputDelay(Nl=>{$l&&(clearTimeout($l),Trace.createOobTrace(s,o,et,Nl))})}else Trace.createOobTrace(s,o,et)}function setupUserTimingTraces(s){const i=Api.getInstance(),o=i.getEntriesByType("measure");for(const et of o)createUserTimingTrace(s,et);i.setupObserver("measure",et=>createUserTimingTrace(s,et))}function createUserTimingTrace(s,i){const o=i.name;o.substring(0,TRACE_MEASURE_PREFIX.length)!==TRACE_MEASURE_PREFIX&&Trace.createUserTimingTrace(s,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PerformanceController{constructor(i,o){this.app=i,this.installations=o,this.initialized=!1}_init(i){this.initialized||((i==null?void 0:i.dataCollectionEnabled)!==void 0&&(this.dataCollectionEnabled=i.dataCollectionEnabled),(i==null?void 0:i.instrumentationEnabled)!==void 0&&(this.instrumentationEnabled=i.instrumentationEnabled),Api.getInstance().requiredApisAvailable()?validateIndexedDBOpenable().then(o=>{o&&(setupTransportService(),getInitializationPromise(this).then(()=>setupOobResources(this),()=>setupOobResources(this)),this.initialized=!0)}).catch(o=>{consoleLogger.info(`Environment doesn't support IndexedDB: ${o}`)}):consoleLogger.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(i){SettingsService.getInstance().instrumentationEnabled=i}get instrumentationEnabled(){return SettingsService.getInstance().instrumentationEnabled}set dataCollectionEnabled(i){SettingsService.getInstance().dataCollectionEnabled=i}get dataCollectionEnabled(){return SettingsService.getInstance().dataCollectionEnabled}}const DEFAULT_ENTRY_NAME="[DEFAULT]";function trace(s,i){return s=getModularInstance(s),new Trace(s,i)}const factory=(s,{options:i})=>{const o=s.getProvider("app").getImmediate(),et=s.getProvider("installations-internal").getImmediate();if(o.name!==DEFAULT_ENTRY_NAME)throw ERROR_FACTORY$1.create("FB not default");if(typeof window=="undefined")throw ERROR_FACTORY$1.create("no window");setupApi(window);const $l=new PerformanceController(o,et);return $l._init(i),$l};function registerPerformance(){_registerComponent(new Component("performance",factory,"PUBLIC")),registerVersion(name$5,version$5),registerVersion(name$5,version$5,"esm2017")}registerPerformance();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PerformanceCompatImpl{constructor(i,o){this.app=i,this._delegate=o}get instrumentationEnabled(){return this._delegate.instrumentationEnabled}set instrumentationEnabled(i){this._delegate.instrumentationEnabled=i}get dataCollectionEnabled(){return this._delegate.dataCollectionEnabled}set dataCollectionEnabled(i){this._delegate.dataCollectionEnabled=i}trace(i){return trace(this._delegate,i)}}const name$4="@firebase/performance-compat",version$4="0.1.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerPerformanceCompat(s){s.INTERNAL.registerComponent(new Component("performance-compat",performanceFactory,"PUBLIC")),s.registerVersion(name$4,version$4)}function performanceFactory(s){const i=s.getProvider("app-compat").getImmediate(),o=s.getProvider("performance").getImmediate();return new PerformanceCompatImpl(i,o)}registerPerformanceCompat(firebase);const name$3="@firebase/remote-config",version$3="0.3.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteConfigAbortSignal{constructor(){this.listeners=[]}addEventListener(i){this.listeners.push(i)}abort(){this.listeners.forEach(i=>i())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC_COMPONENT_NAME="remote-config";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP={["registration-window"]:"Undefined window object. This SDK only supports usage in a browser environment.",["registration-project-id"]:"Undefined project identifier. Check Firebase app initialization.",["registration-api-key"]:"Undefined API key. Check Firebase app initialization.",["registration-app-id"]:"Undefined app identifier. Check Firebase app initialization.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",["fetch-client-network"]:"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",["fetch-timeout"]:'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',["fetch-throttle"]:'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',["fetch-client-parse"]:"Fetch client could not parse response. Original error: {$originalErrorMessage}.",["fetch-status"]:"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",["indexed-db-unavailable"]:"Indexed DB is not supported by current browser"},ERROR_FACTORY=new ErrorFactory("remoteconfig","Remote Config",ERROR_DESCRIPTION_MAP);function hasErrorCode(s,i){return s instanceof FirebaseError&&s.code.indexOf(i)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_VALUE_FOR_BOOLEAN=!1,DEFAULT_VALUE_FOR_STRING="",DEFAULT_VALUE_FOR_NUMBER=0,BOOLEAN_TRUTHY_VALUES=["1","true","t","yes","y","on"];class Value{constructor(i,o=DEFAULT_VALUE_FOR_STRING){this._source=i,this._value=o}asString(){return this._value}asBoolean(){return this._source==="static"?DEFAULT_VALUE_FOR_BOOLEAN:BOOLEAN_TRUTHY_VALUES.indexOf(this._value.toLowerCase())>=0}asNumber(){if(this._source==="static")return DEFAULT_VALUE_FOR_NUMBER;let i=Number(this._value);return isNaN(i)&&(i=DEFAULT_VALUE_FOR_NUMBER),i}getSource(){return this._source}}async function activate(s){const i=getModularInstance(s),[o,et]=await Promise.all([i._storage.getLastSuccessfulFetchResponse(),i._storage.getActiveConfigEtag()]);return!o||!o.config||!o.eTag||o.eTag===et?!1:(await Promise.all([i._storageCache.setActiveConfig(o.config),i._storage.setActiveConfigEtag(o.eTag)]),!0)}function ensureInitialized(s){const i=getModularInstance(s);return i._initializePromise||(i._initializePromise=i._storageCache.loadFromStorage().then(()=>{i._isInitializationComplete=!0})),i._initializePromise}async function fetchConfig(s){const i=getModularInstance(s),o=new RemoteConfigAbortSignal;setTimeout(async()=>{o.abort()},i.settings.fetchTimeoutMillis);try{await i._client.fetch({cacheMaxAgeMillis:i.settings.minimumFetchIntervalMillis,signal:o}),await i._storageCache.setLastFetchStatus("success")}catch(et){const $l=hasErrorCode(et,"fetch-throttle")?"throttle":"failure";throw await i._storageCache.setLastFetchStatus($l),et}}function getAll(s){const i=getModularInstance(s);return getAllKeys(i._storageCache.getActiveConfig(),i.defaultConfig).reduce((o,et)=>(o[et]=getValue(s,et),o),{})}function getBoolean(s,i){return getValue(getModularInstance(s),i).asBoolean()}function getNumber(s,i){return getValue(getModularInstance(s),i).asNumber()}function getString(s,i){return getValue(getModularInstance(s),i).asString()}function getValue(s,i){const o=getModularInstance(s);o._isInitializationComplete||o._logger.debug(`A value was requested for key "${i}" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.`);const et=o._storageCache.getActiveConfig();return et&&et[i]!==void 0?new Value("remote",et[i]):o.defaultConfig&&o.defaultConfig[i]!==void 0?new Value("default",String(o.defaultConfig[i])):(o._logger.debug(`Returning static value for key "${i}". Define a default or remote value if this is unintentional.`),new Value("static"))}function setLogLevel(s,i){const o=getModularInstance(s);switch(i){case"debug":o._logger.logLevel=LogLevel.DEBUG;break;case"silent":o._logger.logLevel=LogLevel.SILENT;break;default:o._logger.logLevel=LogLevel.ERROR}}function getAllKeys(s={},i={}){return Object.keys(Object.assign(Object.assign({},s),i))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CachingClient{constructor(i,o,et,$l){this.client=i,this.storage=o,this.storageCache=et,this.logger=$l}isCachedDataFresh(i,o){if(!o)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const et=Date.now()-o,$l=et<=i;return this.logger.debug(`Config fetch cache check. Cache age millis: ${et}. Cache max age millis (minimumFetchIntervalMillis setting): ${i}. Is cache hit: ${$l}.`),$l}async fetch(i){const[o,et]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(et&&this.isCachedDataFresh(i.cacheMaxAgeMillis,o))return et;i.eTag=et&&et.eTag;const $l=await this.client.fetch(i),Nl=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return $l.status===200&&Nl.push(this.storage.setLastSuccessfulFetchResponse($l)),await Promise.all(Nl),$l}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUserLanguage(s=navigator){return s.languages&&s.languages[0]||s.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RestClient{constructor(i,o,et,$l,Nl,Ml){this.firebaseInstallations=i,this.sdkVersion=o,this.namespace=et,this.projectId=$l,this.apiKey=Nl,this.appId=Ml}async fetch(i){var o,et,$l;const[Nl,Ml]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),Ll=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,Fl={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":i.eTag||"*"},Bl={sdk_version:this.sdkVersion,app_instance_id:Nl,app_instance_id_token:Ml,app_id:this.appId,language_code:getUserLanguage()},Ul={method:"POST",headers:Fl,body:JSON.stringify(Bl)},Gl=fetch(Ll,Ul),Wl=new Promise((Yl,Xl)=>{i.signal.addEventListener(()=>{const Zl=new Error("The operation was aborted.");Zl.name="AbortError",Xl(Zl)})});let zl;try{await Promise.race([Gl,Wl]),zl=await Gl}catch(Yl){let Xl="fetch-client-network";throw((o=Yl)===null||o===void 0?void 0:o.name)==="AbortError"&&(Xl="fetch-timeout"),ERROR_FACTORY.create(Xl,{originalErrorMessage:(et=Yl)===null||et===void 0?void 0:et.message})}let Ql=zl.status;const Jl=zl.headers.get("ETag")||void 0;let Kl,Hl;if(zl.status===200){let Yl;try{Yl=await zl.json()}catch(Xl){throw ERROR_FACTORY.create("fetch-client-parse",{originalErrorMessage:($l=Xl)===null||$l===void 0?void 0:$l.message})}Kl=Yl.entries,Hl=Yl.state}if(Hl==="INSTANCE_STATE_UNSPECIFIED"?Ql=500:Hl==="NO_CHANGE"?Ql=304:(Hl==="NO_TEMPLATE"||Hl==="EMPTY_CONFIG")&&(Kl={}),Ql!==304&&Ql!==200)throw ERROR_FACTORY.create("fetch-status",{httpStatus:Ql});return{status:Ql,eTag:Jl,config:Kl}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function setAbortableTimeout(s,i){return new Promise((o,et)=>{const $l=Math.max(i-Date.now(),0),Nl=setTimeout(o,$l);s.addEventListener(()=>{clearTimeout(Nl),et(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:i}))})})}function isRetriableError(s){if(!(s instanceof FirebaseError)||!s.customData)return!1;const i=Number(s.customData.httpStatus);return i===429||i===500||i===503||i===504}class RetryingClient{constructor(i,o){this.client=i,this.storage=o}async fetch(i){const o=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(i,o)}async attemptFetch(i,{throttleEndTimeMillis:o,backoffCount:et}){await setAbortableTimeout(i.signal,o);try{const $l=await this.client.fetch(i);return await this.storage.deleteThrottleMetadata(),$l}catch($l){if(!isRetriableError($l))throw $l;const Nl={throttleEndTimeMillis:Date.now()+calculateBackoffMillis(et),backoffCount:et+1};return await this.storage.setThrottleMetadata(Nl),this.attemptFetch(i,Nl)}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_FETCH_TIMEOUT_MILLIS=60*1e3,DEFAULT_CACHE_MAX_AGE_MILLIS=12*60*60*1e3;class RemoteConfig{constructor(i,o,et,$l,Nl){this.app=i,this._client=o,this._storageCache=et,this._storage=$l,this._logger=Nl,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:DEFAULT_FETCH_TIMEOUT_MILLIS,minimumFetchIntervalMillis:DEFAULT_CACHE_MAX_AGE_MILLIS},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function toFirebaseError(s,i){var o;const et=s.target.error||void 0;return ERROR_FACTORY.create(i,{originalErrorMessage:et&&((o=et)===null||o===void 0?void 0:o.message)})}const APP_NAMESPACE_STORE="app_namespace_store",DB_NAME="firebase_remote_config",DB_VERSION=1;function openDatabase(){return new Promise((s,i)=>{var o;try{const et=indexedDB.open(DB_NAME,DB_VERSION);et.onerror=$l=>{i(toFirebaseError($l,"storage-open"))},et.onsuccess=$l=>{s($l.target.result)},et.onupgradeneeded=$l=>{const Nl=$l.target.result;switch($l.oldVersion){case 0:Nl.createObjectStore(APP_NAMESPACE_STORE,{keyPath:"compositeKey"})}}}catch(et){i(ERROR_FACTORY.create("storage-open",{originalErrorMessage:(o=et)===null||o===void 0?void 0:o.message}))}})}class Storage{constructor(i,o,et,$l=openDatabase()){this.appId=i,this.appName=o,this.namespace=et,this.openDbPromise=$l}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(i){return this.set("last_fetch_status",i)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(i){return this.set("last_successful_fetch_timestamp_millis",i)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(i){return this.set("last_successful_fetch_response",i)}getActiveConfig(){return this.get("active_config")}setActiveConfig(i){return this.set("active_config",i)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(i){return this.set("active_config_etag",i)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(i){return this.set("throttle_metadata",i)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(i){const o=await this.openDbPromise;return new Promise((et,$l)=>{var Nl;const Ol=o.transaction([APP_NAMESPACE_STORE],"readonly").objectStore(APP_NAMESPACE_STORE),Ll=this.createCompositeKey(i);try{const Fl=Ol.get(Ll);Fl.onerror=Bl=>{$l(toFirebaseError(Bl,"storage-get"))},Fl.onsuccess=Bl=>{const Ul=Bl.target.result;et(Ul?Ul.value:void 0)}}catch(Fl){$l(ERROR_FACTORY.create("storage-get",{originalErrorMessage:(Nl=Fl)===null||Nl===void 0?void 0:Nl.message}))}})}async set(i,o){const et=await this.openDbPromise;return new Promise(($l,Nl)=>{var Ml;const Ll=et.transaction([APP_NAMESPACE_STORE],"readwrite").objectStore(APP_NAMESPACE_STORE),Fl=this.createCompositeKey(i);try{const Bl=Ll.put({compositeKey:Fl,value:o});Bl.onerror=Ul=>{Nl(toFirebaseError(Ul,"storage-set"))},Bl.onsuccess=()=>{$l()}}catch(Bl){Nl(ERROR_FACTORY.create("storage-set",{originalErrorMessage:(Ml=Bl)===null||Ml===void 0?void 0:Ml.message}))}})}async delete(i){const o=await this.openDbPromise;return new Promise((et,$l)=>{var Nl;const Ol=o.transaction([APP_NAMESPACE_STORE],"readwrite").objectStore(APP_NAMESPACE_STORE),Ll=this.createCompositeKey(i);try{const Fl=Ol.delete(Ll);Fl.onerror=Bl=>{$l(toFirebaseError(Bl,"storage-delete"))},Fl.onsuccess=()=>{et()}}catch(Fl){$l(ERROR_FACTORY.create("storage-delete",{originalErrorMessage:(Nl=Fl)===null||Nl===void 0?void 0:Nl.message}))}})}createCompositeKey(i){return[this.appId,this.appName,this.namespace,i].join()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageCache{constructor(i){this.storage=i}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const i=this.storage.getLastFetchStatus(),o=this.storage.getLastSuccessfulFetchTimestampMillis(),et=this.storage.getActiveConfig(),$l=await i;$l&&(this.lastFetchStatus=$l);const Nl=await o;Nl&&(this.lastSuccessfulFetchTimestampMillis=Nl);const Ml=await et;Ml&&(this.activeConfig=Ml)}setLastFetchStatus(i){return this.lastFetchStatus=i,this.storage.setLastFetchStatus(i)}setLastSuccessfulFetchTimestampMillis(i){return this.lastSuccessfulFetchTimestampMillis=i,this.storage.setLastSuccessfulFetchTimestampMillis(i)}setActiveConfig(i){return this.activeConfig=i,this.storage.setActiveConfig(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerRemoteConfig(){_registerComponent(new Component(RC_COMPONENT_NAME,s,"PUBLIC").setMultipleInstances(!0)),registerVersion(name$3,version$3),registerVersion(name$3,version$3,"esm2017");function s(i,{instanceIdentifier:o}){const et=i.getProvider("app").getImmediate(),$l=i.getProvider("installations-internal").getImmediate();if(typeof window=="undefined")throw ERROR_FACTORY.create("registration-window");if(!isIndexedDBAvailable())throw ERROR_FACTORY.create("indexed-db-unavailable");const{projectId:Nl,apiKey:Ml,appId:Ol}=et.options;if(!Nl)throw ERROR_FACTORY.create("registration-project-id");if(!Ml)throw ERROR_FACTORY.create("registration-api-key");if(!Ol)throw ERROR_FACTORY.create("registration-app-id");o=o||"firebase";const Ll=new Storage(Ol,et.name,o),Fl=new StorageCache(Ll),Bl=new Logger(name$3);Bl.logLevel=LogLevel.ERROR;const Ul=new RestClient($l,SDK_VERSION$2,o,Nl,Ml,Ol),Gl=new RetryingClient(Ul,Ll),Wl=new CachingClient(Gl,Ll,Fl,Bl),zl=new RemoteConfig(et,Wl,Fl,Ll,Bl);return ensureInitialized(zl),zl}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fetchAndActivate(s){return s=getModularInstance(s),await fetchConfig(s),activate(s)}async function isSupported(){if(!isIndexedDBAvailable())return!1;try{return await validateIndexedDBOpenable()}catch{return!1}}registerRemoteConfig();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteConfigCompatImpl{constructor(i,o){this.app=i,this._delegate=o}get defaultConfig(){return this._delegate.defaultConfig}set defaultConfig(i){this._delegate.defaultConfig=i}get fetchTimeMillis(){return this._delegate.fetchTimeMillis}get lastFetchStatus(){return this._delegate.lastFetchStatus}get settings(){return this._delegate.settings}set settings(i){this._delegate.settings=i}activate(){return activate(this._delegate)}ensureInitialized(){return ensureInitialized(this._delegate)}fetch(){return fetchConfig(this._delegate)}fetchAndActivate(){return fetchAndActivate(this._delegate)}getAll(){return getAll(this._delegate)}getBoolean(i){return getBoolean(this._delegate,i)}getNumber(i){return getNumber(this._delegate,i)}getString(i){return getString(this._delegate,i)}getValue(i){return getValue(this._delegate,i)}setLogLevel(i){setLogLevel(this._delegate,i)}}const name$2="@firebase/remote-config-compat",version$2="0.1.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerRemoteConfigCompat(s){s.INTERNAL.registerComponent(new Component("remoteConfig-compat",remoteConfigFactory,"PUBLIC").setMultipleInstances(!0).setServiceProps({isSupported})),s.registerVersion(name$2,version$2)}function remoteConfigFactory(s,{instanceIdentifier:i}){const o=s.getProvider("app-compat").getImmediate(),et=s.getProvider("remote-config").getImmediate({identifier:i});return new RemoteConfigCompatImpl(o,et)}registerRemoteConfigCompat(firebase);var name$1="firebase",version$1="9.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */firebase.registerVersion(name$1,version$1,"app-compat");var name="firebase",version="9.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);firebase.registerVersion(name,version,"compat");firebase.firestore;function useFirestoreQuery(s){const[i,o]=react.exports.useState(),et=react.exports.useRef(s);return react.exports.useEffect(()=>{if(!!et.current)return El(et.current,$l=>{const Nl=$l.docs.map(Ml=>({...Ml.data(),id:Ml.id}));o(Nl)}),()=>{}},[et]),i}const ChatCardInner=styled.div`
  padding: 10px;
  width: fit-content;
  min-width: 100px;
  max-width: 200px;
  box-shadow: 0 2px 3px ${({theme:s})=>s.colors.grey300};
  margin-top: 10px;
  border-radius: 10px;
  display: flex;
  flex-direction: column;
  flex-wrap: wrap;
  row-gap: 4px;
  position: relative;
  ${({isUser:s})=>s&&Ce$2`
      background: ${({theme:i})=>i.colors.blue300};
      box-shadow: ${({theme:i})=>i.colors.boxShadow100};
    `}
`,ChatUser=styled.p`
  font-size: ${({theme:s})=>s.fontSize.body3};
  color: ${({theme:s})=>s.colors.grey900};
  font-weight: bold;
`,ChatText=styled.p`
  font-size: ${({theme:s})=>s.fontSize.body2};
  color: ${({theme:s})=>s.colors.grey900};
`,ChatDate=styled.p`
  font-size: ${({theme:s})=>s.fontSize.body3};
  color: ${({theme:s})=>s.colors.grey600};
`,ChatCard=({text:s,createdAt:i,uid:o,displayName:et,isRead:$l,adminUser:Nl})=>{const Ml=new Date(i).toString().split("GMT")[0];return jsxs(ChatCardInner,{isUser:Nl===o,children:[jsx(ChatUser,{children:et}),jsx(ChatText,{children:s}),jsx(ChatDate,{children:Ml})]})};var ChatCard$1=react.exports.memo(ChatCard);const ApplicantChatSectionWrapper=styled.div`
  width: 400px;
  height: 100%;
  display: flex;
  flex-direction: column;
  position: relative;
`,ApplicantChatBottomBar=styled.div`
  position: absolute;
  bottom: 0;
  padding: 10px;
  width: 100%;
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
`,ApplicantChatInput=styled.input`
  border: 1px solid ${({theme:s})=>s.colors.grey300};
  border-radius: 7px;
  height: 36px;
  width: 100%;
  box-sizing: border-box;
  padding: 0 10px;
  margin-right: 5px;
`,ApplicantChatSendButton=styled.button`
  border: 1px solid ${({theme:s})=>s.colors.blue500};
  border-radius: 7px;
  background: ${({theme:s})=>s.colors.blue500};
  padding: 3px 14px;
  cursor: pointer;
`,ApplicantChatList=styled.div`
  width: 100%;
  height: 700px;
  overflow-y: scroll;
  position: relative;
  padding: 10px;
  box-sizing: border-box;
`,ChatCardWrapper=styled.div`
  display: flex;
  width: 100%;
  box-sizing: border-box;
  ${({isUser:s})=>s&&Ce$2`
      justify-content: flex-end;
    `}
`,ApplicantChat=react.exports.forwardRef((s,i)=>{const{newMessages:o,adminUser:et}=s,$l=[...o].reverse();return jsx(ApplicantChatList,{children:$l.map(Nl=>jsx(ChatCardWrapper,{ref:i,isUser:et===Nl.uid,children:jsx(ChatCard$1,{...Nl,adminUser:et})},Nl.id))})});ApplicantChat.displayName="ApplicantChat";const ApplicantChatSection=({applicantId:s})=>{const[i,o]=react.exports.useState(""),et=react.exports.useRef(null),$l=Recoil_index_19(adminUserState),Nl=Uh(Va(db,`chats-${s}`),Qh("createdAt","asc"),Wh(100)),Ml=Va(db,`chats-${s}`),Ol=useFirestoreQuery(Nl),Ll=react.exports.useCallback(Ul=>{o(Ul.target.value)},[]),Fl=async()=>{const Ul=i.trim();Ul&&(await Tl(Ml,{text:Ul,createdAt:Date.now(),uid:$l.uid,displayName:$l.nickname,isRead:!1}),o(""))},Bl=Ul=>{Ul.key==="Enter"&&Fl()};return react.exports.useEffect(()=>{var Ul;(Ul=et.current)==null||Ul.scrollIntoView({behavior:"smooth"})},[Ol]),jsx(ApplicantChatSectionWrapper,{children:jsxs(Fragment,{children:[et&&Ol&&jsx(ApplicantChat,{ref:et,adminUser:$l.uid,newMessages:Ol}),jsxs(ApplicantChatBottomBar,{children:[jsx(ApplicantChatInput,{onChange:Ll,value:i,onKeyPress:Bl}),jsx(ApplicantChatSendButton,{onClick:Fl,children:"\uC804\uC1A1"})]})]})})},timeFilter=s=>{const i=new Date(s*1e3),o=i.getMonth()+1,et=i.getDate(),$l=i.getFullYear(),Nl=i.getHours(),Ml=i.getMinutes(),Ol=`${Nl}\uC2DC ${Ml}\uBD84`,Ll=`${$l} .${o} .${et} ${Nl}\uC2DC ${Ml}\uBD84`,Fl=`${$l} .${o} .${et}`;return{time:Ol,fullDate:Ll,Y_M_D:Fl}},GENERATION=2,recruitInfo={GENERATION:`${GENERATION}`,COLLECTION:`applicants-${GENERATION}`},applicationQuestions={question1:"1. \uD65C\uC6A9\uD560 \uC218 \uC788\uB294 \uD504\uB808\uC784\uC6CC\uD06C, \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uC54C\uB824\uC8FC\uC138\uC694.",question2:"2. \uD504\uB85C\uC81D\uD2B8 \uD611\uC5C5 \uACBD\uD5D8\uC774 \uC788\uB2E4\uBA74 \uC790\uC138\uD558\uAC8C \uC54C\uB824\uC8FC\uC138\uC694.",question3:"3. \uC5B4\uB5A4 \uB9AC\uB4DC\uAC00 \uC88B\uC740 \uB9AC\uB4DC\uB77C\uACE0 \uC0DD\uAC01\uD558\uC2DC\uB294\uC9C0 \uC54C\uB824\uC8FC\uC138\uC694.",question4:"4. \uD300\uC6D0\uACFC \uAC08\uB4F1\uC0C1\uD669\uC740 \uC5B4\uB5BB\uAC8C \uD574\uACB0\uD558\uC2DC\uB098\uC694?",question5:"5. \uBCF8\uC778\uB9CC\uC758 \uACF5\uBD80\uBC29\uBC95\uC774 \uC788\uB2E4\uBA74 \uC5B4\uB5A4 \uAC83\uC774 \uC788\uB098\uC694?"},applicantFilterByStatus=s=>{const i=s.filter(Ml=>Ml.status==="DOCS"),o=s.filter(Ml=>Ml.status==="INTERVIEW"),et=s.filter(Ml=>Ml.status==="REJECTED_DOCS"),$l=s.filter(Ml=>Ml.status==="REJECTED_INTERVIEW"),Nl=s.filter(Ml=>Ml.status==="HIRED");return{DOCS:i,INTERVIEW:o,REJECTED_DOCS:et,REJECTED_INTERVIEW:$l,HIRED:Nl}},getApplicants=async s=>{const i=Va(db,recruitInfo.COLLECTION),o=s?Uh(i,Kh("status","==",s)):Uh(i,Qh("uploadDate","desc"));return(await wl(o)).docs.map(Nl=>({id:Nl.id,...Nl.data()}))},getApplicant=async s=>{const i=await ll(Da(db,recruitInfo.COLLECTION,s));return{id:i.id,...i.data()}},ApplicantModal=()=>{const[s,i]=react.exports.useState(),[o,et]=Recoil_index_21(modalState),$l=()=>{et({...o,[MODAL_KEY.ADMIN_APPLICANT]:!1,selectedId:""})},Nl=async()=>{const Ml=await getApplicant(o.selectedId);i(Ml)};return react.exports.useEffect(()=>{Nl()},[o.selectedId]),jsx(AnimatePresence,{children:o.adminApplicant&&o.selectedId&&jsx(ApplicantModalWrapper,{children:jsx(OutsideClickHandler,{outsideClick:$l,children:jsxs(ApplicantModalInner,{variants:modalVariants,layoutId:`card-${o.selectedId}`,children:[s&&jsxs(ApplicantInfoWrapper,{children:[jsx(ApplicantInfo,{applicantData:s}),jsx(ApplicantInfoState,{applicantData:s,setApplicantData:i})]}),jsxs(ApplicantInfoSection,{children:[jsx(ApplicantInfoHeader,{children:jsx(ClearButton,{onClick:$l})}),s&&jsxs(ApplicantDataWrapper,{children:[jsx(Application,{applicantData:s}),jsx(ApplicantChatSection,{applicantId:s.id})]})]})]})})})})},ApplicantInfoState=({applicantData:s,setApplicantData:i})=>{const o=Da(db,recruitInfo.COLLECTION,s.id),et=react.exports.useCallback(async $l=>{await pl(o,{status:$l}),i({...s,status:$l})},[]);return jsxs(ApplicantInfoStateWrapper,{children:[jsx(ApplicantBadgeWrapper,{onClick:()=>et("DOCS"),children:jsx(StatusBadge,{status:"DOCS",disable:s.status!=="DOCS"})}),jsx(ApplicantBadgeWrapper,{onClick:()=>et("REJECTED_DOCS"),children:jsx(StatusBadge,{status:"REJECTED_DOCS",disable:s.status!=="REJECTED_DOCS"})}),jsx(ApplicantBadgeWrapper,{onClick:()=>et("INTERVIEW"),children:jsx(StatusBadge,{status:"INTERVIEW",disable:s.status!=="INTERVIEW"})}),jsx(ApplicantBadgeWrapper,{onClick:()=>et("REJECTED_INTERVIEW"),children:jsx(StatusBadge,{status:"REJECTED_INTERVIEW",disable:s.status!=="REJECTED_INTERVIEW"})}),jsx(ApplicantBadgeWrapper,{onClick:()=>et("HIRED"),children:jsx(StatusBadge,{status:"HIRED",disable:s.status!=="HIRED"})})]})},Application=({applicantData:s})=>{const i=et=>({question1:et.question1,question2:et.question2,question3:et.question3,question4:et.question4,question5:et.question5}),o=Object.keys(i(s));return jsx(ApplicationWrapper,{children:o.map((et,$l)=>{var Nl;return jsxs("div",{children:[jsx(ApplicationHeader,{children:applicationQuestions[et]}),jsx(ApplicationText,{children:(Nl=i(s)[et])!=null?Nl:"\uC5C6\uC74C"})]},$l)})})},ApplicantInfo=({applicantData:s})=>{var o,et,$l;function i(Nl){return Nl===""?"\uC5C6\uC74C":Nl.replace(/^(https?:\/\/)?(www\.)?/,"")}return jsxs(ApplicantInfoInner,{children:[jsxs(ApplicantNameWrapper,{children:[jsx(ApplicantName,{children:s.name}),jsx(StatusBadge,{status:s.status})]}),jsxs(ApplicantInfoTextWrapper,{children:[jsx(ApplicantInfoText,{children:"\uC774\uBA54\uC77C"}),jsx(ApplicantInfoText,{children:s.email})]}),jsxs(ApplicantInfoTextWrapper,{children:[jsx(ApplicantInfoText,{children:"\uC804\uD654\uBC88\uD638"}),jsx(ApplicantInfoText,{children:s.phoneNumber})]}),jsxs(ApplicantInfoTextWrapper,{children:[jsx(ApplicantInfoText,{children:"\uC804\uACF5"}),jsx(ApplicantInfoText,{children:s.major})]}),jsxs(ApplicantInfoTextWrapper,{children:[jsx(ApplicantInfoText,{children:"\uD559\uBC88"}),jsx(ApplicantInfoText,{children:s.studentID})]}),jsxs(ApplicantInfoTextWrapper,{children:[jsx(ApplicantInfoText,{children:"\uCCA8\uBD80\uD30C\uC77C"}),jsx(ApplicantInfoLink,{href:s.fileURL,target:"_blank",children:i((o=s.fileURL)!=null?o:"")})]}),jsxs(ApplicantInfoTextWrapper,{children:[jsx(ApplicantInfoText,{children:"Link0"}),jsx(ApplicantInfoLink,{href:s.link0,target:"_blank",children:i((et=s.link0)!=null?et:"")})]}),jsxs(ApplicantInfoTextWrapper,{children:[jsx(ApplicantInfoText,{children:"Link1"}),jsx(ApplicantInfoLink,{href:s.link1,target:"_blank",children:i(($l=s.link1)!=null?$l:"")})]}),jsxs(ApplicantInfoTextWrapper,{children:[jsx(ApplicantInfoText,{children:"\uCD94\uCC9C\uC778"}),jsx(ApplicantInfoText,{children:s.recommender==""?"\uC5C6\uC74C":s.recommender})]}),jsxs(ApplicantInfoTextWrapper,{children:[jsx(ApplicantInfoText,{children:"\uC9C0\uC6D0 \uC77C\uC790"}),jsx(ApplicantInfoText,{children:timeFilter(s.uploadDate.seconds).fullDate})]})]})};var ApplicantModal$1=react.exports.memo(ApplicantModal);const ApplicantsStatusWrapper=styled.div`
  display: flex;
  align-items: center;
  width: fit-content;
`,ApplicantsBadgeWrapper=styled.div`
  font-size: ${({theme:s})=>s.fontSize.body2};
  color: ${({theme:s})=>s.colors.grey700};
  display: flex;
  align-items: center;
  padding: 0 10px;
  flex-wrap: wrap;
  gap: 0 5px;
`,StatusBadgeBox=({status:s,setStatus:i,filteredApplicants:o,setFilteredApplicants:et})=>{const $l=applicantFilterByStatus(o),Nl={DOCS:$l.DOCS.length,INTERVIEW:$l.INTERVIEW.length,REJECTED_DOCS:$l.REJECTED_DOCS.length,REJECTED_INTERVIEW:$l.REJECTED_INTERVIEW.length,HIRED:$l.HIRED.length},Ml=Object.keys(Nl),Ol=Ll=>{i(s===Ll?null:Ll)};return react.exports.useEffect(()=>{et(s?$l[s]:o)},[s]),jsx(ApplicantsStatusWrapper,{children:Ml.map(Ll=>jsxs(ApplicantsBadgeWrapper,{onClick:()=>Ol(Ll),children:[jsx(StatusBadge,{status:Ll,disable:Ll!==s}),Nl[Ll]]},Ll))})},position={home:"Home",frontend:"Frontend Developer",backend:"Backend Developer",android:"Android Developer",beginner:"Beginner",design:"Designer",ml:"Machine Learning"},AdminApplicantSection=()=>{const[s,i]=Recoil_index_21(modalState),[o,et]=react.exports.useState(),[$l,Nl]=react.exports.useState(null),[Ml]=useSearchParams(),Ol=Ml.get("type"),Ll=Ul=>{i({...s,[MODAL_KEY.ADMIN_APPLICANT]:!0,selectedId:Ul})},Fl=async Ul=>{const Gl=position[Ol].toLowerCase();if(Ul){const Wl=[...Ul],zl=Ol!=="home"?Wl.filter(Ql=>Ql.position.toLowerCase().includes(Gl)):Wl;await et(zl)}},Bl=async()=>{const Ul=await getApplicants($l);await Fl(Ul)};return react.exports.useEffect(()=>{Bl()},[Ol,$l,s.selectedId]),jsx(AnimatePresence,{children:jsxs(LayoutGroup,{children:[s.adminApplicant&&jsx(ApplicantModal$1,{}),jsxs(ApplicantSection,{children:[jsxs(InformationHeader,{children:[jsx(AnnouncementToggle,{currentParam:Ol}),o&&jsx(StatusBadgeBox,{status:$l,setStatus:Nl,filteredApplicants:o,setFilteredApplicants:et})]}),o&&jsx(ApplicantCardSection,{children:o.map(Ul=>jsx(ApplicantCardWrapper,{onClick:()=>Ll(Ul.id),children:jsx(ApplicantCard,{...Ul})},Ul.id))})]})]})})},AnnouncementToggle=({currentParam:s})=>{const[i,o]=Recoil_index_21(recruitmentState),et=Ml=>o({...i,[Ml]:!i[Ml]}),$l=Ml=>i[Ml],Nl={type:"spring",stiffness:700,damping:30};return jsx(ToggleButton,{children:jsx(Switch,{"data-ison":$l(s),onClick:()=>et(s),children:jsx(Handle,{layout:!0,transition:Nl})})})};var AdminApplicantSection$1=react.exports.memo(AdminApplicantSection);const AdminApplicants=()=>{const s=Recoil_index_19(recruitmentState),[i,o]=useSearchParams(),et=useLocation();return react.exports.useEffect(()=>{API.putRecruitStatus(s)},[s]),react.exports.useEffect(()=>{!i.get("type")&&o({type:"home"})},[et.pathname]),jsx(AdminSectionWrapper,{children:jsx(AdminApplicantSection$1,{})})},store={_origin:"https://api.emailjs.com"},init=(s,i="https://api.emailjs.com")=>{store._userID=s,store._origin=i},validateParams=(s,i,o)=>{if(!s)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!i)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class EmailJSResponseStatus{constructor(i){this.status=i.status,this.text=i.responseText}}const sendPost=(s,i,o={})=>new Promise((et,$l)=>{const Nl=new XMLHttpRequest;Nl.addEventListener("load",({target:Ml})=>{const Ol=new EmailJSResponseStatus(Ml);Ol.status===200||Ol.text==="OK"?et(Ol):$l(Ol)}),Nl.addEventListener("error",({target:Ml})=>{$l(new EmailJSResponseStatus(Ml))}),Nl.open("POST",store._origin+s,!0),Object.keys(o).forEach(Ml=>{Nl.setRequestHeader(Ml,o[Ml])}),Nl.send(i)}),send=(s,i,o,et)=>{const $l=et||store._userID;validateParams($l,s,i);const Nl={lib_version:"3.6.2",user_id:$l,service_id:s,template_id:i,template_params:o};return sendPost("/api/v1.0/email/send",JSON.stringify(Nl),{"Content-type":"application/json"})},findHTMLForm=s=>{let i;if(typeof s=="string"?i=document.querySelector(s):i=s,!i||i.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return i},sendForm=(s,i,o,et)=>{const $l=et||store._userID,Nl=findHTMLForm(o);validateParams($l,s,i);const Ml=new FormData(Nl);return Ml.append("lib_version","3.6.2"),Ml.append("service_id",s),Ml.append("template_id",i),Ml.append("user_id",$l),sendPost("/api/v1.0/email/send-form",Ml)};var emailjs={init,send,sendForm};const CheckBoxCardWrapper=styled.div`
  display: flex;
  align-items: center;
  text-align: center;
  justify-content: space-between;
  box-sizing: border-box;
  box-shadow: 0 0 10px ${({theme:s})=>s.colors.grey100};
  background: ${({theme:s})=>s.colors.white};
  padding: 12px 16px;
  height: 46px;
  border-radius: 6px;
  transition: all 0.3s ease-in-out;
  width: 480px;
  &:hover {
    background: ${({theme:s})=>s.colors.grey50};
    cursor: pointer;
  }
  ${({disabled:s})=>s&&Ce$2`
      width: 200px;
    `}
`,CheckBoxText=styled.div`
  font-size: ${({theme:s})=>s.fontSize.body2};
  color: ${({theme:s})=>s.colors.grey800};
  width: 70px;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,CheckBoxName=styled.div`
  font-size: ${({theme:s})=>s.fontSize.body2};
  color: ${({theme:s})=>s.colors.grey800};
  width: 60px;
  display: flex;
  white-space: nowrap;
  overflow: hidden;
`,CheckBoxStatusWrapper=styled.div`
  width: 65px;
  display: flex;
  justify-content: center;
`,CheckBoxEmailText=styled.div`
  font-size: ${({theme:s})=>s.fontSize.body2};
  color: ${({theme:s})=>s.colors.grey800};
  width: 200px;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,CheckBox=styled.input`
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 2px solid ${({theme:s})=>s.colors.grey300};
  cursor: pointer;

  &:checked {
    background: ${({theme:s})=>s.colors.googleBlue};
  }
`,CheckBoxCard=({id:s,name:i,email:o,status:et,position:$l,checkedList:Nl,setCheckedList:Ml,disabled:Ol})=>{const Ll=React.useRef(null);return jsxs(CheckBoxCardWrapper,{disabled:Ol,onClick:()=>{var Fl;Ml&&Ml(s,!((Fl=Ll.current)!=null&&Fl.checked))},children:[!Ol&&Nl&&Ml&&jsx(CheckBox,{type:"checkbox",ref:Ll,checked:Nl.has(s),onChange:Fl=>Ml(s,Fl.target.checked)}),!Ol&&jsx(CheckBoxName,{children:i}),!Ol&&jsx(CheckBoxText,{children:$l}),jsx(CheckBoxEmailText,{children:o}),!Ol&&jsx(CheckBoxStatusWrapper,{children:jsx(StatusBadge,{status:et})})]})},ModalBackgroundWrapper=styled(motion.div)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.1);
  z-index: 1000;
`,AdminEmailCheckModal=({sendEmail:s,template:i,applicants:o})=>{const[et,$l]=Recoil_index_21(modalState);return jsx(AnimatePresence,{children:et.adminEmailCheck&&jsx(ModalBackgroundWrapper,{initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:jsx(OutsideClickHandler,{outsideClick:()=>{$l({...et,[MODAL_KEY.ADMIN_EMAIL_CHECK]:!1})},children:jsxs(ApplyModalInner,{children:[jsx(ApplyModalTitle,{children:"\uCD5C\uC885 \uC804\uC1A1 \uC804, \uD655\uC778\uD574\uC8FC\uC138\uC694."}),jsxs(ApplyModalP,{children:["\uC120\uD0DD\uD55C \uC774\uBA54\uC77C\uC740 \uCD1D ",o.length,"\uAC1C\uC5D0\uC694."]}),jsxs(ApplyButtonWrapper,{children:[jsx(GDSCButton,{text:"\uB3CC\uC544\uAC00\uAE30",color:"tossBlue",onClick:()=>$l({...et,[MODAL_KEY.ADMIN_EMAIL_CHECK]:!1})}),jsx(GDSCButton,{text:"\uC804\uC1A1\uD558\uAE30",color:"tossRed",onClick:()=>s(i,o)})]})]})})})})},CheckboxSection=styled.section`
  display: flex;
  flex-wrap: wrap;
  min-width: 450px;
  box-sizing: border-box;
  width: 100%;
`,CheckboxWrapper=styled.div`
  width: 100%;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  height: fit-content;
  margin-bottom: 10px;
  @media (min-width: 1000px) {
    width: 100%;
  }
  @media (min-width: 1580px) {
    width: 50%;
  }
  @media (min-width: 1950px) {
    width: 33%;
  }
`,SelectedBoxSection=styled.section`
  display: flex;
  flex-wrap: wrap;
  row-gap: 10px;
  flex-direction: column;
  overflow: scroll;
  width: 100%;
  justify-content: center;
  align-items: center;
  height: 100%;
  padding: 10px 20px;
  box-sizing: border-box;
`,TemplateEmailWrapper=styled.div`
  width: 300px;
`,TemplateText=styled.div`
  font-size: ${({theme:s})=>s.fontSize.h7};
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  width: 200px;
`,EmailRightWrapper=styled.div`
  display: flex;
  align-items: center;
  flex-direction: column;
  box-sizing: border-box;
  width: 100%;
`,EmailRightInner=styled.div`
  padding: 0 20px;
  display: flex;
  box-sizing: border-box;
  width: 100%;
  justify-content: flex-end;
  flex-direction: column;
  align-items: center;
  flex-wrap: wrap;
  gap: 10px;
`,EmailLeftWrapper=styled.div`
  background: ${({theme:s})=>s.colors.grey50};
`,EmailLeftInner=styled.div`
  width: 240px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  row-gap: 10px;
`,EmailCategory=styled.div`
  font-size: ${({theme:s})=>s.fontSize.h7};
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  height: 50px;
  width: 100%;
  white-space: nowrap;
`,AdminEmail=({template:s})=>{const[i,o]=Recoil_index_21(alertState),[et,$l]=Recoil_index_21(loaderState),Nl=Recoil_index_19(adminUserState),[Ml,Ol]=react.exports.useState(),[Ll,Fl]=react.exports.useState(new Set),[Bl,Ul]=react.exports.useState(null),[Gl,Wl]=Recoil_index_21(modalState),zl=_f=>{Wl({...Gl,[MODAL_KEY.ADMIN_APPLICANT]:!0,selectedId:_f})},Ql=(_f,e0)=>{const s0=new Set(Ll);e0?(s0.add(_f),Fl(s0)):!e0&&Ll.has(_f)&&(s0.delete(_f),Fl(s0))},Jl=Ll.size===(Ml==null?void 0:Ml.length),Kl=_f=>{Fl(_f?new Set(Ml==null?void 0:Ml.map(e0=>e0.id)):new Set)},Hl=async _f=>{await Tl(Va(db,"emailLogs"),_f)},Yl=async(_f,e0)=>{Wl({...Gl,[MODAL_KEY.ADMIN_EMAIL_CHECK]:!1}),e0.length===0&&o({...i,alertHandle:!0,alertMessage:"\uC9C0\uC6D0\uC790\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694."}),_f==="\uD15C\uD50C\uB9BF\uC774 \uC5C6\uC5B4\uC694 :("?o({...i,alertHandle:!0,alertMessage:"\uD15C\uD50C\uB9BF\uC744 \uC120\uD0DD\uD558\uC9C0 \uC54A\uC558\uC5B4\uC694."}):($l({...et,load:!0}),await Xl(_f,e0))},Xl=async(_f,e0)=>{e0.map(async s0=>{emailjs.init("RsM6o4WUsb5rzJGXG");try{const u0=await emailjs.send("default_service",_f,{email:s0.email,name:s0.name}),g0={email:s0.email,name:s0.name,applicantID:s0.id,applicantStatus:s0.status,sender:Nl.nickname,status:u0.status,uploadDate:new Date};await Hl(g0),g0&&(o({...i,alertHandle:!0,alertMessage:"\uBA54\uC77C\uC774 \uC804\uC1A1\uB418\uC5C8\uC5B4\uC694. \uB85C\uADF8\uB97C \uD655\uC778\uD574\uC8FC\uC138\uC694."}),$l({...et,load:!1}))}catch{o({...i,alertHandle:!0,alertMessage:"\uC5B4\uB518\uAC00 \uBB38\uC81C\uAC00 \uC0DD\uACBC\uC5B4\uC694. \uCF58\uC194\uC744 \uD655\uC778\uD574\uC8FC\uC138\uC694."})}})},Zl=async()=>{const _f=await getApplicants(Bl);Ol(_f)};react.exports.useEffect(()=>{Zl()},[Bl]);const _d=Ml==null?void 0:Ml.filter(_f=>Ll.has(_f.id));return jsx(AnimatePresence,{children:jsxs(AdminSectionWrapper,{children:[jsx(ApplicantModal$1,{}),_d&&jsx(AdminEmailCheckModal,{applicants:_d,sendEmail:Yl,template:s}),jsx(EmailLeftWrapper,{children:jsxs(EmailLeftInner,{children:[jsx(EmailCategory,{children:"\uC120\uD0DD\uD55C \uC774\uBA54\uC77C"}),_d&&jsx(SelectedBoxSection,{children:_d.map(_f=>jsx("div",{onDoubleClick:()=>zl(_f.id),children:jsx(CheckBoxCard,{..._f,disabled:!0})},`check-${_f.id}`))})]})}),jsx(EmailRightWrapper,{children:jsxs(EmailRightInner,{children:[jsxs(InformationHeader,{children:[Ml&&jsx(StatusBadgeBox,{status:Bl,setStatus:Ul,filteredApplicants:Ml,setFilteredApplicants:Ol}),jsxs(EmailButtonWrapper,{children:[jsx(GDSCButton,{color:Jl?"tossBlueActive":"tossBlue200",text:Jl?"\uBAA8\uB450 \uD574\uC81C":"\uBAA8\uB450 \uC120\uD0DD",onClick:()=>Kl(!Jl),type:"button"}),jsx(GDSCButton,{color:"googleBlue",text:"\uC774\uBA54\uC77C \uC804\uC1A1",onClick:()=>Wl(()=>({...Gl,adminEmailCheck:!0})),type:"button"})]})]}),Ml&&jsx(CheckboxSection,{children:Ml.map(_f=>jsx(CheckboxWrapper,{onDoubleClick:()=>zl(_f.id),children:jsx(CheckBoxCard,{..._f,checkedList:Ll,setCheckedList:Ql})},_f.id))})]})})]})})},StyledRowLine=styled.div`
  background: ${({theme:s})=>s.colors.grey400};
  width: 33%;
  height: 1px;
`,\uAD6C\uBD84\uC120=styled.div`
  align-items: center;
  display: flex;
  flex-direction: row;
  justify-content: center;
  box-sizing: border-box;
  padding: 6px 0;
  flex-wrap: wrap;
  gap: 20px;
  width: 100%;
  font-size: ${({theme:s})=>s.fontSize.body2};
  color: ${({theme:s})=>s.colors.grey700};
`,EmailLogBox=styled.div`
  display: flex;
  align-items: center;
  flex-direction: row;
  font-size: ${({theme:s})=>s.fontSize.body2};
  color: ${({theme:s})=>s.colors.grey700};
  width: 100%;
  justify-content: space-between;
  box-sizing: border-box;
  padding: 14px 20px;
  box-shadow: 0 2px 12px 0 ${({theme:s})=>s.colors.grey300};
  border-radius: 10px;
  background: ${({theme:s})=>s.colors.white};
`,EmailLogText=styled.div`
  width: 70px;
  white-space: nowrap;
  overflow: hidden;
  display: flex;
  text-overflow: ellipsis;
  font-size: ${({theme:s})=>s.fontSize.body2};
  justify-content: center;
  ${({email:s})=>s&&Ce$2`
      display: block;
      width: 100px;
    `}
`,EmailLogBadgeWrapper=styled.div`
  width: 65px;
  display: flex;
  align-items: center;
  justify-content: center;
`,EmailLogSection=styled.section`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex-wrap: wrap;
  max-width: 600px;
  align-items: center;
  margin: 0 auto;
  gap: 10px;
  height: fit-content;
  padding: 20px 0;
`,EmailLogCard=({emailLogs:s})=>{const[i,o]=React.useState("");return react.exports.useEffect(()=>{s.length>0&&o(timeFilter(s[0].uploadDate.seconds).Y_M_D)},[s]),jsxs(EmailLogSection,{children:[i&&jsxs(\uAD6C\uBD84\uC120,{children:[jsx(StyledRowLine,{}),i,jsx(StyledRowLine,{})]}),s&&s.map((et,$l)=>{const Nl=$l==0?0:$l-1,Ml=timeFilter(s[Nl].uploadDate.seconds).Y_M_D;return jsx(EmailLog,{emailLog:et,lastDate:Ml!=null?Ml:""},et.id)})]})},EmailLog=({emailLog:s,lastDate:i})=>{const o=timeFilter(s.uploadDate.seconds).Y_M_D;return jsxs(Fragment,{children:[o!==i&&jsxs(\uAD6C\uBD84\uC120,{children:[jsx(StyledRowLine,{}),o,jsx(StyledRowLine,{})]}),jsxs(EmailLogBox,{children:[jsx(EmailLogText,{children:s.name}),jsx(EmailLogText,{email:!0,children:s.email}),jsx(EmailLogText,{children:s.sender}),jsx(EmailLogText,{children:timeFilter(s.uploadDate.seconds).time}),jsx(EmailLogText,{children:s.status}),jsx(EmailLogBadgeWrapper,{children:jsx(StatusBadge,{status:s.applicantStatus})})]},s.id)]})},TextInput=react.exports.forwardRef(({name:s,placeholder:i,onChange:o,type:et,disabled:$l,error:Nl},Ml)=>{const Ol=Nl!=null&&Nl!="\uD544\uC218\uC785\uB825\uB780\uC785\uB2C8\uB2E4.";return jsx(StyledInputWrapper,{error:Ol,disabled:!$l,children:jsx(StyledInputInner,{className:"formInput",name:s,type:et,onChange:o&&o,placeholder:i,disabled:$l,ref:Ml})})}),TemplateSelectWrapper=styled.div`
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  height: 50px;
  flex-wrap: wrap;
  gap: 10px;
  width: 100%;
  margin: 20px 0;
`,LogWrapper=styled.div`
  height: calc(100vh - 70px - 82px - 120px);
  overflow: scroll;
`,AdminEmailLog=({template:s,setTemplate:i})=>{const o=react.exports.useRef(null),et=Uh(Va(db,"emailLogs"),Qh("uploadDate","desc"),Wh(100)),$l=useFirestoreQuery(et);return jsxs(Fragment,{children:[jsxs(TemplateSelectWrapper,{children:[jsxs(TemplateText,{children:[s!=="\uD15C\uD50C\uB9BF\uC774 \uC5C6\uC5B4\uC694 :("&&"\uC120\uD0DD\uD55C \uD15C\uD50C\uB9BF ",s]}),jsx(TemplateEmailWrapper,{children:jsx(TextInput,{ref:o,placeholder:"\uD15C\uD50C\uB9BF\uC744 \uC785\uB825\uD574\uC8FC\uC138\uC694."})}),jsx(GDSCButton,{color:"googleBlue",text:"\uD15C\uD50C\uB9BF \uC120\uD0DD",onClick:()=>{var Nl,Ml;return i((Ml=(Nl=o.current)==null?void 0:Nl.value)!=null?Ml:"")}})]}),$l&&$l.length>0&&jsx(LogWrapper,{children:jsx(EmailLogCard,{emailLogs:$l})})]})},AdminHome=()=>jsx(AdminContainerWrapper,{}),Admin=()=>{const[s,i]=Recoil_index_21(adminUserState),[o,et]=react.exports.useState("\uD15C\uD50C\uB9BF\uC774 \uC5C6\uC5B4\uC694 :("),$l=useNavigate(),Nl=async Ol=>{const Ll=await ll(Da(db,"adminUsers",Ol)),Fl=Ll.data();Ll.exists()&&i({...s,uid:Ol,nickname:Fl==null?void 0:Fl.nickname,name:Fl==null?void 0:Fl.name,phoneNumber:Fl==null?void 0:Fl.phoneNumber})},Ml=async()=>{onAuthStateChanged(auth,Ol=>{if(Ol)try{Nl(Ol.uid)}catch{$l("/auth")}})};return react.exports.useEffect(()=>{Ml()},[]),jsxs(Fragment,{children:[jsx(AdminSignUp,{}),jsx(AdminHeader$1,{}),jsxs(AdminContainerWrapper,{children:[jsx(AdminSidebar$1,{}),jsx(AdminContainer,{children:jsx(AdminContainerInner,{children:jsxs(Routes,{children:[jsx(Route,{path:"/*",element:jsx(AdminHome,{})}),jsx(Route,{path:"/recruit",element:jsx(AdminApplicants,{})}),jsx(Route,{path:"/email",element:jsx(AdminEmail,{template:o})}),jsx(Route,{path:"/email-log",element:jsx(AdminEmailLog,{template:o,setTemplate:et})})]})})})]})]})},Layout=()=>jsx(ErrorBoundary,{FallbackComponent:Error$1,children:jsx(react.exports.Suspense,{fallback:jsx(GoogleSpinner,{}),children:jsxs(Routes,{children:[jsx(Route,{path:"/*",element:jsx(Pages,{})}),jsx(Route,{path:"/admin/*",element:jsx(Admin,{})}),jsx(Route,{path:"/auth/*",element:jsx(Auth$1,{})})]})})}),GlobalStyles=We$2`

  @font-face {
    font-family: 'Google Sans Display';
    src:
      local("Google Sans Display"),
      url('/fonts/GoogleSansDisplay-Regular.woff2') format('woff2'),
      url('/fonts/GoogleSansDisplay-Regular.woff') format('woff'),
      url('/fonts/GoogleSansDisplay-Regular.ttf') format('truetype');
    font-weight: 400;
    font-display: swap;
    unicode-range: U+0041-005A, U+0061-007A, U+0030-0039;
  }  @font-face {
    font-family: 'Google Sans Display';
    src:
      local("Google Sans Display"),
      url('/fonts/GoogleSansDisplay-Medium.woff2') format('woff2'),
      url('/fonts/GoogleSansDisplay-Medium.woff') format('woff'),
      url('/fonts/GoogleSansDisplay-Medium.ttf') format('truetype');
    font-weight: 500;
    font-display: swap;
    unicode-range: U+0041-005A, U+0061-007A, U+0030-0039;
  }  @font-face {
    font-family: 'Google Sans Display';
    src:
      local("Google Sans Display"),
      url('/fonts/GoogleSansDisplay-Bold.woff2') format('woff2'),
      url('/fonts/GoogleSansDisplay-Bold.woff') format('woff'),
      url('/fonts/GoogleSansDisplay-Bold.ttf') format('truetype');
    font-weight: 700;
    font-display: swap;
    unicode-range: U+0041-005A, U+0061-007A, U+0030-0039;
  }
  @font-face {
    font-family: 'Spoqa Han Sans Neo';
    src:
      local('Spoqa Han Sans Neo'),
      url('/fonts/SpoqaHanSansNeo-Thin.woff2') format('woff2'),
      url('/fonts/SpoqaHanSansNeo-Thin.woff') format('woff'), 
      url('/fonts/SpoqaHanSansNeo-Thin.ttf') format('truetype');
    font-weight: 100;
    font-display: swap;
    unicode-range: U+AC00-U+D7A3;
  } @font-face {
    font-family: 'Spoqa Han Sans Neo';
    src:local('Spoqa Han Sans Neo'),
    url('/fonts/SpoqaHanSansNeo-light.woff2') format('woff2'),
    url('/fonts/SpoqaHanSansNeo-light.woff') format('woff'),
    url('/fonts/SpoqaHanSansNeo-light.ttf') format('truetype');
    font-weight: 300;
    font-display: swap;
    unicode-range: U+AC00-U+D7A3;

  }  @font-face {
    font-family: 'Spoqa Han Sans Neo';
    src:
      local('Spoqa Han Sans Neo'),
      url('/fonts/SpoqaHanSansNeo-Regular.woff2') format('woff2'),
      url('/fonts/SpoqaHanSansNeo-Regular.woff') format('woff'),
      url('/fonts/SpoqaHanSansNeo-Regular.ttf') format('truetype');
    font-weight: 400;
    font-display: swap;
    unicode-range: U+AC00-U+D7A3;
  } @font-face {
    font-family: 'Spoqa Han Sans Neo';
    src:local('Spoqa Han Sans Neo'),
    url('/fonts/SpoqaHanSansNeo-Medium.woff2') format('woff2'),
    url('/fonts/SpoqaHanSansNeo-Medium.woff') format('woff'),
    url('/fonts/SpoqaHanSansNeo-Medium.ttf') format('truetype');
    font-weight: 500;
    font-display: swap;
    unicode-range: U+AC00-U+D7A3;

  }  @font-face {
    font-family: 'Spoqa Han Sans Neo';
    src:local('Spoqa Han Sans Neo'),
    url('/fonts/SpoqaHanSansNeo-Bold.woff2') format('woff2'),
    url('/fonts/SpoqaHanSansNeo-Bold.woff') format('woff'),
    url('/fonts/SpoqaHanSansNeo-Bold.ttf') format('truetype');
    font-weight: 700;
    font-display: swap;
    unicode-range: U+AC00-U+D7A3;
  }
  * {
    margin: 0;
    font-size: 10px;
    word-break: keep-all;
    -webkit-tap-highlight-color: transparent;
    transition: color, background-color 0.3s ease-in-out;
    font-family: 'Google Sans Display','Spoqa Han Sans Neo', sans-serif;
  }
  html, body, div, span, applet, object, iframe,
  h1, h2, h3, h4, h5, h6, p, blockquote, pre,
  a, abbr, acronym, address, big, cite, code,
  del, dfn, em, img, ins, kbd, q, s, samp,
  small, strike, strong, sub, sup, tt, var,
  b, u, i, center,
  dl, dt, dd, ol, ul, li,
  fieldset, form, label, legend,
  table, caption, tbody, tfoot, thead, tr, th, td,
  article, aside, canvas, details, embed,
  figure, figcaption, footer, header, hgroup,
  menu, nav, output, ruby, section, summary,
  time, mark, audio, video {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 10px;
    vertical-align: baseline;
  }
  /* HTML5 display-role reset for older browsers */
  article, aside, details, figcaption, figure,
  footer, header, hgroup, menu, nav, section {
    display: block;
  }
  
  html{
    background: ${({theme:s})=>s.colors.background};
  }
  

  a {
    text-decoration: none;
  }
  a:visited {
    text-decoration: none;
  }
  a:hover {
    text-decoration: none;
  }
  a:focus {
    text-decoration: none;
  }
  a:active {
    text-decoration: none;
  }
`,windowSize={desk:1024,tablet:768,mobile:500},fontSize={h1:"5.6rem",h2:"4.8rem",h3:"3.6rem",h4:"3.2rem",h5:"2.4rem",h6:"2.0rem",h7:"1.8rem",body1:"1.6rem",body2:"1.4rem",body3:"1.2rem",body4:"1rem"},assetGrey$1={white:"#FFF",grey50:"#F9FAFB",grey100:"#F2F4F6",grey200:"#E5E8EB",grey300:"#D1D6DB",grey400:"#B0B8C1",grey500:"#8B95A1",grey600:"#6B7684",grey700:"#4E5968",grey800:"#333D4B",grey900:"#191F28"},assetGreen$1={green100:"#E8F5E9",green200:"#C8E6C9",green300:"#A5D6A7",green400:"#81C784",green500:"#66BB6A",green600:"#4CAF50"},assetYellow$1={yellow100:"#FFF8E1",yellow200:"#FFECB3",yellow300:"#FFE082",yellow400:"#FFD54F",yellow500:"#FFCA28",yellow600:"#FFC107"},assetRed$1={red100:"#FFEBEE",red200:"#FFCDD2",red300:"#EF9A9A",red400:"#E57373",red500:"#EF5350",red600:"#F44336",tossRed:"#f44336"},assetOrange$1={orange100:"#FFF3E0",orange200:"#FFE0B2",orange300:"#FFCC80",orange400:"#FFB74D",orange500:"#FFA726",orange600:"#FF9800",orange700:"#FB8C00",orange800:"#F57C00",orange900:"#FF740F"},assetBlue$1={blue100:"#E3F2FD",blue200:"#BBDEFB",blue300:"#90CAF9",blue400:"#64B5F6",blue500:"#42A5F5",blue600:"#2196F3",tossBlue:"#42a5f5",tossBlue500:"#3182f6",tossBlue200:"#90c2ff",tossBlueActive:"#3886f6"},googleLogoColor$1={googleBlue:"#4285F4",googleRed:"#EA4335",googleYellow:"#FBBC04",googleGreen:"#34A853"},themeColor$1={background:"#fff",boxShadow100:"0 0.8px 2px rgba(0,0,0,0.03), 0 2.7px 6.7px rgba(0,0,0,0.05),0 12px 30px rgba(0,0,0,0.1)",boxShadow300:"0 0.8px 2px rgba(0, 0, 0, 0.03), 0 2.7px 6.7px rgba(0, 0, 0, 0.05), 0 12px 20px rgba(0, 0, 0, 0.3)",backgroundOpacity900:"rgba(255 ,255 ,255, 1)",backgroundOpacity:"rgba(255 ,255 ,255, 0)",greyOpacity50:"rgba(0, 23, 51, 0.02)",greyOpacity100:"rgba(2, 32, 71, 0.05)",greyOpacity200:"rgba(0, 27, 55, 0.1)",greyOpacity300:"rgba(0, 29, 58, 0.18)",greyOpacity400:"rgba(0, 29, 54, 0.31)",greyOpacity500:"rgba(3, 24, 50, 0.46)",greyOpacity600:"rgba(0, 19, 43, 0.58)",greyOpacity700:"rgba(3, 18, 40, 0.7)",greyOpacity800:"rgba(0, 12, 30, 0.8)",greyOpacity900:"rgba(2, 9, 19, 0.91)"},primaryColor$1={...assetGrey$1,...assetGreen$1,...assetYellow$1,...assetRed$1,...assetBlue$1,...assetOrange$1,...googleLogoColor$1,...themeColor$1},lightColors={...primaryColor$1},assetGrey={white:"#191F28",grey50:"#333D4B",grey100:"#4E5968",grey200:"#6B7684",grey300:"#8B95A1",grey400:"#B0B8C1",grey500:"#D1D6DB",grey600:"#E5E8EB",grey700:"#F2F4F6",grey800:"#F9FAFB",grey900:"#FFF"},assetGreen={green100:"#E8F5E9",green200:"#C8E6C9",green300:"#A5D6A7",green400:"#81C784",green500:"#66BB6A",green600:"#4CAF50"},assetYellow={yellow100:"#FFF8E1",yellow200:"#FFECB3",yellow300:"#FFE082",yellow400:"#FFD54F",yellow500:"#FFCA28",yellow600:"#FFC107"},assetRed={red100:"#FFEBEE",red200:"#FFCDD2",red300:"#EF9A9A",red400:"#E57373",red500:"#EF5350",red600:"#F44336",tossRed:"#b71c1c"},assetOrange={orange100:"#FFF3E0",orange200:"#FFE0B2",orange300:"#FFCC80",orange400:"#FFB74D",orange500:"#FFA726",orange600:"#FF9800",orange700:"#FB8C00",orange800:"#F57C00",orange900:"#FF740F"},assetBlue={blue100:"#E3F2FD",blue200:"#BBDEFB",blue300:"#90CAF9",blue400:"#64B5F6",blue500:"#42A5F5",blue600:"#2196F3",tossBlue:"#42a5f5",tossBlue500:"#3182f6",tossBlue200:"#90c2ff",tossBlueActive:"#3886f6"},googleLogoColor={googleBlue:"#4285F4",googleRed:"#EA4335",googleYellow:"#FBBC04",googleGreen:"#34A853"},themeColor={background:"#22272E",boxShadow100:"0px 0.8px 2px rgba(0,0,0,.032),0px 2.7px 6.7px rgba(0,0,0,.048),0px 12px 30px rgba(0,0,0,0.1)",boxShadow300:"0px 0.8px 2px rgba(0,0,0,.032),0px 2.7px 6.7px rgba(0,0,0,.048),0px 12px 30px rgba(0,0,0,0.3)",backgroundOpacity900:"rgba(34,39,46, 1)",backgroundOpacity:"rgba(0 ,0 ,0, 0)",greyOpacity50:"rgba(255, 233, 204, 0.02)",greyOpacity100:"rgba(253, 223, 184, 0.05)",greyOpacity200:"rgba(255, 228, 200, 0.1)",greyOpacity300:"rgba(255, 226, 157, 0.18)",greyOpacity400:"rgba(255, 226, 221, 0.31)",greyOpacity500:"rgba(252, 231, 205, 0.46)",greyOpacity600:"rgba(255, 236, 212, 0.58)",greyOpacity700:"rgba(252, 237, 215, 0.7)",greyOpacity800:"rgba(255, 243, 225, 0.8)",greyOpacity900:"rgba(253, 246, 236, 0.91)"},primaryColor={...assetGrey,...assetGreen,...assetYellow,...assetRed,...assetBlue,...assetOrange,...googleLogoColor,...themeColor},darkColors={...primaryColor},darkTheme={colors:darkColors,windowSize,fontSize},lightTheme={colors:lightColors,windowSize,fontSize};function App(){const[s,i]=react.exports.useState(!0),o=useLocation();react.exports.useEffect(()=>{o.pathname==="/"?i(!1):i(!0)},[o.pathname]);const{theme:et,toggleTheme:$l}=useTheme();return jsxs(Fe$2,{theme:et==="light"?lightTheme:darkTheme,children:[jsx(GlobalStyles,{}),jsx(Alert$1,{}),jsx(GoogleSpinner,{background:!0}),jsx(Modal,{}),jsx(Navigation,{theme:et,toggleTheme:$l}),jsx(Layout,{}),s&&jsx(Footer,{})]})}var client={},m=reactDom$1.exports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;client.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(BrowserRouter,{children:jsx(Recoil_index_4,{children:jsx("div",{style:{display:"flex",flexDirection:"column",flex:"1 0 auto",minHeight:"100vh"},children:jsx(App,{})})})})}));export{recruitmentState as $,AnimatePresence as A,loaderState as B,Ce$2 as C,alertState as D,useNavigate as E,Fragment as F,GoogleSpinner as G,SubTitle as H,InputImageWrapper as I,StyledInput as J,ErrorBox as K,LayoutGroup as L,MainText as M,recruitInfo as N,OutsideClickHandler as O,Tl as P,db as Q,React as R,SolarSystem$1 as S,Title as T,createSearchParams as U,Va as V,ref$2 as W,storage$1 as X,uploadBytesResumable as Y,getDownloadURL as Z,__vitePreload as _,jsxs as a,StyledButton as a0,Routes as a1,Route as a2,SubCategory as a3,Footer as b,useSearchParams as c,StyledInputWrapper as d,StyledFileInput as e,Recoil_index_21 as f,modalState as g,ApplyModalWrapper as h,MODAL_KEY as i,jsx as j,ApplyModalInner as k,lightColors as l,motion as m,modalVariants as n,ApplyModalInnerWrapper as o,ApplyModalTitle as p,ApplyModalContentWrapper as q,react as r,styled as s,ApplyModalP as t,useLocation as u,ApplyButtonWrapper as v,GDSCButton as w,ApplyModalButtonWrapper as x,applicationQuestions as y,useParams as z};
